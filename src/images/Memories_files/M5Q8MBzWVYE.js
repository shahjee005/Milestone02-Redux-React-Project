if (self.CavalryLogger) { CavalryLogger.start_js(["1nxYf"]); }

__d("PageCommItemIsReadStatus",[],(function(a,b,c,d,e,f){e.exports={READ:"READ",UNREAD:"UNREAD"}}),null);
__d("PagesEnableMessengerMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"SetPageMessagingEnabledData!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"is_page_messaging_enabled",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesEnableMessengerMutation",selections:[{alias:null,args:b,concreteType:"SetPageMessagingEnabledResponsePayload",kind:"LinkedField",name:"set_page_messaging_enabled",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesEnableMessengerMutation",selections:[{alias:null,args:b,concreteType:"SetPageMessagingEnabledResponsePayload",kind:"LinkedField",name:"set_page_messaging_enabled",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2453055361457363",metadata:{},name:"PagesEnableMessengerMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxAppContainerLabelsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],e=[{kind:"Literal",name:"first",value:400}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxAppContainerLabelsQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:"custom_labels",args:null,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"__CRMContextCardLabelsSection_custom_labels_connection",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxAppContainerLabelsQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:e,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:d,storageKey:"custom_labels(first:400)"},{alias:null,args:e,filters:null,handle:"connection",key:"CRMContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"},c],storageKey:null}]},params:{id:"2649317728506989",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["page","custom_labels"]}]},name:"PagesManagerInboxAppContainerLabelsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxBulkActionsAdminAssignerContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"message_thread_id_list",type:"[ID!]!"}],b=[{kind:"Variable",name:"id",variableName:"page_id"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"message_thread_id_list",variableName:"message_thread_id_list"}],concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_items_for_message_threads",plural:!0,selections:[c],storageKey:null}],type:"Page"},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkActionsAdminAssignerContainerQuery",selections:[{alias:"page_comm_items",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d],storageKey:null},{alias:"page_info",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesManagerInboxBulkActionsAdminAssigner_page_info"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxBulkActionsAdminAssignerContainerQuery",selections:[{alias:"page_comm_items",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,c,d],storageKey:null},{alias:"page_info",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,c,{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:"PageToAdminsConnection",kind:"LinkedField",name:"page_admin_users",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,f,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:24,width:24)"}],storageKey:null}],storageKey:null}],type:"Page"}],storageKey:null}]},params:{id:"2402083819828854",metadata:{},name:"PagesManagerInboxBulkActionsAdminAssignerContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxBulkActionsAdminAssigner_page_info.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkActionsAdminAssigner_page_info",selections:[a,b,{alias:null,args:null,concreteType:"PageToAdminsConnection",kind:"LinkedField",name:"page_admin_users",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:24,width:24)"}],storageKey:null}],storageKey:null}],type:"Page"}}();e.exports=a}),null);
__d("PagesManagerInboxBulkLabelSectionContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"page_contact_user_id_list",type:"[ID!]!"}],b=[{kind:"Variable",name:"id",variableName:"page_id"}],c=[{kind:"Variable",name:"page_contact_user_id_list",variableName:"page_contact_user_id_list"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkLabelSectionContainerQuery",selections:[{alias:"page_contacts",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:c,kind:"FragmentSpread",name:"PagesManagerInboxBulkLabelSection_page_contacts"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxBulkLabelSectionContainerQuery",selections:[{alias:"page_contacts",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{kind:"InlineFragment",selections:[{alias:null,args:c,concreteType:"PageContact",kind:"LinkedField",name:"page_messenger_contacts",plural:!0,selections:[d],storageKey:null}],type:"Page"}],storageKey:null}]},params:{id:"2512155768823751",metadata:{},name:"PagesManagerInboxBulkLabelSectionContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxBulkLabelSection_page_contacts.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"page_contact_user_id_list",type:"[ID!]!"}],kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkLabelSection_page_contacts",selections:[{alias:null,args:[{kind:"Variable",name:"page_contact_user_id_list",variableName:"page_contact_user_id_list"}],concreteType:"PageContact",kind:"LinkedField",name:"page_messenger_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Page"};e.exports=a}),null);
__d("PagesManagerInboxBulkReplySectionContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"page_contact_user_id_list",type:"[ID!]!"}],b=[{kind:"Variable",name:"id",variableName:"page_id"}],c=[{kind:"Variable",name:"page_contact_user_id_list",variableName:"page_contact_user_id_list"}],d={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkReplySectionContainerQuery",selections:[{alias:"page_contacts",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:c,kind:"FragmentSpread",name:"PagesManagerInboxBulkReplySection_page_contacts"},{kind:"InlineFragment",selections:[d],type:"Page"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxBulkReplySectionContainerQuery",selections:[{alias:"page_contacts",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,f,{kind:"InlineFragment",selections:[{alias:null,args:c,concreteType:"PageContact",kind:"LinkedField",name:"page_messenger_contacts",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"with_comm_platform",value:"MESSENGER"}],concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"unified_contact_comms_facebook",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[e,f,{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null}],storageKey:null}],storageKey:'unified_contact_comms_facebook(first:1,with_comm_platform:"MESSENGER")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[f],storageKey:null},f],storageKey:null},d],type:"Page"}],storageKey:null}]},params:{id:"2556715917718869",metadata:{},name:"PagesManagerInboxBulkReplySectionContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxBulkReplySection_page_contacts.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"page_contact_user_id_list",type:"[ID!]!"}],kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkReplySection_page_contacts",selections:[{alias:null,args:[{kind:"Variable",name:"page_contact_user_id_list",variableName:"page_contact_user_id_list"}],concreteType:"PageContact",kind:"LinkedField",name:"page_messenger_contacts",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"with_comm_platform",value:"MESSENGER"}],concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"unified_contact_comms_facebook",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null}],storageKey:null}],storageKey:'unified_contact_comms_facebook(first:1,with_comm_platform:"MESSENGER")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Page"}}();e.exports=a}),null);
__d("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"BulkActionsAssignCommItemsOwnerInputData!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[c],e={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"updated_page_comm_items",plural:!0,selections:d,storageKey:null};d={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:d,storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation",selections:[{alias:null,args:b,concreteType:"BulkActionsAssignCommItemsOwnerResponse",kind:"LinkedField",name:"bulk_actions_assign_comm_items_owner",plural:!1,selections:[e,{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"owner",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation",selections:[{alias:null,args:b,concreteType:"BulkActionsAssignCommItemsOwnerResponse",kind:"LinkedField",name:"bulk_actions_assign_comm_items_owner",plural:!1,selections:[e,{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"owner",plural:!1,selections:[d,c],storageKey:null}],storageKey:null}]},params:{id:"3105090366198717",metadata:{},name:"PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxBulkActionsPageCommItemsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"message_thread_id_list",type:"[ID!]!"}],b=[{kind:"Variable",name:"id",variableName:"page_id"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"message_thread_id_list",variableName:"message_thread_id_list"}],concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_items_for_message_threads",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}],storageKey:null}],type:"Page"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkActionsPageCommItemsQuery",selections:[{alias:"page_comm_items",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxBulkActionsPageCommItemsQuery",selections:[{alias:"page_comm_items",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,d],storageKey:null}]},params:{id:"2497826723616443",metadata:{},name:"PagesManagerInboxBulkActionsPageCommItemsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxBulkActionsSetLabelMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"BulkActionsPageContactsLabelUpdateInputData!"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"BulkActionsPageContactsLabelResponse",kind:"LinkedField",name:"bulk_actions_page_contacts_set_label",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"label",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageContact",kind:"LinkedField",name:"labeled_contacts",plural:!0,selections:[b],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkActionsSetLabelMutation",selections:b,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxBulkActionsSetLabelMutation",selections:b},params:{id:"2503141499777203",metadata:{},name:"PagesManagerInboxBulkActionsSetLabelMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxBulkActionsUnsetLabelMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"BulkActionsPageContactsLabelUpdateInputData!"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"BulkActionsPageContactsLabelResponse",kind:"LinkedField",name:"bulk_actions_page_contacts_unset_label",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"label",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageContact",kind:"LinkedField",name:"labeled_contacts",plural:!0,selections:[b],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxBulkActionsUnsetLabelMutation",selections:b,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxBulkActionsUnsetLabelMutation",selections:b},params:{id:"2499321500146918",metadata:{},name:"PagesManagerInboxBulkActionsUnsetLabelMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxListHeaderAutomatedFaqNuxEligibleToShowQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"Int!"}],b=[{alias:null,args:[{kind:"Variable",name:"page_id",variableName:"pageID"}],kind:"ScalarField",name:"eligible_to_show_faq_nux_query",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxListHeaderAutomatedFaqNuxEligibleToShowQuery",selections:b,type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxListHeaderAutomatedFaqNuxEligibleToShowQuery",selections:b},params:{id:"2657885130967040",metadata:{},name:"PagesManagerInboxListHeaderAutomatedFaqNuxEligibleToShowQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxAwayInfoContainer_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxAwayInfoContainer_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"away_toggle_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_away_toggle_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_time_zone",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_time_range",storageKey:null}],type:"Page"};e.exports=a}),null);
__d("PagesManagerInboxLeadEmailListContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{kind:"Literal",name:"first",value:20}],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxLeadEmailListContainerQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesManagerInboxLeadEmailListView_page"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxLeadEmailListContainerQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:[c],storageKey:null},{alias:"leadEmailThreadItems",args:d,concreteType:"PageBusinessInboxEmailThreadsConnection",kind:"LinkedField",name:"business_inbox_email_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"PageBusinessInboxEmailThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessInboxEmailThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"BusinessInboxEmailThreadEmailMessagesConnection",kind:"LinkedField",name:"email_messages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"BizBroadcastEmail",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"biz_email_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_from_customer",storageKey:null},c],storageKey:null}],storageKey:"email_messages(first:1)"},c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"customer_contact",plural:!1,selections:[e,c,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],type:"PageContact"}],storageKey:null},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:"business_inbox_email_threads(first:20)"},{alias:"leadEmailThreadItems",args:d,filters:null,handle:"connection",key:"PagesManagerInboxLeadEmailListView_leadEmailThreadItems",kind:"LinkedHandle",name:"business_inbox_email_threads"}],storageKey:null}]},params:{id:"2655221264605965",metadata:{live:{config_id:"relay_web_business_inbox_lead_email_threads_list"}},name:"PagesManagerInboxLeadEmailListContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxLeadEmailListItem_BusinessInboxMessageThread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxLeadEmailListItem_BusinessInboxMessageThread",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"customer_contact",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],type:"PageContact"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"BusinessInboxEmailThreadEmailMessagesConnection",kind:"LinkedField",name:"email_messages",plural:!1,selections:[{alias:null,args:null,concreteType:"BizBroadcastEmail",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"biz_email_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_from_customer",storageKey:null}],storageKey:null}],storageKey:"email_messages(first:1)"}],type:"BusinessInboxEmailThread"}],type:"BusinessInboxMessageThread"};e.exports=a}),null);
__d("PagesManagerInboxLeadEmailListViewPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:20,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"id",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxLeadEmailListViewPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"PagesManagerInboxLeadEmailListView_page"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxLeadEmailListViewPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:[d],storageKey:null},{alias:"leadEmailThreadItems",args:e,concreteType:"PageBusinessInboxEmailThreadsConnection",kind:"LinkedField",name:"business_inbox_email_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"PageBusinessInboxEmailThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessInboxEmailThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"BusinessInboxEmailThreadEmailMessagesConnection",kind:"LinkedField",name:"email_messages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"BizBroadcastEmail",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"biz_email_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_from_customer",storageKey:null},d],storageKey:null}],storageKey:"email_messages(first:1)"},d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"customer_contact",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null}],type:"PageContact"}],storageKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:"leadEmailThreadItems",args:e,filters:null,handle:"connection",key:"PagesManagerInboxLeadEmailListView_leadEmailThreadItems",kind:"LinkedHandle",name:"business_inbox_email_threads"}],type:"Page"}],storageKey:null}]},params:{id:"3369022913111341",metadata:{derivedFrom:"PagesManagerInboxLeadEmailListView_page",isRefetchableQuery:!0},name:"PagesManagerInboxLeadEmailListViewPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxLeadEmailListView_page.graphql",["PagesManagerInboxLeadEmailListViewPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["leadEmailThreadItems"],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:20,kind:"LocalArgument",name:"count",type:"Int"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("PagesManagerInboxLeadEmailListViewPaginationQuery.graphql"),identifierField:"id"}},name:"PagesManagerInboxLeadEmailListView_page",selections:[c,{alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:[c],storageKey:null},{alias:"leadEmailThreadItems",args:null,concreteType:"PageBusinessInboxEmailThreadsConnection",kind:"LinkedField",name:"__PagesManagerInboxLeadEmailListView_leadEmailThreadItems_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageBusinessInboxEmailThreadsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessInboxEmailThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"BusinessInboxEmailThreadEmailMessagesConnection",kind:"LinkedField",name:"email_messages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:"email_messages(first:1)"},c,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxLeadEmailListItem_BusinessInboxMessageThread"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Page"}}();e.exports=a}),null);
__d("PageManagerInboxLabelThreadSearchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"labels",type:"CustomLabelsUnifiedContactSearchQueryParams!"},{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"}],b=[{kind:"Literal",name:"first",value:20},{kind:"Variable",name:"query_params",variableName:"labels"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PageManagerInboxLabelThreadSearchQuery",selections:[{args:null,kind:"FragmentSpread",name:"PageManagerInboxLabelThreadSearchResults_searchResults"}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PageManagerInboxLabelThreadSearchQuery",selections:[{alias:"results",args:b,concreteType:"PageUnifiedContactLabelSearchConnection",kind:"LinkedField",name:"page_unified_contact_label_search",plural:!1,selections:[{alias:null,args:null,concreteType:"PageUnifiedContactLabelSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageContact",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:"results",args:b,filters:["query_params"],handle:"connection",key:"PageManagerInboxLabelThreadSearchResults_results",kind:"LinkedHandle",name:"page_unified_contact_label_search"}]},params:{id:"3309754022419558",metadata:{},name:"PageManagerInboxLabelThreadSearchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"labels",type:"CustomLabelsUnifiedContactSearchQueryParams!"}],b=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"query_params",variableName:"labels"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PageManagerInboxLabelThreadSearchResultsPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"PageManagerInboxLabelThreadSearchResults_searchResults"}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PageManagerInboxLabelThreadSearchResultsPaginationQuery",selections:[{alias:"results",args:b,concreteType:"PageUnifiedContactLabelSearchConnection",kind:"LinkedField",name:"page_unified_contact_label_search",plural:!1,selections:[{alias:null,args:null,concreteType:"PageUnifiedContactLabelSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageContact",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:"results",args:b,filters:["query_params"],handle:"connection",key:"PageManagerInboxLabelThreadSearchResults_results",kind:"LinkedHandle",name:"page_unified_contact_label_search"}]},params:{id:"2476964279064237",metadata:{},name:"PageManagerInboxLabelThreadSearchResultsPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PageManagerInboxLabelThreadSearchResults_searchResults.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:20,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{kind:"RootArgument",name:"labels",type:"CustomLabelsUnifiedContactSearchQueryParams!"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["results"]}]},name:"PageManagerInboxLabelThreadSearchResults_searchResults",selections:[{alias:"results",args:[{kind:"Variable",name:"query_params",variableName:"labels"}],concreteType:"PageUnifiedContactLabelSearchConnection",kind:"LinkedField",name:"__PageManagerInboxLabelThreadSearchResults_results_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageUnifiedContactLabelSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageContact",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"};e.exports=a}),null);
__d("PageManagerInboxThreadContentSearchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query_params",type:"MessengerThreadsSearchQueryParams!"}],b=[{kind:"Variable",name:"query_params",variableName:"query_params"}],c=[{kind:"Literal",name:"first",value:5}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PageManagerInboxThreadContentSearchQuery",selections:[{alias:"threadsSearch",args:b,concreteType:"MessengerThreadsSearchQuery",kind:"LinkedField",name:"messenger_threads_search",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PageManagerInboxThreadContentSearchResults_threadsSearch"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PageManagerInboxThreadContentSearchQuery",selections:[{alias:"threadsSearch",args:b,concreteType:"MessengerThreadsSearchQuery",kind:"LinkedField",name:"messenger_threads_search",plural:!1,selections:[{alias:null,args:c,concreteType:"MessengerThreadsSearchResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerThreadsSearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d,{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:40,width:40)"}],storageKey:null},d],storageKey:null}],storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"MessengerThreadsContentSearchResultContext",kind:"LinkedField",name:"content_search_result_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"approx_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:"results(first:5)"},{alias:null,args:c,filters:null,handle:"connection",key:"PageManagerInboxThreadContentSearchResults_results",kind:"LinkedHandle",name:"results"}],storageKey:null}]},params:{id:"2098469710195383",metadata:{},name:"PageManagerInboxThreadContentSearchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"query_params",type:"MessengerThreadsSearchQueryParams!"}],b=[{kind:"Variable",name:"query_params",variableName:"query_params"}],c=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PageManagerInboxThreadContentSearchResultsPaginationQuery",selections:[{alias:"threadsSearch",args:b,concreteType:"MessengerThreadsSearchQuery",kind:"LinkedField",name:"messenger_threads_search",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"PageManagerInboxThreadContentSearchResults_threadsSearch"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PageManagerInboxThreadContentSearchResultsPaginationQuery",selections:[{alias:"threadsSearch",args:b,concreteType:"MessengerThreadsSearchQuery",kind:"LinkedField",name:"messenger_threads_search",plural:!1,selections:[{alias:null,args:c,concreteType:"MessengerThreadsSearchResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerThreadsSearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d,{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:40,width:40)"}],storageKey:null},d],storageKey:null}],storageKey:null},e],storageKey:null},{alias:null,args:null,concreteType:"MessengerThreadsContentSearchResultContext",kind:"LinkedField",name:"content_search_result_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"approx_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,filters:null,handle:"connection",key:"PageManagerInboxThreadContentSearchResults_results",kind:"LinkedHandle",name:"results"}],storageKey:null}]},params:{id:"1864050976963708",metadata:{},name:"PageManagerInboxThreadContentSearchResultsPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PageManagerInboxThreadContentSearchResults_threadsSearch.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:5,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["results"]}]},name:"PageManagerInboxThreadContentSearchResults_threadsSearch",selections:[{alias:"results",args:null,concreteType:"MessengerThreadsSearchResultsConnection",kind:"LinkedField",name:"__PageManagerInboxThreadContentSearchResults_results_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerThreadsSearchResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a,{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:40,width:40)"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerThreadsContentSearchResultContext",kind:"LinkedField",name:"content_search_result_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"approx_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"MessengerThreadsSearchQuery"}}();e.exports=a}),null);
__d("PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"searchTerm",type:"String"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"search_name",variableName:"searchTerm"}],e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},f={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[c],storageKey:null},g={alias:null,args:null,concreteType:"PageContactIGProfileInfo",kind:"LinkedField",name:"ig_profile_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},e],storageKey:null},h={alias:null,args:null,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"platform",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PageManagerInboxUnifiedCustomerRelaySearchSourceQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:d,concreteType:"PageUnifiedCustomerSearchConnection",kind:"LinkedField",name:"page_unified_customer_search",plural:!1,selections:[{alias:null,args:null,concreteType:"PageUnifiedCustomerSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,e,f,g,h],storageKey:null},i],storageKey:null},j],storageKey:null}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PageManagerInboxUnifiedCustomerRelaySearchSourceQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:d,concreteType:"PageUnifiedCustomerSearchConnection",kind:"LinkedField",name:"page_unified_customer_search",plural:!1,selections:[{alias:null,args:null,concreteType:"PageUnifiedCustomerSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,c,e,f,g,h],storageKey:null},i],storageKey:null},j],storageKey:null}],storageKey:null}]},params:{id:"2677825792290306",metadata:{},name:"PageManagerInboxUnifiedCustomerRelaySearchSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxAdminAssignMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"MessageThreadAssignAdminData!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:20,width:20)"}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxAdminAssignMutation",selections:[{alias:null,args:b,concreteType:"MessageThreadAssignAdminResponsePayload",kind:"LinkedField",name:"message_thread_assign_admin",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"thread",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxAdminAssignMutation",selections:[{alias:null,args:b,concreteType:"MessageThreadAssignAdminResponsePayload",kind:"LinkedField",name:"message_thread_assign_admin",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"thread",plural:!1,selections:[d,c],storageKey:null}],storageKey:null}]},params:{id:"2846042328799940",metadata:{},name:"PagesManagerInboxAdminAssignMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxAdminAssignerRootQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"commItemID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c=[{kind:"Variable",name:"id",variableName:"commItemID"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxAdminAssignerRootQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesManagerInboxAdminAssigner_page"}],storageKey:null},{alias:"commItem",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesManagerInboxAdminAssigner_commItem"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxAdminAssignerRootQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[d,e,{alias:null,args:null,concreteType:"PageToAdminsConnection",kind:"LinkedField",name:"page_admin_users",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,e,{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:36,width:36)"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"commItem",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:[d,e],storageKey:null},d],storageKey:null}],storageKey:null}],type:"PageCommItem"}],storageKey:null}]},params:{id:"2630844430294872",metadata:{},name:"PagesManagerInboxAdminAssignerRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxAwayInfoRootQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxAwayInfoRootQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesManagerInboxAwayInfoContainer_page"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxAwayInfoRootQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"away_toggle_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_away_toggle_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_time_zone",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_time_range",storageKey:null}],storageKey:null}]},params:{id:"1667594406675088",metadata:{},name:"PagesManagerInboxAwayInfoRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxAwayToggleContainer_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxAwayToggleContainer_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"away_toggle_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_time_range",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_time_zone",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_away_toggle_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_away_range",storageKey:null},{alias:null,args:null,concreteType:"PageAdminInfo",kind:"LinkedField",name:"admin_info",plural:!1,selections:[{alias:null,args:null,concreteType:"PageSimpleSavedResponse",kind:"LinkedField",name:"away_response",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"platforms",storageKey:null}],storageKey:null}],storageKey:null}],type:"Page"};e.exports=a}),null);
__d("PagesManagerInboxAwayToggleRootQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxAwayToggleRootQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesManagerInboxAwayToggleContainer_page"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxAwayToggleRootQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"away_toggle_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_time_range",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_time_zone",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_away_toggle_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_away_range",storageKey:null},{alias:null,args:null,concreteType:"PageAdminInfo",kind:"LinkedField",name:"admin_info",plural:!1,selections:[{alias:null,args:null,concreteType:"PageSimpleSavedResponse",kind:"LinkedField",name:"away_response",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"platforms",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2695911107133248",metadata:{},name:"PagesManagerInboxAwayToggleRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxCometHeaderView_commItem.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:52,kind:"LocalArgument",name:"imageSize",type:"Int"}],kind:"Fragment",metadata:null,name:"PagesManagerInboxCometHeaderView_commItem",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},{alias:null,args:null,concreteType:"PageCustomer",kind:"LinkedField",name:"page_customer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxHeaderJobBanner_jobApplication"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxFacebookPostContainer_commItem"},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxActionContainer_item"},{args:[{kind:"Variable",name:"imageSize",variableName:"imageSize"}],kind:"FragmentSpread",name:"PagesManagerInboxProfilePicContainer_item"}],type:"PageCommItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"facebook_comment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:40,width:40)"}],storageKey:null}],storageKey:null}],type:"PageCommItemPart"}],type:"BusinessCommItem"}}();e.exports=a}),null);
__d("PagesManagerInboxCometHeaderView_igPost.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxCometHeaderView_igPost",selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null}],type:"InstagramMediaV2"};e.exports=a}),null);
__d("PagesManagerInboxCometHeaderView_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxCometHeaderView_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_story_hideable_id",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"CommentsConnection",kind:"LinkedField",name:"comments",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:a,storageKey:null}],storageKey:null}],type:"Story"}}();e.exports=a}),null);
__d("PagesManagerInboxHeaderJobBanner_jobApplication.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxHeaderJobBanner_jobApplication",selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"long_subtitle",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:b,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"JobsATSSetStatusDropdown_jobApplication"}],type:"JobApplication"}}();e.exports=a}),null);
__d("PagesManagerInboxHeaderView_commItem.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:52,kind:"LocalArgument",name:"imageSize",type:"Int"}],kind:"Fragment",metadata:null,name:"PagesManagerInboxHeaderView_commItem",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},{alias:null,args:null,concreteType:"PageCustomer",kind:"LinkedField",name:"page_customer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxHeaderJobBanner_jobApplication"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxFacebookPostContainer_commItem"},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxActionContainer_item"},{args:[{kind:"Variable",name:"imageSize",variableName:"imageSize"}],kind:"FragmentSpread",name:"PagesManagerInboxProfilePicContainer_item"}],type:"PageCommItem"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"facebook_comment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:40,width:40)"}],storageKey:null}],storageKey:null}],type:"PageCommItemPart"}],type:"BusinessCommItem"}}();e.exports=a}),null);
__d("PagesManagerInboxHeaderView_igPost.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxHeaderView_igPost",selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null}],type:"InstagramMediaV2"};e.exports=a}),null);
__d("PagesManagerInboxHeaderView_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxHeaderView_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_story_hideable_id",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"CommentsConnection",kind:"LinkedField",name:"comments",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:a,storageKey:null}],storageKey:null}],type:"Story"}}();e.exports=a}),null);
__d("PagesManagerInboxListFluxContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"filterStatus",type:"PageCommItemStatus"},{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"platformFilter",type:"PageCommPlatform"},{defaultValue:null,kind:"LocalArgument",name:"filterIsReadStatus",type:"PageCommItemIsReadStatus"},{defaultValue:null,kind:"LocalArgument",name:"filterOwnerID",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"isHighlightedComment",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"isStarsComment",type:"Boolean"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{kind:"Literal",name:"first",value:20},{kind:"Variable",name:"is_highlighted_comment",variableName:"isHighlightedComment"},{kind:"Variable",name:"is_stars_comment",variableName:"isStarsComment"},{kind:"Variable",name:"with_comm_platform",variableName:"platformFilter"},{kind:"Variable",name:"with_comm_status",variableName:"filterStatus"},{kind:"Variable",name:"with_is_read",variableName:"filterIsReadStatus"},{kind:"Variable",name:"with_owner_admin_id",variableName:"filterOwnerID"}],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f=[{kind:"Literal",name:"for_render_location",value:"INBOX"}],g=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};h=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[e,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:g,storageKey:null},c],storageKey:null},h,i],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},h,i],storageKey:null},j];i=[c];j=[j];var k=[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxListFluxContainerQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:[{kind:"Variable",name:"filterIsReadStatus",variableName:"filterIsReadStatus"},{kind:"Variable",name:"filterOwnerID",variableName:"filterOwnerID"},{kind:"Variable",name:"filterStatus",variableName:"filterStatus"},{kind:"Variable",name:"isHighlightedComment",variableName:"isHighlightedComment"},{kind:"Variable",name:"isStarsComment",variableName:"isStarsComment"},{kind:"Variable",name:"platformFilter",variableName:"platformFilter"}],kind:"FragmentSpread",name:"PagesManagerInboxListRelayContainer_page"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxListFluxContainerQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:d,concreteType:"PageBusinessCommItemsConnection",kind:"LinkedField",name:"business_comm_items",plural:!1,selections:[{alias:null,args:null,concreteType:"PageBusinessCommItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:f,kind:"ScalarField",name:"comm_title",storageKey:'comm_title(for_render_location:"INBOX")'},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},{alias:null,args:f,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:h,storageKey:'snippet_with_entities(for_render_location:"INBOX")'},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"top_comment_snippet",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[{alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:20,width:20)"},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},c],storageKey:null}],type:"PageCommItemPart"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:[c,l,{alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:g,storageKey:"profile_picture(height:20,width:20)"}],storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"ig_revamp_snippet_with_entities",plural:!1,selections:j,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,concreteType:"PageCustomer",kind:"LinkedField",name:"page_customer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_banned_by_page",storageKey:null},l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null},c],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:40,width:40)"}],type:"PageCommItem"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},m],storageKey:null}],storageKey:null},{alias:null,args:d,filters:["with_comm_status","with_comm_platform","with_owner_admin_id"],handle:"connection",key:"PagesManagerInboxListRelayContainer_business_comm_items",kind:"LinkedHandle",name:"business_comm_items"},{alias:null,args:null,concreteType:"PageCommsHubConfig",kind:"LinkedField",name:"comms_hub_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_messenger_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstagramPresenceAccountInfo",kind:"LinkedField",name:"ig_presence_account_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"settings_webview_url",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3667543483317886",metadata:{},name:"PagesManagerInboxListFluxContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxListRelayContainerPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"filterStatus",type:"PageCommItemStatus"},{defaultValue:null,kind:"LocalArgument",name:"platformFilter",type:"PageCommPlatform"},{defaultValue:null,kind:"LocalArgument",name:"filterIsReadStatus",type:"PageCommItemIsReadStatus"},{defaultValue:null,kind:"LocalArgument",name:"isHighlightedComment",type:"Boolean"},{defaultValue:null,kind:"LocalArgument",name:"isStarsComment",type:"Boolean"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"is_highlighted_comment",variableName:"isHighlightedComment"},{kind:"Variable",name:"is_stars_comment",variableName:"isStarsComment"},{kind:"Variable",name:"with_comm_platform",variableName:"platformFilter"},{kind:"Variable",name:"with_comm_status",variableName:"filterStatus"},{kind:"Variable",name:"with_is_read",variableName:"filterIsReadStatus"}],f=[{kind:"Literal",name:"for_render_location",value:"INBOX"}],g=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};h=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:g,storageKey:null},d],storageKey:null},h,i],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},h,i],storageKey:null},j];i=[d];j=[j];var k=[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxListRelayContainerPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Variable",name:"filterIsReadStatus",variableName:"filterIsReadStatus"},{kind:"Variable",name:"filterStatus",variableName:"filterStatus"},{kind:"Variable",name:"isHighlightedComment",variableName:"isHighlightedComment"},{kind:"Variable",name:"isStarsComment",variableName:"isStarsComment"},{kind:"Variable",name:"platformFilter",variableName:"platformFilter"}],kind:"FragmentSpread",name:"PagesManagerInboxListRelayContainer_page"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxListRelayContainerPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[{alias:null,args:e,concreteType:"PageBusinessCommItemsConnection",kind:"LinkedField",name:"business_comm_items",plural:!1,selections:[{alias:null,args:null,concreteType:"PageBusinessCommItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:f,kind:"ScalarField",name:"comm_title",storageKey:'comm_title(for_render_location:"INBOX")'},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},{alias:null,args:f,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:h,storageKey:'snippet_with_entities(for_render_location:"INBOX")'},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"top_comment_snippet",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[{alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:20,width:20)"},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},d],storageKey:null}],type:"PageCommItemPart"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:[d,l,{alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:g,storageKey:"profile_picture(height:20,width:20)"}],storageKey:null},d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"ig_revamp_snippet_with_entities",plural:!1,selections:j,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,concreteType:"PageCustomer",kind:"LinkedField",name:"page_customer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_banned_by_page",storageKey:null},l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null},d],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:40,width:40)"}],type:"PageCommItem"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},m],storageKey:null}],storageKey:null},{alias:null,args:e,filters:["with_comm_status","with_comm_platform","with_owner_admin_id"],handle:"connection",key:"PagesManagerInboxListRelayContainer_business_comm_items",kind:"LinkedHandle",name:"business_comm_items"},{alias:null,args:null,concreteType:"PageCommsHubConfig",kind:"LinkedField",name:"comms_hub_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_messenger_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstagramPresenceAccountInfo",kind:"LinkedField",name:"ig_presence_account_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"settings_webview_url",storageKey:null}],storageKey:null}],type:"Page"}],storageKey:null}]},params:{id:"3666286370111177",metadata:{},name:"PagesManagerInboxListRelayContainerPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxListRelayContainer_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null};return{argumentDefinitions:[{defaultValue:20,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:"TODO",kind:"LocalArgument",name:"filterStatus",type:"PageCommItemStatus!"},{defaultValue:"MESSENGER",kind:"LocalArgument",name:"platformFilter",type:"PageCommPlatform!"},{defaultValue:null,kind:"LocalArgument",name:"filterIsReadStatus",type:"PageCommItemIsReadStatus"},{defaultValue:null,kind:"LocalArgument",name:"filterOwnerID",type:"ID"},{defaultValue:!1,kind:"LocalArgument",name:"isHighlightedComment",type:"Boolean"},{defaultValue:!1,kind:"LocalArgument",name:"isStarsComment",type:"Boolean"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["business_comm_items"]}]},name:"PagesManagerInboxListRelayContainer_page",selections:[a,{alias:"business_comm_items",args:[{kind:"Variable",name:"with_comm_platform",variableName:"platformFilter"},{kind:"Variable",name:"with_comm_status",variableName:"filterStatus"},{kind:"Variable",name:"with_owner_admin_id",variableName:"filterOwnerID"}],concreteType:"PageBusinessCommItemsConnection",kind:"LinkedField",name:"__PagesManagerInboxListRelayContainer_business_comm_items_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageBusinessCommItemsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:[a],storageKey:null}],type:"PageCommItemPart"},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxListRowContainer_item"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},b],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageCommsHubConfig",kind:"LinkedField",name:"comms_hub_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_messenger_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstagramPresenceAccountInfo",kind:"LinkedField",name:"ig_presence_account_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"settings_webview_url",storageKey:null}],storageKey:null}],type:"Page"}}();e.exports=a}),null);
__d("PagesManagerInboxListRowContainer_item.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"for_render_location",value:"INBOX"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],d={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};d=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:c,storageKey:null}],storageKey:null},d,e],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},d,e],storageKey:null},f];e=[f];f=[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxListRowContainer_item",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:a,kind:"ScalarField",name:"comm_title",storageKey:'comm_title(for_render_location:"INBOX")'},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:a,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:d,storageKey:'snippet_with_entities(for_render_location:"INBOX")'},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"top_comment_snippet",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:c,storageKey:"thumbnail(height:20,width:20)"},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null}],storageKey:null}],type:"PageCommItemPart"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:c,storageKey:"profile_picture(height:20,width:20)"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"ig_revamp_snippet_with_entities",plural:!1,selections:e,storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxActionContainer_item"},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxProfilePicContainer_item"}],type:"PageCommItem"}],type:"BusinessCommItem"}}();e.exports=a}),null);
__d("PagesManagerInboxListSearchResultsList_pageCustomer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxListSearchResultsList_pageCustomer",selections:[{alias:"labels",args:[{kind:"Literal",name:"first",value:400}],concreteType:"PageContactLabelsConnection",kind:"LinkedField",name:"contact_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageContactLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"contact_labels(first:400)"},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null}],storageKey:null},{alias:"messenger_comms",args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"with_comm_platform",value:"MESSENGER"}],concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"unified_contact_comms_facebook",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomerCommsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxSearchResultListRow_customerComm"}],storageKey:null}],storageKey:null}],storageKey:'unified_contact_comms_facebook(first:1,with_comm_platform:"MESSENGER")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxSearchResultsFacebookList_pageCustomer"},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxSearchResultsInstagramList_pageCustomer"},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer"}],type:"CrmUnifiedContact"}}();e.exports=a}),null);
__d("PagesManagerInboxListSearchResultsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageCustomerID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageCustomerID"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},k=[d],l={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:k,storageKey:null},m=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],n={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null};n=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null},d],storageKey:null},n,o],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},n,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];o={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:n,storageKey:null};n={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:n,storageKey:null};var p={alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:m,storageKey:"thumbnail(height:40,width:40)"};m={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:m,storageKey:"thumbnail(height:20,width:20)"},d],storageKey:null}],type:"PageCommItemPart"};var q={kind:"Literal",name:"first",value:20},r=[q,{kind:"Literal",name:"with_comm_platform",value:"FACEBOOK"}],s={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},t={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},u=[{alias:null,args:null,concreteType:"PageCustomerCommsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,f,g,h,i,j,e,l,o,n,p,c,m],storageKey:null},s],storageKey:null},t],v=["with_comm_platform"],w=[q,{kind:"Literal",name:"with_comm_platform",value:"INSTAGRAM"}];q=[q,{kind:"Literal",name:"with_comm_platform",value:"INSTAGRAM_DIRECT"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxListSearchResultsQuery",selections:[{alias:"CrmUnifiedContact",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesManagerInboxListSearchResultsList_pageCustomer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxListSearchResultsQuery",selections:[{alias:"CrmUnifiedContact",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:"labels",args:[{kind:"Literal",name:"first",value:400}],concreteType:"PageContactLabelsConnection",kind:"LinkedField",name:"contact_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageContactLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:"contact_labels(first:400)"},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},d],storageKey:null},{alias:"messenger_comms",args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"with_comm_platform",value:"MESSENGER"}],concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"unified_contact_comms_facebook",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomerCommsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,f,g,h,i,j,l,o,n,p,m],storageKey:null}],storageKey:null}],storageKey:'unified_contact_comms_facebook(first:1,with_comm_platform:"MESSENGER")'},d,{alias:"facebook_comms",args:r,concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"unified_contact_comms_facebook",plural:!1,selections:u,storageKey:'unified_contact_comms_facebook(first:20,with_comm_platform:"FACEBOOK")'},{alias:"facebook_comms",args:r,filters:v,handle:"connection",key:"PagesManagerInboxSearchResultsFacebookList_facebook_comms",kind:"LinkedHandle",name:"unified_contact_comms_facebook"},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:k,storageKey:null},{alias:"instagram_comms",args:w,concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"unified_contact_comms_facebook",plural:!1,selections:u,storageKey:'unified_contact_comms_facebook(first:20,with_comm_platform:"INSTAGRAM")'},{alias:"instagram_comms",args:w,filters:v,handle:"connection",key:"PagesManagerInboxSearchResultsInstagramList_instagram_comms",kind:"LinkedHandle",name:"unified_contact_comms_facebook"},{alias:"instagram_direct_comms",args:q,concreteType:"PageInstagramThreadConnection",kind:"LinkedField",name:"unified_contact_comms_instagram_direct",plural:!1,selections:[{alias:null,args:null,concreteType:"PageInstagramThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},c,d],storageKey:null},s],storageKey:null},t],storageKey:'unified_contact_comms_instagram_direct(first:20,with_comm_platform:"INSTAGRAM_DIRECT")'},{alias:"instagram_direct_comms",args:q,filters:v,handle:"connection",key:"PagesManagerInboxSearchResultsInstagramDirectList_instagram_direct_comms",kind:"LinkedHandle",name:"unified_contact_comms_instagram_direct"}],storageKey:null}]},params:{id:"2565311693546942",metadata:{},name:"PagesManagerInboxListSearchResultsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxMultiAdminSelectorRootQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxMultiAdminSelectorRootQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PagesManagerInboxMultiAdminSelector_page"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxMultiAdminSelectorRootQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,concreteType:"PageToAdminsConnection",kind:"LinkedField",name:"page_admin_users",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:20,width:20)"}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"1401903223256300",metadata:{},name:"PagesManagerInboxMultiAdminSelectorRootQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxMultiAdminSelector_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxMultiAdminSelector_page",selections:[a,{alias:null,args:null,concreteType:"PageToAdminsConnection",kind:"LinkedField",name:"page_admin_users",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:20,width:20)"}],storageKey:null}],storageKey:null}],type:"Page"}}();e.exports=a}),null);
__d("PagesManagerInboxSearchResultListRow_customerComm.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null};b=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null},b,c],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},b,c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagesManagerInboxSearchResultListRow_customerComm",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:b,storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxProfilePicContainer_item"}],type:"CustomerComm"}}();e.exports=a}),null);
__d("PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageCustomerID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"}],b=[{kind:"Variable",name:"id",variableName:"pageCustomerID"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"with_comm_platform",value:"FACEBOOK"}],f=[d],g=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null};h=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:g,storageKey:null},d],storageKey:null},h,i],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},h,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxSearchResultsFacebookListPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"PagesManagerInboxSearchResultsFacebookList_pageCustomer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxSearchResultsFacebookListPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{alias:"facebook_comms",args:e,concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"unified_contact_comms_facebook",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomerCommsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:40,width:40)"},c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:20,width:20)"},d],storageKey:null}],type:"PageCommItemPart"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:"facebook_comms",args:e,filters:["with_comm_platform"],handle:"connection",key:"PagesManagerInboxSearchResultsFacebookList_facebook_comms",kind:"LinkedHandle",name:"unified_contact_comms_facebook"},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:f,storageKey:null}],storageKey:null}]},params:{id:"2533487320027677",metadata:{},name:"PagesManagerInboxSearchResultsFacebookListPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:20,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["facebook_comms"]}]},name:"PagesManagerInboxSearchResultsFacebookList_pageCustomer",selections:[a,{alias:"facebook_comms",args:[{kind:"Literal",name:"with_comm_platform",value:"FACEBOOK"}],concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"__PagesManagerInboxSearchResultsFacebookList_facebook_comms_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomerCommsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxSearchResultListRow_customerComm"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:'__PagesManagerInboxSearchResultsFacebookList_facebook_comms_connection(with_comm_platform:"FACEBOOK")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a],storageKey:null}],type:"CrmUnifiedContact"}}();e.exports=a}),null);
__d("PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageCustomerID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"}],b=[{kind:"Variable",name:"id",variableName:"pageCustomerID"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"with_comm_platform",value:"INSTAGRAM_DIRECT"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{alias:"instagram_direct_comms",args:e,concreteType:"PageInstagramThreadConnection",kind:"LinkedField",name:"unified_contact_comms_instagram_direct",plural:!1,selections:[{alias:null,args:null,concreteType:"PageInstagramThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},c,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:"instagram_direct_comms",args:e,filters:["with_comm_platform"],handle:"connection",key:"PagesManagerInboxSearchResultsInstagramDirectList_instagram_direct_comms",kind:"LinkedHandle",name:"unified_contact_comms_instagram_direct"},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[d],storageKey:null}],storageKey:null}]},params:{id:"2167002826748894",metadata:{},name:"PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:20,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["instagram_direct_comms"]}]},name:"PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer",selections:[a,{alias:"instagram_direct_comms",args:[{kind:"Literal",name:"with_comm_platform",value:"INSTAGRAM_DIRECT"}],concreteType:"PageInstagramThreadConnection",kind:"LinkedField",name:"__PagesManagerInboxSearchResultsInstagramDirectList_instagram_direct_comms_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageInstagramThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:'__PagesManagerInboxSearchResultsInstagramDirectList_instagram_direct_comms_connection(with_comm_platform:"INSTAGRAM_DIRECT")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a],storageKey:null}],type:"CrmUnifiedContact"}}();e.exports=a}),null);
__d("PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageCustomerID",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"}],b=[{kind:"Variable",name:"id",variableName:"pageCustomerID"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"with_comm_platform",value:"INSTAGRAM"}],f=[d],g=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null};h=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:g,storageKey:null},d],storageKey:null},h,i],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},h,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxSearchResultsInstagramListPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"PagesManagerInboxSearchResultsInstagramList_pageCustomer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxSearchResultsInstagramListPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{alias:"instagram_comms",args:e,concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"unified_contact_comms_facebook",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomerCommsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:40,width:40)"},c,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:20,width:20)"},d],storageKey:null}],type:"PageCommItemPart"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:"instagram_comms",args:e,filters:["with_comm_platform"],handle:"connection",key:"PagesManagerInboxSearchResultsInstagramList_instagram_comms",kind:"LinkedHandle",name:"unified_contact_comms_facebook"},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:f,storageKey:null}],storageKey:null}]},params:{id:"2545802565458516",metadata:{},name:"PagesManagerInboxSearchResultsInstagramListPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:20,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["instagram_comms"]}]},name:"PagesManagerInboxSearchResultsInstagramList_pageCustomer",selections:[a,{alias:"instagram_comms",args:[{kind:"Literal",name:"with_comm_platform",value:"INSTAGRAM"}],concreteType:"PageCustomerCommsConnection",kind:"LinkedField",name:"__PagesManagerInboxSearchResultsInstagramList_instagram_comms_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomerCommsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"PagesManagerInboxSearchResultListRow_customerComm"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:'__PagesManagerInboxSearchResultsInstagramList_instagram_comms_connection(with_comm_platform:"INSTAGRAM")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a],storageKey:null}],type:"CrmUnifiedContact"}}();e.exports=a}),null);
__d("PageCommItemPartReadEditMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"PageCommItemPartMarkAsReadData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"PageCommItemPartMarkAsReadResponsePayload",kind:"LinkedField",name:"page_comm_item_part_mark_as_read",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemPart",kind:"LinkedField",name:"page_comm_item_parts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PageCommItemPartReadEditMutation",selections:b,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PageCommItemPartReadEditMutation",selections:b},params:{id:"2428660677145545",metadata:{},name:"PageCommItemPartReadEditMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxAdminUnassignMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"MessageThreadUnassignAdminData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessageThreadUnassignAdminResponsePayload",kind:"LinkedField",name:"message_thread_unassign_admin",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxAdminUnassignMutation",selections:b,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxAdminUnassignMutation",selections:b},params:{id:"2849225448438499",metadata:{},name:"PagesManagerInboxAdminUnassignMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesManagerInboxAwayToggleMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"SetPageAwayToggleData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetPageAwayToggleResponsePayload",kind:"LinkedField",name:"set_page_away_toggle",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"away_toggle_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_away_toggle_on",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerInboxAwayToggleMutation",selections:b,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerInboxAwayToggleMutation",selections:b},params:{id:"1329323713788038",metadata:{},name:"PagesManagerInboxAwayToggleMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PagesManagerAwayToggleSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"PageAwayToggleSubscribeData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetPageAwayToggleResponsePayload",kind:"LinkedField",name:"page_away_toggle_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_away_toggle_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"away_toggle_expiration",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerAwayToggleSubscription",selections:b,type:"Subscription"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerAwayToggleSubscription",selections:b},params:{id:"1734225296590959",metadata:{subscriptionName:"page_away_toggle_subscribe"},name:"PagesManagerAwayToggleSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("PagesManagerPageCommItemDeleteSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"PageCommItemDeleteSubscribeData!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"page_comm_item_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerPageCommItemDeleteSubscription",selections:[{alias:null,args:b,concreteType:"PageCommItemDeleteSubscribeResponsePayload",kind:"LinkedField",name:"page_comm_item_delete_subscribe",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"PagesManagerInboxListHeaderFilterContainer_page"}],storageKey:null}],storageKey:null}],type:"Subscription"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerPageCommItemDeleteSubscription",selections:[{alias:null,args:b,concreteType:"PageCommItemDeleteSubscribeResponsePayload",kind:"LinkedField",name:"page_comm_item_delete_subscribe",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[d,{alias:null,args:null,concreteType:"PageCommsHubConfig",kind:"LinkedField",name:"comms_hub_config",plural:!1,selections:[{alias:"facebook_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"FACEBOOK"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"FACEBOOK")'},{alias:"fb_messenger_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"MESSENGER"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"MESSENGER")'},{alias:"instagram_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"INSTAGRAM"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"INSTAGRAM")'},{alias:"ig_direct_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"INSTAGRAM_DIRECT"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"INSTAGRAM_DIRECT")'},{alias:"wec_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"WEC"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"WEC")'}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2004247039635127",metadata:{subscriptionName:"page_comm_item_delete_subscribe"},name:"PagesManagerPageCommItemDeleteSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("PagesManagerPageCommItemEditSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"PageCommItemEditSubscribeData!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},f=[c],g={alias:null,args:null,concreteType:"PageCommItemsEdge",kind:"LinkedField",name:"page_comm_item_edge",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"node",plural:!1,selections:f,storageKey:null}],storageKey:null},h={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,concreteType:"PageCommsHubConfig",kind:"LinkedField",name:"comms_hub_config",plural:!1,selections:[{alias:"facebook_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"FACEBOOK"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"FACEBOOK")'},{alias:"fb_messenger_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"MESSENGER"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"MESSENGER")'},{alias:"instagram_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"INSTAGRAM"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"INSTAGRAM")'},{alias:"wec_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"WEC"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"WEC")'},{alias:"ig_direct_badge_count",args:[{kind:"Literal",name:"comm_platforms",value:"INSTAGRAM_DIRECT"}],kind:"ScalarField",name:"badge_count",storageKey:'badge_count(comm_platforms:"INSTAGRAM_DIRECT")'}],storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j=[{kind:"Literal",name:"for_render_location",value:"INBOX"}],k=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],l={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};l=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:k,storageKey:null},c],storageKey:null},l,m],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},l,m],storageKey:null},n];m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};var o=[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}];n=[n];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerPageCommItemEditSubscription",selections:[{alias:null,args:b,concreteType:"PageCommItemEditSubscribeResponsePayload",kind:"LinkedField",name:"page_comm_item_edit_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[c,d,e,{args:null,kind:"FragmentSpread",name:"PagesManagerInboxListRowContainer_item"}],storageKey:null},g,h],storageKey:null}],type:"Subscription"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerPageCommItemEditSubscription",selections:[{alias:null,args:b,concreteType:"PageCommItemEditSubscribeResponsePayload",kind:"LinkedField",name:"page_comm_item_edit_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[c,d,e,i,{alias:null,args:j,kind:"ScalarField",name:"comm_title",storageKey:'comm_title(for_render_location:"INBOX")'},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:j,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:l,storageKey:'snippet_with_entities(for_render_location:"INBOX")'},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:[c,m,{alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:"profile_picture(height:20,width:20)"}],storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"ig_revamp_snippet_with_entities",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,concreteType:"PageCustomer",kind:"LinkedField",name:"page_customer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_banned_by_page",storageKey:null},m,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null},c],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:k,storageKey:"thumbnail(height:40,width:40)"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"top_comment_snippet",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:f,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[{alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:k,storageKey:"thumbnail(height:20,width:20)"},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},c],storageKey:null}],type:"PageCommItemPart"}],storageKey:null},g,h],storageKey:null}]},params:{id:"2959107587487504",metadata:{subscriptionName:"page_comm_item_edit_subscribe"},name:"PagesManagerPageCommItemEditSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("PagesManagerPageCommItemPartDeleteSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"PageCommItemPartDeleteSubscribeData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"PageCommItemPartDeleteSubscribeResponsePayload",kind:"LinkedField",name:"page_comm_item_part_delete_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"page_comm_item_part_id",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerPageCommItemPartDeleteSubscription",selections:b,type:"Subscription"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerPageCommItemPartDeleteSubscription",selections:b},params:{id:"2941958349212960",metadata:{subscriptionName:"page_comm_item_part_delete_subscribe"},name:"PagesManagerPageCommItemPartDeleteSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("PagesManagerPageCommItemPartEditSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"PageCommItemPartEditSubscribeData!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"comm_platform",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f=[{kind:"Literal",name:"for_render_location",value:"INBOX"}],g=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};h=[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[e,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:g,storageKey:null},c],storageKey:null},h,i],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},h,i],storageKey:null},j];i=[j];j=[c];var k=[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesManagerPageCommItemPartEditSubscription",selections:[{alias:null,args:b,concreteType:"PageCommItemPartEditSubscribeResponsePayload",kind:"LinkedField",name:"page_comm_item_part_edit_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemPart",kind:"LinkedField",name:"page_comm_item_part",plural:!1,selections:[c,d,{args:null,kind:"FragmentSpread",name:"PagesManagerInboxListRowContainer_item"}],storageKey:null}],storageKey:null}],type:"Subscription"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesManagerPageCommItemPartEditSubscription",selections:[{alias:null,args:b,concreteType:"PageCommItemPartEditSubscribeResponsePayload",kind:"LinkedField",name:"page_comm_item_part_edit_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemPart",kind:"LinkedField",name:"page_comm_item_part",plural:!1,selections:[c,d,e,{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:f,kind:"ScalarField",name:"comm_title",storageKey:'comm_title(for_render_location:"INBOX")'},{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:f,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:h,storageKey:'snippet_with_entities(for_render_location:"INBOX")'},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"top_comment_snippet",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[{alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:20,width:20)"},{alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},c],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:[c,l,{alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:g,storageKey:"profile_picture(height:20,width:20)"}],storageKey:null},c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"ig_revamp_snippet_with_entities",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},{alias:null,args:null,concreteType:"PageCustomer",kind:"LinkedField",name:"page_customer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_banned_by_page",storageKey:null},l,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:j,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null},c],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:g,storageKey:"thumbnail(height:40,width:40)"}],type:"PageCommItem"}],storageKey:null}],storageKey:null}]},params:{id:"3200891383254873",metadata:{subscriptionName:"page_comm_item_part_edit_subscribe"},name:"PagesManagerPageCommItemPartEditSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,concreteType:"PageAdminInfo",kind:"LinkedField",name:"admin_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"assigned_instagram_user_serialized_crypto_auth_token",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"AssignedInstagramUserSerializedCryptoAuthTokenQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"AssignedInstagramUserSerializedCryptoAuthTokenQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"2271789176196323",metadata:{},name:"AssignedInstagramUserSerializedCryptoAuthTokenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ServicesClientsTabMainViewLabelsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],e=[{kind:"Literal",name:"first",value:400}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ServicesClientsTabMainViewLabelsQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:"custom_labels",args:null,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"__CRMContextCardLabelsSection_custom_labels_connection",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ServicesClientsTabMainViewLabelsQuery",selections:[{alias:null,args:b,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:e,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:d,storageKey:"custom_labels(first:400)"},{alias:null,args:e,filters:null,handle:"connection",key:"CRMContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"},c],storageKey:null}]},params:{id:"3114965398522092",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["page","custom_labels"]}]},name:"ServicesClientsTabMainViewLabelsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MediaManagerInboxPriorityTabListContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"row_type",type:"MediaManagerInboxPlusPriorityEnum"}],b={kind:"Variable",name:"page_id",variableName:"page_id"},c={kind:"Variable",name:"row_type",variableName:"row_type"},d=[{kind:"Literal",name:"first",value:10},b,c],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"priority_type",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MediaManagerInboxPriorityTabListContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[b,c],kind:"FragmentSpread",name:"MediaManagerInboxPriorityTabPaginationList_viewer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MediaManagerInboxPriorityTabListContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"ViewerInboxPriorityRowsConnection",kind:"LinkedField",name:"inbox_priority_rows",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerInboxPriorityRowsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PageCommItemPart",kind:"LinkedField",name:"top_comment_content",plural:!1,selections:[f,g,{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"top_comment_snippet",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[h,g],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"thumbnail(height:20,width:20)"},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null}],storageKey:null}],storageKey:null}],type:"InboxTopCommentRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CreatorStudioInboxPriorityTopMessages",kind:"LinkedField",name:"top_message_content",plural:!1,selections:[g,e,{alias:null,args:null,kind:"ScalarField",name:"top_message_thread_id",storageKey:null},f],storageKey:null}],type:"InboxTopMessagesRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InboxAYMTRowContent",kind:"LinkedField",name:"content",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tip_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_load_uri_in_same_window",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"validation_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clicked_timestamp",storageKey:null}],storageKey:null}],type:"InboxAYMTRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"ent_notif",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:i,storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_sent_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],type:"InboxNotifRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:d,filters:["page_id","row_type"],handle:"connection",key:"MediaManagerInboxPriorityTabPaginationList_inbox_priority_rows",kind:"LinkedHandle",name:"inbox_priority_rows"}],storageKey:null}]},params:{id:"2740471562666481",metadata:{},name:"MediaManagerInboxPriorityTabListContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"page_id",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"row_type",type:"MediaManagerInboxPlusPriorityEnum"}],b={kind:"Variable",name:"page_id",variableName:"page_id"},c={kind:"Variable",name:"row_type",variableName:"row_type"},d=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},b,c],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"priority_type",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MediaManagerInboxPriorityTabPaginationListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},b,c],kind:"FragmentSpread",name:"MediaManagerInboxPriorityTabPaginationList_viewer"}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MediaManagerInboxPriorityTabPaginationListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"ViewerInboxPriorityRowsConnection",kind:"LinkedField",name:"inbox_priority_rows",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerInboxPriorityRowsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PageCommItemPart",kind:"LinkedField",name:"top_comment_content",plural:!1,selections:[f,g,{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"top_comment_snippet",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[h,g],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"thumbnail(height:20,width:20)"},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null}],storageKey:null}],storageKey:null}],type:"InboxTopCommentRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CreatorStudioInboxPriorityTopMessages",kind:"LinkedField",name:"top_message_content",plural:!1,selections:[g,e,{alias:null,args:null,kind:"ScalarField",name:"top_message_thread_id",storageKey:null},f],storageKey:null}],type:"InboxTopMessagesRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InboxAYMTRowContent",kind:"LinkedField",name:"content",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tip_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_load_uri_in_same_window",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"validation_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clicked_timestamp",storageKey:null}],storageKey:null}],type:"InboxAYMTRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"ent_notif",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:i,storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_sent_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],type:"InboxNotifRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:d,filters:["page_id","row_type"],handle:"connection",key:"MediaManagerInboxPriorityTabPaginationList_inbox_priority_rows",kind:"LinkedHandle",name:"inbox_priority_rows"}],storageKey:null}]},params:{id:"2952662384792781",metadata:{},name:"MediaManagerInboxPriorityTabPaginationListPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MediaManagerInboxPriorityTabPaginationList_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"priority_type",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"comm_title",storageKey:null},e=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}];return{argumentDefinitions:[{defaultValue:10,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"page_id",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"row_type",type:"MediaManagerInboxPlusPriorityEnum"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["inbox_priority_rows"]}]},name:"MediaManagerInboxPriorityTabPaginationList_viewer",selections:[{alias:"inbox_priority_rows",args:[{kind:"Variable",name:"page_id",variableName:"page_id"},{kind:"Variable",name:"row_type",variableName:"row_type"}],concreteType:"ViewerInboxPriorityRowsConnection",kind:"LinkedField",name:"__MediaManagerInboxPriorityTabPaginationList_inbox_priority_rows_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerInboxPriorityRowsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PageCommItemPart",kind:"LinkedField",name:"top_comment_content",plural:!1,selections:[b,c,{alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"comm_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_modified_at",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"snippet_with_entities",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"top_comment_snippet",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[d],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"thumbnail(height:20,width:20)"},{alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"parent_item",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null}],storageKey:null}],storageKey:null}],type:"InboxTopCommentRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CreatorStudioInboxPriorityTopMessages",kind:"LinkedField",name:"top_message_content",plural:!1,selections:[c,a,{alias:null,args:null,kind:"ScalarField",name:"top_message_thread_id",storageKey:null},b],storageKey:null}],type:"InboxTopMessagesRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InboxAYMTRowContent",kind:"LinkedField",name:"content",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tip_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_load_uri_in_same_window",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"validation_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clicked_timestamp",storageKey:null}],storageKey:null}],type:"InboxAYMTRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"ent_notif",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:e,storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_sent_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],type:"InboxNotifRow"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer"}}();e.exports=a}),null);
__d("CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"pageID",type:"ID!"}],b=[{kind:"Variable",name:"page_id",variableName:"pageID"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CreatorStudioInboxMessengerRankedUsersStoreQuery",selections:[{alias:null,args:b,concreteType:"MessengerRankedUsersConnection",kind:"LinkedField",name:"messenger_ranked_users",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRankedUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[c],type:"User"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CreatorStudioInboxMessengerRankedUsersStoreQuery",selections:[{alias:null,args:b,concreteType:"MessengerRankedUsersConnection",kind:"LinkedField",name:"messenger_ranked_users",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRankedUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3204638226276173",metadata:{},name:"CreatorStudioInboxMessengerRankedUsersStoreQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MediaManagerFBCommsStoreQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"page_id",type:"ID!"},{defaultValue:null,kind:"LocalArgument",name:"after",type:"ID"}],b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"after",variableName:"after"},{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"page_id",variableName:"page_id"}],concreteType:"ViewerInboxFbCommsRowsConnection",kind:"LinkedField",name:"inbox_fb_comms_rows",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InboxAYMTRowContent",kind:"LinkedField",name:"content",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"tip_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"channel_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_load_uri_in_same_window",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"validation_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clicked_timestamp",storageKey:null}],storageKey:null}],type:"InboxAYMTRow"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"ent_notif",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_sent_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],type:"InboxNotifRow"}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MediaManagerFBCommsStoreQuery",selections:b,type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MediaManagerFBCommsStoreQuery",selections:b},params:{id:"3566458956729263",metadata:{},name:"MediaManagerFBCommsStoreQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"InstantGameLogCustomEventData!"}],b=[{alias:"logCustomEvent",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"InstantGameLogCustomEventResponsePayload",kind:"LinkedField",name:"instant_game_log_custom_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",selections:b,type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",selections:b},params:{id:"1543857295701947",metadata:{},name:"InstantGamesAnalyticsLogger_LogCustomAppEventMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("JobEmployerUtils_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"JobEmployerUtils_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"Page"};e.exports=a}),null);
__d("AdsCMFormHorizontalLine.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_1x0g")}))};return c}(h.Component);e.exports=a}),null);
__d("PageLinkInstagramAccountOAuthLogin.react",["BasePageLinkInstagramAccountOAuthLogin.react","React","ReloadPage"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BasePageLinkInstagramAccountOAuthLogin.react"),babelHelpers["extends"]({responseHandler:this.$1},this.props))};d.$1=function(a){b("ReloadPage").now()};return c}(g.Component);e.exports=a}),null);
__d("AdsMessengerVisualEditorCreateNewType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({WELCOME_MESSAGE:"welcome_message",CTM_LEAD_GEN:"ctm_lead_gen",FOLLOW_UP:"follow_up"});e.exports=a}),null);
__d("AdsMessengerMPAConstants",["fbt","AdsMessengerPartialAutomatedCreationTypes","DateTime"],(function(a,b,c,d,e,f,g){"use strict";a=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption;c={DEFAULT_INTRO_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Hi! Sign up to be the first to hear announcements and updates.").toString(),media_type:"text",media_content:""},DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Hi {firstname}! Sign up to be the first to hear announcements and updates.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:"text",media_content:""},DEFAULT_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Thanks for signing up! We'll let you know when there's something new to announce.").toString(),media_type:"text",media_content:""},DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMTENT:{text:g._("Thanks for signing up, {firstname}! We'll let you know when there's something new to announce.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:"text",media_content:""},DEFAULT_INTRO_MESSAGE_CTM_LEAD_GEN:{text:g._("Hi. Please answer a few questions so we can get to know you better.").toString(),media_type:"text",media_content:""},DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_LEAD_GEN:{text:g._("Hi {firstname}. Please answer a few questions so we can get to know you better.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:"text",media_content:""},DEFAULT_CONFIRMATION_MESSAGE_CTM_LEAD_GEN:{text:g._("Thanks for answering all the questions! We'll transfer you to a live agent as soon as possible.").toString(),media_type:"text",media_content:""},DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_LEAD_GEN:{text:g._("Thanks for answering our questions. We'll contact you to let you know what happens next.").toString(),media_type:"text",media_content:""},DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN:g._("Thanks for your interest, but it doesn't look like we're a good fit at this time."),DEFAULT_CTM_LEAD_GEN_CITY_QUESTION_MESSAGE:g._("What city do you live in?"),DEFAULT_CTM_LEAD_GEN_MC_QUESTION_MESSAGE:g._("Want to get started?"),DEFAULT_CTM_LEAD_GEN_MC_ANSWER:g._("Yes"),DEFAULT_CTM_LEAD_GEN_MC_DISQUALIFY_ANSWER:g._("Not now"),DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN:g._("You've paused our automated questions. Let us know how we can help."),DEFAULT_CTM_LEAD_GEN_ANSWERS:[{fieldID:"",value:"",mediaContent:"",nextStep:a.NEXT_QUESTION}],DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT:g._("Almost there! Please finish answering our questions."),DEFAULT_FOLLOW_UP_MESSAGE:{schedule_time:b("DateTime").localNow().addMonths(1).getUnixTimestampSeconds(),text:"",media_type:"text",media_content:"",button_label:g._("Install Now").toString(),button_destination:"app",app_info:null,app_id:null,website_url:""}};e.exports=c}),null);
__d("AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",CAROUSEL:"carousel"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOTIFY_ME:"NOTIFY_ME",SIGN_UP:"SIGN_UP",GET_UPDATES:"GET_UPDATES"})}),null);
__d("MessengerAdsPartialAutomatedFollowUpButtonDestinationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WEBSITE:"website",APP:"app"})}),null);
__d("AdsMessengerPartialAutomatedCreationUtils",["fbt","AdsAPIBidStrategies","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsBulkValueUtils","AdsConversionWindowUtils","AdsInterfacesLogger","AdsMessengerMPAConstants","AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerUtils","AdsMessengerVisualEditorCreateNewType","AdsMessengerVisualEditorLoggerEvents","AdsPromotedObjectTypes","AdsUEditorCampaignDeliveryChangeOptimizationGoalAction","DateTime","MessengerAdsPartialAutomatedBroadcastMediaType","MessengerAdsPartialAutomatedBroadcastType","MessengerAdsPartialAutomatedFollowUpButtonDestinationType","PageAdminTypes","ads-lib-urllib","adsAccountGK","formatDate","isFalsey","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=b("AdsMessengerPartialAutomatedCreationTypes")).AdsMessengerPartialAutomatedCreationGoToOption,i=a.AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=a.AdsMessengerPartialAutomatedCreationSections,k=a.AdsMessengerPartialAutomatedCreationSectionStatus,l=10,m=g._("Not a valid URL");function n(a){return{step_id:0,message:a.text,media_type:a.media_type,media_content:a.media_content,step_type:"INTRO",reply_type:"NONE",next_step_ids:["1"],crm_field_id:null}}function o(a,b){return{step_id:b,message:a.text,media_type:a.media_type,media_content:a.media_content,step_type:"CONFIRMATION",reply_type:"NONE",crm_field_id:null}}function p(a,b){return{step_id:b,message:a,media_type:"text",step_type:"SUMMARY",reply_type:"TEXT",next_step_ids:[String(b+1)],crm_field_id:null}}function q(a,b){return{step_id:b,message:a,media_type:"text",step_type:"DISQUALIFY",reply_type:"NONE",crm_field_id:null}}function r(a,b,c,d){if(!a.answers)return null;var e=a.answers&&a.answers.map(function(a){switch(a.nextStep){case h.NEXT_QUESTION:return String(b+2);case h.CONFIRMATION_MESSAGE:return String(c);case h.DISQUALIFY_MESSAGE:return String(c+1);default:return String(b+2)}}),f=a.answers&&a.answers.map(function(a){return a.value}),g=a.optionsFormat==="carousel"?a.answers&&a.answers.map(function(a){return{value:a.value,media_content:a.mediaContent}}):[],i=a.answers&&a.answers.map(function(a){return a.fieldID});return{step_id:b+1,step_type:"QUESTION",reply_type:"QUICK_REPLIES",message:a.questionMessage,media_type:"text",options_format:a.optionsFormat,answers:f,carousel_answers:g,answer_crm_field_ids:i,next_step_ids:e,crm_field_id:a.fieldID===""?null:a.fieldID,answer_validation_enabled:a.answerValidationEnabled,optional_question_enabled:d||a.optionalQuestionEnabled}}function s(a){return!a.answers?!1:a.answers.some(function(a){return a.nextStep===h.DISQUALIFY_MESSAGE||a.nextStep===h.CONFIRMATION_MESSAGE})}function t(a){return a.some(function(a){return a.answers&&a.answers.some(function(a){return a.nextStep===h.DISQUALIFY_MESSAGE})})}function u(a,b,c,d){if(a[c+1]==null)return h.NEXT_QUESTION;var e=a.filter(function(a){return a.step_type==="CONFIRMATION"});if(b.next_step_ids&&e&&b.next_step_ids[d]===e[0].id)return h.CONFIRMATION_MESSAGE;e=a.filter(function(a){return a.step_type==="DISQUALIFY"});if(b.next_step_ids&&e&&b.next_step_ids[d]===e[0].id)return h.DISQUALIFY_MESSAGE;return b.next_step_ids&&b.next_step_ids[d]===a[c+1].id?h.NEXT_QUESTION:h.NEXT_QUESTION}var v={EMPTY_QUESTION_SECTION_ERROR_MESSAGE:g._("At least one question is required"),EMPTY_FIELD_ERROR_MESSAGE:g._("This field is required"),EMPTY_IMAGE_ERROR_MESSAGE:g._("Select an image for your message"),EMPTY_VIDEO_ERROR_MESSAGE:g._("Select a video for your message"),EMPTY_FOLLOW_UP_GREETING_ANSWER:g._("Select an option"),EMPTY_FOLLOW_UP_SECTION_TEXT:g._("Enter the text for your message"),EMPTY_FOLLOW_UP_SECTION_BUTTON_LABEL:g._("Enter a label for your button"),EMPTY_FOLLOW_UP_SECTION_APP_INFO:g._("Choose an app to promote"),EMPTY_FOLLOW_UP_SECTION_WEB_INFO:g._("Choose a website to promote"),INVALID_FOLLOW_UP_SECTION_APP_INFO:g._("Enter a valid app ID"),INVALID_FOLLOW_UP_SECTION_WEB_INFO:g._("Enter a valid URL"),getMaxQuestionNumber:function(){return l},getMaxOptionNumber:function(){return l},getHeaderName:function(a){switch(a){case j.INTRO_MESSAGE:return g._("Intro");case j.QUESTIONS:return g._("Questions");case j.CONFIRMATION_MESSAGE:return g._("Completion Message");case j.DISQUALIFY_MESSAGE:return g._("Disqualification Message");case j.REMINDER:return g._("Reminder");case j.PRIVACY_POLICY:return g._("Privacy Policy");case j.FOLLOW_UP:return g._("Follow-Up Message");case j.GREETING:return g._("Greeting");case j.STOP_QUESTION_MESSAGE:return g._("Confirmation to Pause Questions");case j.FIELD_IDS:return g._("Edit Field IDs");default:return""}},getSectionStatus:function(a,b){return b===!1?k.IN_PROGRESS:a===null?k.NO_ERROR:k.ERROR},getRequiredTextFieldErrorMessage:function(a,b){return a&&/\S/.test(a.toString())||!b?null:v.EMPTY_FIELD_ERROR_MESSAGE},getMediaErrorMessage:function(a,c,d){if(a==="image")return b("isTruthy")(c)||!d?null:v.EMPTY_IMAGE_ERROR_MESSAGE;else if(a==="video")return b("isTruthy")(c)||!d?null:v.EMPTY_VIDEO_ERROR_MESSAGE;return null},getQuestionsSectionErrorMessage:function(a,b){if(!b)return null;if(a.length===0)return v.EMPTY_QUESTION_SECTION_ERROR_MESSAGE;return!v.validateEachQuestionItem(a)?v.EMPTY_FIELD_ERROR_MESSAGE:null},getFollowUpGreetingAnswerErrorMessage:function(a){return!Object.prototype.hasOwnProperty.call(b("MessengerAdsPartialAutomatedBroadcastType"),a)?v.EMPTY_FOLLOW_UP_GREETING_ANSWER:null},getFollowUpSectionErrorMessages:function(a,b){if(!b)return null;b={};(!a.text||a.text==null)&&(b.text=v.EMPTY_FOLLOW_UP_SECTION_TEXT);Boolean(a.button_label)||(b.button_label=v.EMPTY_FOLLOW_UP_SECTION_BUTTON_LABEL);if(a.media_type==="image"){var c=a.media_content;c==null&&(b.image_hash=v.EMPTY_IMAGE_ERROR_MESSAGE)}a.media_type==="video"&&(a.media_content==null||a.media_content==="")&&(b.video=v.EMPTY_VIDEO_ERROR_MESSAGE);a.button_destination=="app"&&(a.app_info||(b.app_info=v.EMPTY_FOLLOW_UP_SECTION_APP_INFO),isNaN(a.app_id)&&(b.app_info=v.INVALID_FOLLOW_UP_SECTION_APP_INFO));a.button_destination==="website"&&(a.website_url==null||a.website_url===""?b.web_info=v.EMPTY_FOLLOW_UP_SECTION_WEB_INFO:v.isValidURL(a.website_url)||(b.web_info=v.INVALID_FOLLOW_UP_SECTION_WEB_INFO));return Object.keys(b).length>0?b:null},isValidURL:function(a){var b=a.trim();a=a.match(/^(?:(\w+):)/)||[];a=a[1]||"";b=b.replace(/ /g,"%20");a||(b="http://"+b);a=/^http(s)?:\/\/(([\w-]+\.)+(xn--[\w-]+|\w+)|\[([\da-f]{0,4}:)*(?:[\da-f]{1,4}|(?:(?:\d{1,3}\.){3}\d{1,3}))\])\.?(:[0-9]+)?([/\?].*)?$/;return b.match(a)===null?!1:!0},getPrivacyPolicyLinkURLErrorMessage:function(a,c){if(!c)return null;if(!a){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_EMPTY_PRIVACY_LINK});return v.EMPTY_FIELD_ERROR_MESSAGE}if(!b("ads-lib-urllib").isUrl(a)){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_INVALID_PRIVACY_LINK});return m}return null},getAnswerTypeName:function(a,b){switch(a){case i.MULTIPLE_CHOICE:return(b==null?void 0:b.answers)&&b.answers.length>0&&b.answers[0].value!==""&&b.answers[0].nextStep!==h.DISQUALIFY_MESSAGE?b.answers[0].value:g._("Options");case i.CUSTOM:return g._("Short Answer");case"FULL_ADDRESS":return g._("Full Address");case"ZIP_CODE":return g._("ZIP Code");case"CITY":return g._("City");case"STATE":return g._("State");case"COUNTRY":return g._("Country");case"EMAIL":return g._("Email");case"PHONE":return g._("Phone Number");case"JOB_TITLE":return g._("Job Title");case"COMPANY_NAME":return g._("Company Name");case"GENDER":return g._("Gender");case"DOB":return g._("Date of birth");case"NOTIFY_ME":return g._("Notify Me");case"SIGN_UP":return g._("Sign Up");case"GET_UPDATES":return g._("Get Updates")}return""},validateEachQuestionItem:function(a){return a.every(function(a){if(!a.questionMessage||a.answerType===null||!/\S/.test(a.questionMessage.toString()))return!1;if(a.answerType!==i.MULTIPLE_CHOICE)return!0;if(a.optionsFormat==="carousel")return a.answers&&a.answers[0]&&a.answers[1]&&a.answers.every(function(a){return v.getMediaErrorMessage("image",a.mediaContent,!0)==null&&a.value!==""});else return a.answers&&a.answers[0]&&a.answers[0].value&&a.answers[1]&&a.answers[1].value})},validatePartialAutomatedCreationData:function(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(o===!0){if(!Boolean(p))return!1;if(typeof p=="string"&&!p.trim())return!1}m=v.getPrivacyPolicyLinkURLErrorMessage(f,!i);o=!0;p=t(a);p&&e===""&&(o=!1);f=!d||v.getMediaErrorMessage(d.media_type,d.media_content,!0)==null&&(d.media_type==="text"||d.text!=="");p=!i||v.getFollowUpGreetingAnswerErrorMessage((a[0]||{}).answerType)===null;e=!i||j==null||v.getFollowUpSectionErrorMessages(j,!0)==null;d=v.getMediaErrorMessage(c.media_type,c.media_content,!0)==null;j=!k||/\S/.test(l.toString());k=!(n!=null&&n.toggle&&n.appID==null);l=a.length>0;n=v.validateEachQuestionItem(a);a=h!=null&&(h.leadgen_tos_accepted||i);h=m==null;i=/\S/.test(g.toString());g=/\S/.test(c.text.toString());c=o&&f&&p&&e&&d&&l&&n&&i&&g&&h&&a&&j&&k;c?b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_CREATION_VALIDATION_SUCCESS}):b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_CREATION_VALIDATION_FAIL,data:{message:JSON.stringify({validDisqualify:o,validIntroMessage:f,validFollowUpGreetingAnswer:p,validFollowUpSection:e,validConfirmationMedia:d,validQuestionLength:l,validQuestionItems:n,validReminderText:i,validConfirmationMessage:g,validPrivacyPolicyURL:h,validPageLeadgenTOS:a,validStopQuestionMessage:j,validateHopAppSetting:k,privacyPolicyURLError:m})}});return c},getPostData:function(a,c,d,e,f,g,h,j,k,l,m,u,w,x){var y=1,z=[],A=!1,B=c.length+1;if(a!=null&&a.text!==""){a=n(a);y=a.step_id;z.push(a)}c.forEach(function(a,b){switch(a.answerType){case i.MULTIPLE_CHOICE:var c=r(a,b,B,A);c!==null&&(z.push(c),A=A||s(a));break;case i.CUSTOM:z.push({step_id:b+1,step_type:"QUESTION",reply_type:"TEXT",message:a.questionMessage,media_type:"text",next_step_ids:[String(b+2)],crm_field_id:a.fieldID===""?null:a.fieldID,optional_question_enabled:A||a.optionalQuestionEnabled});break;case"FULL_ADDRESS":case"ZIP_CODE":case"CITY":case"STATE":case"COUNTRY":case"EMAIL":case"PHONE":case"JOB_TITLE":case"COMPANY_NAME":case"GENDER":case"DOB":z.push({step_id:b+1,step_type:"QUESTION",reply_type:"PREFILL",prefill_type:a.answerType,message:a.questionMessage,media_type:"text",next_step_ids:[String(b+2)],crm_field_id:a.fieldID===""?null:a.fieldID,answer_validation_enabled:a.answerValidationEnabled,optional_question_enabled:A||a.optionalQuestionEnabled});break;case"NOTIFY_ME":case"SIGN_UP":case"GET_UPDATES":c=(c=a.answerType)!=null?c:"";z.push({step_id:b+1,step_type:"QUESTION",reply_type:"SUBSCRIBE",message:a.questionMessage,answers:[v.getAnswerTypeName(c).toString()],next_step_ids:[String(b+2)],crm_field_id:a.fieldID===""?null:a.fieldID});break;default:break}});x!=null&&(z.push(p(x,B)),B+=1);z.push(o(d,B));t(c)&&z.push(q(e,B+1));var C;f&&(C={schedule_time:f.schedule_time,text:f.text,media_type:f.media_type,media_content:f.media_content,button_label:f.button_label,button_destination:f.button_destination,app_id:f.app_id,website_url:f.website_url});a=w!=null&&w.toggle?w.appID:null;return{first_step_id:y,privacy_url:h===b("AdsMessengerVisualEditorCreateNewType").FOLLOW_UP?"www.example.com":l,step_list:z,is_preview:j,reminder_text:g,follow_up_message:C,partial_automated_type:h,account_id:k,stop_question_enabled:m,stop_question_message:u,handover_app_id:a}},getStateData:function(a,c,d,e,f,g){var h={text:"",media_type:"text",media_content:""},j="",k={text:"",media_type:"text",media_content:""};d=d&&d[0];var l=null;if(d!=null){var m=d==null?void 0:d.media_type,n=b("DateTime").localNow().getUnixTimestampSeconds(),o=d==null?void 0:d.button_destination,p=d.schedule_time;n=b("isFalsey")(p)||p<n?b("DateTime").localNow().addMonths(1).getUnixTimestampSeconds():p;l={schedule_time:n,text:(p=d==null?void 0:d.text)!=null?p:"",media_type:m!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[m]:"text",media_content:(n=d==null?void 0:d.media_content)!=null?n:"",button_destination:o!=null?b("MessengerAdsPartialAutomatedFollowUpButtonDestinationType")[o]:"app",button_label:(p=d==null?void 0:d.button_label)!=null?p:"",app_info:null,app_id:d.app_id,website_url:(m=d.website_url)!=null?m:null}}var q=[];a.forEach(function(c,d){if(!c)return;switch(c.step_type){case"INTRO":h={text:c.message,media_type:c.media_type!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[c.media_type]:"text",media_content:c.media_content};break;case"QUESTION":var e;switch(c.reply_type){case"ICE_BREAKERS":case"QUICK_REPLIES":case"SUBSCRIBE":e=i.MULTIPLE_CHOICE;break;case"TEXT":e=i.CUSTOM;break;case"PREFILL":e=c.prefill_type;break;default:e=null;break}if(e!==null){var f=c.answers&&c.answers.map(function(b,e){var f=u(a,c,d,e);return{fieldID:c.answer_crm_field_ids?c.answer_crm_field_ids[e]:"",value:b,mediaContent:c.carousel_answers&&c.carousel_answers[e].media_content,nextStep:f}});q.push({questionMessage:c.message,answerType:e,answerValidationEnabled:c.answer_validation_enabled,answers:f,optionalQuestionEnabled:c.optional_question_enabled,optionsFormat:c.options_format!=null?b("AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption")[c.options_format]:"text",fieldID:(f=c.crm_field_id)!=null?f:""})}break;case"CONFIRMATION":k={text:c.message,media_type:c.media_type!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[c.media_type]:"text",media_content:c.media_content};break;case"DISQUALIFY":j=c.message;break}});n={toggle:!1,appID:null};return{confirmationMessage:k,disqualifyMessage:j,introMessage:h,privacyURL:e,questionItems:q,reminderText:c,followUpMessage:l,hopAppSetting:n,stopQuestionEnabled:g==null?!0:f,stopQuestionMessage:(o=g)!=null?o:b("AdsMessengerMPAConstants").DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN.toString()}},getPlaceholderFieldID:function(a){return a.split(" ").join("_").toLowerCase()},getDefaultCTMLeadGenForm:function(a){var c;a=b("adsAccountGK")._(a,"2rwbOjzZT");var d={fieldID:"",questionMessage:(c=b("AdsMessengerMPAConstants")).DEFAULT_CTM_LEAD_GEN_CITY_QUESTION_MESSAGE.toString(),answerType:"CITY",answerValidationEnabled:!1,answers:null,optionalQuestionEnabled:!1,optionsFormat:"text"};return{confirmationMessage:c.DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_LEAD_GEN,disqualifyMessage:c.DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),introMessage:c.DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_LEAD_GEN,hopAppSetting:{toggle:!1,appID:null},privacyURL:null,questionItems:a?[{fieldID:"",questionMessage:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_MC_QUESTION_MESSAGE.toString(),answerType:i.MULTIPLE_CHOICE,answerValidationEnabled:!0,answers:[{fieldID:"",value:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_MC_ANSWER.toString(),nextStep:h.NEXT_QUESTION,mediaContent:null},{fieldID:"",value:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_MC_DISQUALIFY_ANSWER.toString(),nextStep:h.DISQUALIFY_MESSAGE,mediaContent:null}],optionalQuestionEnabled:!1,optionsFormat:"text"},d]:[d],reminderText:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString(),stopQuestionEnabled:!0,stopQuestionMessage:b("AdsMessengerMPAConstants").DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN.toString()}},getDefaultCTMAnnouncementForm:function(){var a;return{confirmationMessage:(a=b("AdsMessengerMPAConstants")).DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMTENT,disqualifyMessage:a.DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),introMessage:null,privacyURL:null,questionItems:[{fieldID:"",questionMessage:a.DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_ANNOUNCEMENT.text,answerType:"GET_UPDATES",answerValidationEnabled:!1,answers:null,optionalQuestionEnabled:!1,optionsFormat:"text"}],hopAppSetting:{toggle:!1,appID:null},reminderText:a.DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString(),followUpMessage:a.DEFAULT_FOLLOW_UP_MESSAGE,stopQuestionEnabled:!0,stopQuestionMessage:a.DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN.toString()}},canEditPrivacyPolicyURL:function(a){return a===b("PageAdminTypes").CONTENT_CREATOR||a===b("PageAdminTypes").MANAGER},shouldUpdateOptimization:function(a,c,d,e,f){var g=b("AdsBulkValueUtils").getUniformValue(f.objective);if(g!==b("AdsAPIObjectives").MESSAGES&&g!==b("AdsAPIObjectives").CONVERSIONS||!a)return;g=b("AdsConversionWindowUtils").getDefaultConversionWindowMaybeExtended(f.account,b("AdsBulkValueUtils").getUniformValueOrDefault(f.objective,b("AdsAPIObjectives").NONE),e,b("AdsBulkValueUtils").getUniformValueOrDefault(f.promotedObjectType,b("AdsPromotedObjectTypes").NONE),b("AdsBulkValueUtils").getUniformValueOrDefault(f.bidStrategy,b("AdsAPIBidStrategies").NONE),!0);if(b("AdsMessengerUtils").isCTMLeadGen(d)){if(e===b("AdsAPIOptimizationGoals").CONVERSATIONS||e===b("AdsAPIOptimizationGoals").REPLIES){b("AdsUEditorCampaignDeliveryChangeOptimizationGoalAction").dispatch({campaignIDs:f.campaignIDs,hostID:c,optimizationGoal:b("AdsAPIOptimizationGoals").LEAD_GENERATION,isNewCampaign:b("AdsBulkValueUtils").getUniformValueOrDefault(f.isNewCampaign,!1),defaultConversionWindowLength:(a=g==null?void 0:g.ctConvWindowDays)!=null?a:null,defaultViewConversionWindowLength:(d=g==null?void 0:g.vtConvWindowDays)!=null?d:null},{line:"1328",module:"AdsMessengerPartialAutomatedCreationUtils.js"})}}else if(e===b("AdsAPIOptimizationGoals").LEAD_GENERATION){b("AdsUEditorCampaignDeliveryChangeOptimizationGoalAction").dispatch({campaignIDs:f.campaignIDs,hostID:c,optimizationGoal:b("adsAccountGK")._(f.account,"2iKPyfQrp")?b("AdsAPIOptimizationGoals").CONVERSATIONS:b("AdsAPIOptimizationGoals").REPLIES,isNewCampaign:b("AdsBulkValueUtils").getUniformValueOrDefault(f.isNewCampaign,!1),defaultConversionWindowLength:(a=g==null?void 0:g.ctConvWindowDays)!=null?a:null,defaultViewConversionWindowLength:(d=g==null?void 0:g.vtConvWindowDays)!=null?d:null},{line:"1347",module:"AdsMessengerPartialAutomatedCreationUtils.js"})}},getDefaultTemplateName:function(a){return g._("Generate Leads {date}",[g._param("date",b("formatDate")(b("DateTime").now(a.timezone_id).getUnixTimestampSeconds(),"m-d-y"))]).toString()},getDefaultQuestionMessage:function(a){switch(a){case"GENDER":return g._("What is your gender?");case"PHONE":return g._("What is your phone number?");case"FULL_ADDRESS":return g._("What is your full address?");case"CITY":return g._("What city do you live in?");case"STATE":return g._("What state do you live in?");case"ZIP_CODE":return g._("What is your ZIP code?");case"COUNTRY":return g._("What country do you live in?");case"EMAIL":return g._("What is your email address?");case"JOB_TITLE":return g._("What is your job title?");case"COMPANY_NAME":return g._("What company do you work for?");default:return""}}};e.exports=v}),null);
__d("AdsUEditorAdgroupMessengerContentImageSelector.react",["ix","cx","fbt","AdsFBIconDownsized.react","AdsFullSizeImageBoxContainer.react","AdsImageSelectorV2Types","AdsUEditorImageSelectorV2Container.react","FDSButton.react","FDSText.react","LeftRight.react","React","ShimButton.react","XUIError.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdsImageSelectorV2Types").AdsImageSource,k=b("React"),l=function(a){var c=i._("Placeholder for selected image");return k.jsx(b("ShimButton.react"),{className:"_jkn",onClick:a.onSelectImageClick,children:k.jsx(b("AdsFBIconDownsized.react"),{"aria-label":c,className:"_jko",src:g("412549"),onClick:a.onSelectImageClick})})},m=function(a){return k.jsx(b("AdsFullSizeImageBoxContainer.react"),{className:"_jlc",crop:null,height:72,imageID:a.imageID,renderStyle:"SCALE_CROP",width:128,onClick:a.onSelectImageClick})};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showImageDialog:!1},c.$3=function(a){a=a.toJSON();c.$7(a)},c.$6=function(){c.setState({showImageDialog:!0})},c.$4=function(){c.setState({showImageDialog:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a){return a?i._("Change Image"):i._("Select Image")};d.$2=function(a){a=a?b("immutable").OrderedSet([a]):b("immutable").OrderedSet();var c=b("immutable").OrderedSet([j.ACCOUNT_IMAGE,j.UPLOAD_IMAGE]);return k.jsx(b("AdsUEditorImageSelectorV2Container.react"),{accountID:this.props.accountID,initialSource:j.ACCOUNT_IMAGE,isShown:this.state.showImageDialog,maxSelectedImageIDs:1,selectedImageIDs:a,sourceTypeList:c,onConfirmLegacy:this.$3,onHide:this.$4})};d.$5=function(a){return this.props.isCondensedFormat!==!0?a?k.jsx(m,{imageID:a,onSelectImageClick:this.$6}):k.jsx(l,{onSelectImageClick:this.$6}):null};d.render=function(){var a=this.props.imageID;return k.jsxs("div",{children:[k.jsxs(b("LeftRight.react"),{direction:"left",children:[k.jsx("div",{className:"_3-93",children:this.$5(a)}),k.jsxs("div",{className:this.props.isCondensedFormat===!0?"_4sih":this.props.isShortWidth===!0?"_82_p":"_4sig",children:[k.jsx("div",{className:"_4sif",children:k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:i._("Recommended image size: 1200 x 628 pixels")})}),k.jsx("div",{className:"_jlf",children:k.jsx(b("XUIError.react"),{xuiError:this.props.imageError,children:k.jsx("div",{children:k.jsx(b("FDSButton.react"),{isDisabled:this.props.isEditDisabled,label:this.$1(a),use:"default",onClick:this.$6})})})})]})]}),this.$2(a)]})};d.$7=function(a){this.props.onImageSelect(a),this.setState({showImageDialog:!1})};return c}(k.Component);e.exports=a}),null);
__d("reverseArgs",[],(function(a,b,c,d,e,f){function a(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.apply(void 0,c.reverse())}}e.exports=a}),null);
__d("curryRight",["curry","reverseArgs"],(function(a,b,c,d,e,f){"use strict";function a(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("reverseArgs")(b("curry").apply(void 0,[b("reverseArgs")(a)].concat(d)))}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationCarouselOptionsContent.react",["cx","fbt","AdsImageIDUtils","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationUtils","AdsUEditorAdgroupMessengerContentImageSelector.react","FDSText.react","FDSTextInput.react","LeftRight.react","Link.react","React","curry","curryRight","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.account!=null?this.props.account.account_id:"",c=this.props.questionItem.answers?this.props.questionItem.answers[this.props.selectedItem].mediaContent:null,d=b("AdsImageIDUtils").getImageID({accountID:a,hash:c});c=b("AdsMessengerPartialAutomatedCreationUtils").getMediaErrorMessage("image",c,this.props.showError);var e=this.props.questionItem.answers?this.props.questionItem.answers[this.props.selectedItem].value:"",f=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(e,this.props.showError);return i.jsxs("div",{className:"_82_u",children:[i.jsxs(b("LeftRight.react"),{className:"_2pin",children:[i.jsx(b("FDSText.react"),{display:"block",size:"body3",weight:"bold",children:h._("Image")}),this.props.questionItem.answers!=null&&this.props.questionItem.answers.length>2&&i.jsx(b("Link.react"),{onClick:b("curry")(this.props.onAnswerRemove,this.props.selectedItem),children:h._("Remove")})]}),i.jsx(b("AdsUEditorAdgroupMessengerContentImageSelector.react"),{accountID:a,imageError:c,imageID:d,isCondensedFormat:!1,isShortWidth:!0,onImageSelect:this.props.onImageSelect}),i.jsx("div",{className:"_3-8x _3-95",children:i.jsx(b("FDSTextInput.react"),{errorMessage:f,label:h._("Text"),maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,value:e,onChange:b("curryRight")(this.props.onAnswersChange,this.props.selectedItem)})})]})};return c}(i.Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationCarouselOptionsTabBar.react",["ix","cx","fbt","AdsFBIconDownsized.react","FDSButton.react","Grid.react","GridItem.react","React","TabBar.react","TabBarItem.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=[];for(var c=0;c<this.props.itemCount;c++){var d="_823n"+(c===this.props.selectedItem?" _823o":"");a.push(j.jsxs(b("TabBarItem.react"),{children:[j.jsx("div",{className:d,children:c+1}),j.jsx("div",{className:"_823p"}),j.jsx("div",{className:"_823q"})]},c))}return j.jsxs(b("Grid.react"),{cols:2,children:[j.jsx(b("GridItem.react"),{children:j.jsx(b("TabBar.react"),{onTabClick:this.props.onItemSelected,children:a})},"left"),j.jsx(b("GridItem.react"),{children:this.props.showAddButton&&j.jsx(b("FDSButton.react"),{icon:j.jsx(b("AdsFBIconDownsized.react"),{src:g("407424")}),label:i._("Add"),labelIsHidden:!0,onClick:this.props.onAddOption})},"right")]})};return c}(j.Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react",["AdsMessengerPartialAutomatedCreationTypes","FDSSection.react","FDSText.react","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React","cxMargin"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,h=b("React");function a(a){function c(){if(!a.questionItem.answers)return;return h.jsx("div",{className:"_3-9c",children:a.questionItem.answers.map(function(a,c){a=a.value;return h.jsx("li",{style:{listStyleType:"disc"},children:h.jsx(b("FDSText.react"),{margin:"_3-8z",children:a})},c)})})}var d=b("PagesReplyComposerStore").getByKey("CTMLeadGenQuestion"+a.questionIndex.toString()).getState();return h.jsxs(b("FDSSection.react"),{children:[h.jsx(b("FDSText.react"),{children:d?b("PagesReplyComposerTextUtilities").processMessage(a.questionItem.questionMessage,d.supportedMacros):a.questionItem.questionMessage}),a.questionItem.answerType===g.MULTIPLE_CHOICE&&c()]})}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemConditionalStop.react",["ix","fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSimplePopover.react","FDSText.react","FDSTextInput.react","Image.react","React","asset","curry","curryRight","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,j=b("React");c=b("React");var k=c.useEffect,l=c.useRef;function a(a){var c=l();k(function(){c.current&&c.current.focus&&a.index!==0&&c.current.focus()},[a.index]);var d=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.answer.value,a.showError),e=j.jsxs("span",{className:"_3-9a",children:[a.isSkipToEnabled?j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("575871")}),label:h._("Skip to ..."),labelIsHidden:!0,use:"flat",onClick:b("curry")(a.onGoToOptionClick,a.index)}):null,a.shouldShowRemoveOption&&j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("497562")}),label:h._("Remove"),labelIsHidden:!0,use:"flat",onClick:b("curry")(a.onAnswerRemove,a.index)})]});return j.jsxs("div",{className:"_3-96",children:[j.jsxs("span",{style:{display:"flex"},children:[j.jsx("span",{style:{width:340},children:j.jsx(b("FDSTextInput.react"),{errorMessage:a.index<2?d:null,label:a.answer.value,labelIsHidden:!0,maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,placeholder:h._("Enter an option"),ref:c,value:a.answer.value,onChange:b("curryRight")(a.onAnswersChange,a.index)})}),e]}),a.visibleGoToOptions[a.index]&&j.jsxs("div",{className:"_3-9a _3-8x",children:[j.jsx(b("Image.react"),{src:g("816776")}),j.jsx(b("FDSText.react"),{display:"inline",margin:"_3-9a _3-8_",size:"body3",children:h._("Skip To")}),j.jsx(b("FDSSimplePopover.react"),{alignment:"left",content:h._("People who choose this option will skip remaining questions and go directly to the completion or disqualification message. People routed to disqualification will appear in your Page's Done folder, and their info will not appear in the CSV file or connected CRM."),position:"below"}),j.jsx("span",{className:"_3-99",children:j.jsxs(b("FDSDropdownSelector.react"),{value:a.answer.nextStep,onChange:b("curry")(a.onNextStepChange,a.index),children:[j.jsx(b("FDSDropdownSelectorOption.react"),{value:i.DISQUALIFY_MESSAGE,children:h._("Disqualification")}),j.jsx(b("FDSDropdownSelectorOption.react"),{value:i.CONFIRMATION_MESSAGE,children:h._("Completion")})]})}),j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("497562")}),label:h._("Remove"),labelIsHidden:!0,use:"flat",onClick:b("curry")(a.onGoToOptionClick,a.index)})]})]},a.index)}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemQuestionText.react",["cx","fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationUtils","FDSText.react","FDSTextArea.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useEffect,k=c.useRef;function a(a){var c=k();j(function(){a.isFocused&&c.current&&c.current.focus&&c.current.focus()},[a.isFocused]);var d=h._("Text"),e=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.questionItem.questionMessage,a.showError),f=h._("Enter the text for your question"),g={composerKey:"CTMLeadGenQuestion"+a.questionIndex.toString(),initialDisabled:!1,initialReply:a.questionItem.questionMessage,isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:f};return!a.showPersonalization?i.jsxs("div",{className:"_3-8x",children:[i.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:d}),i.jsx(b("FDSTextArea.react"),{errorMessage:e,label:d,labelIsHidden:!0,maxLength:b("AdsMessengerConstants").WELCOME_MESSAGE_MAX_LENGTH,placeholder:f,ref:c,rows:2,shouldAutoGrow:!0,value:a.questionItem.questionMessage,onChange:a.onQuestionTextChange})]}):i.jsxs("div",{className:"_8xii",children:[i.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:h._("Text")}),i.jsxs("div",{className:(e==null?"_6t0z":"")+(e!=null?" _7m38":"")+" _8xij",onBlur:a.onBlur,onFocus:a.onFocus,children:[i.jsx(b("PagesReplyComposerEditorContainer.react"),{config:g,isCTMLeadGen:!0,isFocused:a.isQuestionFocused,isNamesARTest:!0,isSideToolbar:!0,welcomeString:a.questionItem.questionMessage,onReplyChange:a.onQuestionTextChange}),i.jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:g,isFocused:a.isQuestionFocused,isMessengerVERedesign:!0,isSideToolbar:!0,onToolItemClicked:a.onToolItemClicked})]})]})}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react",["ix","AdsMessengerPartialAutomatedCreationTypes","Image.react","React","asset"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,i=b("React");function a(a){switch(a.questionType){case"GENDER":return i.jsx(b("Image.react"),{src:g("481918")});case"PHONE":return i.jsx(b("Image.react"),{src:g("558160")});case"FULL_ADDRESS":return i.jsx(b("Image.react"),{src:g("481941")});case"CITY":return i.jsx(b("Image.react"),{src:g("481941")});case"STATE":return i.jsx(b("Image.react"),{src:g("481941")});case"ZIP_CODE":return i.jsx(b("Image.react"),{src:g("481941")});case"COUNTRY":return i.jsx(b("Image.react"),{src:g("481941")});case"EMAIL":return i.jsx(b("Image.react"),{src:g("495078")});case"JOB_TITLE":return i.jsx(b("Image.react"),{src:g("481904")});case"COMPANY_NAME":return i.jsx(b("Image.react"),{src:g("881985")});case h.CUSTOM:return i.jsx(b("Image.react"),{src:g("486061")});case h.MULTIPLE_CHOICE:return i.jsx(b("Image.react"),{src:g("486350")});default:return null}}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react",["ix","fbt","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","FDSDropdownMenu.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","adsAccountGK","asset","curry"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("React");function k(a,c){return{type:"item",label:b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(c),icon:j.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:c}),onClick:function(){return a(c)}}}function l(a,c){return{type:"item",label:b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(c),onClick:function(){return a(c)}}}function m(a){var b=a.label,c=a.icon;a=a.items;return{type:"submenu",label:b,icon:c,items:a}}function a(a){var c=b("curry")(k,a.onClick),d=b("curry")(l,a.onClick),e=b("adsAccountGK")._(a.account,"XeX9gwcC"),f=[d("CITY"),d("STATE"),d("ZIP_CODE"),d("COUNTRY")];e&&(f=[d("FULL_ADDRESS")].concat(f));return j.jsx(b("FDSDropdownMenu.react"),{buttonIcon:a.icon,items:[{type:"group",label:h._("Prefill Questions"),items:[c("PHONE"),c("EMAIL"),m({icon:j.jsx(b("Image.react"),{src:g("481941")}),label:h._("Address"),items:f}),c("JOB_TITLE"),c("COMPANY_NAME"),c("GENDER")]},{type:"group",label:h._("Custom Questions"),items:[c(i.CUSTOM),c(i.MULTIPLE_CHOICE)]}],label:a.label,maxHeight:360})}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItem.react",["ix","cx","fbt","AdsInterfacesLogger","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerVisualEditorLoggerEvents","ClickableArea.react","FDSButton.react","FDSCard.react","FDSCardFooter.react","FDSCardHeader.react","FDSCheckboxInput.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSection.react","FDSSimplePopover.react","FDSText.react","Image.react","MessengerDestinationPartialAutomatedCreationCarouselOptionsContent.react","MessengerDestinationPartialAutomatedCreationCarouselOptionsTabBar.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemConditionalStop.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemQuestionText.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","adsAccountQE","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=(a=b("AdsMessengerPartialAutomatedCreationTypes")).AdsMessengerPartialAutomatedCreationGoToOption,k=a.AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=a.AdsMessengerPartialAutomatedCreationSections,m=a.AdsMessengerPartialAutomatedReplyValidationType,n=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={autoFocus:!1,carouselSelectedItem:0,isCollapsed:d.props.isInitiallyCollapsed,isQuestionFocused:!1,showMoreOptions:!0,visibleGoToOptions:[]},d.$2=function(){var a=d.state.isCollapsed;d.setState({isCollapsed:!a})},d.$12=function(a){var c=a===k.MULTIPLE_CHOICE,e=c?[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""},{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""}]:null;c=c?"text":null;e=babelHelpers["extends"]({},d.props.questionItem,{answerType:a,answerValidationEnabled:m.includes(a),answers:e,optionalQuestionEnabled:!1,optionsFormat:c,questionMessage:b("AdsMessengerPartialAutomatedCreationUtils").getDefaultQuestionMessage(a).toString()});d.props.onQuestionItemChange(e,d.props.questionIndex)},d.$6=function(a){a=babelHelpers["extends"]({},d.props.questionItem,{questionMessage:a});d.props.onQuestionItemChange(a,d.props.questionIndex)},d.$13=function(){var a=babelHelpers["extends"]({},d.props.questionItem,{optionalQuestionEnabled:!d.props.questionItem.optionalQuestionEnabled});d.props.onQuestionItemChange(a,d.props.questionIndex)},d.$14=function(){var a=babelHelpers["extends"]({},d.props.questionItem,{answerValidationEnabled:!d.props.questionItem.answerValidationEnabled});d.props.onQuestionItemChange(a,d.props.questionIndex)},d.$19=function(a,b){var c=Object.assign({},d.props.questionItem);if(!c.answers)return;c.answers[b].value=a;d.props.onQuestionItemChange(c,d.props.questionIndex)},d.$18=function(a){var b=Object.assign({},d.props.questionItem);if(!b.answers)return;var c=a>=b.answers.length-1?a-1:a;b.answers=b.answers.filter(function(b,c){return c!==a});d.setState(function(b){var d=[].concat(b.visibleGoToOptions);d.splice(a,1);return babelHelpers["extends"]({},b,{carouselSelectedItem:c,visibleGoToOptions:d})});d.props.onQuestionItemChange(b,d.props.questionIndex)},d.$24=function(a){var b=[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""},{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""}];b=d.props.questionItem.answers?d.props.questionItem.answers.map(function(a){return{fieldID:a.fieldID,value:a.value,nextStep:j.NEXT_QUESTION,mediaContent:""}}):b;var c=d.props.questionItem.answers?d.props.questionItem.answers.map(function(a){return!1}):[!1,!1];b=babelHelpers["extends"]({},d.props.questionItem,{answers:b,optionsFormat:a});d.props.onQuestionItemChange(b,d.props.questionIndex);d.setState({carouselSelectedItem:0,visibleGoToOptions:c})},d.$22=function(){if(!d.props.questionItem.answers)return;var a=d.props.questionItem.answers.concat({fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""});a=babelHelpers["extends"]({},d.props.questionItem,{answers:a});d.setState(function(a){var b=[].concat(a.visibleGoToOptions);b.push(!1);return babelHelpers["extends"]({},a,{autoFocus:!0,visibleGoToOptions:b})});d.props.onQuestionItemChange(a,d.props.questionIndex)},d.$23=function(){d.props.onRemoveQuestion(d.props.questionIndex)},d.$23=function(){d.props.onRemoveQuestion(d.props.questionIndex)},d.$5=function(){d.setState({isQuestionFocused:!0})},d.$4=function(){d.setState({isQuestionFocused:!1})},d.$21=function(a,b){var c=Object.assign({},d.props.questionItem);if(!c.answers)return;c.answers[a].nextStep=b;d.props.onQuestionItemChange(c,d.props.questionIndex)},d.$20=function(a){var b=d.state.visibleGoToOptions;b=b.slice();b[a]=!b[a];d.$21(a,b[a]?j.DISQUALIFY_MESSAGE:j.NEXT_QUESTION);d.setState({visibleGoToOptions:b})},d.$26=function(a){var b=Object.assign({},d.props.questionItem);a=a&&a[0];if(!a||!b.answers)return;if(a.hash)b.answers[d.state.carouselSelectedItem].mediaContent=a.hash;else return;d.props.onQuestionItemChange(b,d.props.questionIndex)},d.$25=function(a){d.setState({carouselSelectedItem:+a})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){if(b.visibleGoToOptions.length!==0)return babelHelpers["extends"]({},b);a=a.questionItem.answers?a.questionItem.answers.map(function(a){return a.nextStep!==j.NEXT_QUESTION}):[];return babelHelpers["extends"]({},b,{visibleGoToOptions:a})};var d=c.prototype;d.render=function(){var a=this.props.questionItem.answerType?b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(this.props.questionItem.answerType):"";a=n.jsxs("span",{className:"_8xlv",children:[n.jsx("span",{className:"_8xlw",children:n.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:this.props.questionItem.answerType})}),n.jsx(b("FDSText.react"),{margin:"_3-9a",size:"header3",children:a})]});var c=l.QUESTIONS+"-"+this.props.questionIndex;return n.jsx("div",{className:"_8xii _8xlx",id:c,children:n.jsx(b("ClickableArea.react"),{onClick:this.props.onClick,children:n.jsx("div",{children:n.jsx(b("FDSCard.react"),{footer:!this.state.isCollapsed&&this.props.questionCount>1?n.jsx(b("FDSCardFooter.react"),{primaryButton:this.$1()}):null,header:n.jsx(b("FDSCardHeader.react"),{button:n.jsx(b("FDSButton.react"),{icon:n.jsx(b("Image.react"),{src:this.state.isCollapsed?g("478817"):g("515078")}),label:"Edit",labelIsHidden:!0,margin:this.props.questionCount>1?"_3-92":"_2-jz",size:"small",style:{height:20},use:"flat",onClick:this.$2},"edit"),title:a}),children:this.state.isCollapsed?n.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react"),{questionIndex:this.props.questionIndex,questionItem:this.props.questionItem}):n.jsxs(b("FDSSection.react"),{children:[this.$3(),n.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemQuestionText.react"),{isFocused:this.props.isFocused,isQuestionFocused:this.state.isQuestionFocused,pageID:this.props.pageID,questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,questionItemID:c,showError:this.props.showError,showPersonalization:this.props.showPersonalization,onBlur:this.$4,onFocus:this.$5,onQuestionTextChange:this.$6,onToolItemClicked:this.$7}),this.$8(),this.$9(),this.$10(),this.$11()]})})})})})};d.$3=function(){var a=this.props.questionItem.answerType||!this.props.showError?null:i._("Choose an answer type");return n.jsxs("div",{children:[this.props.showError&&n.jsx("span",{children:a}),n.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Question Type")}),n.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react"),{account:this.props.account,label:b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(this.props.questionItem.answerType||""),onClick:this.$12})]})};d.$8=function(){var a;a=(a=b("adsAccountQE")._(this.props.account,"2aBwSSLd6:aMplHKvumt0",{}))!=null?a:!1;if(a)return n.jsxs("div",{className:"_8xiu",children:[n.jsx(b("FDSCheckboxInput.react"),{label:i._("Optional question"),value:Boolean(this.props.questionItem.optionalQuestionEnabled),onChange:this.$13}),n.jsx("span",{className:"_3-99",children:n.jsx(b("FDSSimplePopover.react"),{content:i._("People can skip this question.")})})]})};d.$9=function(){if(m.includes(this.props.questionItem.answerType))return n.jsxs("div",{className:"_8xiu",children:[n.jsx(b("FDSCheckboxInput.react"),{label:i._("Answer validation"),value:Boolean(this.props.questionItem.answerValidationEnabled),onChange:this.$14}),n.jsx("span",{className:"_3-99",children:n.jsx(b("FDSSimplePopover.react"),{content:i._("Answers that appear invalid will prompt the question again.")})})]})};d.$11=function(){if(this.props.questionItem.answerType!==k.MULTIPLE_CHOICE)return null;else if(this.props.questionItem.optionsFormat==="carousel")return this.$15();else return n.jsxs("div",{className:"_3-8x",children:[n.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Options")}),this.$16(),this.$17()]})};d.$16=function(){var a=this;return!this.props.questionItem.answers?null:this.props.questionItem.answers.map(function(c,d){var e=a.props.questionItem.answers!=null&&a.props.questionItem.answers.length>2;return n.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemConditionalStop.react"),{answer:c,autoFocus:a.state.autoFocus,index:d,isSkipToEnabled:a.props.isSkipToEnabled,shouldShowRemoveOption:e,showError:a.props.showError,visibleGoToOptions:a.state.visibleGoToOptions,onAnswerRemove:a.$18,onAnswersChange:a.$19,onGoToOptionClick:a.$20,onNextStepChange:a.$21},d)})};d.$17=function(){return this.props.questionItem.answers&&this.props.questionItem.answers.length>=b("AdsMessengerPartialAutomatedCreationUtils").getMaxOptionNumber()?null:n.jsx(b("FDSButton.react"),{label:i._("+ Add Option"),onClick:this.$22})};d.$1=function(){return n.jsx(b("FDSButton.react"),{icon:n.jsx(b("Image.react"),{src:g("483825")}),label:i._("Remove"),onClick:this.$23})};d.$10=function(){if(this.props.questionItem.answerType!==k.MULTIPLE_CHOICE)return null;else return n.jsxs("div",{className:"_3-8x",children:[n.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Format")}),n.jsxs(b("FDSDropdownSelector.react"),{buttonUse:"default",value:this.props.questionItem.optionsFormat,onChange:this.$24,children:[n.jsx(b("FDSDropdownSelectorOption.react"),{value:"text",children:i._("Text")}),n.jsx(b("FDSDropdownSelectorOption.react"),{value:"carousel",children:i._("Carousel")})]})]})};d.$15=function(){if(this.props.questionItem.optionsFormat!=="carousel")return null;else return n.jsxs("div",{className:"_3-8x",children:[n.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Options")}),n.jsx(b("MessengerDestinationPartialAutomatedCreationCarouselOptionsTabBar.react"),{itemCount:this.props.questionItem.answers!=null?this.props.questionItem.answers.length:0,selectedItem:this.state.carouselSelectedItem,showAddButton:!!(this.props.questionItem.answers!=null&&this.props.questionItem.answers.length<b("AdsMessengerPartialAutomatedCreationUtils").getMaxOptionNumber()),onAddOption:this.$22,onItemSelected:this.$25}),n.jsx(b("MessengerDestinationPartialAutomatedCreationCarouselOptionsContent.react"),{account:this.props.account,questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,selectedItem:this.state.carouselSelectedItem,showError:this.props.showError,onAnswerRemove:this.$18,onAnswersChange:this.$19,onImageSelect:this.$26,onQuestionItemChange:this.props.onQuestionItemChange})]})};d.$7=function(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_PERSONALIZE_QUESTION})};return c}(n.Component);e.exports=c}),null);
__d("MessengerDestinationPartialAutomatedCreationLeadGenQuestionDraggableItem.react",["cx","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItem.react","React","withAbstractDraggableDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.item,c=a.id;a=a.isMovable;return h.jsxs(b("FBOverlayContainer.react"),{className:this.props.dragging?"_7s8r":"",style:{width:this.props.width},onClick:this.$1,children:[h.jsx(b("FBOverlayBase.react"),{children:h.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItem.react"),babelHelpers["extends"]({},this.props.item,{goToOptionsEnabled:!0}))}),h.jsx(b("FBOverlayElement.react"),{horizontal:"fit",ref:this.props.setRef,vertical:"top",children:h.jsx("div",{className:(a?"_8nkj":"")+(a?" _8xip":"")})})]},c)};d.$1=function(a){a.stopPropagation()};return c}(h.Component);e.exports=b("withAbstractDraggableDataSource")(a)}),null);
__d("MessengerAdsPartialAutomatedPrefillType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FULL_ADDRESS:"FULL_ADDRESS",ZIP_CODE:"ZIP_CODE",CITY:"CITY",STATE:"STATE",COUNTRY:"COUNTRY",EMAIL:"EMAIL",PHONE:"PHONE",JOB_TITLE:"JOB_TITLE",COMPANY_NAME:"COMPANY_NAME",GENDER:"GENDER",DOB:"DOB",NONE:"NONE"})}),null);
__d("MessengerDestinationPartialAutomatedCreationSectionQuestions.react",["ix","cx","fbt","AbstractDraggableList.react","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","FDSText.react","Image.react","MessengerAdsPartialAutomatedPrefillType","MessengerDestinationPartialAutomatedCreationLeadGenQuestionDraggableItem.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react","React","asset","curry","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections,m=b("React");function a(a){function c(b,c){a.onAddQuestion(b,c),a.setFocusedIndex(a.questionItems.length)}function d(b){a.setFocusedIndex(b)}function e(b,c){var e=a.questionItems.slice(),f=e.splice(b,1)[0];c=c==null?e.length:b>c?c:c-1;e.splice(c,0,f);a.onSetQuestions(e);f=a.focusedIndex;b>f&&c<=f?d(f+1):b<f&&c>=f?d(f-1):b===f&&d(c)}function f(){if(!a.questionItems)return null;var c=a.questionItems.map(function(a,b){return b}),f={};a.questionItems&&a.questionItems.forEach(function(c,e){f[e]={account:a.account,id:e,isFocused:a.focusedIndex===e,isInitiallyCollapsed:Object.prototype.hasOwnProperty.call(b("MessengerAdsPartialAutomatedPrefillType"),c.answerType),isMovable:a.questionItems.length>1,isSkipToEnabled:a.isSkipToEnabled,pageID:a.pageID,placeholderClassName:"_7sx4",questionCount:a.questionItems==null?0:a.questionItems.length,questionIndex:e,questionItem:c,showError:a.showError,showPersonalization:a.showPersonalization,onClick:b("curry")(d,e),onQuestionItemChange:a.onQuestionItemChange,onRemoveQuestion:a.onRemoveQuestion}});return m.jsx(b("AbstractDraggableList.react"),{itemIDs:c,itemsByID:f,itemsRenderer:b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionDraggableItem.react"),onRemove:b("emptyFunction"),onReorder:e})}function h(a){var b=a===k.MULTIPLE_CHOICE;b=b?[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""},{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""}]:null;c(a,b)}function n(){return a.questionItems.length>=b("AdsMessengerPartialAutomatedCreationUtils").getMaxQuestionNumber()?null:m.jsx("div",{className:"_8xii",style:{bottom:0,position:"absolute"},children:m.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeDropdown.react"),{account:a.account,icon:m.jsx(b("Image.react"),{src:g("483768")}),label:i._("Add Question"),onClick:h})})}return m.jsxs("div",{className:"_8xih",id:l.QUESTIONS,children:[m.jsxs("div",{className:"_8xii",children:[m.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[m.jsx(b("FDSText.react"),{display:"inline",margin:"_3-8_",size:"header3",children:b("AdsMessengerPartialAutomatedCreationUtils").getHeaderName(l.QUESTIONS)}),a.showError&&a.sectionValidationErrors.has(l.QUESTIONS)&&m.jsx(b("Image.react"),{src:g("480268")})]}),m.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Ask a sequence of questions to help qualify your lead.")})]}),m.jsxs("div",{style:{paddingBottom:"52px",position:"relative"},children:[n(),f()]})]})}e.exports=a}),null);
__d("AdsMessengerSavedResponseIndexProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{}};e.exports=a}),null);
__d("AdsUEditorAdgroupSavedResponseIndexReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,(a={},a[b.contentEditorTab]=b.index,a))}};e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerFAQContentIceBreaker.react",["cx","fbt","AdCampaignDestination","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerErrorSpecType","AdsMessengerErrorSpecUtils","AdsMessengerSetSavedResponseIndexAction","AdsMessengerVisualEditorLoggerEvents","ClickableArea.react","FDSCloseButton.react","FDSText.react","FDSTextArea.react","Middot.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerTextUtilities","PagesReplyComposerToolbarContainer.react","React","SUITextInput.react","curry","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useState,k=h._("Enter the answer to this question");function l(a,c,d,e,f,g,h,j,k,l){return a===b("AdCampaignDestination").WHATSAPP?i.jsx(b("SUITextInput.react"),{disabled:e,errorMessage:c,isMaxLengthHidden:f,maxLength:b("AdsMessengerConstants").ICE_BREAKER_MAX_LENGTH,placeholder:null,value:g,onBlur:h,onChange:l,onFocus:j,onRemove:e===!0?b("emptyFunction"):b("curry")(k,d)}):i.jsx(b("SUITextInput.react"),{disabled:e,errorMessage:c,isMaxLengthHidden:f,maxLength:b("AdsMessengerConstants").ICE_BREAKER_MAX_LENGTH,placeholder:null,value:g,onBlur:h,onChange:l,onFocus:j})}function m(a){return a?i.jsxs(b("FDSText.react"),{color:"primary",margin:"_3-95 _3-8y",weight:"bold",children:[h._("Automated Response in Messenger"),i.jsx(b("Middot.react"),{}),i.jsx(b("FDSText.react"),{color:"secondary",weight:"bold",children:h._("Optional")})]}):i.jsx(b("FDSText.react"),{color:"primary",margin:"_3-95 _3-8y",weight:"bold",children:h._("Automated Response (Optional)")})}function n(a,c,d,e,f,g,h,j,k,l){return i.jsxs("div",{className:"_3-96"+(e?"":" _8y3v")+(e?" _8y3o":""),onBlur:h,onFocus:j,children:[i.jsx(b("PagesReplyComposerEditorContainer.react"),{config:a,isEditDisabled:c,isNamesARTest:f,welcomeString:g,onReplyChange:k}),d&&i.jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a,isFocused:e,isMessengerVERedesign:!0,onToolItemClicked:l})]})}function a(a){var c=j(!1),d=c[0],e=c[1];c=j(!1);var f=c[0],g=c[1];c=j(!0);var o=c[0],p=c[1];c=j(!1);var q=c[0],r=c[1];c=j(!1);var s=c[0],t=c[1];c=b("AdsMessengerErrorSpecUtils").getCTAError(a.errorSpec,b("AdsMessengerErrorSpecType").ICE_BREAKERS,a.index);c=c?String(c.errorMessage):null;var u=a.isEditDisabled==!0?b("PagesReplyComposerTextUtilities").processMessage(a.getResponseText(a.index)||"",a.composerState.supportedMacros):a.getResponseText(a.index);u={composerKey:a.index.toString(),initialDisabled:a.isEditDisabled===!0,initialReply:u||"",isAdsInterfaceSource:!0,maxCharacterLength:b("AdsMessengerConstants").ICE_BREAKER_RESPONSE_MAX_LENGTH,pageID:a.pageID,placeholderText:h._("Enter the answer to this question.")};function v(){if(a.editorTab==null)return;b("AdsMessengerSetSavedResponseIndexAction").dispatch({contentEditorTab:a.editorTab,index:a.index},{line:"231",module:"AdsUEditorAdgroupMessengerFAQContentIceBreaker.react.js"})}function w(b){a.onIceBreakerChange(a.index,b,"title")}function x(b){a.onIceBreakerChange(a.index,b,"response"),a.isUnifiedCreation&&r(b.length>0)}function y(){p(!1),t(!0)}function z(){p(!0),t(!1)}function A(){e(!0),g(!0),t(!0)}function B(){t(!1),g(!1)}function C(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_PERSONALIZE_SAVED_RESPONSE})}return i.jsx(b("ClickableArea.react"),{onClick:v,children:i.jsxs("div",{className:(a.destinationType!==b("AdCampaignDestination").WHATSAPP&&!s?"_79x_":"")+(a.destinationType!==b("AdCampaignDestination").WHATSAPP&&s?" _7x_t":"")+(a.destinationType===b("AdCampaignDestination").WHATSAPP?" _8xu8":""),children:[a.showRemove&&a.destinationType!==b("AdCampaignDestination").WHATSAPP&&i.jsx("span",{className:"rfloat",children:i.jsx(b("FDSCloseButton.react"),{isDisabled:a.isEditDisabled,onClick:a.isEditDisabled===!0?b("emptyFunction"):b("curry")(a.onRemoveIceBreaker,a.index)})}),i.jsxs(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"body2",weight:"bold",children:[h._("Question")," #",a.index+1]}),l(a.destinationType,c,a.index,a.isEditDisabled,o,a.value.title,z,y,a.onRemoveIceBreaker,w),a.destinationType!==b("AdCampaignDestination").WHATSAPP&&m(a.isUnifiedCreation),a.destinationType!==b("AdCampaignDestination").WHATSAPP&&!a.isNamesARTest&&i.jsx(b("FDSTextArea.react"),{isDisabled:a.isEditDisabled,label:"",labelIsHidden:!0,maxHeight:b("AdsMessengerConstants").ICE_BREAKER_RESPONSE_MAX_HEIGHT,maxLength:b("AdsMessengerConstants").ICE_BREAKER_RESPONSE_MAX_LENGTH,placeholder:k,shouldAutoGrow:!0,value:(v=a.value.response)!=null?v:"",onBlur:B,onChange:x,onFocus:A}),a.isNamesARTest&&a.destinationType!==b("AdCampaignDestination").WHATSAPP&&n(u,a.isEditDisabled,d,f,a.isNamesARTest,a.getResponseText(a.index),B,A,x,C),q&&i.jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x",size:"meta1",children:h._("People who click on ads that lead to WhatsApp and Direct can tap on the question, but won't receive an automated response.")})]})})}e.exports=a}),null);
__d("ServicesCometGetQuoteCTASetupFlowString",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Please add at least 2 answer options.");b=g._("Please enter a message");c=g._("Please enter a question");d=g._("Leaving will discard any changes you've made.");f=g._("Discard Changes");var h=g._("A Get Quote button has been added to your Page."),i=g._("Your questions for potential customers will be sent to people who:"),j=g._("Tap your Get Quote button"),k=g._("They message you for the first time"),l=g._("This will help you collect potential customer information and get more leads."),m=g._("Confirmation"),n=g._("Deleting this question cannot be undone."),o=g._("Delete Question"),p=g._("Respond to Messages"),q=g._("Preview sent in Messenger"),r=g._("Set up the questions you'd like to ask people when they click your Page's button."),s=g._("Questions for Potential Customers"),t=g._("Your Get Quote button has been created"),u=g._("Create Get Quote Button"),v=g._("Ask for the Most Important Info"),w=g._("It's best to ask around 3 questions to keep your customers engaged in the conversation."),x=g._("Hide Advanced Options"),y=g._("Respond faster and get more leads by sending your questions to more people."),z=g._("As well as asking questions to people who tap Get Quote, you can:"),A=g._("Send questions to people who message you for the first time"),B=g._("Send Questions to More People"),C=g._("Welcome people to the conversation."),D=g._("Intro"),E=g._("If you'll be collecting customer information, we strongly recommend you include a link to your business' privacy policy."),F=g._("Privacy Policy (Optional)"),G=g._("We have 3 automated questions to help us respond to you faster."),H=g._("After your intro, this prompt will be sent so people can choose to either answer your questions or message you directly."),I=g._("Question Prompt"),J=g._("City"),K=g._("Company Name"),L=g._("Country"),M=g._("Email"),N=g._("Job Title"),O=g._("Options"),P=g._("Phone Number"),Q=g._("Short Answer"),R=g._("State"),S=g._("ZIP Code"),T=g._("Ask a sequence of questions to see if people are potential customers. These questions help qualify your leads."),U=g._("Send an automated message to people who haven't finished your questions within 24 hours."),V=g._("Reminder"),W=g._("See Advanced Options"),X=g._("A \"Pause Questions\" option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next."),Y=g._("Confirmation to Pause Questions"),Z=g._("Thank people for their answers and let them know what happens next.");g=g._("Completion Message");e.exports={ADD_ANSWER_OPTIONS_TOOLTIP_TEXT:a,ENTER_MESSAGE_TOOLTIP_TEXT:b,ENTER_QUESTION_TOOLTIP_TEXT:c,GET_QUOTE_CTA_SETUP_CANCEL_CHANGE_DIALOG_BODY:d,GET_QUOTE_CTA_SETUP_CANCEL_CHANGE_DIALOG_TITLE:f,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_BUTTON_PART:h,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_CHANNEL_PART_A:i,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_CHANNEL_PART_B:j,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_CHANNEL_PART_C:k,GET_QUOTE_CTA_SETUP_CONFIRMATION_DESCRIPTION_SUMMARY_PART:l,GET_QUOTE_CTA_SETUP_CONFIRMATION_TITLE:m,GET_QUOTE_CTA_SETUP_DELETE_QUESTION_DIALOG_BODY:n,GET_QUOTE_CTA_SETUP_DELETE_QUESTION_DIALOG_TITLE:o,GET_QUOTE_CTA_SETUP_INBOX_UPSELL_TITLE:p,GET_QUOTE_CTA_SETUP_PREVIEW_SENT_TOAST_TEXT:q,GET_QUOTE_CTA_SETUP_QUESTIONS_SETTING_DESCRIPTION:r,GET_QUOTE_CTA_SETUP_QUESTIONS_SETTING_TITLE:s,GET_QUOTE_CTA_SETUP_SUCCESSFULLY_TOAST_TEXT:t,GET_QUOTE_CTA_SETUP_UPSELL_TITLE:u,GUIDANCE_CARD_BODY:w,GUIDANCE_CARD_TITLE:v,HIDE_ADVANCED_OPTIONS_BUTTON_LABEL:x,INBOX_UPSELL_DESCRIPTION_PART_A:y,INBOX_UPSELL_DESCRIPTION_PART_B:z,INBOX_UPSELL_DESCRIPTION_PART_C:A,INBOX_UPSELL_HEADER:B,INTRO_MESSAGE_SETTING_SUBTITLE:C,INTRO_MESSAGE_SETTING_TITLE:D,PRIVACY_POLICY_URL_SETTING_SUBTITLE:E,PRIVACY_POLICY_URL_SETTING_TITLE:F,QUESTION_PROMPT_PREVIEW:G,QUESTION_PROMPT_SUBTITLE:H,QUESTION_PROMPT_TITLE:I,QUESTION_SETTING_ANSWER_TYPE_CITY:J,QUESTION_SETTING_ANSWER_TYPE_COMPANY_NAME:K,QUESTION_SETTING_ANSWER_TYPE_COUNTRY:L,QUESTION_SETTING_ANSWER_TYPE_EMAIL:M,QUESTION_SETTING_ANSWER_TYPE_JOB_TITLE:N,QUESTION_SETTING_ANSWER_TYPE_OPTIONS:O,QUESTION_SETTING_ANSWER_TYPE_PHONE_NUMBER:P,QUESTION_SETTING_ANSWER_TYPE_SHORT_ANSWER:Q,QUESTION_SETTING_ANSWER_TYPE_STATE:R,QUESTION_SETTING_ANSWER_TYPE_ZIP_CODE:S,QUESTION_SETTING_SUBTITL:T,REMINDER_MESSAGE_SETTING_SUBTITLE:U,REMINDER_MESSAGE_SETTING_TITLE:V,SEE_ADVANCED_OPTIONS_BUTTON_LABEL:W,STOP_QUESTION_SETTING_SUBTITLE:X,STOP_QUESTION_SETTING_TITLE:Y,THANK_YOU_MESSAGE_SETTING_SUBTITLE:Z,THANK_YOU_MESSAGE_SETTING_TITLE:g}}),null);
__d("MessengerAdsPartialAutomatedReplyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUICK_REPLIES:"QUICK_REPLIES",TEXT:"TEXT",NONE:"NONE",PREFILL:"PREFILL",ICE_BREAKERS:"ICE_BREAKERS",APPOINTMENT:"APPOINTMENT",SUBSCRIBE:"SUBSCRIBE"})}),null);
__d("ServicesGetQuoteCTASetupUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","MessengerAdsPartialAutomatedPrefillType","MessengerAdsPartialAutomatedReplyType","ServicesCometGetQuoteCTASetupFlowString","ServicesURIUtils","enumUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=(h=b("ServicesCometGetQuoteCTASetupFlowString")).QUESTION_SETTING_ANSWER_TYPE_CITY,k=h.QUESTION_SETTING_ANSWER_TYPE_COMPANY_NAME,l=h.QUESTION_SETTING_ANSWER_TYPE_COUNTRY,m=h.QUESTION_SETTING_ANSWER_TYPE_EMAIL,n=h.QUESTION_SETTING_ANSWER_TYPE_JOB_TITLE,o=h.QUESTION_SETTING_ANSWER_TYPE_OPTIONS,p=h.QUESTION_SETTING_ANSWER_TYPE_PHONE_NUMBER,q=h.QUESTION_SETTING_ANSWER_TYPE_SHORT_ANSWER,r=h.QUESTION_SETTING_ANSWER_TYPE_STATE,s=h.QUESTION_SETTING_ANSWER_TYPE_ZIP_CODE;h=80;var t=g._("The URL is invalid");function a(a){return a.map(function(a){var c;a.prefill_type!==null&&a.prefill_type!=="NONE"?c=b("enumUtils").enumValueToKeyEnforcing(a.prefill_type,b("MessengerAdsPartialAutomatedPrefillType")):a.reply_type!==null&&a.reply_type==="QUICK_REPLIES"?c=i.MULTIPLE_CHOICE:c=i.CUSTOM;a={answerType:c,answers:a.answers.slice(),message:(c=a.message)!=null?c:"",prefillType:(c=b("enumUtils").enumValueToKey(a.prefill_type,b("MessengerAdsPartialAutomatedPrefillType")))!=null?c:void 0,replyType:(c=b("enumUtils").enumValueToKey(a.reply_type,b("MessengerAdsPartialAutomatedReplyType")))!=null?c:void 0};return a})}function c(){var a=[];a.push({value:i.CUSTOM});a.push({value:i.MULTIPLE_CHOICE});var b=["CITY","PHONE","ZIP_CODE","STATE","COUNTRY","EMAIL","JOB_TITLE","COMPANY_NAME"];b.map(function(b){b={aux:g._("User Information").toString(),value:b};a.push(b)});return a}function d(a){switch(a){case i.MULTIPLE_CHOICE:return o;case i.CUSTOM:return q;case"CITY":return j;case"COMPANY_NAME":return k;case"COUNTRY":return l;case"EMAIL":return m;case"JOB_TITLE":return n;case"PHONE":return p;case"STATE":return r;case"ZIP_CODE":return s;default:return q}}function f(a){var c;switch(a){case i.MULTIPLE_CHOICE:c=i.MULTIPLE_CHOICE;break;case i.CUSTOM:c=i.CUSTOM;break;default:c=b("enumUtils").coerceFromKey(a,b("MessengerAdsPartialAutomatedPrefillType"))}return(a=c)!=null?a:i.CUSTOM}function u(a){return a===""?null:b("ServicesURIUtils").isValidURI(a)?null:t}function v(a,b){var c=a.answers,d=a.answerType;a=a.message;var e=b.answers,f=b.answerType;b=b.message;if(a!==b||a===""||d!==f)return!1;return d===i.MULTIPLE_CHOICE?c.length!==e.length?!1:!c.some(function(a,b){return a!==e[b]}):!0}e.exports={ANSWER_CHAR_LIMIT:h,buildAutomatedQuestionMessagesFromGraphql:a,getAnswerTypeFromString:f,getAnswerTypeName:d,getPrivacyURLError:u,getQuestionTypeOptionsValue:c,isQuestionMessageSame:v}}),null);
__d("CommerceInvoiceAdminActionsTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({TOGGLE_ADMIN_ACTION_DIALOG:""});e.exports=a}),null);
__d("CommerceInvoiceAdminDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("CommerceInvoiceAdminActions",["CommerceInvoiceAdminActionsTypes","CommerceInvoiceAdminDispatcher"],(function(a,b,c,d,e,f){"use strict";a={toggleActionsDialog:function(a,c,d,e,f){c===void 0&&(c=null),d===void 0&&(d=null),e===void 0&&(e=null),b("CommerceInvoiceAdminDispatcher").dispatch({actionType:b("CommerceInvoiceAdminActionsTypes").TOGGLE_ADMIN_ACTION_DIALOG,showDialog:a,messageID:c,dialogView:d,referrer:e,interactionID:f})}};e.exports=a}),null);
__d("MessengerAdsConversionFunnelTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerAdsConversionFunnelLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerAdsConversionFunnelLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerAdsConversionFunnelLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAuthFlag=function(a){this.$1.auth_flag=a;return this};c.setClassifier=function(a){this.$1.classifier=a;return this};c.setConsumerID=function(a){this.$1.consumer_id=a;return this};c.setConversionType=function(a){this.$1.conversion_type=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setEventSubtype=function(a){this.$1.event_subtype=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setPageCountry=function(a){this.$1.page_country=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setRadioType=function(a){this.$1.radio_type=a;return this};c.setRawClientTime=function(a){this.$1.raw_client_time=a;return this};c.setSamplingFrequency=function(a){this.$1.sampling_frequency=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={auth_flag:!0,classifier:!0,consumer_id:!0,conversion_type:!0,country:!0,event_subtype:!0,event_type:!0,name:!0,page_country:!0,page_id:!0,radio_type:!0,raw_client_time:!0,sampling_frequency:!0,time:!0,weight:!0};e.exports=a}),null);
__d("MessengerConversionEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REPLY_ACTION:"reply",FIRST_REPLY_ACTION:"first_reply",OPEN_THREAD_ACTION:"open_thread",ACCEPT_MESSENGER_REQUEST_ACTION:"accept_messenger_request",IGNORE_MESSENGER_REQUEST_ACTION:"ignore_messenger_request",DELETE_THREAD:"delete",BLOCK_THREAD:"block",MARK_SPAM_THREAD:"mark_spam",PROMOTIONAL_OFF_THREAD:"promotional_off",DELETE_MESSAGE:"delete_message",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",LABEL_ADDED:"label_added",LABEL_REMOVED:"label_removed",PAGE_MESSAGE_SENT:"page_message_sent",PURCHASE:"purchase",PAGE_CLICK_CHANGE_CURRENCY:"page_click_change_currency",PAGE_CLICK_INVOICE_BUTTON:"page_click_invoice_button",PAGE_SEND_CONFIRM_RECEIPT:"page_send_confirm_receipt",PAGE_SEND_CONFIRM_TRANSACTION:"page_send_confirm_transaction",PAGE_CLICK_CONFIRM_RECEIPT:"page_click_confirm_receipt",PAGE_CLICK_CONFIRM_TRANSACTION:"page_click_confirm_transaction",PAGE_SHOW_CONFIRM_RECEIPT:"page_show_confirm_receipt",PAGE_SHOW_CONFIRM_TRANSACTION:"page_show_confirm_transaction",PAGE_CLICK_MARK_AS_PAID_NUX:"page_click_mark_as_paid_nux",PAGE_START_MARK_AS_PAID:"page_start_mark_as_paid",PAGE_INSIGHTS_VIEW_ORDER_SECTION:"page_insights_view_order_section",PAGE_CONFIRM_PAID:"page_confirm_paid",USER_OPEN_RECEIPT:"user_open_receipt",PAGE_OPEN_RECEIPT:"page_open_receipt",CONVERSATION_START_7_DAY:"conversation_start_7_day",PAGE_START_TAG_PRODUCTS:"page_start_tag_products",PAGE_COMPLETE_TAG_PRODUCTS:"page_complete_tag_products",DEEP_CONVERSATION:"deep_conversation",AUTOMATED_FLOW_COMPLETE:"automated_flow_complete",AUTOMATED_FLOW_CANCELLED:"automated_flow_cancelled",NOTIFICATION_MESSAGE_READ:"notification_message_read",NOTIFICATION_MESSAGE_CLICKED:"notfication_message_clicked",PAGE_MARK_AS_PAID_CHANGE_AMOUNT:"page_mark_as_paid_change_amount",PAGE_MARK_AS_PAID_CHNAGE_NOTE:"page_mark_as_paid_change_note",CONVERSION_QUICK_PROMOTION_IMPRESSION:"ads_conversions_qp_impression",CONVERSION_QUICK_PROMOTION_CLICK:"ads_conversions_quick_promotion_click",CONVERSION_QUICK_PROMOTION_TRIGGERED:"ads_conversions_quick_promotion_triggered",BUYER_INFORMATION_SETUP_IMPRESSION:"buyer_information_setup_impression",BUYER_INFORMATION_SETUP_CREATION:"buyer_information_setup_creation",BUYER_INFORMATION_TRIGGER_IMPRESSION:"buyer_information_trigger_impression",BUYER_INFORMATION_TRIGGER_CLICK:"buyer_information_trigger_click",BUYER_INFORMATION_SEQUENCE_FINISH:"buyer_information_sequence_finish",BUYER_INFORMATION_NUX_IMPRESSION:"buyer_information_nux_impression",BUYER_INFORMATION_NUX_CLICK:"buyer_information_nux_click",BUYER_INFORMATION_FORM_COMPLETE:"buyer_informaiton_form_complete",BUYER_INFORMATION_FORM_SEND:"buyer_information_form_send",BUYER_INFORMATION_FORM_IMPRESSION:"buyer_information_form_impression",INBOX_ACTIVITY_MUTATION_FAILURE:"inbox_activity_mutation_failure",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITHOUT_DETAILS:"page_ad_interaction_payment_received_without_details",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS:"page_ad_interaction_payment_received_with_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITHOUT_DETAILS:"page_ad_interaction_appointment_booked_without_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS:"page_ad_interaction_appointment_booked_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITHOUT_DETAILS:"page_ad_interaction_order_placed_without_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS:"page_ad_interaction_order_placed_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR:"page_ad_interaction_order_placed_with_details_error",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITHOUT_DETAILS:"page_ad_interaction_order_shipped_without_details",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS:"page_ad_interaction_order_shipped_with_details",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS_ERROR:"page_ad_interaction_order_shipped_with_details_error",PAGE_CLICK_ADD_ACTIVITY:"page_click_add_activity",PAGE_CLICK_ADD_ACTIVITY_NUX:"page_click_add_activity_nux",PAGE_CLICK_APPOINTMENT_BOOKED_CTA:"page_click_appointment_booked_cta",PAGE_CLICK_PAYMENT_RECEIVED_CTA:"page_click_payment_received_cta",SAVED_REPLY_CREATED:"saved_reply_created",PAGE_CLICK_ORDER_DETAILS_BUTTON:"page_click_order_details_button",ORDER_DETAILS_CREATE_ORDER:"order_details_create_order",ORDER_DETAILS_CREATE_ORDER_ERROR:"order_details_create_order_error",ORDER_DETAILS_CREATE_PRODUCT:"order_details_create_product",ORDER_DETAILS_SELECT_PRODUCT:"order_details_select_product",ORDER_DETAILS_DISCOUNT:"order_details_discount",ORDER_DETAILS_SHIPPING_COST:"order_details_shipping_cost",APPOINTMENT_OPT_OUT_MESSAGE_SENT:"appointment_opt_out_message_sent",PAGE_ADMIN_OPTED_OUT_REQUEST_APPOINTMENT:"page_admin_opted_out_request_appointment"})}),null);
__d("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_multi_admin_assignment_update");e.exports=a}),null);
__d("PagesManagerInboxTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PagesManagerInboxLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesManagerInboxLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesManagerInboxLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAutomatedResponseTriggerType=function(a){this.$1.automated_response_trigger_type=a;return this};c.setBroadcastAudience=function(a){this.$1.broadcast_audience=a;return this};c.setBroadcastMessageFormat=function(a){this.$1.broadcast_message_format=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setFirstPayloadTime=function(a){this.$1.first_payload_time=a;return this};c.setFolder=function(a){this.$1.folder=a;return this};c.setHadError=function(a){this.$1.had_error=a;return this};c.setHref=function(a){this.$1.href=a;return this};c.setIsCached=function(a){this.$1.is_cached=a;return this};c.setIsInboxRedesignWithSideNav=function(a){this.$1.is_inbox_redesign_with_side_nav=a;return this};c.setItemsCount=function(a){this.$1.items_count=a;return this};c.setLoadTime=function(a){this.$1.load_time=a;return this};c.setMessage=function(a){this.$1.message=a;return this};c.setModuleName=function(a){this.$1.module_name=a;return this};c.setNuxID=function(a){this.$1.nux_id=a;return this};c.setPageCommItemID=function(a){this.$1.page_comm_item_id=a;return this};c.setPageCommItemStatus=function(a){this.$1.page_comm_item_status=a;return this};c.setPageCommSearch=function(a){this.$1.page_comm_search=a;return this};c.setPageCommSearchType=function(a){this.$1.page_comm_search_type=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setScreenHeight=function(a){this.$1.screen_height=a;return this};c.setScreenWidth=function(a){this.$1.screen_width=a;return this};c.setStackTrace=function(a){this.$1.stack_trace=a;return this};c.setThreadToken=function(a){this.$1.thread_token=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeSinceLoad=function(a){this.$1.time_since_load=a;return this};c.setTraceID=function(a){this.$1.trace_id=a;return this};c.setUsesStreamingPagination=function(a){this.$1.uses_streaming_pagination=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setViewMode=function(a){this.$1.view_mode=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={automated_response_trigger_type:!0,broadcast_audience:!0,broadcast_message_format:!0,event_name:!0,first_payload_time:!0,folder:!0,had_error:!0,href:!0,is_cached:!0,is_inbox_redesign_with_side_nav:!0,items_count:!0,load_time:!0,message:!0,module_name:!0,nux_id:!0,page_comm_item_id:!0,page_comm_item_status:!0,page_comm_search:!0,page_comm_search_type:!0,page_id:!0,platform:!0,screen_height:!0,screen_width:!0,stack_trace:!0,thread_token:!0,time:!0,time_since_load:!0,trace_id:!0,uses_streaming_pagination:!0,vc:!0,view_mode:!0,weight:!0};e.exports=a}),null);
__d("PagesMessagingPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PagesMessagingPerfLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesMessagingPerfLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesMessagingPerfLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setExceptionCode=function(a){this.$1.exception_code=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPerfTime=function(a){this.$1.perf_time=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setStack=function(a){this.$1.stack=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setThreadOffset=function(a){this.$1.thread_offset=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event_name:!0,exception_code:!0,exception_message:!0,page_id:!0,perf_time:!0,platform:!0,stack:!0,thread_id:!0,thread_offset:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("PagesManagerInboxLogger",["BusinessInboxMultiAdminAssignmentUpdateFalcoEvent","BusinessInboxPostFolderUpdateFalcoEvent","BusinessInboxSwitchFolderClickFalcoEvent","BusinessInboxThreadFolderUpdateFalcoEvent","CurrentUser","PagesManagerInboxTypedLogger","PagesMessagingInboxActionsTypedLogger","PagesMessagingPerfTypedLogger","TimeSliceInteraction","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({ERROR_GRAPH_QL:null,ERROR_JS:null,INITIAL_DATA_LOADED:null,INITIAL_LIST_RENDERED:null,INITIAL_LOAD:null,ITEM_DETAILS_LOADED:null,ITEM_LOADED:null,START_LOADING_ITEM_DETAILS:null,START_LOADING_ITEM:null,BROADCAST_MESSAGE_FORMAT:null,ITEM_STATUS_CHANGED:null,ITEM_STATUS_CHANGED_THREAD:null,ITEM_STATUS_CHANGED_HEADER:null,FOLDER_CHANGE_CLICKED:null,PLATFORM_CHANGE_TAB_CLICKED:null,SEND_COMMENT:null,SEND_MESSAGE:null,SEARCH_CLICKED:null,CONTENT_SEARCH_CLICKED:null,CREATE_BROADCAST_BUTTON_RENDERED:null,CREATE_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_CONFIRM_BUTTON_CLICKED:null,BROADCAST_HISTORY_ROW_CLICK:null,AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED:null,AUTOMATION_ENABLED:null,AUTOMATION_DISABLED:null,AUTOMATED_RESPONSES_SAVE_CLICK:null}),h,i,j=!0,k,l={init:function(a){h=a,i=Date.now(),l.create(g.INITIAL_LOAD).setScreenHeight(screen.height).setScreenWidth(screen.width).log()},logInitialListRendered:function(a,c){if(!j)return;j=!1;l.create(g.INITIAL_LIST_RENDERED).setTimeSinceLoad(Date.now()-i).setPlatform(a).log();b("TimeSliceInteraction").informOnPage(g.INITIAL_LIST_RENDERED)},create:function(a){return new(b("PagesManagerInboxTypedLogger"))().setEventName(a).setPageID(h).setHref(window.location.href)},logErrorJS:function(a,b){l.create(g.ERROR_JS).setMessage(a.message).setStackTrace(a.stack).setModuleName(b).log()},logErrorGraphQL:function(a){l.create(g.ERROR_GRAPH_QL).setMessage(a.message).setStackTrace(a.stack).log()},startLoadingItem:function(a){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setPageCommItemID(a).log()},itemInitialDataLoaded:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("initial data loaded");l.create(g.INITIAL_DATA_LOADED).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingItemDetails:function(a,b){if(!k||k.commItemID!==a)return;k.platform=b;k.isCached=!1;k.interaction.inform("loading details");l.create(g.START_LOADING_ITEM_DETAILS).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},itemDetailsLoaded:function(a,b){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");l.create(g.ITEM_DETAILS_LOADED).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingThread:function(a,c){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setThreadToken(a).setPlatform(c).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_start").log()},threadDetailsLoaded:function(a,c){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");var d=Date.now()-k.startTimestamp;l.create(g.ITEM_DETAILS_LOADED).setThreadToken(a).setPlatform(c).setLoadTime(d).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_end").setPerfTime(d).log();k=null},itemRendered:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("item rendered");k.interaction.finish();l.create(g.ITEM_LOADED).setIsCached(k.isCached).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).setPlatform(k.platform).setTraceID(k.interaction.getTraceID()).log();k=null},logBroadcastMessageFormat:function(a){l.create(g.BROADCAST_MESSAGE_FORMAT).setBroadcastMessageFormat(a).log()},getFolderEventLoggingData:function(a,c,d){var e="unknown",f="facebook";switch(a){case"FACEBOOK":case"GROUP":e="facebook";break;case"MESSENGER":e="messenger";break;case"INSTAGRAM":e="instagram";f="instagram";break;case"INSTAGRAM_DIRECT":e="instagram_direct";f="instagram";break;case"WEC":case"ALL":e="unified_threads";f="unknown";break}return{event_location:"unknown",page_id:h,ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f,client_timestamp_ms:Date.now(),inbox_platform:e,thread_id:null,consumer_id:null,referrer:window.location.href,event_data:{source_folder:c,target_folder:d}}},itemStatusChanged:function(a,b,c,d){d=d||null;l.create(g.ITEM_STATUS_CHANGED).setPageCommItemID(a).setPageCommItemStatus(c).setPlatform(b).setPageCommSearchType(d).log()},itemStatusChangedInThread:function(a,c,d,e,f){var h=this;f=f||null;l.create(g.ITEM_STATUS_CHANGED_THREAD).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).setPageCommSearchType(f).log();b("BusinessInboxThreadFolderUpdateFalcoEvent").log(function(){return h.getFolderEventLoggingData(c,d,e)})},itemStatusChangedInHeader:function(a,c,d,e){var f=this;l.create(g.ITEM_STATUS_CHANGED_HEADER).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).log();b("BusinessInboxPostFolderUpdateFalcoEvent").log(function(){return f.getFolderEventLoggingData(c,d,e)})},logFolderChangeClick:function(a,b){l.create(g.FOLDER_CHANGE_CLICKED).setFolder(b).setPlatform(a).log()},logFolderSwitchClick:function(a,c,d){var e=this;b("BusinessInboxSwitchFolderClickFalcoEvent").log(function(){return e.getFolderEventLoggingData(a,c,d)})},logPlatformChangedClicked:function(a,b){l.create(g.PLATFORM_CHANGE_TAB_CLICKED).setPlatform(a).setViewMode(b).log()},logSendComment:function(a,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_comment").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).log(),l.create(g.SEND_COMMENT).setPlatform(a).log()},logMarkAsUnread:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("mark_as_unread").addToExtraData("page_id",c).log()},logAdminAssignmentAction:function(a,c,d){var e={logged_in_user_id:b("CurrentUser").getID(),page_id:a,inbox_platform:"unified_threads",logged_in_user_type:"facebook",event_location:"unknown",event_data:{action:c,tag:d}};b("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent").log(function(){return e})},logCommentReaction:function(a,c,d,e,f){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("reaction").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).addToExtraData("reaction_type",f).log()},logSendMessage:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_message").setPlatform(a).addToExtraData("page_id",c).addToExtraData("enter_to_send_enabled",d.toString()).log(),l.create(g.SEND_MESSAGE).setPlatform(a).log()},logReceiveMessage:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("receive_message").setPlatform(a).addToExtraData("page_id",c).log()},logSearchClick:function(a,b){l.create(g.SEARCH_CLICKED).setPageCommSearch(a).setPlatform(b).log()},logContentSearchClicked:function(a,b){l.create(g.CONTENT_SEARCH_CLICKED).setPageCommSearchType(a).setPageCommSearch(b).log()},logBroadcastButtonRendered:function(){l.create(g.CREATE_BROADCAST_BUTTON_RENDERED).log()},logBroadcastButtonClicked:function(){l.create(g.CREATE_BROADCAST_BUTTON_CLICKED).log()},logBroadcastSendButtonClicked:function(a){l.create(g.SEND_BROADCAST_BUTTON_CLICKED).setBroadcastAudience(a).log()},logBroadcastConfirmationButtonClicked:function(){l.create(g.SEND_BROADCAST_CONFIRM_BUTTON_CLICKED).log()},logBroadcastHistoryRowClicked:function(){l.create(g.BROADCAST_HISTORY_ROW_CLICK).log()},logAutomatedResponsesRendered:function(){l.create(g.AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED).log()},logAutomatedResponsesEnabled:function(a){l.create(g.AUTOMATION_ENABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesDisabled:function(a){l.create(g.AUTOMATION_DISABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesSaveClicked:function(a,b){l.create(g.AUTOMATED_RESPONSES_SAVE_CLICK).setAutomatedResponseTriggerType(a).setHadError(b).log()}};e.exports=l}),null);
__d("PagesManagerInboxNUXAction",["AsyncRequest","PagesManagerDispatcher","PagesManagerInboxActionType","PagesManagerInboxLogger","XBasicFBNuxDismissController","XBasicFBNuxViewController","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({NUX_VIEW:null,NUX_DISMISS:null,NUX_CLICK_GET_STARTED:null});a={logView:function(a){if(a>0){var c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send()}b("PagesManagerInboxLogger").create(g.NUX_VIEW).setNuxID(String(a)).log();b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.VIEW,nuxID:a})},logClickGetStarted:function(a){b("PagesManagerInboxLogger").create(g.NUX_CLICK_GET_STARTED).setNuxID(String(a)).log()},logDismissOnlyForFBNux:function(a){if(a>0){var c=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send()}b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.DISMISS,nuxID:a})},dismiss:function(a){if(a>0){var c=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))(c).send()}b("PagesManagerInboxLogger").create(g.NUX_DISMISS).setNuxID(String(a)).log();b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.DISMISS,nuxID:a})},hide:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").NUX.HIDE})}};e.exports=a}),null);
__d("OrderDetailsNuxContainer.react",["cx","fbt","LayerFadeOnHide","Link.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","URI","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("React");var k=c.useState,l="www_page_inbox_order_details_nux";function a(a){e=k(e);var c=e[0],d=e[1];function e(){var a=b("PagesManagerInboxStore").shouldShowNUX(l);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[l]);return a}function f(){b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[l]),d(!1)}e=j.jsx(b("Link.react"),{href:new(i||(i=b("URI")))("/help/1969981486623740"),target:"_blank",children:h._("Learn more")});e=j.jsxs("div",{className:"_2r3-",children:[j.jsx("div",{className:"_2r40",children:h._("New! Organize and Track Your Orders")}),j.jsx("div",{className:"_2r53",children:h._("Now you can place an order in Messenger and share with customers. {Learn more link for Mark as Order}",[h._param("Learn more link for Mark as Order",e)])})]});return j.jsx(b("XUIAmbientNUX.react"),{alignment:"right",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},contextRef:function(){return a.contextRef},onCloseButtonClick:f,position:"above",shown:c,width:"wide",children:e})}e.exports=a}),null);
__d("OrderDetailsAdminButton.react",["ix","ErrorBoundary.react","FDSContextualLayer.react","Image.react","JSResource","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","OrderDetailsNuxContainer.react","React","asset","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useRef,j=c.useState,k=b("lazyLoadComponent")(b("JSResource")("OrderDetailsDialog.react").__setRef("OrderDetailsAdminButton.react"));function a(a){var c=a.defaultCurrency,d=a.pageID,e=a.userID;a=j(!1);var f=a[0],l=a[1];a=i(null);function m(a){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR).setPageID(d).setConsumerID(e).setEventSubtype("failed_to_create_order due to "+a.toString()).log()}function n(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_CLICK_ORDER_DETAILS_BUTTON).setPageID(d).setConsumerID(e).log(),l(!0)}return h.jsxs(b("Link.react"),{onClick:n,children:[h.jsx(b("Image.react"),{src:g("790063"),ref:a}),a.current&&h.jsx(b("FDSContextualLayer.react"),{context:a.current,onOutsideClick:function(){},children:h.jsx(b("OrderDetailsNuxContainer.react"),{contextRef:a.current})}),f&&h.jsx(b("ErrorBoundary.react"),{children:h.jsx(h.Suspense,{fallback:null,children:h.jsx(k,{currency:(n=c)!=null?n:"USD",entryPoint:"composer",onError:m,onHide:function(){return l(!1)},pageID:d,userID:e})})})]})}e.exports=a}),null);
__d("PagesManagerInboxSmartComposeNuxContainer.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="pages_smart_compose_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowSmartComposeNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowSmartComposeNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.props.hasTypeahead||b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.render=function(){var a=g._("Predictive text suggestions will appear as you type. Just hit the tab or right arrow key to use the suggested phrase. Suggestions are generated on our servers based on what you type.");return h.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"above",shown:this.state.shouldShowSmartComposeNUX,width:"wide",children:a})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesSmartComposeInput.react",["cx","AbstractMentionsTextEditor.react","DebouncedMentionsTextEditor.react","DraftEditor.react","DraftModifier","EditorState","MercuryIDs","PagesManagerInboxSmartComposeNuxContainer.react","React","RelayFBEnvironment","SmartComposeTypeaheadHelper"],(function(a,b,c,d,e,f,g){var h=b("React"),i="not-handled",j={GHOST:{visibility:"hidden"}};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={typeahead:""};d.$3=function(a){d.props.onChange(a);a=a.getCurrentContent().getPlainText();d.$1.updateTypeSpeed();d.$1.setEnteredText(a);d.$1.setCursorAtEnd(d.$2())};d.$4=function(a){!d.insertTypeahead(a)&&d.props.onTab&&d.props.onTab(a)};d.$5=function(a){!d.insertTypeahead(a)&&d.props.onRightArrow&&d.props.onRightArrow(a)};d.$6=function(a,b){d.setState({typeahead:""});return d.props.handleContentReturn!=null?d.props.handleContentReturn(a,b):i};d.$1=new(b("SmartComposeTypeaheadHelper"))("p2b_messaging",b("RelayFBEnvironment"),b("MercuryIDs").isValidThreadID(d.props.threadID)?b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID):"");d.$1.onSuggestionChange(function(a){return d.setState({typeahead:a})});return d}var d=c.prototype;d.$2=function(){var a=this.props.editorState;if(a==null)return!1;var b=a.getSelection();a=a.getCurrentContent();var c=b.getAnchorKey();c=a.getBlockForKey(c);var d=b.getStartOffset();b=b.getEndOffset();a=c===a.getLastBlock()&&d===b&&d===c.getText().length;return a};d.insertTypeahead=function(a){var c=this.state.typeahead;if(c=="")return!1;this.$1.logSuggestionInserted();a.preventDefault();a=this.props.editorState;var d=a.getCurrentContent().getPlainText();a=b("EditorState").push(a,b("DraftModifier").insertText(a.getCurrentContent(),a.getSelection(),c),"insert-characters");a=b("EditorState").forceSelection(a,a.getCurrentContent().getSelectionAfter());this.props.onChange(a);this.$1.setEnteredText(d+c);return!0};d.exitCurrentMode=function(){this.refs.foreground&&this.refs.foreground.exitCurrentMode()};d.focus=function(){this.refs.foreground&&this.refs.foreground.focus()};d.$7=function(){var a=this.props.editorState,c=a.getSelection(),d=a.getCurrentContent();if(!this.$2()||this.state.typeahead=="")return null;var e=a.getSelection().merge({anchorKey:d.getFirstBlock().getKey(),anchorOffset:0,focusOffset:d.getLastBlock().getText().length,focusKey:d.getLastBlock().getKey()});d=b("DraftModifier").applyInlineStyle(d,e,"GHOST");e=b("EditorState").createWithContent(b("DraftModifier").insertText(d,c,this.state.typeahead),a.getDecorator());return h.jsx(b("DebouncedMentionsTextEditor.react"),babelHelpers["extends"]({},this.props,{className:"_8voz",readOnly:!0,editorState:e,placeholder:"",customStyleMap:j}))};d.render=function(){var a=this;return h.jsxs("div",{className:"_899m",children:[this.$7(),h.jsx(b("DebouncedMentionsTextEditor.react"),babelHelpers["extends"]({},this.props,{ref:"foreground",className:"_898j",handleContentReturn:this.$6,onChange:this.$3,onTab:this.$4,onRightArrow:this.$5,placeholder:this.state.typeahead===""?this.props.placeholder:""})),h.jsx(b("PagesManagerInboxSmartComposeNuxContainer.react"),{contextRef:function(){return a.refs.foreground},hasTypeahead:this.state.typeahead!==""})]})};return c}(h.Component);a.defaultProps=babelHelpers["extends"]({},b("DraftEditor.react").defaultProps,{autoHighlight:!0,autoUpdateHighlight:!0,reverseOrder:!1,threadID:""});e.exports=a}),null);
__d("PagesInterfaceSmartCompose.react",["cx","fbt","CompositeDraftDecorator","EditorState","MentionsLayer.react","MessengerConstants","MessengerEditorStateManager","PagesSmartComposeInput.react","React","createMessengerMentionDraftEntity","handleSoftNewlineForMessengerEmoticon","isSoftNewlineEvent"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j="handled",k={};k[b("MessengerConstants").NEW_THREAD_KEY]={editorState:b("EditorState").createEmpty()};function l(a,c){if(!a)return;a!==b("MessengerConstants").NEW_THREAD_KEY&&b("MessengerEditorStateManager").set(a,c)}function m(a){k[a]||(k[a]={editorState:b("EditorState").createEmpty()});return k[a].editorState}function n(a,b){if(!a)return null;k[a].editorState=b;return b}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=!1;d.$6=function(a){if(!d.$1||a===d.props.editorState)return;if(d.$1&&a!==d.props.editorState){d.props.setEditorState(a);var b=n(d.props.threadID,a);b&&l(d.props.threadID,b)}b=a.getCurrentContent().getPlainText();d.props.onChange(b)};d.$7=function(a,c){if(b("isSoftNewlineEvent")(a)){a=b("handleSoftNewlineForMessengerEmoticon");a=a(c);d.props.setEditorState(a);n(d.props.threadID,a);return j}d.setState({},d.$4);return j};d.$4=function(a){d.props.handleReturn(a);a=d.$5(b("EditorState").createEmpty());d.props.setEditorState(a);l(d.props.threadID,a)};d.$2=c;d.state=d.$3();d.$4=d.$4.bind(babelHelpers.assertThisInitialized(d));return d}var d=c.prototype;d.$3=function(){var a;this.props.threadID?a=m(this.props.threadID):a=m(b("MessengerConstants").NEW_THREAD_KEY);a=this.$5(a);var c=b("createMessengerMentionDraftEntity");return{editorState:a,mentionCreationForContentStateFn:c}};d.$5=function(a){var c=[];c=new(b("CompositeDraftDecorator"))(c);a=b("EditorState").set(a,{decorator:c});return a};d.componentDidMount=function(){this.$1=!0,(function(a,b){l(a,b)})};d.render=function(){var a=h._("Write a reply...");return i.jsx("div",{className:"_8-h8",children:i.jsx(b("PagesSmartComposeInput.react"),{assistantTypeaheadSource:this.state.assistantTypeaheadSource,autoHighlight:!0,ariaLabel:a.toString(),editorState:this.props.editorState,handleContentReturn:this.$7,handleReturn:this.$7,onChange:this.$6,maxResults:5,readOnly:!1,mentionCreationForContentStateFn:this.state.mentionCreationForContentStateFn,mentionResultsComponent:b("MentionsLayer.react"),placeholder:a.toString(),textAlignment:"left",ref:"input",spellCheck:!0,stripPastedStyles:!0})})};return c}(i.Component);e.exports=a}),null);
__d("ChatFileUploaderMixin",["React","SubscriptionsHandler","prop-types"],(function(a,b,c,d,e,f){b("React");c={propTypes:{attachmentsShelf:(a=b("prop-types")).object,onFileUploaderMounted:a.func,onUploadFinished:a.func,onUpdateAttachmentsShelf:a.func,onSubmit:a.func},setUpSubscriptionsHandler:function(a){this._uploader=a,this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(this._uploader.subscribe(["all-uploads-completed","upload-canceled"],this._handleUploadFinished),this._uploader.subscribe("dom-updated",this._handleUpdateAttachmentsShelf),this._uploader.subscribe("submit",this._handleSubmit)),this.props.onFileUploaderMounted(this._uploader)},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release(),this.props.uploaderIsFromHigherLevel||this._uploader&&this._uploader.destroy()},isUploading:function(){return this._uploader.isUploading()},getAttachments:function(){return this._uploader.getAttachments()},getImageFiles:function(){return this._uploader.getImageFiles()},getVideoFiles:function(){return this._uploader.getVideoFiles()},getAudioFiles:function(){return this._uploader.getAudioFiles()},getFiles:function(){return this._uploader.getFiles()},removeAttachments:function(){return this._uploader.removeAttachments()},_handleUploadFinished:function(){if(this.props.onUploadFinished){var a;(a=this.props).onUploadFinished.apply(a,arguments)}},_handleUpdateAttachmentsShelf:function(){if(this.props.onUpdateAttachmentsShelf){var a;(a=this.props).onUpdateAttachmentsShelf.apply(a,arguments)}},_handleSubmit:function(){if(this.props.onSubmit){var a;(a=this.props).onSubmit.apply(a,arguments)}}};e.exports=c}),null);
__d("ChatFileUploadLoggingUtils",["CurrentUser","WorkContentActivityTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a,c){c===void 0&&(c="CHAT_MAIN"),b("CurrentUser").isWorkUser()&&new(b("WorkContentActivityTypedLogger"))().setSurfaceType(c).setEvent("CHAT_FILE_UPLOAD").setAdditionalData({file_size:a.size.toString(),file_type:a.type}).log()}};e.exports=a}),null);
__d("MercuryExperimentUtils",["fbt","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=b("qex")._("1269176");a===null&&(a=26214400);var c;switch(a){case 52428800:c=50;break;case 78643200:c=75;break;default:c=25}a=g._("The file you have selected is too large. The maximum size is {=size}MB",[g._param("=size",c)]);return a.toString()}c={getMaxAttachmentSizeExceededDialog:a};e.exports=c}),null);
__d("MercuryFileUploader",["csx","fbt","ArbiterMixin","ChatFileUploadLoggingUtils","CSS","Dialog","DOM","Event","FBLogger","FileForm","FileFormResetOnSubmit","FileInput","FormSubmitOnChange","MercuryAttachment","MercuryAttachmentTemplates","MercuryConstants","MercuryExperimentUtils","PhotosUploadID","SubscriptionsHandler","getObjectValues","gkx","mixin","shield"],(function(a,b,c,d,e,f,g,h){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d,e){var f;f=a.call(this)||this;f.$MercuryFileUploader1=b;f.$MercuryFileUploader2={};f.$MercuryFileUploader3={};f.$MercuryFileUploader4={};f.$MercuryFileUploader5={};f.$MercuryFileUploader6={};f.$MercuryFileUploader7={};f.$MercuryFileUploader8={};f.$MercuryFileUploader9={};f.$MercuryFileUploader10={};f.updateElements(c,d,e);return f}var d=c.prototype;d.updateElements=function(a,c,d){this.$MercuryFileUploader11&&this.$MercuryFileUploader11.release();this.$MercuryFileUploader11=new(b("SubscriptionsHandler"))();this.$MercuryFileUploader12&&this.$MercuryFileUploader12.destroy();this.$MercuryFileUploader12=new(b("FileForm"))(a,[b("FormSubmitOnChange"),b("FileFormResetOnSubmit")]);this.$MercuryFileUploader12.setAllowCrossOrigin(!0);this.$MercuryFileUploader12.setUploadInParallel(!0);a=b("DOM").find(a,"._4q60");var e=b("DOM").find(a,"._4q61");new(b("FileInput"))(a,e,c);this.$MercuryFileUploader11.addSubscriptions(this.$MercuryFileUploader12.subscribe("submit",function(){var a={count:0,file_sizes:[],files:[]};if(c.files){for(var e=0;e<c.files.length;e++){b("ChatFileUploadLoggingUtils").log(c.files[e]);if(c.files[e].size>b("MercuryConstants").AttachmentMaxSize){this.showAttachmentSizeErrorDialog();return!1}}e={};for(var f=0;f<c.files.length;f++){var g=this.$MercuryFileUploader13();this.$MercuryFileUploader14(g,c.files[f].name);a.count++;a.file_sizes.push(c.files[f].size);e[g]=c.files[f];a.files.push({upload_id:g,metadata:c.files[f]})}this.$MercuryFileUploader12.setFiles(e)}else d.value=this.$MercuryFileUploader13(),this.$MercuryFileUploader14(d.value,c.value),a.count=1;this.inform("submit",a)}.bind(this)),this.$MercuryFileUploader12.subscribe("success",this.$MercuryFileUploader15.bind(this)),this.$MercuryFileUploader12.subscribe("failure",this.$MercuryFileUploader16.bind(this)),b("Event").listen(e,"click",b("shield")(this.inform,this,"open")))};d.showAttachmentSizeErrorDialog=function(){this.$MercuryFileUploader12.abort();this.$MercuryFileUploader12.clear();var a=b("MercuryExperimentUtils").getMaxAttachmentSizeExceededDialog();new(b("Dialog"))().setTitle(h._("The file you have selected is too large")).setBody(b("gkx")("1147754")?h._("The file you have selected is too large. The maximum size is 75MB"):a).setButtons(b("Dialog").OK).setSemiModal(!0).show();b("FBLogger")("messenger_upload_file").warn("Uploading file is too large")};d.addDroppedFiles=function(a){if(!this.$MercuryFileUploader12||!this.$MercuryFileUploader12.canUseXHR())return;var c={},d={count:0,file_sizes:[],files:[]};for(var e=0;e<a.length;e++){var f=a[e];if(f.size>b("MercuryConstants").AttachmentMaxSize){this.showAttachmentSizeErrorDialog();return!1}var g=this.$MercuryFileUploader13();this.$MercuryFileUploader14(g,f.name);c[g]=f;d.file_sizes.push(f.size);d.count++;d.files.push({upload_id:g,metadata:f})}this.$MercuryFileUploader12.setFiles(c);this.$MercuryFileUploader12.forceSendViaXHR();this.inform("submit",d)};d.isUploading=function(){return!!Object.keys(this.$MercuryFileUploader8).length};d.addCachedAttachments=function(a){a.forEach(function(a){var b=this.$MercuryFileUploader13();this.$MercuryFileUploader14(b,a.filename);this.inform("cached-file-added",{upload_id:b,metadata:a});this.$MercuryFileUploader17(b,a)}.bind(this))};d.addCachedImageFiles=function(a){var b=h._("Photo");a.forEach(function(a){var c=this.$MercuryFileUploader13();this.$MercuryFileUploader14(c,b);this.$MercuryFileUploader17(c,{filename:a,image_id:a,filetype:"image/jpeg"})}.bind(this))};d.getAttachments=function(){return b("getObjectValues")(this.$MercuryFileUploader2)};d.getImageFiles=function(){var a=this,b=Object.keys(this.$MercuryFileUploader3).sort(),c=[];b.forEach(function(b){return c.push(a.$MercuryFileUploader3[b])});return c};d.getAnimatedImageFiles=function(){return b("getObjectValues")(this.$MercuryFileUploader4)};d.getVideoFiles=function(){return b("getObjectValues")(this.$MercuryFileUploader5)};d.getAudioFiles=function(){return b("getObjectValues")(this.$MercuryFileUploader6)};d.getFiles=function(){return b("getObjectValues")(this.$MercuryFileUploader7)};d.removeOneAttachment=function(a){this.$MercuryFileUploader18(a)};d.removeAttachments=function(){this.$MercuryFileUploader1&&b("DOM").empty(this.$MercuryFileUploader1),this.$MercuryFileUploader2={},this.$MercuryFileUploader3={},this.$MercuryFileUploader4={},this.$MercuryFileUploader5={},this.$MercuryFileUploader6={},this.$MercuryFileUploader7={},this.$MercuryFileUploader9={},this.$MercuryFileUploader8={},this.$MercuryFileUploader10={},this.$MercuryFileUploader1&&b("CSS").hide(this.$MercuryFileUploader1),this.inform("dom-updated")};d.destroy=function(){this.$MercuryFileUploader11&&this.$MercuryFileUploader11.release(),this.$MercuryFileUploader12&&this.$MercuryFileUploader12.destroy(),this.removeAttachments()};d.$MercuryFileUploader14=function(a,c){var d=b("MercuryAttachmentTemplates")[":fb:mercury:upload-file-row"].build(),e={};this.$MercuryFileUploader9[a]=d;this.$MercuryFileUploader8[a]=!0;this.$MercuryFileUploader10[a]=Date.now();c=i(c);b("DOM").appendContent(d.getNode("iconText"),c);e.fileName=c;b("Event").listen(d.getNode("closeFileUpload"),"click",this.$MercuryFileUploader18.bind(this,a));this.$MercuryFileUploader1&&(b("DOM").appendContent(this.$MercuryFileUploader1,d.getRoot()),b("CSS").show(this.$MercuryFileUploader1));this.inform("dom-updated",e)};d.$MercuryFileUploader18=function(a,c){this.$MercuryFileUploader8[a]?this.inform("upload-canceled-during-upload"):(this.$MercuryFileUploader2[a]||this.$MercuryFileUploader3[a]||this.$MercuryFileUploader4[a]||this.$MercuryFileUploader5[a]||this.$MercuryFileUploader6[a]||this.$MercuryFileUploader7[a])&&this.inform("upload-canceled-after-uploaded");delete this.$MercuryFileUploader2[a];delete this.$MercuryFileUploader3[a];delete this.$MercuryFileUploader4[a];delete this.$MercuryFileUploader5[a];delete this.$MercuryFileUploader6[a];delete this.$MercuryFileUploader7[a];delete this.$MercuryFileUploader8[a];delete this.$MercuryFileUploader10[a];c=this.$MercuryFileUploader9[a];delete this.$MercuryFileUploader9[a];c&&(b("DOM").remove(c.getRoot()),this.inform("dom-updated"));this.inform("upload-canceled");return!1};d.$MercuryFileUploader19=function(a,c){a=this.$MercuryFileUploader9[a];c=b("MercuryAttachment").getAttachIconClassByMime(c);b("CSS").addClass(a.getNode("iconText"),c);b("CSS").addClass(a.getRoot(),"done")};d.$MercuryFileUploader17=function(a,b){this.$MercuryFileUploader8[a]&&(delete this.$MercuryFileUploader8[a],b.image_id?this.$MercuryFileUploader3[a]=b.image_id:b.gif_id?this.$MercuryFileUploader4[a]=b.gif_id:b.video_id?this.$MercuryFileUploader5[a]=b.video_id:b.audio_id?this.$MercuryFileUploader6[a]=b.audio_id:b.file_id?this.$MercuryFileUploader7[a]=b.file_id:this.$MercuryFileUploader2[a]=b,this.$MercuryFileUploader19(a,b.filetype),this.inform("one-upload-completed",{upload_time_ms:Date.now()-this.$MercuryFileUploader10[a],upload_id:a,metadata:b})),this.isUploading()||this.inform("all-uploads-completed",{count:this.getAttachments().length})};d.$MercuryFileUploader15=function(a,b){a=b.response.getPayload();this.$MercuryFileUploader17(this.$MercuryFileUploader20(b),a.metadata[0])};d.$MercuryFileUploader16=function(a,b){this.inform("one-upload-failed"),this.$MercuryFileUploader18(this.$MercuryFileUploader20(b),a)};d.$MercuryFileUploader13=function(){return"upload_"+b("PhotosUploadID").getNewID()};d.$MercuryFileUploader20=function(a){var b=a.response.getPayload();if(a.upload)return a.upload.getName();else return b.uploadID};return c}(b("mixin")(b("ArbiterMixin")));function i(a){return a&&a.startsWith("C:\\fakepath\\")?a.substring(12):a}e.exports=a}),null);
__d("PagesMessengerFileUploader.react",["cx","fbt","ix","ChatFileUploaderMixin","Image.react","InlineBlock.react","Link.react","MercuryConfig","MercuryFileUploader","React","ReactDOM","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");a=b("createReactClass_DEPRECATED")({displayName:"PagesMessengerFileUploader",mixins:[b("ChatFileUploaderMixin")],propTypes:{actionURI:b("prop-types").string,iconSize:b("prop-types").oneOf(["small","large"]),supportMultiFiles:b("prop-types").bool},shouldComponentUpdate:function(a,b){return a.actionURI!=this.props.actionURI},componentDidMount:function(){this._fileUploader=new(b("MercuryFileUploader"))(this.props.attachmentsShelf,b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.input),b("ReactDOM").findDOMNode(this.refs.attachID)),this.setUpSubscriptionsHandler(this._fileUploader)},addFiles:function(a){this._fileUploader.addDroppedFiles(a)},getDefaultProps:function(){return{actionURI:b("MercuryConfig").upload_url,iconSize:"small",supportMultiFiles:!0}},render:function(){return j.jsxs("form",{action:this.props.actionURI,method:"post",ref:"form",children:[j.jsx("input",{type:"hidden",name:"attach_id",ref:"attachID"}),j.jsxs(b("InlineBlock.react"),{className:"_m _4q60 _3rzn",children:[j.jsx(b("Link.react"),{className:"_4q61"+(this.props.iconSize==="small"?" _509v":"")+(this.props.iconSize==="large"?" _5njm":"")+" bizOK",children:this._renderIcon()}),j.jsx("input",{type:"file",className:"_n",name:"attachment[]",multiple:this.props.supportMultiFiles,ref:"input"})]})]})},_renderIcon:function(){if(this.props.iconSize==="small")return j.jsx(b("Image.react"),{alt:h._("File"),src:i("28652")});else if(this.props.iconSize==="large")return j.jsx("div",{alt:h._("File"),className:"_7p34"})}});e.exports=a}),null);
__d("MercuryShareLinkUploader",["ArbiterMixin","AsyncRequest","CSS","DOM","Event","Form","URLScraper","isEmpty","mixin"],(function(a,b,c,d,e,f){var g;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.__initialize.apply(babelHelpers.assertThisInitialized(b),arguments);return b}var d=c.prototype;d.__initialize=function(a,c,d,e,f){this.$MercuryShareLinkUploader1=a,this.$MercuryShareLinkUploader2=c,this.$MercuryShareLinkUploader3=d,this.$MercuryShareLinkUploader4=f,this.$MercuryShareLinkUploader5=!1,this.$MercuryShareLinkUploader6=null,this.$MercuryShareLinkUploader7=null,b("Event").listen(e,"click",this.close.bind(this)),b("Event").listen(f,"keyup",function(){f.value.length||this.$MercuryShareLinkUploader8.enable()}.bind(this)),this.$MercuryShareLinkUploader8=new(b("URLScraper"))(f),this.$MercuryShareLinkUploader8.subscribe("match",function(a,b){this.loadShare(b&&b.url)}.bind(this))};d.getAttachData=function(){return this.loadAttachData(this.$MercuryShareLinkUploader5,this.$MercuryShareLinkUploader1,this.$MercuryShareLinkUploader4)};d.getShareDataFromStage=function(a,c){a=b("Form").serialize(c);c=a.attachment&&a.attachment.params;if(!c)return null;if(c instanceof Object){var d=[];d.push(c[0]);d.push(c[1]);c=d}return{params:c,type:a.attachment.type}};d.loadAttachData=function(a,c,d){if(!a)return null;a=b("Form").serialize(c);c=a.attachment&&a.attachment.params;var e=a.attachment&&a.attachment.type;a=a.link_metrics?a.link_metrics.no_image:!0;if(!c||(g||(g=b("isEmpty")))(c)||!e)return null;d=d.value;if(d.indexOf(c.url)===-1)return{share_params:c,share_type:e};return!c.summary&&!c.favicon&&a&&c.title&&c.url&&c.url.substr(0,c.title.length)===c.title?null:{share_params:c,share_type:e}};d.check=function(){this.$MercuryShareLinkUploader8.check()};d.close=function(){this.$MercuryShareLinkUploader9(),this.$MercuryShareLinkUploader8.disable(),this.inform("closed")};d.clear=function(){this.$MercuryShareLinkUploader9(),this.$MercuryShareLinkUploader8.enable()};d.enable=function(){this.$MercuryShareLinkUploader8.enable()};d.disable=function(){this.$MercuryShareLinkUploader8.disable()};d.loadShare=function(a){this.$MercuryShareLinkUploader6=a,this.$MercuryShareLinkUploader7&&this.$MercuryShareLinkUploader7.abort(),this.$MercuryShareLinkUploader7=new(b("AsyncRequest"))().setMethod("POST").setURI("/ajax/share_scrape.php").setData({u:a}).setHandler(this.$MercuryShareLinkUploader10.bind(this).bind(null,a)).setStatusElement(this.$MercuryShareLinkUploader3),this.$MercuryShareLinkUploader7.send(),this.inform("link-detected")};d.$MercuryShareLinkUploader10=function(a,c){if(this.$MercuryShareLinkUploader6!==a)return;this.$MercuryShareLinkUploader6=null;this.$MercuryShareLinkUploader7=null;b("CSS").show(this.$MercuryShareLinkUploader1);b("DOM").empty(this.$MercuryShareLinkUploader2);b("DOM").setContent(this.$MercuryShareLinkUploader2,c.payload);this.$MercuryShareLinkUploader5=!0;if(!this.getAttachData()){this.close();return}};d.$MercuryShareLinkUploader9=function(){b("CSS").hide(this.$MercuryShareLinkUploader1),this.$MercuryShareLinkUploader5=!1,this.$MercuryShareLinkUploader6=null,this.$MercuryShareLinkUploader7&&this.$MercuryShareLinkUploader7.abort(),this.$MercuryShareLinkUploader7=null,this.$MercuryShareLinkUploader8.reset()};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("XShareScrapeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share_scrape/",{})}),null);
__d("ChatShareLinkUploader",["AsyncRequest","CSS","DOM","Event","MercuryAttachmentTemplates","MercuryShareLinkUploader","URLScraper","XShareScrapeAsyncController"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__initialize=function(a,c,d){this.$ChatShareLinkUploader1=a,this.$ChatShareLinkUploader2=c,this.$ChatShareLinkUploader3=d,this.$ChatShareLinkUploader4=!1,this.$ChatShareLinkUploader5=null,this.$ChatShareLinkUploader6=!1,b("Event").listen(c,"keyup",function(){this.getInputValue().length||this.$ChatShareLinkUploader7.enable()}.bind(this)),this.$ChatShareLinkUploader7=new(b("URLScraper"))(c,null),this.$ChatShareLinkUploader7.subscribe("match",function(a,b){this.loadShare(b&&b.url)}.bind(this)),this.$ChatShareLinkUploader8=1337,this.$ChatShareLinkUploader9=null};d.getInputValue=function(){return this.$ChatShareLinkUploader2.value};d.getAttachData=function(){return this.loadAttachData(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader2)};d.getShareData=function(){return!this.$ChatShareLinkUploader4?null:this.getShareDataFromStage(this.$ChatShareLinkUploader4,this.$ChatShareLinkUploader1)};d.close=function(){this.$ChatShareLinkUploader10(),this.$ChatShareLinkUploader7.disable(),this.inform("closed")};d.clear=function(){this.$ChatShareLinkUploader10(),this.$ChatShareLinkUploader7.enable()};d.$ChatShareLinkUploader10=function(){var a=this.$ChatShareLinkUploader9;delete this.$ChatShareLinkUploader9;a&&(b("DOM").remove(a),this.inform("dom-updated"));this.$ChatShareLinkUploader11();this.$ChatShareLinkUploader4=!1;this.$ChatShareLinkUploader6=!1;this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();this.$ChatShareLinkUploader5=null;this.$ChatShareLinkUploader7&&this.$ChatShareLinkUploader7.reset()};d.loadShareFromParams=function(a,c){this.$ChatShareLinkUploader6=!0,this.$ChatShareLinkUploader12(new(b("AsyncRequest"))().setMethod("POST").setURI("/ajax/share_params.php").setData({chat:!0,share_type:a,share_params:c}))};d.__getLoadShareURI=function(){return b("XShareScrapeAsyncController").getURIBuilder().getURI()};d.loadShare=function(a,c){this.$ChatShareLinkUploader12(new(b("AsyncRequest"))(this.__getLoadShareURI()).setMethod("POST").setData({chat:!0,extra_params:JSON.stringify(c),u:a}),a)};d.loadedFromFeed=function(){return this.$ChatShareLinkUploader6};d.$ChatShareLinkUploader11=function(){return++this.$ChatShareLinkUploader8};d.$ChatShareLinkUploader13=function(){return this.$ChatShareLinkUploader8};d.$ChatShareLinkUploader12=function(a,c){var d=this;this.$ChatShareLinkUploader5&&this.$ChatShareLinkUploader5.abort();var e=b("MercuryAttachmentTemplates")[":fb:mercury:share-link-row"].build();this.$ChatShareLinkUploader9&&b("DOM").remove(this.$ChatShareLinkUploader9);this.$ChatShareLinkUploader9=e.getRoot();b("Event").listen(e.getNode("closeFileUpload"),"click",function(a){d.close(),a.kill()});b("DOM").appendContent(this.$ChatShareLinkUploader1,this.$ChatShareLinkUploader9);b("CSS").show(this.$ChatShareLinkUploader1);this.inform("dom-updated");var f=this.$ChatShareLinkUploader11();this.$ChatShareLinkUploader5=a.setHandler(function(a){return d.$ChatShareLinkUploader14(f,a,c)});this.$ChatShareLinkUploader5.send();this.inform("link-detected")};d.$ChatShareLinkUploader14=function(a,c,d){if(this.$ChatShareLinkUploader13()!==a)return;this.$ChatShareLinkUploader5=null;b("DOM").appendContent(this.$ChatShareLinkUploader9,c.payload);this.$ChatShareLinkUploader3();this.$ChatShareLinkUploader4=!0;this.inform("share-loaded");if(!this.getAttachData()){this.close();return}b("CSS").addClass(this.$ChatShareLinkUploader9,"done")};return c}(b("MercuryShareLinkUploader"));e.exports=a}),null);
__d("PagesMessengerShareLinkUploader",["ActorURI","ChatShareLinkUploader","SubscriptionsHandler","XShareScrapeAsyncController","emptyFunction"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){c=a.call(this,c,d,b("emptyFunction"))||this;c.$PagesMessengerShareLinkUploader1=new(b("SubscriptionsHandler"))();c.$PagesMessengerShareLinkUploader1.addSubscriptions(c.subscribe(["all-uploads-completed","upload-canceled"],e),c.subscribe("submit",f));c.actor_id=g;return c}var d=c.prototype;d.__getLoadShareURI=function(){return new(b("ActorURI").create)(b("XShareScrapeAsyncController").getURIBuilder().getURI(),this.actor_id)};d.destroy=function(){this.$PagesMessengerShareLinkUploader1&&this.$PagesMessengerShareLinkUploader1.release()};return c}(b("ChatShareLinkUploader"));e.exports=a}),null);
__d("XPagesMessagingSuggestedResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/",{})}),null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/feedback/",{})}),null);
__d("PagesMessageSuggestedResponseHandler",["invariant","ActorURI","AsyncRequest","XPagesMessagingSuggestedResponseController","XPagesMessagingSuggestedResponseFeedbackController","isEmpty"],(function(a,b,c,d,e,f,g){var h;a=function(){"use strict";function a(a,b){this.$2=a,this.$1=b,this.$3=!1,this.$5=!1}var c=a.prototype;c.requestSuggestedResponseAsync=function(a,c){var d=this;this.$3=!0;var e=b("XPagesMessagingSuggestedResponseController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(b("ActorURI").create(e,this.$1)).setData({message:this.$2.body}).setMethod("POST").setHandler(function(b){return d.$6(b.payload,a)}).setErrorHandler(c).send()};c.sendFeedback=function(a){this.hasReceviedSuggestedResponse()||g(0,1526);var c=b("XPagesMessagingSuggestedResponseFeedbackController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(b("ActorURI").create(c,this.$1)).setMethod("POST").setData({message_id:this.$4,accepted:a}).send()};c.$6=function(a,b){a.messageFound&&(this.$4=a.messageID),b(this.$2.message_id,a)};c.shouldBeTreatedAsRejected=function(){return!this.getHasBeenAccepted()&&this.hasReceviedSuggestedResponse()};c.hasReceviedSuggestedResponse=function(){return!(h||(h=b("isEmpty")))(this.$4)};c.alreadyRequested=function(){return this.$3};c.getMessageID=function(){return this.$2.message_id};c.getHasBeenAccepted=function(){return this.$5};return a}();e.exports=a}),null);
__d("PagesMessengerSuggestedResponseView.react",["cx","fbt","LoadingIndicator.react","PagesMessageSuggestedResponseHandler","React","XUIButton.react","XUIGrayText.react","createReactClass_DEPRECATED","cxMargin","prop-types"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=b("createReactClass_DEPRECATED")({displayName:"PagesMessengerSuggestedResponseView",propTypes:{onAccepted:b("prop-types").func.isRequired,onDeclined:b("prop-types").func,suggestedResponseHandler:b("prop-types").instanceOf(b("PagesMessageSuggestedResponseHandler"))},getInitialState:function(){return{shouldShowResult:!1,shouldShowProgress:!1,responseMessage:"",witMessageId:""}},_reset:function(){this.setState(this.getInitialState())},UNSAFE_componentWillReceiveProps:function(a){if(a.suggestedResponseHandler!==this.props.suggestedResponseHandler){this._reset();a=a.suggestedResponseHandler;if(!a||a.alreadyRequested())return;this.setState({shouldShowProgress:!0});a.requestSuggestedResponseAsync(this._onSuggestedResponseReceived,this._onSuggestedResponseError)}},_onSuggestedResponseReceived:function(a,b){if(!this._isMessageIDCurrent(a))return;this.setState({shouldShowProgress:!1});!!b.responseMessage&&b.responseMessage.length>0&&this.setState({shouldShowResult:!0,responseMessage:b.responseMessage,witMessageId:b.message_id})},_onSuggestedResponseError:function(a){if(!this._isMessageIDCurrent(a))return;this.setState({shouldShowProgress:!1,shouldShowResult:!1})},_isMessageIDCurrent:function(a){return!!this.props.suggestedResponseHandler&&a===this.props.suggestedResponseHandler.getMessageID()},render:function(){return i.jsxs("div",{className:"_710 _2ph-"+(!this.state.shouldShowResult&&!this.state.shouldShowProgress?" hidden_elem":""),children:[this._renderProgressPart(),this._renderSuggestionPart()]})},_renderSuggestionPart:function(){return i.jsxs("div",{className:this.state.shouldShowResult?"":"hidden_elem",children:[i.jsx("div",{className:"_3-94",children:i.jsx(b("XUIGrayText.react"),{shade:"light",children:h._("We found a suggested reply:")})}),i.jsx("div",{className:"_3-94",children:i.jsx(b("XUIGrayText.react"),{shade:"dark",className:"_711",children:this.state.responseMessage})}),i.jsxs("div",{className:"_712",children:[i.jsx(b("XUIGrayText.react"),{shade:"light",className:"_3-90",children:h._("Do you want to use this reply?")}),i.jsx(b("XUIButton.react"),{label:h._("No"),use:"default",className:"_3-8_",onClick:this._onDeclined}),i.jsx(b("XUIButton.react"),{label:h._("Yes"),use:"confirm",onClick:this._onAccepted})]})]})},_renderProgressPart:function(){return i.jsxs("div",{className:(this.state.shouldShowProgress?"":"hidden_elem")+" _71d",children:[i.jsx(b("XUIGrayText.react"),{shade:"light",children:h._("Looking for suggested responses")}),i.jsx(b("LoadingIndicator.react"),{size:"small",color:"white",className:"_3-9a"})]})},_hide:function(){this.setState({shouldShowResult:!1,shouldShowProgress:!1})},_onAccepted:function(){this._hide(),this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(!0),this.props.onAccepted&&this.props.onAccepted(this.state.responseMessage)},_onDeclined:function(){this._hide(),this.props.suggestedResponseHandler&&this.props.suggestedResponseHandler.sendFeedback(!1),this.props.onDeclined&&this.props.onDeclined()}});e.exports=a}),null);
__d("PagesMessengerTextInput.react",["cx","AbstractTextField.react","React","TextAreaControl","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.resetHeight=function(){c.$1&&c.$1.resetHeight()},c.updateHeight=function(){c.$1&&c.$1.updateHeight()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.refs.input&&(this.$1=new(b("TextAreaControl"))(this.refs.input),this.props.onInputReady&&this.props.onInputReady(this.refs.input))};d.render=function(){var a=b("joinClasses")(this.props.className,"_58al uiTextareaAutogrow");return h.jsx(b("AbstractTextField.react"),babelHelpers["extends"]({},this.props,{"data-testid":void 0,children:h.jsx("textarea",{type:"text",className:a,tabIndex:this.props.tabIndex,onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,onFocus:this.props.onFocus,ref:"input"})}))};return c}(h.Component);a.propTypes=babelHelpers["extends"]({},b("AbstractTextField.react").propTypes,{onClick:(c=b("prop-types")).func,onKeyUp:c.func,onPaste:c.func,onFocus:c.func});e.exports=a}),null);
__d("PagesMessengerThreadUtils",["invariant","MessagingTag"],(function(a,b,c,d,e,f,g){var h="CUSTOM_TAG_",i="WITH_FLAG_",j="OWNER_",k={isFlagThread:function(a){return a&&a.page_thread_info&&"flagged"in a.page_thread_info?a.page_thread_info.flagged:!1},isPageSpecficEnumFilter:function(a){return a==="flag"||a==="important"?!0:!1},isCustomTagsFilter:function(a){return a.startsWith(h)},isCustomTagsWithFlagFilter:function(a){return a.startsWith(h+i)},isOwnerFilter:function(a){return a.startsWith(j)},getCustomTagsFilter:function(a,b){return h+(b?i:"")+JSON.stringify(a.sort())},parseCustomTagsFilter:function(a){this.isCustomTagsFilter(a)||g(0,2826);var b=this.isCustomTagsWithFlagFilter(a);return JSON.parse(a.substring(h.length+(b?i.length:0)))},parseOwnerFilter:function(a){this.isOwnerFilter(a)||g(0,2827);a=a.substring(j.length);return a==="NONE"?"":a},getBatchActionMenuParam:function(a){var c=!1,d=!1,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1,l=!1,m=!1;a.folder===b("MessagingTag").INBOX&&!a.is_archived?(c=!0,f=!0,k.isFlagThread(a)?i=!0:h=!0,a&&a.unread_count===0?l=!0:j=!0):a.folder===b("MessagingTag").OTHER?g=!0:a.is_archived?(d=!0,e=!0):a.folder===b("MessagingTag").PAGE_BACKGROUND&&(m=!0);a&&a.unread_count===0?l=!0:j=!0;return{showArchive:c,showDelete:d,showUnarchive:e,showSpam:f,showUnspam:g,showFlag:h,showUnflag:i,showMarkRead:j,showMarkUnread:l,showMoveToInbox:m,showHideContextCard:!1,showShowContextCard:!1}}};e.exports=k}),null);
__d("PagesManagerMessagingProductPickerActionType",["ImmutableObject","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=new(b("ImmutableObject"))(b("keyMirrorRecursive")({ITEM:{SELECTED:"",UNSELECTED:""},UPDATE_SEARCH_TERM:"",VIEW_ALL_VARIANTS:"",VIEW_ALL_PRODUCTS:"",CLOSE_PRODUCT_PICKER:"",REVIEW_ITEMS:"",RESET_STORE:"",CLEAR_SELECTED:"",SET_IS_SENDING:"",CLEAR_SEARCH_TERM:""}));e.exports=a}),null);
__d("PagesManagerMessagingProductPickerAction",["PagesManagerDispatcher","PagesManagerMessagingProductPickerActionType"],(function(a,b,c,d,e,f){"use strict";a={selectItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").ITEM.SELECTED,productItem:a})},unSelectItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").ITEM.UNSELECTED,productItem:a})},updateSearchTerm:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").UPDATE_SEARCH_TERM,searchTerm:a})},seeAllProductVariants:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").VIEW_ALL_VARIANTS,productGroupID:a})},viewAllProducts:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").VIEW_ALL_PRODUCTS})},closeProductPicker:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").CLOSE_PRODUCT_PICKER})},reviewItems:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").REVIEW_ITEMS})},resetStore:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").RESET_STORE})},clearSelected:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").CLEAR_SELECTED})},setIsSending:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").SET_IS_SENDING})},clearSearchTerm:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingProductPickerActionType").CLEAR_SEARCH_TERM})}};e.exports=a}),null);
__d("PagesManagerMessagingProductPickerFluxUtil",["invariant","PagesManagerMessagingProductPickerAction","keyMirror","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("keyMirror")({PRODUCT_LIST:null,PRODUCT_GROUP_VARIANTS:null,REVIEW_AND_SEND:null});a={productListHeight:320,searchBarHeight:40,onActionIconClick:function(a,c,d){switch(d){case h.PRODUCT_LIST:!a.hasOtherVariants?this._toggleVariantSelection(a,c):b("PagesManagerMessagingProductPickerAction").seeAllProductVariants(b("nullthrows")(a.productGroupID));break;case h.PRODUCT_GROUP_VARIANTS:this._toggleVariantSelection(a,c);break;case h.REVIEW_AND_SEND:b("PagesManagerMessagingProductPickerAction").unSelectItem(a);break;default:g(0,19363)}},onRowClick:function(a,b,c){switch(c){case h.PRODUCT_LIST:case h.PRODUCT_GROUP_VARIANTS:this.onActionIconClick(a,b,c);break;default:break}},_toggleVariantSelection:function(a,c){c?b("PagesManagerMessagingProductPickerAction").unSelectItem(a):b("PagesManagerMessagingProductPickerAction").selectItem(a)},extractFormattedDataFromItem:function(a){var c;return{itemID:b("nullthrows")(a==null?void 0:a.id,"Product item should have an id."),name:a.name,salePrice:a==null?void 0:(c=a.listing_price)==null?void 0:c.formatted_amount,productGroupID:a==null?void 0:(c=a.group)==null?void 0:c.id,variantCount:a==null?void 0:(c=a.group)==null?void 0:(c=c.product_items_edge)==null?void 0:c.count,hasOtherVariants:this._hasOtherVariants(a),productPhotoURI:a==null?void 0:(c=a.primary_listing_photo)==null?void 0:(c=c.image)==null?void 0:c.uri,inventoryCount:a==null?void 0:a.inventory_count,variantValues:a==null?void 0:(c=a.variant_values)==null?void 0:c.join(String.fromCodePoint(12539))}},_hasOtherVariants:function(a){var b;if((a==null?void 0:(b=a.group)==null?void 0:b.id)==null)return!1;b=a==null?void 0:(b=a.group)==null?void 0:(a=b.product_items_edge)==null?void 0:a.count;return b!=null&&b>1}};e.exports={PagesManagerMessagingProductPickerFluxUtil:a,ProductPickerViewTypes:h}}),null);
__d("PagesManagerMessagingProductListRow.react",["cx","FDSText.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesManagerMessagingProductPickerFluxUtil","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("ShimButton.react"),{className:(this.props.activeView!==h.REVIEW_AND_SEND?"_8o5h":"")+(this.props.activeView===h.REVIEW_AND_SEND?" _8o5i":"")+(this.props.isSelected&&this.props.activeView===h.PRODUCT_LIST?" _8l70":""),onClick:this.props.onSelectRow,children:i.jsxs(b("Layout.react"),{children:[i.jsx(b("LayoutColumn.react"),{className:"_8kqa",children:i.jsx("div",{className:"_8uit",children:i.jsx(b("Image.react"),{className:"_8o5j",src:this.props.productPhotoURI})})}),i.jsx(b("LayoutColumn.react"),{children:i.jsxs("div",{className:"_8kqk",children:[i.jsx(j,{classProps:this.props}),i.jsx(k,{classProps:this.props}),this.props.secondSubtitle]})}),i.jsx(b("LayoutFillColumn.react"),{children:i.jsx("div",{className:"_8l8t",children:this.props.actionIcon})})]})})};return c}(i.PureComponent);e.exports=a;function j(a){return i.jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"primary",children:a.classProps.name})}function k(a){return i.jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"secondary",children:a.classProps.salePrice})}}),null);
__d("PagesManagerMessagingProductPickerRowActionIcon.react",["ix","invariant","FDSCheckboxInput.react","Image.react","PagesManagerMessagingProductPickerFluxUtil","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,j=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,k=b("React");function a(a){switch(a.activeView){case i.PRODUCT_LIST:if(a.item.hasOtherVariants)return k.jsx(b("Image.react"),{src:g("484843")});else return k.jsx(l,{isSelected:a.isSelected});case i.PRODUCT_GROUP_VARIANTS:return k.jsx(l,{isSelected:a.isSelected});case i.REVIEW_AND_SEND:return k.jsx(b("Image.react"),{src:g("1219826"),onClick:function(){return j.onActionIconClick(a.item,a.isSelected,a.activeView)}});default:h(0,19363)}}function l(a){return k.jsx(b("FDSCheckboxInput.react"),{label:"Select Product",labelIsHidden:!0,onChange:b("emptyFunction"),value:a.isSelected})}e.exports=a}),null);
__d("PagesManagerMessagingProductPickerStore.react",["FluxStore","PagesManagerDispatcher","PagesManagerMessagingProductPickerActionType","PagesManagerMessagingProductPickerFluxUtil","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,h=3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerMessagingProductPickerStore1=new Map();c.$PagesManagerMessagingProductPickerStore2=new Map();c.$PagesManagerMessagingProductPickerStore3="";c.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST;c.$PagesManagerMessagingProductPickerStore5=null;c.$PagesManagerMessagingProductPickerStore6=!1;c.$PagesManagerMessagingProductPickerStore7=!1;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerMessagingProductPickerActionType").ITEM.SELECTED:this.$PagesManagerMessagingProductPickerStore1.size<h&&(this.$PagesManagerMessagingProductPickerStore1.set(a.productItem.itemID,a.productItem),this.$PagesManagerMessagingProductPickerStore8(a.productItem),this.__emitChange());break;case b("PagesManagerMessagingProductPickerActionType").ITEM.UNSELECTED:this.$PagesManagerMessagingProductPickerStore1["delete"](a.productItem.itemID);this.$PagesManagerMessagingProductPickerStore9(a.productItem);this.$PagesManagerMessagingProductPickerStore1.size===0&&this.$PagesManagerMessagingProductPickerStore4===g.REVIEW_AND_SEND&&(this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST);this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").UPDATE_SEARCH_TERM:this.$PagesManagerMessagingProductPickerStore3=a.searchTerm;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").VIEW_ALL_VARIANTS:this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_GROUP_VARIANTS;this.$PagesManagerMessagingProductPickerStore5=a.productGroupID;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").VIEW_ALL_PRODUCTS:this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").CLOSE_PRODUCT_PICKER:this.$PagesManagerMessagingProductPickerStore6=!0;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").REVIEW_ITEMS:this.$PagesManagerMessagingProductPickerStore4=g.REVIEW_AND_SEND;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").RESET_STORE:this.$PagesManagerMessagingProductPickerStore10();break;case b("PagesManagerMessagingProductPickerActionType").CLEAR_SELECTED:this.$PagesManagerMessagingProductPickerStore11();this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").SET_IS_SENDING:this.$PagesManagerMessagingProductPickerStore7=!0;this.__emitChange();break;case b("PagesManagerMessagingProductPickerActionType").CLEAR_SEARCH_TERM:this.$PagesManagerMessagingProductPickerStore3="",this.__emitChange()}};d.$PagesManagerMessagingProductPickerStore10=function(){this.$PagesManagerMessagingProductPickerStore1=new Map(),this.$PagesManagerMessagingProductPickerStore2=new Map(),this.$PagesManagerMessagingProductPickerStore3="",this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST,this.$PagesManagerMessagingProductPickerStore5=null,this.$PagesManagerMessagingProductPickerStore6=!1,this.$PagesManagerMessagingProductPickerStore7=!1};d.$PagesManagerMessagingProductPickerStore11=function(){this.$PagesManagerMessagingProductPickerStore1=new Map(),this.$PagesManagerMessagingProductPickerStore2=new Map(),this.$PagesManagerMessagingProductPickerStore3="",this.$PagesManagerMessagingProductPickerStore4===g.REVIEW_AND_SEND&&(this.$PagesManagerMessagingProductPickerStore4=g.PRODUCT_LIST)};d.$PagesManagerMessagingProductPickerStore8=function(a){var c;if(!a.hasOtherVariants)return;a=b("nullthrows")(a.productGroupID);c=(c=this.$PagesManagerMessagingProductPickerStore2.get(a))!=null?c:0;this.$PagesManagerMessagingProductPickerStore2.set(a,c+1)};d.$PagesManagerMessagingProductPickerStore9=function(a){if(!a.hasOtherVariants)return;a=b("nullthrows")(a.productGroupID);var c=this.$PagesManagerMessagingProductPickerStore2.get(a);b("nullthrows")(c,"cannot remove from a non-selected product group");c!=null&&c>1?this.$PagesManagerMessagingProductPickerStore2.set(a,c-1):this.$PagesManagerMessagingProductPickerStore2["delete"](a)};d.getSearchTerm=function(){return this.$PagesManagerMessagingProductPickerStore3};d.getSelectedItems=function(){return this.$PagesManagerMessagingProductPickerStore1};d.getSelectedGroupVariants=function(){return this.$PagesManagerMessagingProductPickerStore2};d.getActiveView=function(){return this.$PagesManagerMessagingProductPickerStore4};d.getViewingProductGroupID=function(){return this.$PagesManagerMessagingProductPickerStore5};d.getShouldHideProductPicker=function(){return this.$PagesManagerMessagingProductPickerStore6};d.getIsSending=function(){return this.$PagesManagerMessagingProductPickerStore7};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerMessagingProductListRowFluxContainer.react",["FluxContainer","PagesManagerMessagingProductListRow.react","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductPickerRowActionIcon.react","PagesManagerMessagingProductPickerStore.react","PagesManagerMessagingProductRowRendererUtil","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingProductPickerStore.react")]};c.calculateState=function(a,c){return{isSelected:b("PagesManagerMessagingProductPickerStore.react").getSelectedItems().has(b("nullthrows")(c.item.itemID)),activeView:b("PagesManagerMessagingProductPickerStore.react").getActiveView(),selectedGroupVariant:b("PagesManagerMessagingProductPickerStore.react").getSelectedGroupVariants()}};var d=c.prototype;d.render=function(){var a=this,c=function(){return g.onRowClick(a.props.item,a.state.isSelected,a.state.activeView)};return h.jsx(b("PagesManagerMessagingProductListRow.react"),{activeView:this.state.activeView,rowID:this.props.itemID,name:this.props.name,salePrice:this.props.salePrice,variantCount:this.props.variantCount,productGroupID:this.props.productGroupID,productPhotoURI:this.props.productPhotoURI,secondSubtitle:this.$1(),inventoryAndVariantCount:b("PagesManagerMessagingProductRowRendererUtil").InventoryAndVariantCount(this.props.item,this.state.activeView),selectedVariantCount:b("PagesManagerMessagingProductRowRendererUtil").SelectedVariantCount(this.props.item,this.state.selectedGroupVariant,this.state.activeView),isSelected:this.state.isSelected||this.hasSelectedVariant(),onSelectRow:c,actionIcon:h.jsx(b("PagesManagerMessagingProductPickerRowActionIcon.react"),{item:this.props.item,isSelected:this.state.isSelected,activeView:this.state.activeView})})};d.hasSelectedVariant=function(){return this.props.productGroupID==null?!1:this.state.selectedGroupVariant.has(this.props.productGroupID)};d.$1=function(){var a=b("PagesManagerMessagingProductRowRendererUtil").VariantValues(this.props.item,this.state.activeView),c=b("PagesManagerMessagingProductRowRendererUtil").InventoryAndVariantCount(this.props.item,this.state.activeView),d=b("PagesManagerMessagingProductRowRendererUtil").SelectedVariantCount(this.props.item,this.state.selectedGroupVariant,this.state.activeView);return(a=(a=a)!=null?a:d)!=null?a:c};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerMessagingProductListRowRelayContainer.react",["PagesManagerMessagingProductListRowFluxContainer.react","PagesManagerMessagingProductPickerFluxUtil","React","RelayModern","nullthrows","PagesManagerMessagingProductListRowRelayContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,i=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this)||this}var d=c.prototype;d.render=function(){var a=h.extractFormattedDataFromItem(this.props.item);return i.jsx(b("PagesManagerMessagingProductListRowFluxContainer.react"),{inventoryCount:this.props.item.inventory_count,item:a,itemID:b("nullthrows")(this.props.item.id),name:this.props.item.name,productGroupID:(a=this.props.item.group)==null?void 0:a.id,productPhotoURI:(a=this.props.item.primary_listing_photo)==null?void 0:(a=a.image)==null?void 0:a.uri,salePrice:(a=this.props.item.listing_price)==null?void 0:a.formatted_amount,variantCount:(a=this.props.item.group)==null?void 0:(a=a.product_items_edge)==null?void 0:a.count,variantValues:(a=this.props.item)==null?void 0:(a=a.variant_values)==null?void 0:a.join(String.fromCodePoint(12539))})};return c}(i.PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerMessagingProductListRowRelayContainer_item.graphql")})}),null);
__d("PagesManagerMessagingProductRowRendererUtil",["fbt","ErrorBoundary.react","FDSText.react","PagesManagerInboxLogger","PagesManagerMessagingProductListRowFluxContainer.react","PagesManagerMessagingProductListRowRelayContainer.react","PagesManagerMessagingProductPickerFluxUtil","React","formatNumber","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,i=b("React");e.exports={PagesManagerMessagingProductRowRelayRenderer:function(a){return function(c,d,e){return i.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:i.jsx(b("PagesManagerMessagingProductListRowRelayContainer.react"),{item:b("nullthrows")(a[c])})})}},PagesManagerMessagingProductRowFormattedRenderer:function(a){return function(c,d,e){d=b("nullthrows")(a[c]);return i.jsx(b("PagesManagerMessagingProductListRowFluxContainer.react"),{inventoryCount:d.inventoryCount,item:d,itemID:d.itemID,name:d.name,productGroupID:d.productGroupID,productPhotoURI:d.productPhotoURI,salePrice:d.salePrice,variantCount:d.variantCount,variantValues:d.variantValues})}},InventoryAndVariantCount:function(a,c){var d=this.VariantInventoryFbt(a.inventoryCount),e=this.VariantsCountFbt(a.variantCount),f=d!=null&&e!=null?String.fromCodePoint(12539):null;switch(c){case h.REVIEW_AND_SEND:case h.PRODUCT_GROUP_VARIANTS:return i.jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"placeholder",children:d});case h.PRODUCT_LIST:return i.jsxs("div",{children:[i.jsx(b("FDSText.react"),{display:"inline",size:"body2",color:a.inventoryCount!=0?"secondary":"negative",children:i.jsx("span",{children:d})}),i.jsxs(b("FDSText.react"),{display:"inline",size:"body2",color:"secondary",children:[i.jsx("span",{children:f}),i.jsx("span",{children:e})]})]})}},SelectedVariantCount:function(a,c,d){if(d!=h.PRODUCT_LIST)return null;if(!a.hasOtherVariants)return null;d=c.get(b("nullthrows")(a.productGroupID));c=d!=null?g._({"*":"{number} variants selected","_1":"1 variant selected"},[g._plural(d,"number",b("formatNumber")(d))]):null;return c==null?null:i.jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"blueLink",children:c})},VariantValues:function(a,c){if(c===h.PRODUCT_LIST)return null;if(!a.hasOtherVariants)return null;return a.variantValues===null?null:i.jsx(b("FDSText.react"),{display:"truncate",size:"body2",color:"secondary",children:a.variantValues})},VariantInventoryFbt:function(a){var b=null;a!=null&&(b=a>0?g._("{variant inventory} in stock",[g._param("variant inventory",a)]):g._("Out of stock"));return b},VariantsCountFbt:function(a){if(a!=null&&a>1)return g._("{variants count} variants",[g._param("variants count",a)]);else return null}}}),null);
__d("SUIPagesManagerSpinnerUniform",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={activeColor:"#4080ff",backgroundColor:"#e2e9f9",darkActiveColor:"#FFFFFF",darkBackgroundColor:"rgba(255, 255, 255, 0.4)",sizes:{large:{border:4,diameter:72},small:{border:2,diameter:36}}};e.exports=a}),null);
__d("SUIPagesManagerTheme",["SUIPagesManagerSpinnerUniform","SUITheme"],(function(a,b,c,d,e,f){"use strict";a=new(b("SUITheme"))({id:"pages_manager",components:{SUISpinner:b("SUIPagesManagerSpinnerUniform")}});e.exports=a}),null);
__d("PagesManagerInboxListSpinner.react",["cx","CenteredContainer.react","React","SUIPagesManagerTheme","SUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("CenteredContainer.react"),{className:"_108x",vertical:!0,children:h.jsx(b("SUISpinner.react"),{size:"small",theme:b("SUIPagesManagerTheme")})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxQueryRenderer.react",["invariant","ErrorBoundary.react","PagesManagerInboxLogger","React","RelayFBEnvironment","RelayFBLiveEnvironment","RelayModern"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("RelayModern").QueryRenderer;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("ErrorBoundary.react"),{onHandleError:this.$1,children:h.jsx(i,babelHelpers["extends"]({cacheConfig:{force:!1},environment:this.props.isLiveQuery===!0?b("RelayFBLiveEnvironment"):b("RelayFBEnvironment")},this.props,{render:function(b){return a.$2(b)}}))})};d.$1=function(a,c){b("PagesManagerInboxLogger").logErrorJS(a,c)};d.$2=function(a){a.error&&b("PagesManagerInboxLogger").logErrorGraphQL(a.error);var c=this.props.render;c||g(0,2743);return c(a)};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingNoProductListView.react",["ix","cx","fbt","FDSText.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function a(a){return j.jsxs(b("Layout.react"),{className:"_8ozz",children:[j.jsx(b("LayoutColumn.react"),{className:"_8ozx",children:j.jsx(l,{searchTerm:a.searchTerm})}),j.jsx(b("LayoutFillColumn.react"),{className:"_8ozy",children:j.jsx(b("FDSText.react"),{display:"truncate",size:"body1",color:"primary",children:j.jsx(k,{searchTerm:a.searchTerm})})})]})}function k(a){return a.searchTerm==""?i._("No products listed"):i._("No results found")}function l(a){return a.searchTerm==""?j.jsx(b("Image.react"),{src:g("514262")}):j.jsx(b("Image.react"),{src:g("515648")})}e.exports=a}),null);
__d("PagesDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("PagesSelectableSimpleListActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a="PAGES_SELECTABLE_SIMPLE_LIST";c=b("keyMirrorRecursive")({ROW:{ALL_DESELECTED:"",ALL_SELECTED:"",SELECTED:""}},a);e.exports=c}),null);
__d("PagesSelectableSimpleListAction",["PagesDispatcher","PagesSelectableSimpleListActionType"],(function(a,b,c,d,e,f){"use strict";a={rowSelected:function(a,c){b("PagesDispatcher").dispatch({type:b("PagesSelectableSimpleListActionType").ROW.SELECTED,rowKey:a,selected:c})},selectAll:function(a,c){b("PagesDispatcher").dispatch({type:b("PagesSelectableSimpleListActionType").ROW.ALL_SELECTED,rowKeys:a,selected:c})},deselectAll:function(){b("PagesDispatcher").dispatch({type:b("PagesSelectableSimpleListActionType").ROW.ALL_DESELECTED})}};e.exports=a}),null);
__d("PagesSelectableSimpleListStore",["FluxStore","PagesDispatcher","PagesSelectableSimpleListActionType"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesDispatcher"))||this;c.$PagesSelectableSimpleListStore1=new Map();return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesSelectableSimpleListActionType").ROW.SELECTED:this.$PagesSelectableSimpleListStore2(a.rowKey,a.selected);this.__emitChange();break;case b("PagesSelectableSimpleListActionType").ROW.ALL_SELECTED:this.$PagesSelectableSimpleListStore3(a.rowKeys,a.selected);this.__emitChange();break;case b("PagesSelectableSimpleListActionType").ROW.ALL_DESELECTED:this.$PagesSelectableSimpleListStore1=new Map();this.__emitChange();break}};d.$PagesSelectableSimpleListStore2=function(a,b){b?this.$PagesSelectableSimpleListStore1.set(a,!0):this.$PagesSelectableSimpleListStore1["delete"](a)};d.$PagesSelectableSimpleListStore3=function(a,b){var c=this;a.forEach(function(a){return c.$PagesSelectableSimpleListStore2(a,b)})};d.isRowSelected=function(a){return this.$PagesSelectableSimpleListStore1.has(a)};d.getSelectedCount=function(){return this.$PagesSelectableSimpleListStore1.size};d.getSelectedRowsMap=function(){return this.$PagesSelectableSimpleListStore1};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesSelectableSimpleListCheckboxContainer.react",["FluxContainer","PagesSelectableListCheckbox.react","PagesSelectableSimpleListAction","PagesSelectableSimpleListStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesSelectableSimpleListAction").selectAll(d.props.allRowKeysGetter(),!d.state.checked);var a=d.props.onChange;a&&a(b("PagesSelectableSimpleListStore").getSelectedRowsMap())},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesSelectableSimpleListStore")]};c.calculateState=function(a,c){a=b("PagesSelectableSimpleListStore").getSelectedCount();var d;a===0?d=!1:a===c.rowCount?d=!0:d=null;return{checked:d}};var d=c.prototype;d.render=function(){return g.jsx(b("PagesSelectableListCheckbox.react"),{checked:this.state.checked,onChange:this.$1})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesSelectableSimpleListRowContainer.react",["FluxContainer","PagesSelectableSimpleListAction","PagesSelectableSimpleListStore","React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PagesSelectableSimpleListAction").rowSelected(d.props.rowKey,a),d.props.onSelected&&d.props.onSelected(b("PagesSelectableSimpleListStore").getSelectedRowsMap())},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesSelectableSimpleListStore")]};c.calculateState=function(a,c){return{selected:b("PagesSelectableSimpleListStore").isRowSelected(c.rowKey)}};var d=c.prototype;d.render=function(){return this.props.rowRenderer(this.props.rowData.rowIndex,this.state.selected,this.$1)};return c}(a.PureComponent);e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesSelectableSimpleList.react",["cx","CenteredContainer.react","LeftRight.react","OnVisible.react","PagesSelectableSimpleListCheckboxContainer.react","PagesSelectableSimpleListRowContainer.react","React","ResponsiveBlock.react","SimpleList.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={headerHeight:0},d.$3=function(a,b){d.setState({headerHeight:b})},d.$5=function(a){return d.props.canLoadMoreRows&&a.rowIndex===d.props.rowCount?d.$7():h.jsx(b("PagesSelectableSimpleListRowContainer.react"),{onSelected:d.$2,ref:d.props.rowKeyGetter(a.rowIndex),rowData:a,rowKey:d.props.rowKeyGetter(a.rowIndex),rowRenderer:d.props.rowRenderer})},d.$8=function(){d.props.onRequestMoreRows&&!d.props.isLoadingMoreRows&&d.props.onRequestMoreRows()},d.$2=function(a){d.props.onSelectionChange&&d.props.onSelectionChange(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){if(!this.props.showHeader)return null;var a=this.props.allRowKeysGetter?h.jsx(b("PagesSelectableSimpleListCheckboxContainer.react"),{allRowKeysGetter:this.props.allRowKeysGetter,onChange:this.$2,rowCount:this.props.rowCount}):null;return h.jsxs(b("ResponsiveBlock.react"),{onResize:this.$3,children:[h.jsxs(b("LeftRight.react"),{className:"_2x3m",children:[h.jsxs("div",{children:[a,h.jsx("span",{children:this.props.actionBarLeftComponent})]}),h.jsx("div",{children:this.props.actionBarRightComponent})]}),this.props.header]})};d.$4=function(){var a=this.props.height-this.state.headerHeight;if(a<=0)return null;return this.props.replaceContent||!this.props.rowCount?h.jsx("div",{style:{height:a},children:this.props.replaceContent}):h.jsx(b("SimpleList.react"),{goToRowIndex:this.props.goToRowIndex,height:a,hideScrollShadow:!0,item:this.$5,ref:"simpleList",rowCount:this.$6(),rowHeight:this.props.rowHeight,scrollbarOnHoverOnly:!0})};d.getSimpleList=function(){return this.refs.simpleList};d.$6=function(){return this.props.rowCount+(this.props.canLoadMoreRows?1:0)};d.$7=function(){return h.jsx(b("OnVisible.react"),{onVisible:this.$8,style:{height:this.props.rowHeight},children:this.props.loadingIndicator})};d.render=function(){return h.jsxs("div",{className:this.props.className,children:[this.$1(),this.$4()]})};return c}(h.PureComponent);a.defaultProps={canLoadMoreRows:!1,isLoadingMoreRows:!1,loadingIndicator:h.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,children:h.jsx(b("XUISpinner.react"),{size:"large"})}),showHeader:!1};e.exports=a}),null);
__d("PagesManagerMessagingProductList.react",["PagesManagerInboxListSpinner.react","PagesSelectableSimpleList.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("PagesSelectableSimpleList.react"),{autoFcous:!0,canLoadMoreRows:this.props.canLoadMoreRows,height:this.props.height,loadingIndicator:g.jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:this.props.onLoadMoreRows,rowCount:this.props.rowCount,rowHeight:80,rowKeyGetter:function(a){return"productList"+a},rowRenderer:this.props.rowRenderer,showHeader:!1})};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingProductListSectionTitle.react",["cx","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("div",{className:"_8sws",children:h.jsx("div",{className:"_8swt",children:h.jsx(b("FDSText.react"),{color:"placeholder",display:"block",size:"header4",weight:"bold",children:a.title})})})}e.exports=a}),null);
__d("PagesManagerMessagingProductListRelayContainer.react",["cx","fbt","PagesManagerMessagingNoProductListView.react","PagesManagerMessagingProductList.react","PagesManagerMessagingProductListSectionTitle.react","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductRowRendererUtil","React","RelayModern","PagesManagerMessagingProductListRelayContainer_page.graphql","PagesManagerMessagingProductListRelayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,l=b("PagesManagerMessagingProductRowRendererUtil").PagesManagerMessagingProductRowRelayRenderer,m=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$1=function(){c.props.relay.loadMore(20)};return c}var d=c.prototype;d.render=function(){var a;a=(a=this.props.page.page_catalog_products)==null?void 0:a.edges;if(a===void 0||a.length===0)return m.jsx(b("PagesManagerMessagingNoProductListView.react"),{searchTerm:this.props.searchTerm});a=a.map(function(a){return a.node});return m.jsxs("div",{className:"_8swr",children:[this.props.searchTerm===""?m.jsx(b("PagesManagerMessagingProductListSectionTitle.react"),{title:h._("All")}):null,m.jsx(b("PagesManagerMessagingProductList.react"),{canLoadMoreRows:this.props.relay.hasMore(),height:k.productListHeight-k.searchBarHeight,onLoadMoreRows:this.$1,rowCount:a.length,rowRenderer:l(a)})]})};return c}(m.PureComponent);e.exports=a(c,{page:i!==void 0?i:i=b("PagesManagerMessagingProductListRelayContainer_page.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.page)!=null?a.page_catalog_products:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b,c){var d=b.count;b=b.cursor;a=a.page.id;return{pageID:a,count:d,cursor:b,search_term:c.search_term}},query:j!==void 0?j:j=b("PagesManagerMessagingProductListRelayContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerMessagingRecentProductListRelayContainer.react",["cx","fbt","PagesManagerMessagingProductList.react","PagesManagerMessagingProductListSectionTitle.react","PagesManagerMessagingProductRowRendererUtil","React","RelayModern","emptyFunction","PagesManagerMessagingRecentProductListRelayContainer_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("PagesManagerMessagingProductRowRendererUtil").PagesManagerMessagingProductRowRelayRenderer,k=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.page.recent_sent_products;return a===void 0||a.length===0?null:k.jsxs("div",{className:"_8swr",children:[k.jsx(b("PagesManagerMessagingProductListSectionTitle.react"),{title:h._("Recent")}),k.jsx(b("PagesManagerMessagingProductList.react"),{canLoadMoreRows:!1,height:a.length*80,onLoadMoreRows:b("emptyFunction"),rowCount:a.length,rowRenderer:j(a.concat())})]})};return c}(k.PureComponent);e.exports=a(c,{page:i!==void 0?i:i=b("PagesManagerMessagingRecentProductListRelayContainer_page.graphql")})}),null);
__d("PagesManagerMessagingRecentProductsSection.react",["PagesManagerInboxQueryRenderer.react","PagesManagerMessagingRecentProductListRelayContainer.react","React","RelayFBEnvironment","graphql","PagesManagerMessagingRecentProductsSectionQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("PagesManagerMessagingRecentProductsSectionQuery.graphql"),variables:{pageID:this.props.pageID},render:function(a){var c=a.error;a=a.props;if(a&&!c)return h.jsx(b("PagesManagerMessagingRecentProductListRelayContainer.react"),{page:a.page});else return null}})};return c}(h.Component);e.exports=a}),null);
__d("PagesManagerMessagingProductBrowser.react",["cx","fbt","ix","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesManagerInboxListSpinner.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingProductListRelayContainer.react","PagesManagerMessagingProductPickerAction","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingRecentProductsSection.react","React","RelayFBEnvironment","ScrollableArea.react","XUICloseButton.react","XUITextInput.react","graphql","PagesManagerMessagingProductBrowserQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,l=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return l.jsxs(b("ScrollableArea.react"),{height:k.productListHeight,shadow:!1,style:{border:"none"},children:[l.jsx(n,{funcProps:this.props}),this.props.searchTerm===""?l.jsx(b("PagesManagerMessagingRecentProductsSection.react"),{pageID:this.props.pageID}):null,l.jsx(m,{funcProps:this.props})]})};return c}(l.Component);function m(a){var c=a.funcProps.searchTerm;return l.jsx(b("PagesManagerInboxQueryRenderer.react"),{environment:b("RelayFBEnvironment"),query:j!==void 0?j:j=b("PagesManagerMessagingProductBrowserQuery.graphql"),variables:{pageID:a.funcProps.pageID,search_term:a.funcProps.searchTerm},render:function(a){var d=a.error;a=a.props;if(a&&!d)return l.jsx(b("PagesManagerMessagingProductListRelayContainer.react"),{page:a.page,searchTerm:c});else return l.jsx(b("PagesManagerInboxListSpinner.react"),{})}})}function n(a){return l.jsxs(b("Layout.react"),{className:"_8j7_",children:[l.jsx(b("LayoutColumn.react"),{className:"_8nl7",children:l.jsx(b("Image.react"),{src:i("27278")})}),l.jsx(b("LayoutFillColumn.react"),{className:"_8nl1",children:l.jsx(b("XUITextInput.react"),{"aria-label":h._("Search"),autoFocus:!0,className:"_8j80",value:a.funcProps.searchTerm,onChange:o,placeholder:h._("Search"),role:"searchbox",height:"short"})}),l.jsx(b("LayoutColumn.react"),{className:"_8nl2",children:l.jsx(b("XUICloseButton.react"),{className:a.funcProps.searchTerm.length===0?"hidden_elem":"",onClick:b("PagesManagerMessagingProductPickerAction").clearSearchTerm,size:"small"})})]})}function o(a){b("PagesManagerMessagingProductPickerAction").updateSearchTerm(a.currentTarget.value)}e.exports=a}),null);
__d("PagesManagerMessagingProductGroupVariantsRelayContainer.react",["PagesManagerMessagingProductList.react","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductRowRendererUtil","React","RelayModern","PagesManagerMessagingProductGroupVariantsRelayContainer_product_group.graphql","PagesManagerMessagingProductGroupVariantsRelayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,j=b("PagesManagerMessagingProductRowRendererUtil").PagesManagerMessagingProductRowRelayRenderer,k=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$1=function(){c.props.relay.loadMore(20)};return c}var d=c.prototype;d.render=function(){var a;a=(a=this.props.product_group.product_items_edge)==null?void 0:a.edges;if(a==null)return null;a=a.map(function(a){return a.node});return k.jsx(b("PagesManagerMessagingProductList.react"),{canLoadMoreRows:this.props.relay.hasMore(),height:i.productListHeight,onLoadMoreRows:this.$1,rowCount:a.length,rowRenderer:j(a)})};return c}(k.PureComponent);e.exports=a(c,{product_group:g!==void 0?g:g=b("PagesManagerMessagingProductGroupVariantsRelayContainer_product_group.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.product_group)!=null?a.product_items_edge:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;a=a.product_group.id;return{productGroupID:a,count:c,cursor:b}},query:h!==void 0?h:h=b("PagesManagerMessagingProductGroupVariantsRelayContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerMessagingProductGroupVariants.react",["PagesManagerInboxListSpinner.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingProductGroupVariantsRelayContainer.react","React","RelayFBEnvironment","graphql","PagesManagerMessagingProductGroupVariantsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("PagesManagerMessagingProductGroupVariantsQuery.graphql"),variables:{productGroupID:this.props.viewingProductGroupID},render:function(a){var c=a.error;a=a.props;if(a&&!c)return h.jsx(b("PagesManagerMessagingProductGroupVariantsRelayContainer.react"),{product_group:a.node});else return h.jsx(b("PagesManagerInboxListSpinner.react"),{})}})};return c}(h.Component);e.exports=a}),null);
__d("PagesManagerMessagingProductItemsReview.react",["ErrorBoundary.react","PagesManagerInboxLogger","PagesManagerMessagingProductList.react","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductRowRendererUtil","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerMessagingProductPickerFluxUtil").PagesManagerMessagingProductPickerFluxUtil,h=b("PagesManagerMessagingProductRowRendererUtil").PagesManagerMessagingProductRowFormattedRenderer,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:i.jsx(b("PagesManagerMessagingProductList.react"),{canLoadMoreRows:!1,height:g.productListHeight,onLoadMoreRows:b("emptyFunction"),rowCount:this.props.selectedItems.length,rowRenderer:h(this.props.selectedItems)})})};return c}(i.Component);e.exports=a}),null);
__d("PageCommSendProductMutation",["RelayFBEnvironment","RelayModern","PageCommSendProductMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommSendProductMutation.graphql");function a(a,c){var d={page_comm_send_product_mutation:{viewer:{actor:{id:a.actor_id}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,product_ids:a.product_ids,recipient_id:a.recipient_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerMessagingProductPickerFooter.react",["cx","fbt","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PageCommSendProductMutation","PagesManagerMessagingProductPickerAction","PagesManagerMessagingProductPickerFluxUtil","React","ShimButton.react","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,j=b("React");function a(a){return j.jsxs(b("Layout.react"),{className:"_8m80 _8nl0",children:[j.jsx(b("LayoutColumn.react"),{className:"_8m82",children:h._("{number of selected items}\/3 products selected",[h._param("number of selected items",a.selectedItemsCount)])}),j.jsx(b("LayoutFillColumn.react"),{className:"_8m82",children:a.selectedItemsCount>0?j.jsx(k,{}):null}),j.jsx(b("LayoutColumn.react"),{className:"_8m81",children:j.jsx(l,{funcProps:a})}),j.jsx(b("LayoutColumn.react"),{className:"_8m81",children:j.jsx(m,{funcProps:a})})]})}function k(){return j.jsx(b("ShimButton.react"),{onClick:b("PagesManagerMessagingProductPickerAction").clearSelected,children:j.jsx("div",{className:"_8m83",children:h._("Clear")})})}function l(a){switch(a.funcProps.activeView){case i.PRODUCT_GROUP_VARIANTS:case i.REVIEW_AND_SEND:return null;default:return j.jsx(b("LayoutColumn.react"),{className:"mlm",children:j.jsx(b("XUIButton.react"),{label:h._("Cancel"),onClick:b("PagesManagerMessagingProductPickerAction").closeProductPicker})})}}function m(a){switch(a.funcProps.activeView){case i.PRODUCT_GROUP_VARIANTS:case i.PRODUCT_LIST:return j.jsx(b("XUIButton.react"),{label:h._("Next"),onClick:b("PagesManagerMessagingProductPickerAction").reviewItems,disabled:a.funcProps.selectedItemsCount===0,use:"confirm"});case i.REVIEW_AND_SEND:return j.jsx(b("XUIButton.react"),{label:h._("Send"),onClick:function(){return n(a)},disabled:a.funcProps.isSending||a.funcProps.selectedItemsCount===0,use:"confirm"})}}function n(a){var c=a.funcProps.selectedItemsID;if(c==null)return;b("PagesManagerMessagingProductPickerAction").setIsSending();b("PageCommSendProductMutation").commit({actor_id:a.funcProps.pageID,product_ids:c,recipient_id:a.funcProps.recipientID},{onSuccess:function(a){b("PagesManagerMessagingProductPickerAction").closeProductPicker()},onFailure:function(){b("PagesManagerMessagingProductPickerAction").closeProductPicker()}})}e.exports=a}),null);
__d("PagesManagerMessagingProductPickerHeader.react",["ix","cx","fbt","FDSText.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesManagerMessagingProductPickerAction","PagesManagerMessagingProductPickerFluxUtil","React","asset","formatNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,k=b("React");function a(a){return k.jsx(l,{funcProps:a})}function l(a){return k.jsxs(b("Layout.react"),{className:"_8m7z _8nl0",children:[a.funcProps.activeView!=j.PRODUCT_LIST?k.jsx(b("LayoutColumn.react"),{className:"_8m7-",children:k.jsx(b("Image.react"),{src:g("676468"),onClick:function(){return b("PagesManagerMessagingProductPickerAction").viewAllProducts()},role:"button"})}):null,k.jsx(b("LayoutFillColumn.react"),{className:"_8m7_",children:k.jsx(m,{funcProps:a.funcProps})})]})}function m(a){var c=null;switch(a.funcProps.activeView){case j.PRODUCT_LIST:c=i._("Select Products");break;case j.PRODUCT_GROUP_VARIANTS:c=i._("Select Variants");break;case j.REVIEW_AND_SEND:c=i._({"*":"{number} Products Selected","_1":"1 Product Selected"},[i._plural(a.funcProps.selectedItemsCount,"number",b("formatNumber")(a.funcProps.selectedItemsCount))])}return k.jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:c})}e.exports=a}),null);
__d("PagesManagerMessagingProductPickerFluxContainer.react",["cx","FluxContainer","PagesManagerMessagingProductBrowser.react","PagesManagerMessagingProductGroupVariants.react","PagesManagerMessagingProductItemsReview.react","PagesManagerMessagingProductPickerAction","PagesManagerMessagingProductPickerFluxUtil","PagesManagerMessagingProductPickerFooter.react","PagesManagerMessagingProductPickerHeader.react","PagesManagerMessagingProductPickerStore.react","React","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesManagerMessagingProductPickerFluxUtil").ProductPickerViewTypes,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingProductPickerStore.react")]};c.calculateState=function(a,c){b("PagesManagerMessagingProductPickerStore.react").getShouldHideProductPicker()&&c.closePopoverHanlder();return{activeView:b("PagesManagerMessagingProductPickerStore.react").getActiveView(),searchTerm:b("PagesManagerMessagingProductPickerStore.react").getSearchTerm(),viewingProductGroupID:b("PagesManagerMessagingProductPickerStore.react").getViewingProductGroupID(),selectedItemsCount:b("PagesManagerMessagingProductPickerStore.react").getSelectedItems().size,selectedItems:b("PagesManagerMessagingProductPickerStore.react").getSelectedItems(),isSending:b("PagesManagerMessagingProductPickerStore.react").getIsSending()}};var d=c.prototype;d.componentWillUnmount=function(){b("PagesManagerMessagingProductPickerAction").resetStore()};d.render=function(){return i.jsxs("div",{children:[this.$1(),this.$2(),this.$3()]})};d.$1=function(){return i.jsx(b("PagesManagerMessagingProductPickerHeader.react"),{activeView:this.state.activeView,selectedItemsCount:this.state.selectedItemsCount})};d.$3=function(){return i.jsx(b("PagesManagerMessagingProductPickerFooter.react"),{isSending:this.state.isSending,pageID:this.props.pageID,selectedItemsID:Array.from(this.state.selectedItems.keys()),activeView:this.state.activeView,recipientID:this.props.recipientID,selectedItemsCount:this.state.selectedItemsCount})};d.$2=function(){var a=null;switch(this.state.activeView){case h.PRODUCT_GROUP_VARIANTS:a=i.jsx(b("PagesManagerMessagingProductGroupVariants.react"),{viewingProductGroupID:b("nullthrows")(this.state.viewingProductGroupID)});break;case h.REVIEW_AND_SEND:a=i.jsx(b("PagesManagerMessagingProductItemsReview.react"),{selectedItems:Array.from(this.state.selectedItems.values())});break;default:a=i.jsx(b("PagesManagerMessagingProductBrowser.react"),{pageID:this.props.pageID,searchTerm:this.state.searchTerm})}return i.jsx("div",{className:"_8mf- _8nl0",children:a})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxProductPickerNuxContainer.react",["fbt","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="business_inbox_product_picker_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.setState({shouldShowNux:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[i])},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[i]);return{shouldShowNux:a}};var d=c.prototype;d.render=function(){return h.jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"above",shown:this.state.shouldShowNux,children:g._("Now you can easily send products to potential customers.")})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxProductPickerButton.react",["cx","fbt","ErrorBoundary.react","PagesManagerInboxLogger","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxProductPickerNuxContainer.react","PagesManagerMessagingProductPickerFluxContainer.react","PagesMessagingInboxActionsTypedLogger","React","SUIBusinessTheme","SUIPopoverLayer.react","Tooltip","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showPopover:!1},d.handleClickOutside=function(a){a=a.target;d.$2&&a instanceof Node&&!d.$2.contains(a)&&d.setState({showPopover:!1})},d.$3=function(){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("product_picker_button_clicked").setPlatform("MESSENGER").log(),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX").business_inbox_product_picker_nux),d.$4()},d.$5=function(a){d.$1=a},d.$6=function(a){a!=null&&(d.$2=a)},d.$7=function(){return d.$1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){document.addEventListener("mousedown",this.handleClickOutside)};d.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)};d.$4=function(){this.setState(function(a){return{showPopover:!a.showPopover}})};d.$8=function(){var a=this;return this.state.showPopover?i.jsx(b("SUIPopoverLayer.react"),{contextRef:this.$7,theme:b("SUIBusinessTheme"),margin:"_4jnw",position:"above",alignment:"center",content:i.jsx("div",{ref:this.$6,className:"_8j7-",children:i.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:i.jsx(b("PagesManagerMessagingProductPickerFluxContainer.react"),{pageID:this.props.pageID,closePopoverHanlder:function(){return a.setState({showPopover:!1})},recipientID:this.props.recipientID})})})}):null};d.render=function(){return i.jsxs("div",{children:[i.jsx("div",babelHelpers["extends"]({className:"_8iix",onClick:this.$3,ref:this.$5,role:"button",tabIndex:"0"},b("Tooltip").propsFor(h._("Send products")))),this.$7!=null?i.jsx(b("PagesManagerInboxProductPickerNuxContainer.react"),{contextRef:this.$7}):null,this.state.showPopover?this.$8():null]})};return c}(i.PureComponent);e.exports=a}),null);
__d("EventPlanStrings",["fbt","formatDate"],(function(a,b,c,d,e,f,g){"use strict";var h=" \xb7 ";a={getStartPlanFBT:function(){return g._("Start Plan")},getLoadingPlanFBT:function(){return g._("Loading...")},getDisplayDateAndTimeFBT:function(a,c){var d=b("formatDate")(a,"g:iA"),e=d.length-5;d.substring(e,e+3)===":00"&&(d=d.substring(0,e).concat(d.substring(e+3)));e=g._("{reminder_date} at {reminder_time}",[g._param("reminder_date",b("formatDate")(a,"D M j")),g._param("reminder_time",d)]);if(c)return g._("{reminder_date_and_time}{middot_separator_for_time_and_name}{reminder_name}",[g._param("reminder_date_and_time",e),g._param("middot_separator_for_time_and_name",h),g._param("reminder_name",c)]);else return e},getMultiEventsSummary:function(a){return g._("{event_count} Upcoming Reminders",[g._param("event_count",a)])},getNextEventTime:function(a){return g._("Next: {next_reminder_date_and_time}",[g._param("next_reminder_date_and_time",this.getDisplayDateAndTimeFBT(a))])},getSubtitle:function(a,b,c){a=g._({"*":"{number} Going","_1":"1 Going"},[g._plural(a,"number")]);b?c?c=g._("{reminder_location_name}{middot_separator_for_location_and_going_members}{going_member_count}",[g._param("reminder_location_name",b),g._param("middot_separator_for_location_and_going_members",h),g._param("going_member_count",a)]):c=b:c=a;return c},getViewEventFBT:function(){return g._("View Event")},getRSVPContext:function(a){return g._({"*":"{number} Going","_1":"1 Going"},[g._plural(a,"number")])},getAssociatedEventRSVPContext:function(a,b){return g._("{going_member_count} Going {middot_separator_for_going_and_interested_members}{interested_member_count} Interested",[g._param("going_member_count",a),g._param("middot_separator_for_going_and_interested_members",h),g._param("interested_member_count",b)])},getAssociatedEventRSVPContextAsSubtitle:function(a,b){return g._("Public Event {middot_separator_for_event_name_and_going_members}{going_member_count} Going {middot_separator_for_going_and_interested_members}{interested_member_count} Interested",[g._param("middot_separator_for_event_name_and_going_members",h),g._param("going_member_count",a),g._param("middot_separator_for_going_and_interested_members",h),g._param("interested_member_count",b)])}};e.exports=a}),null);
__d("PagesCommerceBuyerNUXDialog.react",["cx","fbt","ix","Image.react","LayerFadeOnHide","LayerFadeOnShow","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=400,l="K PLUS",m=i("276000");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_COMMERCE_BUYER_NUX),d.props.onConfirm()},d.$3=function(a){a||d.$2()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return h._("OK")};d.$4=function(){return j.jsx("div",{className:"_1lc0",children:j.jsx(b("XUIButton.react"),{className:"_1lcd",label:this.$1(),size:"xxlarge",use:"confirm",onClick:this.$2})})};d.$5=function(){return j.jsxs("ul",{className:"_1lce",children:[j.jsxs("li",{className:"_1lcf",children:[j.jsx(b("Image.react"),{className:"_1_2f",src:i("275996")}),j.jsx(b("XUIText.react"),{className:"_1_2g",size:"header3",children:h._("Pay with {k_plus} or your credit or debit card.",[h._param("k_plus",l)])})]}),j.jsxs("li",{className:"_1lcf",children:[j.jsx(b("Image.react"),{className:"_1_2f",src:i("275998")}),j.jsx(b("XUIText.react"),{className:"_1_2g",size:"header3",children:h._("Payments are protected and private.")})]}),j.jsxs("li",{className:"_1lcf",children:[j.jsx(b("Image.react"),{className:"_1_2f",src:i("275997")}),j.jsx(b("XUIText.react"),{className:"_1_2g",size:"header3",children:h._("FREE! No extra fees or charges.")})]})]})};d.render=function(){return!this.props.isShown?null:j.jsx(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")},onToggle:this.$3,shown:this.props.isShown,width:this.props.width||k,children:j.jsxs(b("XUIDialogBody.react"),{className:"_52jv",children:[j.jsx(b("Image.react"),{className:"_1lcg",src:m}),j.jsx("div",{className:"_1lci",children:h._("Instant, secure payments on Messenger.")}),this.$5(),this.$4()]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("ServicesAppointmentBadgeSubscription",["BaseGraphQLSubscription","relay-runtime","ServicesAppointmentBadgeSubscription.graphql"],(function(a,b,c,d,e,f){var g;b("relay-runtime").graphql;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionName()+"/page_id_"+a.page_id+"_user_id_"+a.user_id};d.getQuery=function(){return g!==void 0?g:g=b("ServicesAppointmentBadgeSubscription.graphql")};d.getQueryParameters=function(a){return{input:babelHelpers["extends"]({},a)}};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("IGMessageConnectionStatusTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({RUNNING:"",NETWORK_ERROR:""})}),null);
__d("IGMessageConnectionStatusStore",["FluxMapStore","IGMessageConnectionStatusTypes","IGMessageDataDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,b){return a.set(b.token,{status:b.type})};d.getStatus=function(a){a=this.get(a);return!a?b("IGMessageConnectionStatusTypes").RUNNING:a.status};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("IGMessageDataDispatcher"))}),null);
__d("IGMessageMarkThreadMutation",["RelayFBEnvironment","RelayModern","IGMessageMarkThreadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("IGMessageMarkThreadMutation.graphql");function a(a,c,d,e,f,g,j){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:a,thread_id:c,source:"web",folder:d,mark_as_follow_up:e,mark_as_read:f}},onCompleted:g,onError:j})}e.exports={commit:a}}),null);
__d("IGMessageThreadAdminAssignmentMutation",["RelayFBEnvironment","RelayModern","IGMessageThreadAdminAssignmentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("IGMessageThreadAdminAssignmentMutation.graphql");function a(a,c,d,e,f){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:a,thread_id:c,source:"web",admin_id:d}},onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageBlockUserMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageBlockUserMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageBlockUserMutation.graphql");function a(a,c,d,e,f){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests",user_id:d}},onCompleted:e,onError:f})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageDeleteThreadMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageDeleteThreadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageDeleteThreadMutation.graphql");function a(a,c,d,e){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests"}},onCompleted:d,onError:e})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageMarkAsSeenMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageMarkAsSeenMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageMarkAsSeenMutation.graphql");function a(a,c,d,e,f,g){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests",item_id:e,client_context:d}},onCompleted:f,onError:g})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageMarkRavenAsSeenMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageMarkRavenAsSeenMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageMarkRavenAsSeenMutation.graphql");function a(a,c,d,e,f,g){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests",item_id:e,client_context:d}},onCompleted:f,onError:g})}e.exports={commit:a}}),null);
__d("PagesInstagramDirectMessageReactionMutation",["RelayFBEnvironment","RelayModern","PagesInstagramDirectMessageReactionMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesInstagramDirectMessageReactionMutation.graphql");function a(a,c,d,e,f,g,j,k,l){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{thread_id:a,actor_id:c,source:"IGMessageServerRequests",reaction_type:f,reaction_status:g,target_item_type:j,item_id:e,client_context:d}},onCompleted:k,onError:l})}e.exports={commit:a}}),null);
__d("XInstagramDirectMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/unified_inbox/instagram_direct/send/",{request_user_id:{type:"FBID"},client_thread_id:{type:"String"},offline_threading_id:{type:"String"},source:{type:"String"},action_type:{type:"Enum",enumType:1}})}),null);
__d("IGMessageServerRequests",["AsyncRequest","AsyncUploadRequest","IGMessageMarkThreadMutation","IGMessageThreadAdminAssignmentMutation","PagesInstagramDirectMessageBlockUserMutation","PagesInstagramDirectMessageDeleteThreadMutation","PagesInstagramDirectMessageMarkAsSeenMutation","PagesInstagramDirectMessageMarkRavenAsSeenMutation","PagesInstagramDirectMessageReactionMutation","XInstagramDirectMessagingSendController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.sendNewMessage=function(a,c,d,e){var f=b("XInstagramDirectMessagingSendController").getURIBuilder().getURI();a=this.__prepareSendPayload(c,a);if(c.photo){c=new(b("AsyncUploadRequest"))(f).setData(a).setFiles({photo:c.photo}).setAllowCrossPageTransition(!0);var g=[c.subscribe("success",function(a,b){d(b.getResponse())}),c.subscribe("failure",function(a,b){e(b.getResponse())}),c.subscribe("complete",function(a,b){while(g.length)g.pop().unsubscribe()})];c.send()}else new(b("AsyncRequest"))(f).setData(a).setAllowCrossPageTransition(!0).setErrorHandler(function(a){e(a)}).setHandler(function(a){d(a)}).send()};c.likeThreadItem=function(a,c,d,e){var f=c.token.split(":");b("PagesInstagramDirectMessageReactionMutation").commit(f[3],a,c.uuid,f[4],"like","created",c.itemType.toLowerCase(),d,e)};c.unlikeThreadItem=function(a,c,d,e){var f=c.token.split(":");b("PagesInstagramDirectMessageReactionMutation").commit(f[3],a,c.uuid,f[4],"like","deleted",c.itemType.toLowerCase(),d,e)};c.markThreadAsSeen=function(a,c,d,e){b("PagesInstagramDirectMessageMarkAsSeenMutation").commit(c.threadToken,a,c.uuid,c.itemToken,d,e)};c.markRavenAsSeen=function(a,c,d,e){b("PagesInstagramDirectMessageMarkRavenAsSeenMutation").commit(c.threadToken,a,c.uuid,c.itemToken,d,e)};c.deleteThread=function(a,c,d,e){b("PagesInstagramDirectMessageDeleteThreadMutation").commit(c.threadID,a,d,e)};c.blockUser=function(a,c,d,e){b("PagesInstagramDirectMessageBlockUserMutation").commit(c.thread_id,a,c.user_id,d,e)};c.updateThreadStatus=function(a,c,d,e){b("IGMessageMarkThreadMutation").commit(a,c.threadID,c.filterStatus,c.followUpStatus,c.unreadStatus,d,e)};c.updateThreadAdminStatus=function(a,c,d,e){b("IGMessageThreadAdminAssignmentMutation").commit(a,c.threadID,c.adminID,d,e)};c.__prepareSendPayload=function(a,b){return{request_user_id:b,body:a.body,client_thread_id:a.thread_id,offline_threading_id:a.offline_threading_id,source:a.source,thread_fbid:a.thread_fbid,action_type:a.messageType,image_id:a.image_id}};return a}();e.exports=a}),null);
__d("PagesCommsInboxTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PagesCommsInboxLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesCommsInboxLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesCommsInboxLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setCustomerID=function(a){this.$1.customer_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFunnel=function(a){this.$1.funnel=a;return this};c.setMessageID=function(a){this.$1.message_id=a;return this};c.setMessagingPlatform=function(a){this.$1.messaging_platform=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setStatus=function(a){this.$1.status=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={client_time:!0,customer_id:!0,event:!0,funnel:!0,message_id:!0,messaging_platform:!0,page_id:!0,status:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("IGMessageServerActions",["IGMessageConnectionStatusStore","IGMessageConnectionStatusTypes","IGMessageDataDispatcher","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerRequests","PagesCommsInboxTypedLogger","PagesManagerAction","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=new Map(),this.__serverRequests=new(b("IGMessageServerRequests"))()}var c=a.prototype;c.clearAllPendingActions=function(){this.$2=new Map()};c.getAllPendingActions=function(){return this.$2};c.getPendingActionsNumber=function(a){a=this.$2.get(a);return a?a.length:0};c.send=function(a){var c=this;if(a.thread_id===null||a.thread_id===void 0)return;var d;a.photo!=null||a.image_id!=null?d="MEDIA":a.body!==""?d="TEXT":d="LIKE";new(b("PagesCommsInboxTypedLogger"))().setFunnel("page_send_to_user").setCustomerID(a.thread_id).setMessageID(a.offline_threading_id).setEvent("tapped_send").setClientTime(b("IGMessageInboxStore").getNowTimestamp()).setMessagingPlatform("instagram_direct").setPageID(this.$1).log();b("IGMessageDataMutateAction").markThreadItemAsCreating(this.$1,b("nullthrows")(a.thread_id),{ig_thread_item_media:null,token:null,time_stamp:b("IGMessageInboxStore").getNowTimestamp(),ig_item_type:d,sender_id:b("IGMessageInboxStore").getInboxIGID(),client_context:a.offline_threading_id,text:a.body,item_id:null,ig_reaction:null,raven_media:null,share:null,profileshare:null,ig_placeholder:null,action_log:null,link_source:null,animated_media:null,voice_media:null});var e=b("nullthrows")(a.thread_id),f=b("nullthrows")(a.offline_threading_id);this.$4(f,function(){});this.$4(e,function(){return c.__serverRequests.sendNewMessage(c.$1,a,function(a){c.$5(e);a=b("nullthrows")((a=a)!=null?(a=a.payload)!=null?a.item_token:a:a);c.$2.set(a,c.$2.get(f)||[]);c.$2["delete"](f);c.$5(a)},function(a){c.$6(e)})})};c.likeThreadItem=function(a,c,d){var e=this;b("IGMessageDataMutateAction").likeThreadItem(this.$1,"",a);var f=b("IGMessageInboxStore").getItemType(this.$1,a)||"";this.$4(a,function(a){return e.__serverRequests.likeThreadItem(e.$1,{token:a,itemType:f,timestamp:d,uuid:c},function(b){return e.$5(a)},function(b){return e.$6(a)})})};c.unlikeThreadItem=function(a,c,d){var e=this;b("IGMessageDataMutateAction").unlikeThreadItem(this.$1,"",a);var f=b("IGMessageInboxStore").getItemType(this.$1,a)||"";this.$4(a,function(a){return e.__serverRequests.unlikeThreadItem(e.$1,{token:a,itemType:f,timestamp:d,uuid:c},function(b){return e.$5(a)},function(b){return e.$6(a)})})};c.markThreadAsSeen=function(a,c,d,e){c=c.split(":");b("IGMessageDataMutateAction").markThreadAsSeen(this.$1,a,c[c.length-1],e);this.__serverRequests.markThreadAsSeen(this.$1,{threadToken:a,itemToken:c[c.length-1],timestamp:e,uuid:d},function(){},function(){})};c.markRavenAsSeen=function(a,c,d,e){var f=this;b("IGMessageDataMutateAction").markThreadAsSeen(this.$1,a,c,e);this.$4(c,function(b){return f.__serverRequests.markRavenAsSeen(f.$1,{threadToken:a,itemToken:c,timestamp:e,uuid:d},function(a){return f.$5(b)},function(a){return f.$6(b)})})};c.deleteThread=function(a){var c=this;this.$4(a,function(d){return c.__serverRequests.deleteThread(c.$1,{threadID:a},function(a){c.$5(d),b("PagesManagerAction").clearViewListItem()},function(a){return c.$6(d)})})};c.blockUser=function(a,b){var c=this;this.$4(a,function(d){return c.__serverRequests.blockUser(c.$1,{thread_id:a,user_id:b},function(a){return c.$5(d)},function(a){return c.$6(d)})})};c.updateThreadStatus=function(a,b,c,d){var e=this;this.$4(a,function(f){return e.__serverRequests.updateThreadStatus(e.$1,{threadID:a,filterStatus:b,followUpStatus:c,unreadStatus:d},function(a){return e.$5(f)},function(a){return e.$6(f)})})};c.updateThreadAdminStatus=function(a,b){var c=this;this.$4(a,function(d){return c.__serverRequests.updateThreadAdminStatus(c.$1,{threadID:a,adminID:b},function(a){return c.$5(d)},function(a){return c.$6(d)})})};c.restartAllPendingActions=function(){var a=this;this.$2.forEach(function(b,c){return a.restartPendingActions(c)})};c.restartPendingActions=function(a){b("IGMessageDataDispatcher").dispatch({token:a,type:b("IGMessageConnectionStatusTypes").RUNNING}),this.$7(a)};c.$4=function(a,c){var d=this.$2.get(a);d||this.$2.set(a,[]);b("nullthrows")(this.$2.get(a)).push({action:c,isRunning:!1});this.$7(a)};c.$7=function(a){var c=this.$2.get(a);if(!c||c.length===0||c[0].isRunning)return;if(b("IGMessageConnectionStatusStore").getStatus(a)!==b("IGMessageConnectionStatusTypes").RUNNING)return;c[0].isRunning=!0;c[0].action(a)};c.$5=function(a){b("nullthrows")(this.$2.get(a)).shift(),this.$7(a)};c.$6=function(a){b("nullthrows")(this.$2.get(a))[0].isRunning=!1,b("IGMessageDataDispatcher").dispatch({token:a,type:b("IGMessageConnectionStatusTypes").NETWORK_ERROR})};a.$8=function(){var a=this.$3;if(!a){this.$3=new Map();return this.$3}return a};a.getForFBID=function(b){var c=this.$8(),d=c.get(b);d||(d=new a(b),c.set(b,d));return d};return a}();e.exports=a}),null);
__d("AssignedInstagramUserSerializedCryptoAuthTokenQuery",["RelayFBEnvironment","RelayModern","promiseDone","AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql");a=function(a,c){b("promiseDone")(h(b("RelayFBEnvironment"),i,{pageID:a}),function(a){c((a=a.page)==null?void 0:(a=a.admin_info)==null?void 0:a.assigned_instagram_user_serialized_crypto_auth_token)})};e.exports={getAssignedInstagramUserSerializedCryptoAuthToken:a}}),null);
__d("IGMessagingLocalIDs",["randomInt"],(function(a,b,c,d,e,f){"use strict";a={generateOfflineThreadingID:function(a){a=a||Date.now();var c=b("randomInt")(0,4294967295);c=("0000000000000000000000"+c.toString(2)).slice(-22);a=a.toString(2)+c;return g(a.slice(-63))}};function g(a){var b="";a=a;while(a!=="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}e.exports=a}),null);
__d("IGMqttChannel",["FacebookAppIDs","MqttChannel","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f){"use strict";b("MqttEnvInitializer").initialize();e.exports=new(b("MqttChannel"))({endpoint:(a=b("MqttWebConfig")).endpoint,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid,appId:b("FacebookAppIDs").PAGE_INBOX,initialSubscribedTopics:a.subscribedTopics,capabilities:a.capabilities,clientCapabilities:a.clientCapabilities,chatVisibility:!0})}),null);
__d("InstagramDirectDeltaHandler",["IGMessageDataMutateAction","IGMessageInboxStore","PagesCommsInboxTypedLogger"],(function(a,b,c,d,e,f){"use strict";var g="add",h="replace",i="remove",j=1,k=2,l=8;a={_convertToItemTypeEnum:function(a){switch(a){case"text":return"TEXT";case"media":return"MEDIA";case"like":return"LIKE";case"voice_media":return"VOICE_MEDIA";case"raven_media":return"RAVEN_MEDIA";case"media_share":return"MEDIA_SHARE";case"story_share":return"STORY_SHARE";case"reel_share":return"REEL_SHARE";case"profile":return"PROFILE";case"felix_share":return"FELIX_SHARE";case"action_log":return"ACTION_LOG";case"placeholder":return"PLACEHOLDER";case"link":return"LINK";case"animated_media":return"ANIMATED_MEDIA";default:return"UNSUPPORTED"}},_getThreadIDFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="threads")return a[b+1];return""},_getIsMarkAsSeenFromPath:function(a){a=a.split("/");return a[a.length-1]==="has_seen"},_getUserIdFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="participants")return a[b+1];return""},_getBestVideoURLAndDimensions:function(a){if(a===null||a===void 0||a.length===0)return null;var b=0,c=!1;for(var d=0;d<a.length;++d)if(a[d].width===480){c=!0;d===0?b=d:b=d-1;break}c===!1&&(b=a.length-1);return{uri:a[b].url,width:a[b].width,height:a[b].height}},_getBestImageURLAndDimensions:function(a){if(a.candidates===null||a.candidates===void 0||a.candidates.length===0)return null;var b=!1;for(var c=0;c<a.candidates.length;++c)if(a.candidates[c].width===480)if(c===0)return{uri:a.candidates[c].url,width:a.candidates[c].width,height:a.candidates[c].height};else return{uri:a.candidates[c-1].url,width:a.candidates[c-1].width,height:a.candidates[c-1].height};if(b===!1)return{uri:a.candidates[a.candidates.length-1].url,width:a.candidates[a.candidates.length-1].width,height:a.candidates[a.candidates.length-1].height}},_getMediaTypeString:function(a){switch(a){case 1:return"IMAGE";case 2:return"VIDEO";default:return""}},_getRavenMediaViewMode:function(a){switch(a){case"replayable":return"REPLAYABLE";case"permanent":return"PERMANENT";case"once":return"VIEW_ONCE"}},_getMediaPayload:function(a){return a===null||a===void 0?null:{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at}},_getReactions:function(a,c,d){if(a===null||a===void 0)return{likes_count:0};c=b("IGMessageInboxStore").getThread(c,d).getValue();if(c===null)return;var e=(d=c)!=null?(d=d.thread_users)!=null?d.nodes:d:d;if(e===null||e===void 0)return;c=a.likes.map(function(a){var b;return{instagram_user_id:a.sender_id.toString(),profile_picture:{uri:(b=e.find(function(b){return b.instagram_user_id===a.sender_id.toString()}))!=null?(b=b.profile_picture)!=null?b.uri:b:b}}});return{likes_count:a.likes_count,likes:c}},_getMediaShareMediaSource:function(a){switch(a.media_type){case j:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:null};case k:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}}},_getMediaShareSources:function(a){var b=this;switch(a.media_type){case j:case k:return[this._getMediaShareMediaSource(a)];case l:return a.carousel_media.map(function(a){return b._getMediaShareMediaSource(a)})}return[]},_getProfileSharePayload:function(a){var b=this,c=a.profile;if(c===null||c===void 0)return null;a=a.preview_medias===null||a.preview_medias===void 0?null:a.preview_medias.map(function(a){return b._getBestImageURLAndDimensions(a.image_versions2)});return{user:{instagram_user_id:c.pk,username:c.username,name:c.full_name,profile_picture:{uri:c.profile_pic_url}},media:a}},_getMediaSharePayload:function(a){return a===null||a===void 0?null:{user:{instagram_user_id:a.user.pk,username:a.user.username,name:a.user.full_name,profile_picture:{uri:a.user.profile_pic_url}},media:this._getMediaShareSources(a),text:(a=(a=a)!=null?(a=a.caption)!=null?a.text:a:a)!=null?a:""}},_getUserFromShare:function(a){return a===null||a===void 0?null:{instagram_user_id:a.pk.toString(),username:a.username,name:a.full_name,profile_picture:{uri:a.profile_pic_url}}},_getStoryMedia:function(a){return a===null||a===void 0?null:[{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at,media_owner:this._getUserFromShare(a.user)}]},__getFelixShareMedia:function(a){return a===null||a===void 0?null:[{media_type:a.media_type,image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}]},_getStoryType:function(a){switch(a){case"user_reel":return"USER_STORY";case"highlight_reel":return"HIGHLIGHT_STORY";case"ads_reel":return"ADS_STORY"}},_getStorySharePayload:function(a){if(a===null||a===void 0)return null;var b=this._getStoryMedia(a.media);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.media)!=null?b.user:b:b),story_type:this._getStoryType(a.reel_type),text:a.text,title:a.title,message:a.message}},_getFelixSharePayload:function(a){if(a===null||a===void 0)return null;var b=this.__getFelixShareMedia(a.video);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.video)!=null?b.user:b:b),text:a.text,title:a.video.title}},_getReelSharePayload:function(a){var b;if(a===null||a===void 0)return null;var c=this._getStoryMedia(a.media),d;switch(a.type){case"mention":b=a.mentioned_user_id===a.reel_owner_id?(b=c)!=null?(b=b.media_owner)!=null?b.username:b:b:"";d={instagram_user_id:a.mentioned_user_id.toString(),username:b};break;case"reply":d=(b=c)!=null?(b=b[0])!=null?b.media_owner:b:b}return{media:c,user:d,story_type:this._getStoryType(a.reel_type),type:a.type.toUpperCase(),text:a.text,title:a.title,message:a.message}},_getSharePayload:function(a){switch(a.item_type){case"media_share":return this._getMediaSharePayload(a.media_share);case"story_share":return this._getStorySharePayload(a.story_share);case"reel_share":return this._getReelSharePayload(a.reel_share);case"felix_share":return this._getFelixSharePayload(a.felix_share)}},_getActionLogPayload:function(a){return a===null||a===void 0||a.hide_in_thread===1?null:{description:a.description,bold:a.bold}},_getLinkPayload:function(a){return a===null||a===void 0?null:{client_context:a.client_context,text:a.text,link_context:this._getLinkContext(a.link_context)}},_getLinkContext:function(a){return a===null||a==void 0?null:{link_url:a.link_url,link_title:a.link_title,link_summary:a.link_summary,link_image_url:a.link_image_url}},_getRavenMediaPayload:function(a){var b=a.raven_media;if(b===null||b===void 0)return null;var c=this._getRavenMediaViewMode(a.view_mode),d;c==="PERMANENT"&&(b.expiring_at=b.url_expire_at_secs,d=[this._getMediaPayload(b)]);return{media_type:this._getMediaTypeString(b.media_type),media:d,seen_user_ids:a.seen_user_ids,view_mode:c,seen_count:a.seen_count}},_getVisualMediaPayload:function(a){a=a.visual_media;if(a===null||a===void 0)return null;var b=this._getRavenMediaViewMode(a.view_mode),c=[];b==="PERMANENT"&&(a.expiring_at=a.url_expire_at_secs,c.push(this._getMediaPayload(a)));return{media_type:this._getMediaTypeString(a.media.media_type),media:c,seen_user_ids:a.seen_user_ids,view_mode:b,seen_count:a.seen_count}},_getPlaceholderPayload:function(a){return a===null||a===void 0?null:{title:a.title,message:a.message}},_getAnimatedMediaPayload:function(a){var b;return!a?null:{width:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.width:b:b:b)!=null?b:null,height:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.height:b:b:b)!=null?b:null,uri:(a=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.url:b:b:b)!=null?a:null}},_getVoiceMediaPayload:function(a){var b;return!a?null:{audio_src:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.audio_src:b:b:b,duration:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.duration:b:b:b}},getDeltaItem:function(a,b){return{token:a,item_id:b.item_id,sender_id:b.user_id.toString(),time_stamp:b.timestamp.toString(),ig_item_type:this._convertToItemTypeEnum(b.item_type),text:b.text,client_context:b.client_context,ig_placeholder:this._getPlaceholderPayload(b.placeholder),profileshare:this._getProfileSharePayload(b),ig_reaction:null,share:this._getSharePayload(b),action_log:this._getActionLogPayload(b.action_log),ig_thread_item_media:this._getMediaPayload(b.media),raven_media:this._getRavenMediaPayload(b)||this._getVisualMediaPayload(b),link_source:this._getLinkPayload(b.link),animated_media:this._getAnimatedMediaPayload(b.animated_media),voice_media:this._getVoiceMediaPayload(b.voice_media)}},processDeltaItem:function(a,c,d){var e,f=d.value&&JSON.parse(d.value),j=this._getThreadIDFromPath(d.path);e=b("IGMessageInboxStore").getItemToken(a,j,(e=f==null?void 0:f.item_id)!=null?e:d==null?void 0:d.value);new(b("PagesCommsInboxTypedLogger"))().setFunnel("user_send_to_page").setCustomerID(j).setMessageID(e).setEvent("received_new_delta").setClientTime(Date.now()).setPageID(c).setMessagingPlatform("instagram_direct").log();switch(d.op){case g:var k=this.getDeltaItem(e,f);b("IGMessageDataMutateAction").createThreadItem(c,j,k);break;case h:if(this._getIsMarkAsSeenFromPath(d.path)){k=f.item_id;b("IGMessageDataMutateAction").markThreadAsSeen(c,j,k,f.timestamp.toString(),this._getUserIdFromPath(d.path));break}b("IGMessageDataMutateAction").updateThreadReadStatus(c,j,f.read_state===0);b("IGMessageDataMutateAction").updateThreadFollowUpStatus(c,j,f.thread_label===1);if(f.thread_id&&f.items&&f.items[0]){k=b("IGMessageInboxStore").getItemToken(a,f.thread_id,f.items[0].item_id);d=this.getDeltaItem(k,f.items[0]);b("IGMessageDataMutateAction").createThreadItem(c,j,d);break}a=this._getReactions(f.reactions,c,j);k=this._getRavenMediaPayload(f)||this._getVisualMediaPayload(f);b("IGMessageDataMutateAction").updateThreadItem(c,j,e,{ig_reaction:a,raven_media:k});break;case i:if(j&&!f){b("IGMessageDataMutateAction").deleteThread(c,j);break}b("IGMessageDataMutateAction").deleteThreadItem(c,j,e);break;default:return}}};e.exports=a}),null);
__d("PageInstagramDirectSyncProtocolEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MQTT_CONNECTED:"mqtt_connected",MQTT_ERROR_RECEIVED:"mqtt_error_received",AUTH_TOKEN_FETCHED:"auth_token_fetched",IRIS_CONNECTION_REQUEST:"iris_connection_request",IRIS_SUBSCRIPTION_PUBLISHED:"iris_subscription_published",IRIS_SUBSCRIPTION_RESPONSE_EMPTY:"iris_subscription_response_empty",IRIS_SUBSCRIPTION_RESPONSE_RECEIVED:"iris_subscription_response_received"})}),null);
__d("PageInstagramDirectSyncProtocolTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PageInstagramDirectSyncProtocolLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PageInstagramDirectSyncProtocolLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PageInstagramDirectSyncProtocolLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setInstagramUserID=function(a){this.$1.instagram_user_id=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={event:!0,instagram_user_id:!0,page_id:!0,session_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("InstagramDirectMessageEventStream",["AssignedInstagramUserSerializedCryptoAuthTokenQuery","IGMessageDataMutateAction","IGMessagingLocalIDs","IGMqttChannel","InstagramDirectDeltaHandler","MercurySingletonProvider","MercurySyncDeltaHolder","MqttLogger","PageInstagramDirectSyncProtocolEvent","PageInstagramDirectSyncProtocolTypedLogger","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";var g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery").getAssignedInstagramUserSerializedCryptoAuthToken;a=function(){a.getForFBID=function(a){return h.getForFBID(a)};function a(a){var c=this;this.$17=function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").AUTH_TOKEN_FETCHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log();a={seq_id:c.$5,snapshot_at_ms:c.$10!==null&&c.$10!==void 0?c.$10:Date.now(),subscription_type:"all_message",serialized_crypto_auth_token:a};c.$3.publish("/ig_sub_iris",JSON.stringify(a));new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_PUBLISHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log()};this.$4="Disconnected";this.$6=[];this.$2=b("MqttLogger").getInstance();this.$7=b("MercurySyncDeltaHolder").getForFBID(a);this.$5=0;this.$9=!1;this.$12=!1}var c=a.prototype;c.getLatestIrisSeqID=function(){return this.$5};c.addDeltaStreamListener=function(a){this.$6.push(a)};c.onInboxLoad=function(a,c,d,e,f,g){var h=this;e===void 0&&(e=null);f===void 0&&(f=null);this.$5=a;this.$8=c;this.$1=d;this.$9=!1;this.$7.updateLastSeqIDAndClearHistory(a);this.$10=f;this.$12=g;(this.$3===null||this.$3===void 0)&&(this.$11=b("IGMessagingLocalIDs").generateOfflineThreadingID(Date.now()),this.$3=e||b("IGMqttChannel"),this.$3.subscribeChannelEvents({onMQTTStateChanged:function(a){h.$4!=="Connected"&&a==="Connected"&&(new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_CONNECTED).setPageID(h.$1).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$13()),h.$4=a},onJSError:function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_ERROR_RECEIVED).setPageID(h.$1).addToExtraData("error",a.message).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$14(a.message)}}),this.$3.subscribe("/ig_sub_iris_response",function(a){return h.$15(a)}),this.$3.subscribe("/ig_message_sync",function(a){return h.$16(a)}),this.$3.subscribe("/notify_disconnect",function(a){return h.$14(a)}))};c.$13=function(){if(this.$12){var a;a=(a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:(a=a.instagramDirectConfig)==null?void 0:a.chatToken;this.$17(a)}else g(this.$1,this.$17)};c.$18=function(a){var b=null;try{b=JSON.parse(a)}catch(a){this.$2.logError(a,"Unable to process data")}return b};c.$15=function(a){a=this.$18(a);if(a===null||a===void 0){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_EMPTY).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log();return}new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_RECEIVED).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log()};c.$16=function(a){var b=this;a=this.$18(a);if(a===null||a===void 0)return;a.forEach(function(a){a.data.forEach(function(c){b.$7.push(a.seq_id,c),b.$19()})})};c.$19=function(){if(this.$9)return;var a=this.$7.peek();if(a===null||a===void 0)return;a=a-this.$7.getLastSeqID();if(a===1){var c=this.$7.pop();if(!c)return;var d=c.seqID;c=c.delta;this.$5=d;this.$7.updateLastSeqID(d);b("InstagramDirectDeltaHandler").processDeltaItem(this.$8,this.$1,c);this.$19()}else a<=0?(this.$7.pop(),this.$19()):(this.$9=!0,b("IGMessageDataMutateAction").forceFetchInbox(this.$1,20,"TODO",!1,!1,null,this.$12))};c.$14=function(a){this.$4="Disconnected",this.$2.logWarn("_handleNotifyDisconnect","Disconnecting reason: "+a),this.$2.bumpCounter(a+"_request"),this.$6.forEach(function(b){return b.onStreamDisconnect(a)})};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("IGMessageConnectionUtils",["InstagramDirectMessageEventStream"],(function(a,b,c,d,e,f){"use strict";e.exports={processInstagramMessageEventStream:function(a,c,d,e,f){e===void 0&&(e=null);f===void 0&&(f=!1);var g=b("InstagramDirectMessageEventStream").getForFBID(a).getLatestIrisSeqID();d!=null&&parseInt(d.sync_sequence_id,10)>g&&b("InstagramDirectMessageEventStream").getForFBID(a).onInboxLoad(parseInt(d.sync_sequence_id,10),a,c,e,null,f)}}}),null);
__d("SUILiveRailThemeDEPRECATED",["cssVar","Icon.atlas","React","SUIAtlasIcon.react","SUITheme","SUITypeStyle"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i={black:"#000000",blackOpacity40:"rgba(0, 0, 0, .4)",neutral80:"#303030",neutral72:"#464646",neutral50:"#808080",neutral30:"#B3B3B3",neutral15:"#D8D8D8",neutral06:"#EEEEEE",neutral03:"#F6F6F6",neutral02:"#F9F9F9",white:"#FFFFFF",green:"#88C55C",greenTint85:"#EDF6E6",greenTint50:"#C3E2AD",greenShade10:"#7AB052",greenShade25:"#659344",blue:"#5590CC",blueTint85:"#E5EEF7",blueTint50:"#AAC7E5",blueShade10:"#4C81B7",blueShade25:"#3F6B98",orange:"#F05442",orangeTint85:"#FCE5E2",orangeTint50:"#F6A8A0",orangeShade10:"#D74A3B",orangeShade25:"#B33E31",yellow:"#FDCC50",yellowTint85:"#FEF7E4",yellowTint50:"#FEE4AA",yellowShade10:"#E3B747",yellowShade25:"#BE983C",purple:"#9977BB",purpleTint85:"#EFEAF4",purpleTint50:"#CCBBDD",purpleShade10:"#896AA8",purpleShade25:"#72598C"};c={type40:new(a=b("SUITypeStyle"))({fontSize:"40px",color:"#464646",fontFamily:"Source Sans Pro, Helvetica, Arial, Lucida Grande, sans-serif",fontWeight:"300"}),type32:new a({fontSize:"32px",color:"#464646",fontFamily:"Source Sans Pro, Helvetica, Arial, Lucida Grande, sans-serif",fontWeight:"300"}),type32Value:new a({fontSize:"32px",color:"#464646",fontFamily:"Source Sans Pro, Helvetica, Arial, Lucida Grande, sans-serif",fontWeight:"300"}),type24:new a({fontSize:"24px",color:"#464646",fontFamily:"Source Sans Pro, Helvetica, Arial, Lucida Grande, sans-serif",fontWeight:"600"}),type24Value:new a({fontSize:"24px",color:"#464646",fontFamily:"Source Sans Pro, Helvetica, Arial, Lucida Grande, sans-serif",fontWeight:"600"}),type16:new a({fontSize:"16px",color:"#464646",fontFamily:"Helvetica, Arial, Lucida Grande, sans-serif"}),type12:new a({fontSize:"12px",color:"#464646",fontFamily:"Helvetica, Arial, Lucida Grande, sans-serif"}),type12Form:new a({fontSize:"12px",color:"#464646",fontFamily:"Helvetica, Arial, Lucida Grande, sans-serif"}),type12Label:new a({fontSize:"12px",fontWeight:"normal",textTransform:"uppercase",color:"#808080",fontFamily:"Helvetica, Arial, Lucida Grande, sans-serif"}),type12Toast:new a({fontSize:"12px",fontWeight:"normal",color:"#FFFFFF",fontFamily:"Helvetica, Arial, Lucida Grande, sans-serif"}),type11:new a({fontSize:"11px",color:"#464646",fontFamily:"Helvetica, Arial, Lucida Grande, sans-serif"}),type11Bold:new a({fontSize:"11px",color:"#464646",fontFamily:"Helvetica, Arial, Lucida Grande, sans-serif",fontWeight:"700"})};d=function(a){return h.jsx(b("SUIAtlasIcon.react"),babelHelpers["extends"]({},a,{colorDefault:i.neutral50,colorDisabled:i.neutral15,colorHover:i.neutral72,name:"delete"}))};f=function(a){return h.jsx(b("SUIAtlasIcon.react"),babelHelpers["extends"]({},a,{colorDefault:i.neutral15,colorDisabled:i.neutral30,colorHover:i.neutral06,name:"delete"}))};d={SUIButton:{height:{normal:32,"short":32,tall:48},padding:{normal:{button:"16px",icon:"6px",onlyIcon:"19px"},"short":{button:"16px",icon:"6px",onlyIcon:"19px"},tall:{button:"16px",icon:"6px",onlyIcon:"19px"}},typeStyle:c.type12,use:{confirm:{active:{background:i.blueShade25,borderColor:i.blueShade25,color:i.white},disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},hover:{background:i.blueShade10,borderColor:i.blueShade10,color:i.white},normal:{background:i.blue,borderColor:i.blue,color:i.white}},"default":{active:{background:i.neutral06,borderColor:i.neutral15,color:i.neutral72},disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},hover:{background:i.neutral03,borderColor:i.neutral15,color:i.neutral72},normal:{background:i.white,borderColor:i.neutral15,color:i.neutral72}},special:{active:{background:i.orange,borderColor:i.orange,color:i.white},disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},hover:{background:i.orangeShade10,borderColor:i.orangeShade10,color:i.white},normal:{background:i.orangeShade25,borderColor:i.orangeShade25,color:i.white}},flat:{active:{background:i.neutral06,borderColor:i.neutral15,color:i.neutral72},disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},hover:{background:i.neutral03,borderColor:i.neutral15,color:i.neutral72},normal:{background:i.white,borderColor:i.neutral15,color:i.neutral72}},flatWhite:{active:{background:i.neutral06,borderColor:i.neutral15,color:i.neutral72},disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},hover:{background:i.neutral03,borderColor:i.neutral15,color:i.neutral72},normal:{background:i.white,borderColor:i.neutral15,color:i.neutral72}}}},SUIButtonIcon:{colorConfirm:i.blueTint50,colorDefault:i.neutral50,colorDisabled:i.white,colorSpecial:i.orangeTint50,defaultSize:18,iconComponent:g=b("SUIAtlasIcon.react")},SUICardDEPRECATED:{colors:{background:i.white,border:i.neutral06,footerBackground:i.neutral02,innerBorder:i.neutral15},typeStyles:{content:c.type12,footer:c.type12,header:c.type16}},SUIThreeStateCheckboxInput:{activeCheckboxBackgroundColor:i.white,activeCheckboxBorderColor:i.blueTint50,checkboxBackgroundColor:i.white,checkboxBorderColor:i.neutral15,checkedIcon:h.jsx(g,{colorDefault:i.neutral72,name:"check",size:14}),disabledCheckboxBackgroundColor:i.neutral15,disabledLabelColor:i.neutral30,labelColor:i.neutral72,partiallyCheckedIcon:h.jsx(g,{colorDefault:i.neutral72,name:"dash",size:14}),typeStyle:c.type12},SUICloseButton:{dark:{large:d,small:d},light:{large:f,small:f},iconSize:{large:20,small:14}},SUICustomPopover_DEPRECATED:{backgroundColor:i.white,borderColor:i.neutral15,borderHighlightColor:i.green,color:i.neutral72},SUITooltip:{backgroundColor:i.neutral80,color:i.white,showArrow:!0,typeStyle:babelHelpers["extends"]({},c.type12,{WebkitFontSmoothing:"auto"})},SUIDateInput:{inputIcon:h.jsx(g,{colorDefault:i.neutral30,name:"calendarMonth",size:24}),layerBackgroundColor:i.white,layerBorderColor:i.neutral15},SUICalendarPager:{dayColor:i.neutral72,dayDisabledColor:i.neutral30,dayNameColor:i.neutral30,gridBorderColor:i.neutral15,pagerBackgroundColor:i.neutral03,pagerBorderColor:i.neutral06,rangeBackgroundColor:i.neutral15,selectedBackgroundColor:i.blueTint50,typeStyle:c.type12},SUIDateTimeRangePicker:{backgroundColor:i.white,borderColor:i.neutral15,typeStyle:c.type12},SUIError:{error:{borderColor:i.orange,icon:h.jsx(g,{colorDefault:i.orange,name:"warning",size:24})},warning:{borderColor:i.yellow,icon:h.jsx(g,{colorDefault:i.yellow,name:"warning",size:24})}},SUIFileSelector:{backgroundColor:{"default":i.white,hovering:i.neutral03},borderColor:{"default":i.neutral15,error:i.orange},typeStyles:{content:c.type12,header:c.type24}},SUIFormRow:{childrenText:c.type12,emphasizedBackgroundColor:i.neutral06,labelText:c.type12,positions:{helpPosition:"11px",requiredPosition:"16px",requiredPositionWithHelp:"32px"},requiredColor:i.orange},SUIHelpMessage:{icon:h.jsx(g,{name:"information",style:{color:i.neutral30}})},SUIHighlightedText:{backgroundColor:i.greenTint50},SUIInlineTypeahead:{dividerBorderColor:i.neutral15,searchIcon:h.jsx(g,{colorDefault:i.neutral50,name:"search"})},SUILoadingBar:{backgroundColor:i.orange,movingColor:i.orangeTint50},SUILink:{hoverColor:i.blueShade25,normalColor:i.blue},SUIModalDEPRECATED:{margin:24},SUIModalBackgroundDEPRECATED:{backgroundColor:i.blackOpacity40},SUIModalCardDEPRECATED:{boxShadow:"0px 1px 0px 0px rgba(0, 0, 0, 0.10)",colors:{background:i.neutral02,border:i.neutral06,footerBackground:i.white,headerBackground:i.white,innerBorder:i.neutral15},fullWidthFooterDivider:!0,padding:{contentLightPadding:{paddingBottom:"8px",paddingLeft:"24px",paddingRight:"24px",paddingTop:"8px"},contentNormalPadding:{paddingBottom:"24px",paddingLeft:"24px",paddingRight:"24px",paddingTop:"24px"},footer:{paddingBottom:"0",paddingLeft:"24px",paddingRight:"8px",paddingTop:"0"},header:{paddingBottom:"0",paddingLeft:"24px",paddingRight:"8px",paddingTop:"0"}},typeStyles:{content:c.type12,footer:c.type16,header:c.type16}},SUINameCell:{description:{color:i.neutral72,typeStyle:c.type11},height:48},SUINestedTable:{borderColor:i.neutral15,evenBackgroundColor:i.white,loadingBackgroundColor:i.neutral03,loadingColor:i.neutral30,oddBackgroundColor:i.neutral02,rowIconClosedName:"chevronRight",rowIconComponent:b("Icon.atlas"),rowIconOpenName:"chevronDown",textColor:i.neutral72,textStyle:c.type12},SUINotice:{textStyle:c.type12Form,type:{error:{icon:h.jsx(g,{colorDefault:i.white,name:"warning"}),iconBackgroundColor:i.orange,messageBackgroundColor:i.white,messageBorderColor:i.neutral15},information:{icon:h.jsx(g,{colorDefault:i.white,name:"information-open"}),iconBackgroundColor:i.blue,messageBackgroundColor:i.white,messageBorderColor:i.neutral15},success:{icon:h.jsx(g,{colorDefault:i.white,name:"check"}),iconBackgroundColor:i.blue,messageBackgroundColor:i.white,messageBorderColor:i.neutral15},warning:{icon:h.jsx(g,{colorDefault:i.white,name:"warning"}),iconBackgroundColor:i.orange,messageBackgroundColor:i.white,messageBorderColor:i.neutral15}}},SUIRadioList:{activeBackgroundColor:"#dddfe2",activeBorderColor:"#bec2c9",activeDotColor:"#4b4f56",backgroundColor:"#f6f7f9",borderColor:"#dddfe2",disabledBackgroundColor:"#f6f7f9",disabledBorderColor:"#dddfe2",disabledDotColor:"#dddfe2",disabledTypeColor:i.neutral30,dotColor:"#4b4f56",enabledTypeColor:i.neutral72,typeStyle:c.type12},SUISearchableSelector:{disabledSubtitleTypeStyle:c.type12,disabledTitleTypeStyle:c.type12,dropdownBackgroundColor:i.white,dropdownBorderColor:i.neutral15,headerBackgroundColor:i.white,headerTypeStyle:c.type12,subtitleColor:i.neutral30,subtitleTypeStyle:c.type12,titleTypeStyle:c.type12},SUISearchInput:{cancelIcon:h.jsx(g,{colorDefault:i.neutral15,colorHover:i.neutral50,name:"delete"}),searchIcon:h.jsx(g,{colorDefault:i.neutral15,colorFocused:i.neutral50,name:"search",size:24})},SUISectionHeading:{borderColor:i.neutral15,color:i.neutral50,typeStyle:c.type24},SUISelector:{backgroundColor:i.white,borderColor:i.neutral15,boxShadow:"none"},SUISelectorButton:{use:{"default":{chevron:h.jsx(g,{colorDefault:i.neutral72,colorDisabled:i.neutral30,name:"chevronDown",size:12})}},padding:"12px"},SUISelectorOption:{activeBackgroundColor:i.blueTint85,activeColor:i.neutral72,color:i.neutral72,descriptionColor:i.neutral50,descriptionSelectedColor:i.neutral15,disabledBackgroundColor:i.neutral15,disabledColor:i.white,highlightedBackgroundColor:i.blueTint85,highlightedColor:i.neutral72,padding:{bottom:"8px",left:"12px",right:"24px",top:"8px"},paddingWhenNoValue:{bottom:"8px",left:"12px",right:"24px",top:"8px"},selectedBackgroundColor:i.blue,selectedColor:i.white,selectedTypeStyle:c.type12,typeStyle:c.type12},SUISelectorSeparator:{color:i.neutral15,margin:{bottom:"12px",left:"12px",right:"12px",top:"12px"}},SUISpinner:{activeColor:i.neutral50,backgroundColor:i.neutral15,darkActiveColor:i.neutral50,darkBackgroundColor:i.neutral15,sizes:{large:{border:2,diameter:20},small:{border:1.5,diameter:12}}},SUIStatusIndicator:{colors:{active:i.green,error:i.orange,empty:i.white,inactive:i.neutral15,warning:i.yellow},size:{border:2,diameter:10}},SUITabGroup:{},SUITabItem:{activeBorderBottomColor:i.neutral72,activeTypeStyle:c.type12,disabledColor:i.neutral30,height:44,hoverBackgroundColor:i.neutral03,iconMargin:4,subtextTypeStyle:c.type11,typeStyle:c.type12},SUITableDEPRECATED:{cellPadding:8,colors:{cell:i.neutral72,cellBorder:i.neutral03,cellErrorBackground:i.orangeTint85,cellHoverBackground:i.neutral06,cellModifiedBackground:i.neutral15,cellSelectedBackground:i.blueTint85,cellSelectedHoverBackground:i.neutral06,cellWarningBackground:i.yellowTint85,error:i.orange,heading:i.neutral72,headingBackground:i.white,headingRule:i.neutral15,highlight:i.blue,loading:i.neutral30,loadingBackground:i.neutral03,noItemsMessage:i.neutral72,rowBackground:i.white,rowStripe:i.neutral02,text:i.neutral72,warning:i.yellow},minimumViewportHeightForStickyHeader:"480px",textStyles:{cell:c.type12,heading:c.type12,table:c.type12}},SUITextArea:{disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},enabled:{background:i.white,borderColor:i.neutral15},focusedBorderColor:"#4080ff",placeholderColor:i.neutral30,placeholderColorFocused:i.neutral15,typeStyle:c.type12Form},SUITextInput:{characterCountTypeStyle:new a({color:i.neutral30,fontFamily:"Helvetica, Arial, Lucida Grande, sans-serif",fontSize:"11px",fontWeight:"normal"}),disabled:{background:i.neutral15,borderColor:i.neutral15,color:i.white},enabled:{background:i.white,borderColor:i.neutral15},errorIconMargin:"3px",focusedBorderColor:"#4080ff",height:32,maxLengthHighlightColor:"rgba(250, 62, 62, 0.3)",placeholderColor:i.neutral30,placeholderColorFocused:i.neutral15,typeStyle:c.type12Form},SUIToast:{errorBackgroundColor:i.orange,errorIcon:h.jsx(g,{colorDefault:i.white,name:"warning"}),informationBackgroundColor:i.neutral72,informationIcon:h.jsx(g,{colorDefault:i.white,name:"information"}),isSpinnerDark:!0,messageBackgroundColor:i.neutral72,messageBorderColor:i.neutral72,successBackgroundColor:i.neutral72,successIcon:h.jsx(g,{colorDefault:i.white,name:"check"}),typeStyle:c.type12Toast,warningBackgroundColor:i.yellow,warningIcon:h.jsx(g,{colorDefault:i.white,name:"warning"})},SUIToggle:{height:26,off:{hover:{backgroundColor:i.neutral30,color:i.neutral72},normal:{backgroundColor:i.neutral15,color:i.neutral50}},on:{hover:{backgroundColor:i.neutral72,color:i.neutral02},normal:{backgroundColor:i.neutral50,color:i.neutral02}},switchColor:i.white,typeStyle:c.type12},SUIToggleButtonGroup:{selected:{backgroundColor:i.neutral50,color:i.white}},SUIToken:{backgroundColor:i.blue,color:i.white,typeStyle:c.type12,closeButtonShade:"light"},SUITokenizer:{disabled:{backgroundColor:i.neutral06,borderColor:i.neutral15},enabled:{backgroundColor:i.white,borderColor:i.neutral15},errorIconMarginRight:"0px",typeaheadInput:{typeStyle:c.type12}},SUITokenizerItem:{disabled:{color:i.neutral30,subtitleColor:i.neutral15},highlighted:{backgroundColor:i.blueTint85,color:i.neutral80,subtitleColor:i.neutral50},normal:{color:i.neutral72,subtitleColor:i.neutral50},remove:{disabledIcon:h.jsx(g,{colorDefault:i.neutral30,name:"delete",size:14}),highlightedIcon:h.jsx(g,{colorDefault:i.neutral80,name:"delete",size:14}),normalIcon:h.jsx(g,{colorDefault:i.neutral72,name:"delete",size:14}),selectedIcon:h.jsx(g,{colorDefault:i.white,name:"delete",size:14})},selected:{backgroundColor:i.blue,color:i.white,disabledIcon:h.jsx(g,{colorDefault:i.neutral30,name:"check",size:14}),highlightedIcon:h.jsx(g,{colorDefault:i.neutral80,name:"check",size:14}),isIconShownForSingleSelection:!1,normalIcon:h.jsx(g,{colorDefault:i.neutral72,name:"check",size:14}),selectedIcon:h.jsx(g,{colorDefault:i.white,name:"check",size:14}),subtitleColor:i.blueTint50}},SUITokenizerItemList:{backgroundColor:i.white,borderColor:i.neutral15,categoryHeader:{borderColor:i.neutral06,typeStyle:c.type16},typeStyle:c.type12},SUITypeahead:{input:{backgroundColor:i.white,borderColor:i.neutral15,errorBorderColor:i.orange,focusedBorderColor:"#4080ff",typeStyle:c.type12Form,height:32},disabled:{backgroundColor:i.neutral15,borderColor:i.neutral15,color:i.white},dropdown:{backgroundColor:i.white,borderColor:i.neutral06,boxShadow:"0px 2px 1px -1px rgba(0, 0, 0, 0.10)",itemPadding:{bottom:"8px",left:"12px",right:"12px",top:"8px"}},highlight:{backgroundColor:i.blueTint85}},SUIHorizontalLayout:{margin:8}};f=new(b("SUITheme"))({id:"liverail",components:d});e.exports=f}),null);
__d("LDPSendAvailabilityDialogRoot.react",["JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("LDPSendAvailabilityViewRoot.react").__setRef("LDPSendAvailabilityDialogRoot.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=babelHelpers["extends"]({},this.props);return g.jsx(g.Suspense,{fallback:null,children:g.jsx(h,babelHelpers["extends"]({},a))})};return b}(g.Component);e.exports=a}),null);
__d("PagesManagerInboxComposerSendAvailabilityButton.react",["cx","fbt","LDPSendAvailabilityDialogRoot.react","Link.react","PagesInboxThreadActionSystemDispatcher","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogShown:!1},c.handleClick=function(){c.setState({dialogShown:!0})},c.handleToggleDialog=function(a){c.setState({dialogShown:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.renderSendAvailabilityDialog=function(){var a=this;return!this.state.dialogShown?null:i.jsx(b("LDPSendAvailabilityDialogRoot.react"),{causalElementRef:function(){return a},onToggle:this.handleToggleDialog,onSubmitCompleted:this.$1,pageID:this.props.pageID,referrer:"PMA Admin Booking Composer",shown:this.state.dialogShown,userID:this.props.recipientID})};d.render=function(){var a=h._("Send Availability");return i.jsxs("div",{children:[i.jsx(b("Link.react"),{"aria-label":this.props.showTooltip?a:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?a:null,onClick:this.handleClick,children:i.jsx("i",{className:"_2em5"})}),this.renderSendAvailabilityDialog()]})};return c}(i.Component);e.exports=a}),null);
__d("ServicesLeadGenBookableTasksSurveyTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ServicesLeadGenBookableTasksSurveyLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ServicesLeadGenBookableTasksSurveyLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ServicesLeadGenBookableTasksSurveyLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdditionalData=function(a){this.$1.additional_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setCurrentView=function(a){this.$1.current_view=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setErrorTrace=function(a){this.$1.error_trace=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setOtherBookableTasks=function(a){this.$1.other_bookable_tasks=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setReferrer=function(a){this.$1.referrer=a;return this};c.setSelectedBookableTasks=function(a){this.$1.selected_bookable_tasks=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setServicesCategory=function(a){this.$1.services_category=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={additional_data:!0,current_view:!0,error_message:!0,error_trace:!0,event:!0,other_bookable_tasks:!0,page_id:!0,referrer:!0,selected_bookable_tasks:!0,services_category:!0,session_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MercuryLWARenderer",["MercuryConfig","MessengerLightweightActionUtils","MessengerTextWithEntities.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a={renderCollapsedText:function(a){var c;b("MercuryConfig").MessengerNewEmojiGK?c=g.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:b("MessengerLightweightActionUtils").getCollapsedLWAText(a)}):c=g.jsx(b("TextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:b("MessengerLightweightActionUtils").getCollapsedLWAText(a)});return g.jsx("span",{children:c})}};e.exports=a}),null);
__d("MNCommerceLoggingConstants",[],(function(a,b,c,d,e,f){a={DIALOG_SURFACE:{CHECKOUT_ORDER_CONFIG:"checkout_order_config",SHIPMENT:"shipment",RECEIPT:"receipt",UNLINK:"unlink",UNLINK_ERROR:"unlink_error",MANAGE:"manage"}};e.exports=a}),null);
__d("MNCommercePromotionStateActions",["MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";a={stateLoaded:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").PROMOTION_STATE.LOADED,state:a})},stateLoadError:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").PROMOTION_STATE.LOAD_ERROR,pageID:a})},stateReload:function(a){b("MessengerDispatcher").dispatch({type:b("MNCommerceActionTypes").PROMOTION_STATE.RELOAD,pageID:a})}};e.exports=a}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/block/",{page_id:{type:"String",required:!0},type:{type:"String",required:!0}})}),null);
__d("MNCommercePromotionBlockDataManager",["AsyncRequest","MNCommercePromotionStateActions","XMNCommercePromotionBlockController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.block=function(a,c){a=b("XMNCommercePromotionBlockController").getURIBuilder().setString("page_id",a).setString("type",c).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this.$1).setErrorHandler(this.$2).send()};c.$1=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MNCommercePromotionStateActions").stateReload(a)};c.$2=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MNCommercePromotionStateActions").stateLoadError(a)};return a}();e.exports=new a()}),null);
__d("MNCommerceButton.react",["MessengerDialogButton.react","MessengerEnvironment","React","XUIButton.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MessengerEnvironment").messengerui,c=a?b("MessengerDialogButton.react"):b("XUIButton.react"),d=this.props.type;d||(d=this.props.type==="confirm"?"primary":"secondary");a=a?"default":this.props.use;d=babelHelpers["extends"]({},this.props,{type:d,use:a});return g.jsx(c,babelHelpers["extends"]({},d,{children:this.props.children}))};return c}(g.Component);e.exports=a}),null);
__d("MNCommerceAttachmentConstants",[],(function(a,b,c,d,e,f){a={XLARGE_IMAGE_DIMENSION:72,LARGE_IMAGE_DIMENSION:60,SMALL_IMAGE_DIMENSION:32,SINGLE_IMAGE_HEIGHT:108,BUBBLE_PADDING:6,IMAGE_HEIGHT:{CHAT:108,WEB_INBOX:130},UNLINK_ERROR_DIALOG:{WIDTH:300},DIALOG:{WIDTH:445,PADDING:12},MDOTCOMDIALOG:{WIDTH:495},ORDER_DETAIL:{SUB_TOTAL:"subTotal",SHIPPING:"shippingCost",TAX:"tax",TOTAL:"totalCost"}};e.exports=a}),null);
__d("MNCommerceDialog.react",["cx","LayerFadeOnHide","LayerHideOnEscape","MessengerDialog.react","MessengerEnvironment","MNCommerceAttachmentConstants","React","XUIDialog.react","createReactClass_DEPRECATED","emptyFunction","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=b("createReactClass_DEPRECATED")({displayName:"MNCommerceDialog",propTypes:{onToggle:b("prop-types").func,shown:b("prop-types").bool,width:b("prop-types").number.isRequired},getDefaultProps:function(){return{onToggle:b("emptyFunction"),repositionOnUpdate:!0,shown:!0,width:b("MessengerEnvironment").messengerui?b("MNCommerceAttachmentConstants").MDOTCOMDIALOG.WIDTH:b("MNCommerceAttachmentConstants").DIALOG.WIDTH}},componentDidUpdate:function(){this.props.repositionOnUpdate&&setTimeout(function(){this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer&&this.refs.dialog.layer.updatePosition()}.bind(this),0)},render:function(){var a=b("MessengerEnvironment").messengerui,c=a?b("MessengerDialog.react"):b("XUIDialog.react");return h.jsx(c,babelHelpers["extends"]({behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")}},this.props,{className:b("joinClasses")(this.props.className,a?"_3rx0":""),ref:"dialog",children:this.props.children}))}});e.exports=a}),null);
__d("MNCommerceDialogBody.react",["MessengerDialogBody.react","MessengerEnvironment","React","XUIDialogBody.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MessengerEnvironment").messengerui;a=a?b("MessengerDialogBody.react"):b("XUIDialogBody.react");return g.jsx(a,babelHelpers["extends"]({},this.props,{children:this.props.children}))};return c}(g.Component);e.exports=a}),null);
__d("MNCommerceDialogTitle.react",["MessengerDialogHeaderReact.re","MessengerEnvironment","React","XUIDialogTitle.react"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerDialogHeaderReact.re").make,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MessengerEnvironment").messengerui;a=a?g:b("XUIDialogTitle.react");return h.jsx(a,babelHelpers["extends"]({},this.props,{children:this.props.children}))};return c}(h.Component);e.exports=a}),null);
__d("MNCommerceDetailsDialog.react",["cx","fbt","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogTitle.react","React","XUIButton.react","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){return i.jsxs("div",{className:"_4y9b",children:[i.jsx("p",{className:"_4y9c",children:h._("Sorry, Something Went Wrong")}),i.jsx("p",{className:"_4y9d",children:d.props.errorMessage}),i.jsx(b("XUIButton.react"),{onClick:d.props.onTryAgain,label:h._("Try Again")})]})},d.$1=function(){return i.jsx("div",{className:"_4y9e",children:i.jsx(b("XUISpinner.react"),{background:"light",size:"large",paused:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=null;this.props.loading?a=this.$1():this.props.error?a=this.$2():a=this.props.children;return i.jsxs(b("MNCommerceDialog.react"),{className:this.props.className,modal:!0,onToggle:this.props.onToggle,shown:this.props.shown,children:[this.$3(),i.jsx(b("MNCommerceDialogBody.react"),{useCustomPadding:!0,children:a})]})};d.$3=function(){return this.props.title?i.jsx(b("MNCommerceDialogTitle.react"),{children:this.props.title}):null};return c}(i.Component);a.propTypes={error:(c=b("prop-types")).object,errorMessage:c.node,loading:c.bool.isRequired,onToggle:c.func,onTryAgain:c.func,title:c.node,shown:c.bool.isRequired};a.defaultProps={shown:!1};e.exports=a}),null);
__d("MNCommerceDialogFooter.react",["cx","MessengerDialogFooter.react","MessengerEnvironment","React","XUIDialogFooter.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MessengerEnvironment").messengerui,c=a?b("MessengerDialogFooter.react"):b("XUIDialogFooter.react"),d,e=this.props.children;a&&(d=h.Children.count(this.props.children),e=h.Children.map(this.props.children,function(a,c){return!a?null:h.cloneElement(a,{className:b("joinClasses")(a.props.className,"_4ec0"),type:c===0&&d===2?"secondary":"primary"})}));return h.jsx(c,babelHelpers["extends"]({},this.props,{children:e}))};return c}(h.Component);e.exports=a}),null);
__d("MNCommercePromotionManageBlockDialog.react",["fbt","CurrentUser","Link.react","MessengerEnvironment","MessengerRadioList.react","MNCommerceButton.react","MNCommerceDetailsDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","MNCommerceBlockTypeJSInstance","prop-types","React","URI","WorkModeConfig","XUIRadioList.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("MessengerRadioList.react").Item,j=b("React"),k=b("XUIRadioList.react").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this,b,c)||this;d.onTypeChange=function(a){d.setState({type:a})};d.$3=function(a){a=d.props;a.onToggle(!1);if(!a.onConfirmButtonClick)return;var b=a.pageID;a.onConfirmButtonClick(b,d.state.type)};d.state=d.$1();return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.$1(a))};d.$1=function(a){a=a||this.props;var c=b("MNCommerceBlockTypeJSInstance").ALL;(a.isAllBlocked||a.isPromotionBlocked)&&(c=b("MNCommerceBlockTypeJSInstance").NONE);return{type:c}};d.render=function(){var a=this.props.merchantName||"";a=g._("Manage messages from {label for merchant name}",[g._param("label for merchant name",a)]);var c=g._("Cancel"),d=g._("Confirm"),e=g._("Manage Options couldn't be shown."),f=b("CurrentUser").isWorkUser()?new(h||(h=b("URI")))("https://facebook.com/help/work/1731361900459513").setSubdomain(b("WorkModeConfig").company_subdomain||""):new(h||(h=b("URI")))("https://www.facebook.com/help/389645087895231");f=j.jsx(b("Link.react"),{href:f,target:"_blank",children:g._("Learn More")});return j.jsxs(b("MNCommerceDetailsDialog.react"),babelHelpers["extends"]({errorMessage:e,onToggle:this.props.onToggle,shown:this.props.shown},this.props,{children:[j.jsx(b("MNCommerceDialogTitle.react"),{showCloseButton:!0,children:a}),j.jsx(b("MNCommerceDialogBody.react"),{children:this.$2()}),j.jsxs(b("MNCommerceDialogFooter.react"),{leftContent:f,children:[j.jsx(b("MNCommerceButton.react"),{label:c,onClick:this.props.onCancelButtonClick,use:"default"}),j.jsx(b("MNCommerceButton.react"),{label:d,onClick:this.$3,use:"confirm"})]})]}))};d.$2=function(){var a=b("MessengerEnvironment").messengerui,c=a?b("MessengerRadioList.react"):b("XUIRadioList.react");a=a?i:k;return j.jsxs(c,{selectedValue:this.state.type,onValueChange:this.onTypeChange,children:[j.jsx(a,{value:b("MNCommerceBlockTypeJSInstance").ALL,children:g._("Receive all messages")}),j.jsx(a,{value:b("MNCommerceBlockTypeJSInstance").NONE,children:g._("Turn off all messages")})]})};return c}(j.Component);a.propTypes={isAllBlocked:(c=b("prop-types")).bool,isPromotionBlocked:c.bool,error:c.object,loading:c.bool.isRequired,merchantName:c.string,onCancelButtonClick:c.func,onConfirmButtonClick:c.func.isRequired,pageID:c.string};e.exports=a}),null);
__d("MNCommerceCacheTimeoutLimits",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SUCCESS_TIMEOUT:10,ERROR_TIMEOUT:1});e.exports=a}),null);
__d("XMNCommercePromotionStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/state/",{page_id:{type:"String",required:!0}})}),null);
__d("MNCommercePromotionStateDataManager",["AsyncRequest","MNCommercePromotionStateActions","XMNCommercePromotionStateController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.fetchPromotionState=function(a){a=b("XMNCommercePromotionStateController").getURIBuilder().setString("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this.$1).setErrorHandler(this.$2).send()};c.$1=function(a){var c=a.getRequest().uri.getQueryData();c=c.page_id;a.payload.pageID=c;b("MNCommercePromotionStateActions").stateLoaded(a.payload)};c.$2=function(a){a=a.getRequest().uri.getQueryData();a=a.page_id;b("MNCommercePromotionStateActions").stateLoadError(a)};return a}();e.exports=new a()}),null);
__d("MNCommercePromotionStateStore",["Cache","FluxStore","LoadObject","MessengerDispatcher","MNCommerceActionTypes","MNCommerceCacheTimeoutLimits","MNCommercePromotionStateDataManager"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerDispatcher"))||this;c.$MNCommercePromotionStateStore1=new(b("Cache"))();return c}var d=c.prototype;d.__onDispatch=function(a){var c=a.type,d=a.pageID||a.state&&a.state.pageID;switch(c){case b("MNCommerceActionTypes").PROMOTION_STATE.LOADED:c=a.state;this.$MNCommercePromotionStateStore1.set(d,b("LoadObject").withValue(c),null,b("MNCommerceCacheTimeoutLimits").SUCCESS_TIMEOUT);this.__emitChange();break;case b("MNCommerceActionTypes").PROMOTION_STATE.LOAD_ERROR:this.$MNCommercePromotionStateStore1.set(d,b("LoadObject").empty().setError(new Error("Unable to load permissions for: "+d)),null,b("MNCommerceCacheTimeoutLimits").ERROR_TIMEOUT);this.__emitChange();break;case b("MNCommerceActionTypes").PROMOTION_STATE.RELOAD:d&&(this.$MNCommercePromotionStateStore1.set(d,b("LoadObject").loading()),b("MNCommercePromotionStateDataManager").fetchPromotionState(d));this.__emitChange();break}};d.getPromotionState=function(a){a&&!this.$MNCommercePromotionStateStore1.has(a)&&(this.$MNCommercePromotionStateStore1.set(a,b("LoadObject").loading().setValue({pageID:a})),b("MNCommercePromotionStateDataManager").fetchPromotionState(a));return this.$MNCommercePromotionStateStore1.get(a)||b("LoadObject").empty()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("MNCommercePromotionManageBlockDialogContainer.react",["MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommercePromotionBlockDataManager","MNCommercePromotionManageBlockDialog.react","MNCommercePromotionStateActions","MNCommercePromotionStateStore","PureStoreBasedStateMixin","React","createReactClass_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=b("createReactClass_DEPRECATED")({displayName:"MNCommercePromotionManageBlockDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("MNCommercePromotionStateStore"))],statics:{calculateState:function(){var a=b("MNCommerceDialogStateStore").getState(),c=null;a&&(c=a.pageID);var d=b("MNCommercePromotionStateStore").getPromotionState(c);return{shown:!!a,loading:d.isLoading(),pageID:c,promotionState:d.getValue(),error:d.getError()}}},render:function(){var a=this.state.promotionState;return g.jsx(b("MNCommercePromotionManageBlockDialog.react"),{error:this.state.error,isAllBlocked:a&&a.is_all_blocked,isPromotionBlocked:a&&a.is_promotion_blocked,loading:this.state.loading,merchantName:a&&a.name,onCancelButtonClick:this._hideDialog,onToggle:this._onToggle,pageID:this.state.pageID,onTryAgain:this._onTryAgainClick,onConfirmButtonClick:this._handleConfirmButtonClick,shown:this.state.shown})},_onToggle:function(a){a||this._hideDialog()},_onTryAgainClick:function(){b("MNCommercePromotionStateActions").stateReload(this.state.pageID)},_hideDialog:function(){b("MNCommerceDialogStateActions").hideDialog()},_handleConfirmButtonClick:function(a,c){return b("MNCommercePromotionBlockDataManager").block(a,c)}});e.exports=a}),null);
__d("MNCommerceUnlinkDataManager",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.unlink=function(a,b){};return a}();e.exports=new a()}),null);
__d("MNCommerceUnlinkDialog.react",["fbt","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("Cancel"),c=g._("Turn Off");return h.jsxs(b("MNCommerceDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,children:[h.jsx(b("MNCommerceDialogTitle.react"),{showCloseButton:!1,children:g._("Unlink account?")}),h.jsx(b("MNCommerceDialogBody.react"),{children:h.jsx("div",{children:g._("You can turn off updates if you didn't sign up or just don't want to get them anymore.")})}),h.jsxs(b("MNCommerceDialogFooter.react"),{children:[h.jsx(b("MNCommerceButton.react"),{label:a,onClick:this.props.onCancelButtonClick,use:"default"}),h.jsx(b("MNCommerceButton.react"),{label:c,onClick:this.props.onTurnOffButtonClick,use:"confirm"})]})]})};return c}(h.Component);a.propTypes={onCancelButtonClick:b("prop-types").func,onTurnOffButtonClick:b("prop-types").func};e.exports=a}),null);
__d("MNCommerceUnlinkErrorDialog.react",["fbt","MNCommerceAttachmentConstants","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","MNCommerceErrors","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("OK"),c=null,d=null;switch(this.props.errorType){case b("MNCommerceErrors").ALREADY_UNLINKED:d=h.jsx("div",{children:g._("Updates Are Already Off")});c=h.jsx("div",{children:g._("You aren't getting updates in Messenger.")});break;default:d=h.jsx("div",{children:g._("Couldn't Turn Off Updates")});c=h.jsx("div",{children:g._("Sorry, something went wrong. Please try again.")});break}return h.jsxs(b("MNCommerceDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,width:b("MNCommerceAttachmentConstants").UNLINK_ERROR_DIALOG.WIDTH,children:[h.jsx(b("MNCommerceDialogTitle.react"),{children:d}),h.jsx(b("MNCommerceDialogBody.react"),{children:c}),h.jsx(b("MNCommerceDialogFooter.react"),{children:h.jsx(b("MNCommerceButton.react"),{label:a,onClick:this.props.onOkayButtonClick,use:"confirm"})})]})};return c}(h.Component);a.propTypes={errorType:b("prop-types").number,onOkayButtonClick:b("prop-types").func};e.exports=a}),null);
__d("MNCommerceUnlinkDialogContainer.react",["BanzaiLogger","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceLoggingConstants","MNCommerceUnlinkDialog.react","MNCommerceUnlinkErrorDialog.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a||d.$2()},d.$2=function(){b("MNCommerceDialogStateActions").hideDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("MNCommerceDialogStateStore").getState();if(a&&a.errorType){b("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:"dialog_load_success",debug_data:JSON.stringify({dialog_surface:b("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK_ERROR})});return g.jsx(b("MNCommerceUnlinkErrorDialog.react"),{onToggle:this.$1,shown:!!a,errorType:a.errorType,onOkayButtonClick:this.$2})}else{b("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:"dialog_load_success",debug_data:JSON.stringify({dialog_surface:b("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK})});return g.jsx(b("MNCommerceUnlinkDialog.react"),{onToggle:this.$1,shown:!!a,onCancelButtonClick:this.$2,onTurnOffButtonClick:a&&a.onTurnOffButtonClick})}};return c}(g.Component);e.exports=a}),null);
__d("MNCommerceLogMessageUtils",["cx","fbt","invariant","BanzaiLogger","CurrentUser","Link.react","MercuryIDs","MessengerEnvironment","MessengerState.bs","MNCommerceDialogStateActions","MNCommerceLoggingConstants","MNCommercePromotionBlockDataManager","MNCommercePromotionManageBlockDialogContainer.react","MNCommerceReplyTypes","MNCommerceUnlinkDataManager","MNCommerceUnlinkDialogContainer.react","React","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(){function a(){}var c=a.prototype;c.isCommercePageAdminMessage=function(a){return!!(a&&a.log_message_data&&(a.log_message_data.replyType===b("MNCommerceReplyTypes").COMMERCE_LINK||a.log_message_data.replyType===b("MNCommerceReplyTypes").COMMERCE_UNLINK))};c.getCommercePageManage=function(a,c){var d=this,e=null;if(b("gkx")("678671")){var f=function(){var c=b("MercuryIDs").getUserIDFromParticipantID(a.author);d.openManageMessagesDialog(a,c);b("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:"dialog_opened",debug_data:JSON.stringify({dialog_surface:b("MNCommerceLoggingConstants").DIALOG_SURFACE.MANAGE})})};e=this.getManageLink(f,c)}else if(a.log_message_data.replyType===b("MNCommerceReplyTypes").COMMERCE_LINK){f=function(){var c=b("MercuryIDs").getUserIDFromParticipantID(a.author),d=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),a.thread_id);d||i(0,3713,a.thread_id);var e=null;d.participants.every(function(c){if(c!==a.author){e=b("MercuryIDs").getUserIDFromParticipantID(c);return!1}return!0});d=function(){b("MNCommerceDialogStateActions").hideDialog(),b("MNCommerceUnlinkDataManager").unlink(c,e)};b("MNCommerceDialogStateActions").showDialog(b("MNCommerceUnlinkDialogContainer.react"),{onTurnOffButtonClick:d});b("BanzaiLogger").log("MessengerCommerceLoggerConfig",{event:"dialog_opened",debug_data:JSON.stringify({dialog_surface:b("MNCommerceLoggingConstants").DIALOG_SURFACE.UNLINK})})};e=j.jsx(b("Link.react"),{className:(c?"":"_2w2m")+(c?" _1jvn":""),onClick:f,children:h._("Turn Off")})}return j.jsxs("span",{children:[a.log_message_body," ",e]})};c.openManageMessagesDialog=function(a,c){a=function(a,c){return b("MNCommercePromotionBlockDataManager").block(a,c)};b("MNCommerceDialogStateActions").showDialog(b("MNCommercePromotionManageBlockDialogContainer.react"),{pageID:c,onConfirmButtonClick:a})};c.getManageLink=function(a,c){return j.jsx(b("Link.react"),{className:(c?"":"_2w2m")+(c?" _1jvn":""),onClick:a,children:h._("Manage Messages")})};c.getThreadResurrectionManage=function(a){var c=this,d=a.other_user_fbid,e=function(){return c.openManageMessagesDialog(a,d)};e=this.getManageLink(e,b("MessengerEnvironment").messengerui);return j.jsxs("span",{children:[a.log_message_body," ",e]})};c.isThreadResurrectionXMAT=function(a){a=(a=a)!=null?(a=a.log_message_data)!=null?a.message_type:a:a;return a==="messenger_thread_resurrection_notice"};return a}();e.exports=new a()}),null);
__d("LinkCTAXMATAsyncLink.react",["AsyncRequest","FDSLink.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onClick=function(){new(b("AsyncRequest"))().setURI(d.props.uri).setMethod("POST").send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return g.jsx(b("FDSLink.react"),{onClick:this.onClick,children:this.props.text})};return c}(g.Component);e.exports=a}),null);
__d("MNCommerceReportFlowType",[],(function(a,b,c,d,e,f){a=Object.freeze({HIDE:"hide",REPORT:"report",WHY:"why",USEFUL:"useful",WHAT:"what"});e.exports=a}),null);
__d("XMessengerDotComSponsoredMessagesXOutReportMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/mutation/",{ad_id:{type:"String",required:!0},ad_client_token:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutSubmitPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/submit/",{ad_token:{type:"String",required:!0},selected_option_type:{type:"String",required:!0},event_type:{type:"String",required:!0}})}),null);
__d("MNAdsMessageUtils",["ix","cx","fbt","Bootloader","FBJSON","Image.react","Link.react","MercuryIDs","MessengerPopoverMenu.react","MNCommerceDialogStateActions","MNCommercePromotionBlockDataManager","MNCommerceReportFlowType","QE2Logger","React","ReactXUIMenu","XAsyncRequest","XMessengerDotComSponsoredMessagesXOutReportMutationController","XMessengerDotComSponsoredMessagesXOutSubmitPageController","fbglyph","getPageIDFromThreadID","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ReactXUIMenu").Item,l="offsite_ad";a=function(){function a(){}var c=a.prototype;c.isAdsAdminMessage=function(a){return a&&a.log_message_data&&a.log_message_data.message_type&&a.log_message_data.message_type==="ad_manage_message"};c.isOffsiteAd=function(a){if(a.log_message_data&&a.log_message_data.untypedData&&a.log_message_data.untypedData.ad_properties){a=b("FBJSON").parse(a.log_message_data.untypedData.ad_properties);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e===l)return!0}}return!1};c.getadPreferencesUrl=function(a){return a.log_message_data&&a.log_message_data.untypedData&&a.log_message_data.untypedData.ad_preferences_link?a.log_message_data.untypedData.ad_preferences_link:""};c.hasAdProperties=function(a){return a.log_message_data&&a.log_message_data.untypedData&&a.log_message_data.untypedData.ad_properties?!0:!1};c.getadId=function(a){return a.log_message_data&&a.log_message_data.untypedData&&a.log_message_data.untypedData.ad_id?a.log_message_data.untypedData.ad_id:null};c.getadClientToken=function(a){return a.log_message_data&&a.log_message_data.untypedData&&a.log_message_data.untypedData.ad_client_token?a.log_message_data.untypedData.ad_client_token:null};c.getAdsPageManage=function(a,c){var d=this,e=null;if(b("gkx")("678671"))if(a.is_sponsored&&b("gkx")("678672")){var f=this.getadId(a),h=this.getadClientToken(a),l=function(){var c=b("getPageIDFromThreadID")(a.thread_id);c||(c=b("MercuryIDs").getUserIDFromParticipantID(a.author));if(f!==null){var d=b("XMessengerDotComSponsoredMessagesXOutReportMutationController").getURIBuilder().setString("ad_id",f).setString("ad_client_token",h).getURI();new(b("XAsyncRequest"))(d).setHandler(function(a){(a.payload.err||a.payload===!1)&&b("Bootloader").loadModules(["SimpleXUIDialog"],function(a){a.show(i._("We Couldn't Hide This Ad. Please try again later."))},"MNAdsMessageUtils")}).setMethod("POST").send()}var e=function(a){if(h!==null){a=b("XMessengerDotComSponsoredMessagesXOutSubmitPageController").getURIBuilder().setString("ad_token",h).setString("selected_option_type",a).setString("event_type",b("MNCommerceReportFlowType").HIDE).getURI();new(b("XAsyncRequest"))(a).setMethod("POST").send()}};b("Bootloader").loadModules(["MNAdsHideAdDialogContainer.react"],function(a){b("MNCommerceDialogStateActions").showDialog(a,{onConfirmButtonClick:e,pageID:c})},"MNAdsMessageUtils")},m=function(){var c=b("getPageIDFromThreadID")(a.thread_id);c||(c=b("MercuryIDs").getUserIDFromParticipantID(a.author));var d=function(a){if(f!==null){var c=b("XMessengerDotComSponsoredMessagesXOutReportMutationController").getURIBuilder().setString("ad_id",f).setString("ad_client_token",h).getURI();new(b("XAsyncRequest"))(c).setHandler(function(a){(a.payload.err||a.payload===!1)&&b("Bootloader").loadModules(["SimpleXUIDialog"],function(a){a.show(i._("We Couldn't Hide This Ad. Please try again later."))},"MNAdsMessageUtils")}).setMethod("POST").send()}if(h!==null){c=b("XMessengerDotComSponsoredMessagesXOutSubmitPageController").getURIBuilder().setString("ad_token",h).setString("selected_option_type",a).setString("event_type",b("MNCommerceReportFlowType").REPORT).getURI();new(b("XAsyncRequest"))(c).setMethod("POST").send()}};b("Bootloader").loadModules(["MNAdsReportAdDialogContainer.react"],function(a){b("MNCommerceDialogStateActions").showDialog(a,{onConfirmButtonClick:d,pageID:c})},"MNAdsMessageUtils")},n=function(){b("Bootloader").loadModules(["SimpleXUIDialog"],function(a){if(h!==null){var c=b("XMessengerDotComSponsoredMessagesXOutSubmitPageController").getURIBuilder().setString("ad_token",h).setString("selected_option_type","useful").setString("event_type",b("MNCommerceReportFlowType").USEFUL).getURI();new(b("XAsyncRequest"))(c).setMethod("POST").send()}a.show(i._("Thank you for the feedback"))},"MNAdsMessageUtils")},o="https://www.facebook.com/help/messenger-app/948677458561379",p=this.getadPreferencesUrl(a);l=j.jsxs(b("ReactXUIMenu"),{children:[j.jsx(k,{icon:j.jsx(b("Image.react"),{src:g("123107")}),onclick:l,children:i._("Hide Ad")},b("MNCommerceReportFlowType").HIDE),j.jsx(k,{icon:j.jsx(b("Image.react"),{src:g("123502")}),onclick:m,children:i._("Report Ad")},b("MNCommerceReportFlowType").REPORT),j.jsx(k,{href:p,icon:this.hasAdProperties(a)?j.jsx(b("Image.react"),{src:g("122203")}):j.jsx(b("Image.react"),{src:g("123137")}),target:"_blank",children:i._("Why am I seeing this?")},b("MNCommerceReportFlowType").WHY),j.jsx(k,{icon:j.jsx(b("Image.react"),{src:g("122574")}),onclick:n,children:i._("This ad is useful")},b("MNCommerceReportFlowType").USEFUL),j.jsx(k,{href:o,icon:j.jsx(b("Image.react"),{src:g("123230")}),target:"_blank",children:i._("What are sponsored messages?")},b("MNCommerceReportFlowType").WHAT)]});e=j.jsx(b("MessengerPopoverMenu.react"),{"aria-label":"Manage Messages","data-tooltip-content":"Manage Messages","data-hover":"tooltip",menu:l,children:j.jsx(b("Link.react"),{className:(c?"":"_3kyk")+(c?" _3kyl":""),children:i._("Manage")})})}else{m=function(){var c=d.isOffsiteAd(a),e=b("getPageIDFromThreadID")(a.thread_id);e||(e=b("MercuryIDs").getUserIDFromParticipantID(a.author));var f=d.getadPreferencesUrl(a),g=function(a,c){return b("MNCommercePromotionBlockDataManager").block(a,c)};b("Bootloader").loadModules(["MNAdsMessagesManageBlockDialogContainer.react"],function(a){b("MNCommerceDialogStateActions").showDialog(a,{adPreferencesUrl:f,isOffsiteAd:c,onConfirmButtonClick:g,pageID:e})},"MNAdsMessageUtils")};e=j.jsx(b("Link.react"),{className:(c?"":"_3kyk")+(c?" _3kyl":""),onClick:m,children:i._("Manage")})}return j.jsxs("span",{className:c?"":"_3kym",children:[a.log_message_body," \xb7 ",e]})};c.getadUrl=function(a){return a.log_message_data&&a.log_message_data.untypedData&&a.log_message_data.untypedData.ad_url?a.log_message_data.untypedData.ad_url:""};c.getShouldShowUrl=function(a){return a.log_message_data&&a.log_message_data.untypedData&&a.log_message_data.untypedData.should_show_url?a.log_message_data.untypedData.should_show_url:!1};c.getAdContextAdminMessage=function(a){var c=this.getadUrl(a);c=j.jsx(b("Link.react"),{className:"_36ql",href:c,children:i._("View Ad")});return j.jsxs("span",{className:"_3kym",children:[a.log_message_body," ",c]})};c.getAdReplyAdminMessage=function(a){var c=this.getadUrl(a),d=this.getShouldShowUrl(a);if(c===""||!d)return j.jsx("span",{className:"_3kym",children:a.log_message_body});d=a.other_user_fbid.replace("fbid:","");b("QE2Logger").logExposureForUser("ctm_admin_text_ad_url",d);d=j.jsx(b("Link.react"),{className:"_36ql",href:c,target:"_blank",children:i._("View Ad")});return j.jsxs("span",{className:"_3kym",children:[a.log_message_body," ",d]})};return a}();e.exports=new a()}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ClientIDs").getNewClientID,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql");a=function(){function a(a){this.$1=a}var c=a.prototype;c.logCustomAppEvent=function(a,c,d){var e=this;c===void 0&&(c=null);d===void 0&&(d=null);var f=d?JSON.stringify(d):null;return new(b("Promise"))(function(d,g){i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:b("RelayAPIConfig").actorID,event_name:a,game_id:e.$1,client_mutation_id:h(),value_to_sum:c,params:f}},onCompleted:d,onError:g})})};return a}();e.exports=a}),null);
__d("MessengerGamesCustomUpdateAdmin.react",["cx","fbt","Image.react","Link.react","MessengerButtonReact.re","MessengerContactImageReact.bs","React","RelayModern","MessengerGamesCustomUpdateAdmin_gameInfo.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("MessengerButtonReact.re").make,k=b("MessengerContactImageReact.bs").jsComponent,l=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.data.getImageURL(),c=this.props.data.getText(),d=this.props.data.getTitle()?this.props.data.getTitle():h._("Play");return!this.props.gameInfo?l.jsx("span",{children:c}):l.jsxs("div",{children:[l.jsx(b("Link.react"),{className:"_fy2 _2621","aria-haspopup":"true","aria-label":h._("View Less"),href:"#",onClick:this.props.hideAdmin,role:"button"}),l.jsxs("div",{className:"_261_",children:[l.jsx(k,{size:25,src:this.props.gameInfo.iconURI}),l.jsx("h2",{className:"_2620",children:this.props.gameInfo.name})]}),l.jsxs("div",{className:"_3rpv",children:[l.jsx(b("Image.react"),{className:"_3rp-",onClick:this.props.playGame,src:a}),l.jsx("div",{className:"_3rp_",children:c}),l.jsx("div",{className:"_3cnr",children:l.jsx(j,{className:"_3rq0 _fy2",label:d,onClick:this.props.playGame,type:"primary",use:"default"})})]})]})};return c}(l.Component);e.exports=a(c,{gameInfo:i!==void 0?i:i=b("MessengerGamesCustomUpdateAdmin_gameInfo.graphql")})}),null);
__d("MessengerGamesCustomUpdateAdminContainer.react",["fbt","MessengerGamesCustomUpdateAdmin.react","React","RelayFBEnvironment","RelayModern","MessengerGamesCustomUpdateAdminContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return i.jsx(j,{environment:b("RelayFBEnvironment"),query:h!==void 0?h:h=b("MessengerGamesCustomUpdateAdminContainerQuery.graphql"),variables:{gameID:this.props.gameID},render:function(c){var d=c.error;c=c.props;if(d)return i.jsx("div",{children:g._("Failed to Load")});else if(c){d=c.node&&c.node.gameInfo;return!d?i.jsx("div",{children:a.props.text}):i.jsx(b("MessengerGamesCustomUpdateAdmin.react"),babelHelpers["extends"]({},a.props,{gameInfo:d}))}return a.props.renderLoading()}})};return c}(i.Component);e.exports=a}),null);
__d("MessengerGamesCustomUpdateData",["GamesQuicksilverContextKey","URI"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(a){var c;this.$1=null;this.$2=(c=a.custom_image_url)!=null?c:null;this.$4=(c=(c=(c=a.text)!=null?c:a.collapsed_text)!=null?c:a.expanded_text)!=null?c:"";this.$5=a.cta_title;this.$6=(c=a.template)!=null?c:null;c=new(g||(g=b("URI")))(a.cta_url).getQueryData();this.$3=c.payload||null;a=c.context_id||null;c=c.context_type;c&&(this.$1=new(b("GamesQuicksilverContextKey"))({id:null,size:null,sourceID:a,type:c}))}var c=a.prototype;c.getContextKey=function(){return this.$1};c.getImageURL=function(){return this.$2};c.getPayload=function(){return this.$3};c.getTitle=function(){return this.$5};c.getText=function(){return this.$4};c.getTemplate=function(){return this.$6};return a}();e.exports=a}),null);
__d("MessengerGameAdminMessage.react",["cx","fbt","AppCustomEventType","Bootloader","ImmutableObject","InstantGamesAnalyticsLogger","Link.react","MercuryIDs","MessengerDialogs.bs","MessengerGamesCustomUpdateAdminContainer.react","MessengerGamesCustomUpdateData","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=d.$1(),d.renderText=function(){return i.jsxs("span",{children:[i.jsxs("span",{children:[d.props.text," "]}),i.jsx(b("Link.react"),{className:"_fy2",onClick:d.state.isExpanded?d.$2:d.$4,children:h._("View")})]})},d.$3=function(){if(d.state.playerOpen)return;b("Bootloader").loadModules(["MessengerGamesQuicksilverPlayerContainer.react"],function(a){b("MessengerDialogs.bs").showDialog(function(){var c=d.getXMATData(),e=c.update_data?JSON.parse(c.update_data):c;e=new(b("MessengerGamesCustomUpdateData"))(e);c.update_type==="custom_message"&&d.$5(c.game_id,e);var f=b("MercuryIDs").getThreadFBIDFromThreadID(d.props.message.thread_id),g="SOLO",h=null,j=e.getContextKey();j?(g=j.getType(),h=j.getSourceID()):f&&(g="THREAD",h=f);return i.jsx(a,{initialContextSourceID:h,initialContextType:g,initialEntryPointData:e.getPayload()||void 0,initialGameID:c.game_id,onHide:d.$6,initialSource:"admin_message",sourceID:f,invitationID:d.props.message.message_id,threadID:d.props.message.thread_id},c.game_id)})},"MessengerGameAdminMessage.react");d.setState({playerOpen:!0})},d.$6=function(){b("MessengerDialogs.bs").removeAllDialogs(),d.setState({playerOpen:!1})},d.$4=function(){d.setState({isExpanded:!0})},d.$2=function(){d.setState({isExpanded:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return{isExpanded:this.props.isLastOfType,playerOpen:!1}};d.componentDidMount=function(){this.props.onLoad&&this.props.onLoad()};d.UNSAFE_componentWillReceiveProps=function(a){this.props.isLastOfType!==a.isLastOfType&&this.setState({isExpanded:a.isLastOfType})};d.getXMATData=function(){return this.props.message.log_message_data&&this.props.message.log_message_data.untypedData?new(b("ImmutableObject"))(this.props.message.log_message_data.untypedData):new(b("ImmutableObject"))()};d.render=function(){var a=this.getXMATData(),c=null;switch(a.update_type){case"custom_message":var d=a.update_data?JSON.parse(a.update_data):a;d=new(b("MessengerGamesCustomUpdateData"))(d);return this.state.isExpanded?i.jsx("span",{children:i.jsx(b("MessengerGamesCustomUpdateAdminContainer.react"),{data:d,gameID:a.game_id,hideAdmin:this.$2,playGame:this.$3,renderLoading:this.renderText,text:this.props.text})}):i.jsxs("span",{children:[this.renderText(),c]});default:return i.jsx("span",{children:this.props.text})}};d.$5=function(a,c){a=new(b("InstantGamesAnalyticsLogger"))(a);var d={};d.fb_instant_games_template_name=c.getTemplate();a.logCustomAppEvent(b("AppCustomEventType").FB_INSTANT_GAMES_UPDATE_CLICK,null,d)};return c}(i.Component);a.propTypes={message:b("prop-types").object.isRequired,text:b("prop-types").string.isRequired,isLastOfType:b("prop-types").bool.isRequired};e.exports=a}),null);
__d("MessengerGroupCreatePollButton.react",["CurrentUser","React"],(function(a,b,c,d,e,f){"use strict";b("React");function a(a){a.name;a.questionID;a.threadID;a=a.participants;var c=b("CurrentUser").getAccountID(),d=a.indexOf(c.toString())>=0;d&&a.splice(a.indexOf(c.toString()),1);return null}e.exports=a}),null);
__d("MessengerGroupCreatePollButtonReact.bs",["ReasonReact.bs","MessengerGroupCreatePollButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MessengerGroupCreatePollButton.react"),{name:a,questionID:c,participants:d,threadID:e},f)}f.make=a}),null);
__d("FacepileRounded.bs",["ReasonReact.bs","bs_js_null_undefined","FacepileRounded.react"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)if(a)return"descending";else return"ascending"}function h(a){if(a!==void 0)switch(a){case 0:return"none";case 1:return"name";case 2:return"hovercard"}}function a(a,c,d,e,f,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("FacepileRounded.react"),{className:(l=b("bs_js_null_undefined")).fromOption(a),direction:l.fromOption(g(c)),hoverBehavior:l.fromOption(h(d)),imageSize:e,numProfilesToDisplay:f,profiles:i,remainingProfilesCount:l.fromOption(j)},k)}f.stringOfDirection=g;f.stringOfHoverBehavior=h;f.make=a}),null);
__d("AbstractTextInputReact.bs",["ReasonReact.bs","bs_js_null_undefined","AbstractTextInput.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){return b("ReasonReact.bs").wrapJsForReason(b("AbstractTextInput.react"),{className:b("bs_js_null_undefined").fromOption(a),maxLength:c,onChange:d,onFocus:e,onKeyDown:f,placeholder:g,value:b("bs_js_null_undefined").fromOption(h)},i)}f.make=a}),null);
__d("MessengerAbstractTextInputWithFocusReact.bs",["bs_curry","bs_caml_option","ReasonReact.bs","AbstractTextInputReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("ReasonReact.bs").reducerComponent("MessengerAbstractTextInputWithFocusReact");function h(a,c){c.state.inputRef.contents=a==null?void 0:b("bs_caml_option").some(a);return 0}function i(a){a=a.inputRef.contents;if(a!==void 0)return b("bs_caml_option").valFromOption(a).focusInput();else return 0}function j(a){a=a.inputRef.contents;if(a!==void 0)return b("bs_caml_option").valFromOption(a).blurInput();else return 0}function k(a,c,d,e,f,k,l,m,n){var o=function(a){if(c)return i(a);else return j(a)};return{debugName:g.debugName,reactClassInternal:g.reactClassInternal,handedOffState:g.handedOffState,getDerivedStateFromProps:g.getDerivedStateFromProps,didMount:function(a){return o(a.state)},didUpdate:function(a){return o(a.newSelf.state)},willUnmount:g.willUnmount,shouldUpdate:g.shouldUpdate,render:function(c){return b("ReasonReact.bs").element(void 0,b("bs_curry")._1(c.handle,h),b("AbstractTextInputReact.bs").make(a,d,e,f,k,l,m,[]))},initialState:function(a){return{inputRef:{contents:void 0}}},retainedProps:g.retainedProps,reducer:function(a,b){return 0},jsElementWrapped:g.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return k(b("bs_caml_option").nullable_to_opt(a.className),a.focused,a.maxLength,a.onChange,a.onFocus,a.onKeyDown,a.placeholder,b("bs_caml_option").nullable_to_opt(a.value),[])});f.component=g;f.setInputRef=h;f.focus=i;f.blur=j;f.make=k;f.jsComponent=a}),null);
__d("MessengerGroupPollingCheckboxReact.bs",["cx","cssVar","Keys","bs_curry","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.checked,d=a.customColor,e=a.onToggle;a=function(a){return b("bs_curry")._1(e,!c)};var f=function(a){if(a.keyCode===b("Keys").SPACE){a.preventDefault();return b("bs_curry")._1(e,!c)}else return 0},g=c?d:"rgba(0, 0, 0, 0.10)";return i.cloneElement(i.jsx("div",{children:i.jsx("span",{className:"_2m5r",style:{backgroundColor:d,borderColor:g}}),className:"_2m5p"+(c?" _2m5q":""),role:"checkbox",tabIndex:0,onKeyDown:f,onClick:a}),{"aria-checked":c})}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("XMessengerGroupPollingUpdateVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/update_vote/",{})}),null);
__d("MessengerGroupPollingFlyoutReact.bs",["cx","ix","fbt","FBID.bs","Keys","bs_block","bs_curry","React","gkx","bs_belt_Array","bs_caml_int32","Link.react","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","ReasonReact.bs","AsyncRequest","FacepileRounded.bs","MessengerEnvironment","ScrollableArea.react","MessengerParticipants.bs","MessengerSpinnerReact.bs","MessengerAddIconSVGReact.bs","MessengerTextWithEntities.react","MessengerGroupPollingCheckboxReact.bs","MessengerAbstractTextInputWithFocusReact.bs","XMessengerGroupPollingUpdateVoteController"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a,c,d){if(d){var e=b("CurrentUser").getID();d=b("bs_belt_Array").keep(c,function(a){return a!==e});d=b("bs_belt_Array").concat([e],d)}else d=c;return b("bs_belt_Array").mapWithIndex(d,function(c,d){var e=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(d));if(e==null)return{image_src:h("98939"),name:"Facebook User"};else if(c<a)return{image_src:b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(e.image_src),h("98939")),name:e.name};else return{image_src:d,name:e.name}})}function l(a,c,d,e,f){var g=d===3?3:2;return b("ReasonReact.bs").element(void 0,void 0,b("FacepileRounded.bs").make(a,1,1,c,g,k(g,e,f),d===3?0:d-2|0,[]))}var m=b("ReasonReact.bs").reducerComponent("MessengerGroupPollingFlyoutReact");function n(a,c,d,e,f,g){return{debugName:m.debugName,reactClassInternal:m.reactClassInternal,handedOffState:m.handedOffState,getDerivedStateFromProps:m.getDerivedStateFromProps,didMount:m.didMount,didUpdate:m.didUpdate,willUnmount:m.willUnmount,shouldUpdate:m.shouldUpdate,render:function(g){var h=g.state,k=b("MessengerEnvironment").messengerui;if(e!==void 0){var m=e,n=k?24:16,o=m.length+h.newOptions.length|0;o=b("bs_caml_int32").imul(k?36:28,o);o=Math.min(Math.max(o,50),200);m=b("bs_belt_Array").map(m,function(c){return j.jsxs("div",{children:[j.createElement(b("MessengerGroupPollingCheckboxReact.bs").make,{checked:b("bs_belt_Array").some(h.selectedOptionIDs,function(a){return a===c.id}),customColor:a,onToggle:function(a){return b("bs_curry")._1(g.send,b("bs_block").__(3,[c.id]))}}),j.jsxs("div",{children:[j.jsx("div",{children:j.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:c.text}),className:"_1mq-"+(k?"":" _2a5a")}),l("_4ic7"+(k?"":" _8kg"),n,c.voters.count,c.voters.edges.map(function(a){return a.node.id}),b("bs_caml_option").nullable_to_opt(c.viewer_has_voted)===!0)],className:"_2f83"+(k?"":" _vhn")})],className:"_1mqz"+(k?"":" _5k8c")},c.id)});var p=b("bs_belt_Array").mapWithIndex(h.newOptions,function(c,d){var e=h.focusIndex;return j.jsxs("div",{children:[j.createElement(b("Link.react"),{onClick:function(a){return b("bs_curry")._1(g.send,0)},role:"button",tabIndex:0,children:j.createElement(b("MessengerAddIconSVGReact.bs").make,{label:i._("Add option"),className:"_8i7",customColor:a})}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerAbstractTextInputWithFocusReact.bs").make("_8i5",e!==void 0?e===c:!1,140,function(a){return b("bs_curry")._1(g.send,b("bs_block").__(2,[c,a.target.value]))},function(a){return b("bs_curry")._1(g.send,b("bs_block").__(1,[c]))},function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();a=c+1|0;if(a===h.newOptions.length)return b("bs_curry")._1(g.send,0);else return b("bs_curry")._1(g.send,b("bs_block").__(1,[a]))}else return 0},i._("Add an option"),b("bs_belt_Option").getWithDefault(d,""),[]))],className:"_1mqz"+(k?"":" _5k8c")},String(c))});if(b("gkx")("1280043")&&!b("CurrentUser").isWorkUser())return j.jsx("div",{children:j.jsx("div",{children:i._("Polls are temporarily unavailable while we work to make improvements to Messenger. Check back soon for the updated version of polls."),className:"_1mr_",style:{paddingTop:"50px",paddingBottom:"50px"}}),className:"_1mq_"+(k?"":" _1mr-")});else return j.jsxs("div",{children:[j.jsx("div",{children:j.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:d}),className:"_1mr_"}),j.jsxs("div",{children:[j.jsx("div",{children:b("bs_belt_Option").getWithDefault(h.errorTitle,""),className:"_3lpx"}),j.jsx("div",{children:b("bs_belt_Option").getWithDefault(h.errorMessage,""),className:"_3lpy"})],className:"_3lpw"}),j.jsx(b("ScrollableArea.react"),{height:o,children:j.jsxs("div",{children:[m,p],className:"_1ms0"})}),j.jsx("div",{children:h.isLoading?j.jsx(b("MessengerSpinnerReact.bs").make,{}):i._("Submit"),className:"_1ms1"+(h.isLoading?" _m1v":""),role:"button",style:{backgroundColor:a},tabIndex:0,onKeyUp:function(a){a.preventDefault();if(a.keyCode===b("Keys").RETURN)return b("bs_curry")._1(g.send,b("bs_block").__(0,[c,f]));else return 0},onClick:function(a){return b("bs_curry")._1(g.send,b("bs_block").__(0,[c,f]))}})],className:"_1mq_"+(k?"":" _1mr-")})}else return j.jsx("div",{children:j.jsx(b("MessengerSpinnerReact.bs").make,{color:"gray"}),className:"_8bt"+(k?"":" _5il4")})},initialState:function(a){return{focusIndex:0,errorTitle:void 0,errorMessage:void 0,selectedOptionIDs:e!==void 0?b("bs_belt_Array").keepMap(e,function(a){var b=a.viewer_has_voted;if(!(b==null)&&b)return a.id}):[],newOptions:[void 0],isLoading:!1}},retainedProps:m.retainedProps,reducer:function(d,e){if(typeof d==="number"){var f=b("bs_belt_Array").concat(e.newOptions,[void 0]);return b("bs_block").__(0,[{focusIndex:f.length-1|0,errorTitle:e.errorTitle,errorMessage:e.errorMessage,selectedOptionIDs:e.selectedOptionIDs,newOptions:f,isLoading:e.isLoading}])}else switch(d.tag|0){case 0:if(e.isLoading)return 0;else{var c=d[1],a=d[0];return b("bs_block").__(2,[{focusIndex:e.focusIndex,errorTitle:e.errorTitle,errorMessage:e.errorMessage,selectedOptionIDs:e.selectedOptionIDs,newOptions:e.newOptions,isLoading:!0},function(f){var d=b("bs_belt_Array").keepMap(f.state.newOptions,function(a){return a}),g=b("XMessengerGroupPollingUpdateVoteController").getURIBuilder().getURI();new(b("AsyncRequest"))(g).setMethod("POST").setData({question_id:b("FBID.bs").ofStringExn(a),selected_options:b("bs_belt_Array").map(e.selectedOptionIDs,b("FBID.bs").ofStringExn),new_options:d}).setAllowCrossPageTransition(!0).setHandler(function(a){if(a.payload.status==="failure"&&a.payload.showUser===!0)return b("bs_curry")._1(f.send,b("bs_block").__(4,[a.payload.errorTitle,a.payload.errorMessage]));else return b("bs_curry")._1(c,0)}).send();return 0}])}case 1:return b("bs_block").__(0,[{focusIndex:d[0],errorTitle:e.errorTitle,errorMessage:e.errorMessage,selectedOptionIDs:e.selectedOptionIDs,newOptions:e.newOptions,isLoading:e.isLoading}]);case 2:var g=d[1],h=d[0];f=b("bs_belt_Array").mapWithIndex(e.newOptions,function(a,b){if(a===h)return g;else return b});return b("bs_block").__(0,[{focusIndex:h,errorTitle:void 0,errorMessage:void 0,selectedOptionIDs:e.selectedOptionIDs,newOptions:f,isLoading:e.isLoading}]);case 3:var i=d[0];f=b("bs_belt_Array").some(e.selectedOptionIDs,function(a){return a===i})?b("bs_belt_Array").keep(e.selectedOptionIDs,function(a){return a!==i}):b("bs_belt_Array").concat(e.selectedOptionIDs,[i]);return b("bs_block").__(0,[{focusIndex:void 0,errorTitle:e.errorTitle,errorMessage:e.errorMessage,selectedOptionIDs:f,newOptions:e.newOptions,isLoading:e.isLoading}]);case 4:return b("bs_block").__(0,[{focusIndex:e.focusIndex,errorTitle:d[0],errorMessage:d[1],selectedOptionIDs:e.selectedOptionIDs,newOptions:e.newOptions,isLoading:!1}])}},jsElementWrapped:m.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(m,function(a){return n(a.customColor,a.questionID,a.questionText,b("bs_caml_option").nullable_to_opt(a.options),a.onSubmitHandler,[])});c=b("bs_belt_Option").getWithDefault;d=16;e=24;g=28;var o=36,p=50,q=200,r=140;f.$pipe$question=c;f.facebookFacepileImageSize=d;f.messengerFacepileImageSize=e;f.facebookOptionRowHeight=g;f.messengerOptionRowHeight=o;f.minimumFlyoutScrollareaHeight=p;f.maximumFlyoutScrollareaHeight=q;f.pollOptionMaxLength=r;f.getProfilePictures=k;f.renderVoterFacepiles=l;f.component=m;f.make=n;f.jsComponent=a}),null);
__d("MessengerPollingFlyoutBootLoader.react",["cx","JSResource","LazyComponent.react","MessengerEnvironment","MessengerSpinner.react","React","ReasonBootloadOnRender.react","ReasonResource"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MessengerEnvironment").messengerui;return h.jsx(b("ReasonBootloadOnRender.react"),{component:h.jsx(b("LazyComponent.react"),{customColor:this.props.customColor,questionID:this.props.questionID,questionText:this.props.questionText,options:this.props.options,onSubmitHandler:this.props.onSubmitHandler}),loader:b("ReasonResource")(b("JSResource")("MessengerGroupPollingFlyoutReact.bs").__setRef("MessengerPollingFlyoutBootLoader.react")),placeholder:h.jsx("div",{className:"_8bt"+(a?"":" _5il4"),children:h.jsx(b("MessengerSpinner.react"),{color:"grey"})})})};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerPollingFlyoutBootLoader.bs",["ReasonReact.bs","MessengerPollingFlyoutBootLoader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("ReasonReact.bs").wrapJsForReason(b("MessengerPollingFlyoutBootLoader.react"),{customColor:a,questionID:c,questionText:d,options:e,onSubmitHandler:f},g)}f.make=a}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("MessengerGroupPollingAdminMessageReact.bs",["cx","ix","fbt","cssVar","bs_block","bs_curry","React","gkx","bs_js_dict","bs_js_json","bs_belt_Array","Link.react","bs_belt_Option","bs_caml_option","Image.react","ReasonReact.bs","AsyncRequest","MessengerEnvironment","MessengerContextualDialogReact.bs","MessengerTextWithEntities.react","MessengerGroupPollingFlyoutReact.bs","MessengerPollingFlyoutBootLoader.bs","XMessagingGetPollOptionsController","MessengerGroupCreatePollButtonReact.bs"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("ReasonReact.bs").reducerComponent("MessengerGroupPollingAdminMessageReact");function m(a,c,d,e,f){return{debugName:l.debugName,reactClassInternal:l.reactClassInternal,handedOffState:l.handedOffState,getDerivedStateFromProps:l.getDerivedStateFromProps,didMount:function(a){if(a.state.options===void 0){var d=c.log_message_data.untypedData.question_id;d=b("XMessagingGetPollOptionsController").getURIBuilder().setFBID("question_id",d).getURI();new(b("AsyncRequest"))(d).setHandler(function(c){b("bs_curry")._1(a.send,b("bs_block").__(0,[c.payload]));if(e!==void 0)return b("bs_curry")._1(e,0);else return 0}).setErrorHandler(function(c){b("bs_curry")._1(a.send,b("bs_block").__(0,[[]]));if(e!==void 0)return b("bs_curry")._1(e,0);else return 0}).send();return 0}else return 0},didUpdate:l.didUpdate,willUnmount:l.willUnmount,shouldUpdate:l.shouldUpdate,render:function(e){var f=e.state,g;if(a!==void 0){var j=a;g=j===""?"#0084ff":j}else g="#0084ff";j=k.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:c.log_message_body});var l=b("MessengerEnvironment").messengerui;if(!d&&!(f.flyoutOpen&&l))return j;else{var m;try{m=b("bs_caml_option").some(JSON.parse(c.log_message_data.untypedData.question_json))}catch(a){m=void 0}var n=f.options;if(m!==void 0&&n!==void 0){n=n;m=b("bs_js_json").classify(b("bs_caml_option").valFromOption(m));if(typeof m==="number"||m.tag!==2)return j;else{var o;m=m[0];var p=(o=b("bs_js_dict")).get(m,"id"),q=o.get(m,"text"),r=o.get(m,"total_count");o=o.get(m,"viewer_has_voted");if(p!==void 0&&q!==void 0&&r!==void 0&&o!==void 0){m=b("bs_js_json").classify(b("bs_caml_option").valFromOption(p));p=b("bs_js_json").classify(b("bs_caml_option").valFromOption(q));q=b("bs_js_json").classify(b("bs_caml_option").valFromOption(r));if(typeof m==="number"||m.tag||typeof p==="number"||p.tag||typeof q==="number"||q.tag!==1)return j;else{r=p[0];var s=m[0],t=n.slice(0,3).map(function(a){var b=a.voters.edges.map(function(a){return a.node.id});return{id:a.id,text:a.text,num_of_votes:a.voters.count,viewer_has_voted:a.viewer_has_voted,voter_ids:b}});p=b("bs_belt_Array").map(t,function(d){var a=b("bs_belt_Array").get(t,0);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);a=a.num_of_votes!==0?(d.num_of_votes/a.num_of_votes*100).toString()+"%":"0%"}else a="0%";return k.jsxs("div",{children:[k.jsxs("div",{children:[k.jsx("div",{children:k.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:d.text}),className:(l?"_3b4f":"")+(l?"":" _4ic6")}),b("MessengerGroupPollingFlyoutReact.bs").renderVoterFacepiles("_4ic7"+(l?"":" _8kg"),l?24:16,d.num_of_votes,d.voter_ids,d.viewer_has_voted),b("ReasonReact.bs").element(void 0,void 0,b("MessengerGroupCreatePollButtonReact.bs").make(d.text,s,d.voter_ids,c.thread_id,[]))],className:"_3b4c"}),k.jsx("div",{children:k.jsx("span",{style:{backgroundColor:g,width:a}}),className:"_3b4h"+(l?"":" _4ic8")})],className:"_3b4a"+(l?"":" _4ic5")},d.id)});m=(q[0]|0)-3|0;if(b("gkx")("994335"))q=null;else{o=b("bs_js_json").classify(b("bs_caml_option").valFromOption(o));q=k.jsxs(b("Link.react"),{className:"_4icb"+(l?"":" _4icc")+(l?" uiContextualLayerParent":"")+(l?" _5f0v":""),linkRef:f.cb,onClick:function(a){a.stopPropagation();if(!f.flyoutOpen&&!f.clickGuard.contents)return b("bs_curry")._1(e.send,1);else return 0},onMouseDown:function(a){f.clickGuard.contents=f.flyoutOpen;return 0},role:"button",style:{color:g,textDecoration:"none"},tabIndex:0,children:[typeof o==="number"?o!==1?i._("Vote"):i._("Change Vote"):i._("Vote"),f.flyoutOpen?b("ReasonReact.bs").element(void 0,void 0,b("MessengerContextualDialogReact.bs").make(void 0,void 0,function(a){return f.linkRef.contents},function(a){return b("bs_curry")._1(e.send,0)},void 0,function(a){return b("bs_curry")._1(e.send,b("bs_block").__(1,[a]))},f.flyoutOpen,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerPollingFlyoutBootLoader.bs").make(g,s,r,n,function(a){return b("bs_curry")._1(e.send,0)},[]))])):null]})}return k.jsxs("div",{children:[j,k.jsxs("div",{children:[k.jsxs("div",{children:[k.jsx(b("Image.react"),{className:"_4ica"+(l?"":" _2ozk"),src:l?h("86887"):h("86886")}),i._("Poll")],className:"_3b4u"+(l?"":" _2wew")}),k.jsx("div",{children:k.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:r}),className:(l?"_3b4v":"")+(l?"":" _2wex")}),k.jsx("div",{children:p,className:"_3b4w"}),k.jsx("div",{children:m<=0?null:i._({"*":"{number of remaining answer options} more options...","_1":"{number of remaining answer options} more option..."},[i._param("number of remaining answer options",String(m)),i._plural(m)]),className:"_8bu"}),q],className:"_3b4t"+(l?"":" _4ic9")})]})}}else return j}}else return j}},initialState:function(a){var c={contents:void 0};a=function(a){c.contents=a==null?void 0:b("bs_caml_option").some(a);return 0};return{flyoutOpen:!1,linkRef:c,cb:a,clickGuard:{contents:!1},options:void 0}},retainedProps:l.retainedProps,reducer:function(a,c){if(typeof a==="number")if(a===0)return b("bs_block").__(0,[{flyoutOpen:!1,linkRef:c.linkRef,cb:c.cb,clickGuard:c.clickGuard,options:c.options}]);else return b("bs_block").__(0,[{flyoutOpen:!c.flyoutOpen,linkRef:c.linkRef,cb:c.cb,clickGuard:c.clickGuard,options:c.options}]);else if(a.tag)return b("bs_block").__(0,[{flyoutOpen:a[0],linkRef:c.linkRef,cb:c.cb,clickGuard:c.clickGuard,options:c.options}]);else return b("bs_block").__(0,[{flyoutOpen:c.flyoutOpen,linkRef:c.linkRef,cb:c.cb,clickGuard:c.clickGuard,options:a[0]}])},jsElementWrapped:l.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(l,function(a){return m(b("bs_caml_option").nullable_to_opt(a.customColor),a.message,a.isLastOfType,b("bs_caml_option").nullable_to_opt(a.onLoad),[])});c=b("bs_belt_Option").getWithDefault;d=16;e=24;g=3;f.$pipe$question=c;f.facebookFacepileImageSize=d;f.messengerFacepileImageSize=e;f.numOfDisplayedOptions=g;f.component=l;f.make=m;f.jsComponent=a}),null);
__d("MessengerPagesCommercePaymentEnabledAdminMessage.react",["cssVar","cx","fbt","ix","Image.react","Link.react","MessengerEnvironment","PagesCommerceBuyerNUXDialog.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showDialog:!1},c.$1=function(){c.setState({showDialog:!1})},c.$2=function(){c.setState({showDialog:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=b("MessengerEnvironment").messengerui;return k.jsxs("div",{className:a?"_2piv":"",children:[k.jsx(b("Image.react"),{className:"_3-96",src:j("275999")}),k.jsx("div",{children:this.props.message.log_message_body}),k.jsx("div",{className:"_3-8w",children:k.jsx(b("Link.react"),{onClick:this.$2,style:{color:"#0084ff",textDecoration:"none"},children:i._("Learn More")})}),k.jsx(b("PagesCommerceBuyerNUXDialog.react"),{isShown:this.state.showDialog,onConfirm:this.$1})]})};return c}(k.PureComponent);e.exports=a}),null);
__d("XEventReminderRSVPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/rsvp/",{acontext:{type:"String",required:!0},event_reminder_id:{type:"Int",required:!0},guest_state:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MessengerReminderAdminMessage.react",["cx","fbt","AsyncRequest","CurrentUser","EventPlanStrings","EventReminderConstants","EventsMessengerComActionContextJSConfig","FBJSON","MessengerButtonReact.re","React","XEventReminderRSVPController","formatDate","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerButtonReact.re").make,j=b("React"),k=b("EventReminderConstants").GuestStates;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.guest_state_list:a:a:a;if(typeof a==="string")try{a=JSON.parse(a)}catch(a){return[]}return Array.isArray(a)?a:[]};d.$2=function(){return this.$1().filter(function(a){return a.guest_list_state==="GOING"}).length};d.$3=function(){var a=this.$2();return j.jsx("div",{className:"_3wan"+(this.props.isMessenger?"":" _3wao"),children:b("EventPlanStrings").getSubtitle(a,null,!1)})};d.$4=function(){var a=this,c;if(!this.props.isMessenger)return null;c=(c=this.props.message)!=null?(c=c.log_message_data)!=null?c.message_type:c:c;if(c==="lightweight_event_delete")return null;c=this.$5();if(!c)return null;var d=Math.floor(Date.now()/1e3);if(c<=d)return null;c="INVITED";d=this.$1();for(var e=0;e<d.length;e++)d[e].node&&d[e].node.id===b("CurrentUser").getID()&&(c=d[e].guest_list_state);e=h._("Going");d=h._("Can't Go");return j.jsxs("div",{className:"_3waq",children:[j.jsx("div",{className:"_3war",children:j.jsx(i,{className:"_3waw"+(c==="GOING"?" _3wat":""),onClick:function(b){b.stopPropagation(),a.$6(k.GOING)},label:e,type:"primary",use:"default"})}),j.jsx("div",{className:"_3wax",children:j.jsx(i,{className:"_3waw"+(c==="DECLINED"?" _3wat":""),onClick:function(b){b.stopPropagation(),a.$6(k.DECLINED)},label:d,type:"primary",use:"default"})})]})};d.$6=function(a){var c;c=(c=this.props.message)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.event_id:c:c:c;if(!c)return;var d={action_history:[{surface:b("EventsMessengerComActionContextJSConfig").messenger_com,mechanism:b("EventsMessengerComActionContextJSConfig").reminder_admin_text}]};c=b("XEventReminderRSVPController").getURIBuilder().setInt("event_reminder_id",c).setEnum("guest_state",a).setString("acontext",b("FBJSON").stringify(d));new(b("AsyncRequest"))(c.getURI()).send()};d.$5=function(){var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_time:a:a:a;if(!a)return null;typeof a==="string"&&(a=parseInt(a,10));return a};d.$7=function(){var a,c=this.$5();if(!c)return[null,null];a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_end_time:a:a:a;typeof a==="string"?a=parseInt(a,10):typeof a!=="number"&&(a=0);var d=Math.floor(Date.now()/1e3),e=b("formatDate")(c,"j"),f=e[e.length-1]>="0"&&e[e.length-1]<=9,g=b("formatDate")(c,"M"),i=[];i.push(this.props.isMessenger?j.jsxs("div",{className:"_3way",children:[j.jsx("div",{className:"_3waz",children:g.toUpperCase()}),j.jsx("div",{className:"_3wa-"+(f?"":" _279y"),children:e})]}):null);c<=d&&d<=a?g=h._("Happening now"):g=b("EventPlanStrings").getDisplayDateAndTimeFBT(c);i.push(j.jsx("div",{className:"_3wan"+(this.props.isMessenger?"":" _3wao"),children:g}));return i};d.$8=function(){var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_title:a:a:a;return a?j.jsx("div",{className:"_3wb0"+(this.props.isMessenger?"":" _3wao"),children:a}):null};d.$9=function(){var a;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_location_name:a:a:a;return a?j.jsx("div",{className:"_3wan"+(this.props.isMessenger?"":" _3wao"),children:a}):null};d.render=function(){var a=this.props.message;a=a.log_message_body;if(!this.props.isLastOfType)return j.jsxs("span",{children:[" ",a," "]});var b=this.$3(),c=this.$4(),d=this.$7(),e=d[0];d=d[1];var f=this.$8(),g=this.$9();return j.jsxs("div",{children:[a,j.jsxs("div",{className:"_3wb1",children:[e,j.jsxs("div",{className:"_3wb3"+(this.props.isMessenger?"":" _3wb4"),children:[f,d,g||b]}),c]})]})};return c}(j.Component);a.propTypes={message:b("prop-types").object.isRequired,isLastOfType:b("prop-types").bool.isRequired,isMessenger:b("prop-types").bool.isRequired};e.exports=a}),null);
__d("PagesInboxAddDetailsToInteractionText.react",["fbt","CommerceInvoiceAdminActions","ErrorBoundary.react","JSResource","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","OrderManagementSimplifiedFulfillAction.react","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ReactRouterDOM","RelayFBEnvironment","RelayModern","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","emptyFunction","lazyLoadComponent","PagesInboxAddDetailsToInteractionTextQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("ReactRouterDOM").BrowserRouter,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=b("lazyLoadComponent")(b("JSResource")("OrderDetailsDialog.react").__setRef("PagesInboxAddDetailsToInteractionText.react")),m={referrerUIComponent:"composer",referrerUISurface:"message"},n=h!==void 0?h:h=b("PagesInboxAddDetailsToInteractionTextQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isAppointmentDialogShown:!1,isOrderPlacedDialogShown:!1,isOrderShippedDialogShown:!1},d.$1=function(a){d.setState({isAppointmentDialogShown:a})},d.$2=function(a){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR).setPageID(d.props.pageID).setConsumerID(d.props.userID).setEventSubtype("failed_to_create_order due to "+a.toString()).log()},d.$4=function(){d.setState({isOrderPlacedDialogShown:!1})},d.$5=function(){d.setState({isOrderShippedDialogShown:!1})},d.$6=function(){switch(d.props.interactionType){case"PAYMENT_RECEIVED":b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment","thread_action_system_payment_received",d.props.interactionID);new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;case"APPOINTMENT_BOOKED":d.setState({isAppointmentDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;case"ORDER_PLACED":d.setState({isOrderPlacedDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).setEventSubtype("cta_clicked").log();break;case"ORDER_SHIPPED":d.setState({isOrderShippedDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;default:break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS_ERROR).setPageID(this.props.pageID).setConsumerID(this.props.userID).setEventSubtype("failed_to_create_shipped due to "+a.toString()).log()};d.$7=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.render=function(){var a=this;if(this.props.isPageMessage===null||this.props.isPageMessage===!1)return null;switch(this.props.interactionType){case"PAYMENT_RECEIVED":return i.jsxs(i.Fragment,{children:[this.props.message," ",i.jsx(b("Link.react"),{onClick:this.$6,children:g._("Send Details")})]});case"APPOINTMENT_BOOKED":return i.jsxs(i.Fragment,{children:[this.props.message," ",i.jsx(b("Link.react"),{onClick:this.$6,children:g._("Send Details")}),this.state.isAppointmentDialogShown&&i.jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:b("emptyFunction"),dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,interactionID:this.props.interactionID,jobSearchSurface:"messenger",onToggle:this.$1,onUpdateCompleted:this.$7,pageID:this.props.pageID,referrerData:m,showMessengerButton:!1,shown:this.state.isAppointmentDialogShown,startTime:null,userID:this.props.userID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})]});case"ORDER_PLACED":return i.jsxs(i.Fragment,{children:[this.props.message," ",this.props.shouldShowCTA!==null&&this.props.shouldShowCTA===!0&&i.jsx(b("Link.react"),{onClick:this.$6,children:g._("Send Details")}),this.state.isOrderPlacedDialogShown&&i.jsx(b("ErrorBoundary.react"),{children:i.jsx(i.Suspense,{fallback:null,children:i.jsx(l,{currency:this.props.defaultCurrency==null?"USD":this.props.defaultCurrency,entryPoint:"admin_text",onError:this.$2,onHide:this.$4,pageID:this.props.pageID,userID:this.props.userID})})})]});case"ORDER_SHIPPED":return i.jsxs(i.Fragment,{children:[this.props.message," ",this.props.shouldShowCTA===!0&&i.jsx(b("Link.react"),{onClick:this.$6,children:g._("Send Details")}),this.state.isOrderShippedDialogShown&&i.jsx(j,{children:i.jsx(k,{environment:b("RelayFBEnvironment"),query:n,render:function(c){var d=c.error;c=c.props;if(d)return a.$3(d);d=c==null?void 0:c.page;return i.jsx(b("OrderManagementSimplifiedFulfillAction.react"),{onClose:a.$5,order:null,page:d,pageID:a.props.pageID,userID:a.props.userID})},variables:{pageID:this.props.pageID}})})]});default:return i.jsx(i.Fragment,{children:this.props.message})}};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment","quick_promotion_mao_vn"),new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_CLICK_CONFIRM_RECEIPT).setPageID(d.props.pageID).setConsumerID(d.props.userID).setClassifier(d.props.detectionType).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.isPageMessage&&new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_SHOW_CONFIRM_RECEIPT).setPageID(this.props.pageID).setConsumerID(this.props.userID).setClassifier(this.props.detectionType).log()};d.render=function(){if(!this.props.isPageMessage)return null;var a=this.props.detectionType==="tracking_number"?g._("Mark as Paid"):g._("Confirm receipt");return h.jsxs("div",{children:[this.props.message," ",h.jsx(b("Link.react"),{onClick:this.$1,children:a})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2016667251691695"};b.getQueryID=function(){return"391244851334288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesAppointmentOptOutRequestsAdminText.react",["fbt","CurrentUser","Link.react","React","ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","promiseDone","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showError:!1},d.showDialog=function(){d.setState({showDialog:!0})},d.onHide=function(){d.setState({showDialog:!1}),d.setState({showError:!1})},d.onConfirm=function(){d.setState({showDialog:!1});var a=new(b("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation"))({input:{page_id:d.props.pageID,client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),user_id:d.props.userID}});b("promiseDone")(b("WebGraphQL").exec(a),function(a){a=((a=a)!=null?(a=a.messenger_appointment_opt_out)!=null?(a=a.messenger_appointment_opt_out)!=null?a.has_opted_out:a:a:a)||!1;a||(d.setState({showDialog:!0}),d.setState({showError:!0}))},function(a){d.setState({showDialog:!0}),d.setState({showError:!0})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=g._("Opt Out");return h.jsxs("div",{children:[this.props.message," ",h.jsx(b("Link.react"),{onClick:this.showDialog,children:g._("you can opt out now.")}),this.state.showError?this.renderError():h.jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[h.jsx(b("XUIDialogTitle.react"),{children:g._("Are you sure?")}),h.jsx(b("XUIDialogBody.react"),{children:g._("You will no longer receive appointment request messages.")}),h.jsx(b("XUIDialogFooter.react"),{children:h.jsx(b("XUIDialogButton.react"),{action:"confirm",label:a,onClick:this.onConfirm})})]})]})};d.renderError=function(){return h.jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[h.jsx(b("XUIDialogTitle.react"),{children:g._("Error")}),h.jsx(b("XUIDialogBody.react"),{children:g._("Something went wrong. Please try again later.")})]})};return c}(h.Component);e.exports=a}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";b("React");a=function(a){var c=a.isPageMessage,d=a.message,e=a.productName,f=a.startTime,h=a.timestamp;a=a.userName;if(!f)return d;d=b("formatDate")(f,"g:i A");if(c)if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("{user-name} has an appointment {product-name} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("{user-name} has an appointment tomorrow at {start-time}",[g._param("user-name",a),g._param("start-time",d)]);else return g._("{user-name} has an appointment {product-name} on {start-date} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)]);if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("You have an appointment at {start-time}",[g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("You have an appointment tomorrow at {start-time}",[g._param("start-time",d)]);else return g._("You have an appointment on {start-date} at {start-time}",[g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)])};e.exports=a}),null);
__d("ServicesBookableServicesSurveyActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS:null,BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA:null,BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD:null,BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS:null,BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_RESET:null,BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES:null,BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY:null,BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR:null,BOOKABLE_SERVICES_SURVEY_SET_RADIUS:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_STEP:null});e.exports=a}),null);
__d("BookableServicesCustomServiceItem",["immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({label:"",key:"",selected:!1}));e.exports=a}),null);
__d("BookableServicesServiceAreaRadiusValues",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,3,5,10,20,30,50,100];e.exports=a}),null);
__d("ServicesBookableServicesSurveySteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONFIRMATION:null,CUSTOM_SERVICE_ITEM:null,GET_STARTED:null,MAKE_SELECTION:null,SERVICES_AREA:null,SERVICES_SELECTION:null});e.exports=a}),null);
__d("ServicesBookableServicesSurveyStore",["BookableServicesCustomServiceItem","BookableServicesServiceAreaRadiusValues","FluxReduceStore","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveySteps","ServicesCTAUnificationDispatcher","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,z=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,A=a.BOOKABLE_SERVICES_SURVEY_SET_STEP;c=10;var B=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}((d=b("immutable")).Record({address:"",autoMakeSearchQuery:null,canVisitMyBusiness:!1,customServices:d.List(),customServiceItem:"",hasServiceArea:!1,mutationSuccess:!0,noPermissions:!1,pageID:"",category:null,predefinedBookableTasks:d.List(),predefinedAutoMake:d.List(),radius:c,referrer:"",selectedServices:d.Set(),selectedAutoMake:d.Set(),serviceAreaCenter:null,serviceAreaCenterCoordinates:null,serviceAreaCenterID:"",sessionID:"",shouldShowCustomServicesEntry:!0,shouldShowAutoMakeQuestion:!1,showLoadingIndicator:!1,step:b("ServicesBookableServicesSurveySteps").GET_STARTED,surveyStatus:0}));f=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new B()};d.reduce=function(a,c){switch(c.type){case m:c.payload.radius&&b("BookableServicesServiceAreaRadiusValues").includes(c.payload.radius)&&(a=a.set("radius",c.payload.radius));return a.set("address",c.payload.address).set("canVisitMyBusiness",c.payload.customersCanVisitBusiness).set("customServices",b("immutable").List(c.payload.manualBookableTasks.map(function(a){return new(b("BookableServicesCustomServiceItem"))({label:a,key:b("uuid")(),selected:!0})}))).set("hasServiceArea",!!c.payload.serviceAreaCenter).set("pageID",c.payload.pageID).set("category",c.payload.category).set("predefinedBookableTasks",c.payload.predefinedBookableTasks).set("predefinedAutoMake",c.payload.predefinedAutoMake).set("referrer",c.payload.referrer).set("serviceAreaCenter",c.payload.serviceAreaCenter).set("serviceAreaCenterCoordinates",c.payload.serviceAreaCenterCoordinates).set("serviceAreaCenterID",c.payload.serviceAreaCenterID).set("selectedServices",c.payload.surveyStatus===0?b("immutable").Set():b("immutable").Set(c.payload.selectedBookableTasks.filter(function(a){return a!=null&&a.task!=null}).map(function(a){return a.task}))).set("selectedAutoMake",c.payload.selectedAutoMake).set("sessionID",c.payload.sessionID).set("shouldShowCustomServicesEntry",c.payload.shouldShowCustomServicesEntry).set("shouldShowAutoMakeQuestion",c.payload.shouldShowAutoMakeQuestion).set("surveyStatus",c.payload.surveyStatus);case n:return a.set("noPermissions",!0);case r:return a.set("selectedServices",b("immutable").Set()).set("customServices",a.customServices.map(function(a){return a.set("selected",!1)}));case s:var d=c.payload,e=d.serviceAreaCenter,f=d.serviceAreaCenterCoordinates;d=d.serviceAreaCenterID;return a.set("serviceAreaCenter",e).set("serviceAreaCenterCoordinates",f).set("serviceAreaCenterID",d);case o:return a.set("serviceAreaCenter",null).set("serviceAreaCenterCoordinates",null).set("serviceAreaCenterID","");case v:e=c.payload.radius;return a.set("radius",e);case A:c.payload.mutationSuccess!=null&&(a=a.set("mutationSuccess",c.payload.mutationSuccess));f=c.payload.step;return a.set("step",f);case y:d=c.payload.selectedMake;return a.set("selectedAutoMake",a.selectedAutoMake.has(d)?a.selectedAutoMake["delete"](d):a.selectedAutoMake.add(d));case z:e=c.payload.selectedService;return a.set("selectedServices",a.selectedServices.has(e)?a.selectedServices["delete"](e):a.selectedServices.add(e));case x:var B=c.payload.selectedCustomService;f=a.customServices.findIndex(function(a){return a.key===B});d=f>=0?a.customServices.get(f):null;return d?a.set("customServices",a.customServices.set(f,d.set("selected",!d.selected))):a;case g:return a.set("canVisitMyBusiness",!a.canVisitMyBusiness);case h:return a.set("hasServiceArea",!a.hasServiceArea);case l:return a.set("selectedAutoMake",b("immutable").Set([]));case q:return a.set("selectedAutoMake",b("immutable").Set(a.predefinedAutoMake.map(function(a){return a.id})));case w:e=c.payload.selectedArea;var C=e.getUniqueID();f=a.selectedAreas.find(function(a){return a.getUniqueID()===C});d=a.set("selectedAreas",f?a.selectedAreas["delete"](f):a.selectedAreas.add(e));return d;case k:f=c.payload.text;return a.set("customServiceItem",f);case i:return a.set("customServiceItem","");case j:return a.set("customServices",a.customServices.push(new(b("BookableServicesCustomServiceItem"))({label:a.customServiceItem,key:b("uuid")(),selected:!0})));case u:return a.set("showLoadingIndicator",!a.showLoadingIndicator);case t:return a.set("autoMakeSearchQuery",c.payload.query);case p:return this.getInitialState();default:return a}};d.getPageID=function(){return this.getState().pageID};d.getCategory=function(){return this.getState().category};d.getReferrer=function(){return this.getState().referrer};d.getSessionID=function(){return this.getState().sessionID};d.getStep=function(){return this.getState().step};d.getSelectedAutoMake=function(){return this.getState().selectedAutoMake};d.shouldShowAutoMakeQuestion=function(){return this.getState().shouldShowAutoMakeQuestion};d.hasAnyServicesSelected=function(){var a=this.getState(),b=a.customServices;a=a.selectedServices;if(a.size>0)return!0;a=b.find(function(a){return a.selected});return!!a};d.hasServiceAreaDefined=function(){var a=this.getState(),b=a.canVisitMyBusiness,c=a.serviceAreaCenter;a=a.hasServiceArea;return!a&&!b||a&&!c?!1:!0};d.isCustomServiceValid=function(){return this.getState().customServiceItem.trim().length>0};d.getAutoMakeList=function(){var a=this.getState(),c=a.autoMakeSearchQuery;a=a.predefinedAutoMake;if(c==null||c.length===0)return a;var d=[];a.forEach(function(a){if(a.consumer_name==null)return;var b=a.consumer_name.split(/[ -]/);for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;if(g.toLowerCase().startsWith(c.toLowerCase())){d.push(a);return}}});return b("immutable").List(d)};d.getProgressBarPercentage=function(){var a=0;switch(this.getState().step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=33;break;case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=67;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=0;break;case b("ServicesBookableServicesSurveySteps").CONFIRMATION:a=100;break;case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:a=0}return a};d.hasSelectedAllMakes=function(){var a=this.getState();return a.predefinedAutoMake.every(function(b){return a.selectedAutoMake.has(b.id)})};return c}(b("FluxReduceStore"));f.__moduleID=e.id;e.exports=new f(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesBookableServicesSurveyLogger",["ServicesBookableServicesSurveyStore","ServicesLeadGenBookableTasksSurveyTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a){var c;new(b("ServicesLeadGenBookableTasksSurveyTypedLogger"))().setCurrentView((c=b("ServicesBookableServicesSurveyStore")).getStep().toString()).setEvent(a).setPageID(c.getPageID()).setServicesCategory(c.getCategory()).setReferrer(c.getReferrer()).setSessionID(c.getSessionID()).log()}};e.exports=a}),null);
__d("ServicesBookableServicesSurveyStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_SUBMITTED:0,SUBMITTED:1})}),null);
__d("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1903587599704424"};b.getQueryID=function(){return"276587612933392"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1706923136039787"};b.getQueryID=function(){return"224836864728650"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesBookableServicesSurveyActions",["CurrentUser","SearchableEntry","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","ServicesLeadGenSurveyDialogQueryWebGraphQLQuery","ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation","WebGraphQL","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,z=a.BOOKABLE_SERVICES_SURVEY_SET_STEP,A={initialLoad:function(a,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t){b("ServicesCTAUnificationDispatcher").dispatch({type:m,payload:{address:a,customersCanVisitBusiness:c,manualBookableTasks:d,pageID:e,category:f,predefinedBookableTasks:g,predefinedAutoMake:h,radius:i,referrer:j,selectedBookableTasks:k,selectedAutoMake:l,serviceAreaCenter:n,serviceAreaCenterCoordinates:o,serviceAreaCenterID:p,sessionID:q,shouldShowCustomServicesEntry:r,shouldShowAutoMakeQuestion:s,surveyStatus:t}})},loadDataAndInitialize:function(a,c,d,e){b("ServicesCTAUnificationDispatcher").dispatch({type:u}),b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery"))({page_id:a})),function(f){var g,h,i,j,k,l,m,o,p,q,r;r=(r=f)!=null?(r=r.page)!=null?(r=r.services_vertical_info)!=null?r.service_category:r:r:r;q=((q=f)!=null?(q=q.page)!=null?q.viewer_profile_permissions:q:q)||[];if(!q.includes("EDIT_PROFILE")){b("ServicesCTAUnificationDispatcher").dispatch({type:n});b("ServicesCTAUnificationDispatcher").dispatch({type:u});return}q=((q=f)!=null?(q=q.page)!=null?(q=q.address)!=null?q.single_line_full_address:q:q:q)||"";p=(p=f)!=null?(p=p.page)!=null?(p=p.business_details)!=null?p.bookable_services_survey_status:p:p:p;p=p?b("ServicesBookableServicesSurveyStatus")[p]:0;o=((o=f)!=null?(o=o.page)!=null?(o=o.business_details)!=null?o.customers_can_visit_business:o:o:o)||!1;m=(m=f)!=null?(m=m.page)!=null?(m=m.services_vertical_info)!=null?m.predefined_bookable_tasks:m:m:m;var s=function(a){var b;return{category:(b=a)!=null?b.category:b,consumer_name:(b=a)!=null?b.consumer_name:b,task:(b=a)!=null?b.task:b}};m=m?m.map(s):[];l=(l=f)!=null?(l=l.page)!=null?(l=l.services_vertical_info)!=null?l.predefined_auto_make:l:l:l;l=l?l.map(function(a){var b;return{id:(b=a)!=null?b.id:b,consumer_name:(b=a)!=null?b.make_display_name:b}}):[];k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?(k=k.bookable_tasks)!=null?k.nodes:k:k:k:k)||[];var t=[],v=[];k.forEach(function(a){var b;b=((b=a)!=null?b.info:b)||{};b.task==="OTHER"&&a.manual_name!=null?t.push(a.manual_name):v.push(s(b))});var w=[];k=(k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.auto_make:k:k:k;k&&k.forEach(function(a){a.id&&w.push(a.id)});k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.service_area_radius:k:k:k)||0;j=(j=f)!=null?(j=j.page)!=null?(j=j.business_details)!=null?(j=j.service_area_center)!=null?j.name:j:j:j:j;i=(i=f)!=null?(i=i.page)!=null?(i=i.business_details)!=null?(i=i.service_area_center)!=null?i.id:i:i:i:i;j=j&&i?new(b("SearchableEntry"))({uniqueID:i,title:j}):null;h=(h=f)!=null?(h=h.page)!=null?(h=h.business_details)!=null?(h=h.service_area_center)!=null?h.page_map_location:h:h:h:h;g=(g=f)!=null?(g=g.page)!=null?(g=g.services_vertical_info)!=null?g.should_show_survey_custom_services_entry:g:g:g;f=(f=f)!=null?(f=f.page)!=null?(f=f.services_vertical_info)!=null?f.should_ask_supported_automobile_makes:f:f:f;A.initialLoad(q,o,b("immutable").List(t),a,r,b("immutable").List(m),b("immutable").List(l),k,c,b("immutable").List(v),b("immutable").Set(w),j,h,i||"",d,g!=null?g:!1,f!=null?f:!1,p);b("ServicesCTAUnificationDispatcher").dispatch({type:u});e()})},nextStep:function(){b("ServicesBookableServicesSurveyLogger").log("next_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").GET_STARTED:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},previousStep:function(){b("ServicesBookableServicesSurveyLogger").log("previous_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},startCustomServiceItem:function(){var a=b("ServicesBookableServicesSurveySteps").CUSTOM_SERVICE_ITEM;b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},selectService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:y,payload:{selectedService:a}})},selectCustomService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:w,payload:{selectedCustomService:a}})},selectMake:function(a){b("ServicesBookableServicesSurveyStore").getSelectedAutoMake().contains(a)?b("ServicesBookableServicesSurveyLogger").log("deselect_make"):b("ServicesBookableServicesSurveyLogger").log("select_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:x,payload:{selectedMake:a}}),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:""}})},checkCanVisitMyBusiness:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_can_visit_business"),b("ServicesCTAUnificationDispatcher").dispatch({type:g})},checkHasServiceArea:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_has_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:h})},removeServiceAreaCenter:function(){b("ServicesBookableServicesSurveyLogger").log("remove_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:o})},selectServiceAreaCenter:function(a,c,d){b("ServicesBookableServicesSurveyLogger").log("select_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{serviceAreaCenter:a,serviceAreaCenterCoordinates:c,serviceAreaCenterID:d||""}})},selectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("select_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:q})},deselectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("deselect_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:l})},customServiceItemChange:function(a){a=a.target.value;b("ServicesCTAUnificationDispatcher").dispatch({type:k,payload:{text:a}})},clearCustomServiceItem:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:i})},createCustomServiceItem:function(){b("ServicesBookableServicesSurveyLogger").log("add_manual_service");var a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;b("ServicesCTAUnificationDispatcher").dispatch({type:j});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},resetSurvey:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:p})},selectNoneOfTheAboveServices:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:r}),A.submitSurvey(b("CurrentUser").getID())},setRadius:function(a){b("ServicesBookableServicesSurveyLogger").log("select_radius"),b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{radius:a}})},setAutoMakeSearchQuery:function(a){b("ServicesBookableServicesSurveyLogger").log("search_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:a}})},submitSurvey:function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.canVisitMyBusiness,e=c.customServices,f=c.hasServiceArea,g=c.pageID,h=c.radius,i=c.referrer,j=c.selectedServices,k=c.selectedAutoMake,l=c.serviceAreaCenterID;c=c.sessionID;b("ServicesBookableServicesSurveyLogger").log("submit");b("ServicesCTAUnificationDispatcher").dispatch({type:u});var m=[];for(var j=j.toArray(),n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;p!=="%future added value"&&m.push(p)}b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation"))({input:{client_mutation_id:"0",actor_id:a,session_id:c,page_id:g,referrer:i,selected_bookable_tasks:m,other_bookable_tasks:e.toArray().filter(function(a){return a.selected}).map(function(a){return a.label}),kbb_makes:k.toArray(),customers_can_visit_business:d,service_area_center_id:f&&l?l:null,service_area_radius:f&&l?h:null}})),function(a){a=((a=a)!=null?(a=a.services_page_business_details_edit)!=null?a.success:a:a)||!1;var c=b("ServicesBookableServicesSurveySteps").CONFIRMATION;b("ServicesCTAUnificationDispatcher").dispatch({type:u});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:c,mutationSuccess:a}})})}};e.exports=A}),null);
__d("BookableServicesSurveyGetStartedView.react",["cx","fbt","ix","FDSText.react","Image.react","React","ServicesBookableServicesSurveyActions","XUIButton.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_2piq _2owm _52jv",children:[j.jsx(b("Image.react"),{src:i("649009")}),j.jsx(b("FDSText.react"),{display:"block",margin:"_4aws",size:"header3",textAlign:"center",weight:"bold",children:h._("Connect to the right customers near you.")}),j.jsx(b("FDSText.react"),{display:"block",margin:"_6bu9 _3-8y",size:"body1",textAlign:"center",children:h._("Answer a few simple questions about your business so people who need your services can find you.")}),j.jsx(b("XUIButton.react"),{className:"_4aws",label:h._("Get Started"),onClick:b("ServicesBookableServicesSurveyActions").nextStep,size:"xlarge",use:"confirm"}),j.jsxs("div",{className:"_3-8x _6pu2",children:[j.jsx(b("Image.react"),{className:"_3-8_",src:i("501429")}),j.jsx(b("FDSText.react"),{color:"secondary",size:"body2",textAlign:"center",children:h._("The information you provide won't be shown on your Page.")})]})]})};return c}(j.Component);e.exports=a}),null);
__d("BookableServicesSurveyMakeSelectionContainer.react",["ix","cx","fbt","FDSLink.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUICheckboxInput.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){a=b("ServicesBookableServicesSurveyStore").getState();return{predefinedAutoMake:b("ServicesBookableServicesSurveyStore").getAutoMakeList(),autoMakeSearchQuery:a.autoMakeSearchQuery,selectedAutoMake:a.selectedAutoMake}};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(null)};d.setAutoMakeSearchQuery=function(a){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(a.target.value)};d.toggleSelectAllMake=function(){b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?b("ServicesBookableServicesSurveyActions").deselectAllMake():b("ServicesBookableServicesSurveyActions").selectAllMake()};d.render=function(){var a=this;return j.jsxs("div",{children:[j.jsx(b("FDSText.react"),{display:"block",margin:"_3-8y",size:"header2",children:i._("What makes do you service?")}),j.jsx(b("XUITextInput.react"),{className:"_2-ox _6nvx",height:"tall",onChange:this.setAutoMakeSearchQuery,placeholder:i._("Search for make"),rightChild:j.jsx(b("Image.react"),{className:"_6nvy",src:g("530630")}),value:this.state.autoMakeSearchQuery}),!this.state.autoMakeSearchQuery&&j.jsx("div",{className:"_3-96 _52jw",children:j.jsx(b("FDSLink.react"),{onClick:this.toggleSelectAllMake,children:b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?i._("Select None"):i._("Select All")})}),j.jsx("div",{className:"_20nr _2pll",maxHeight:500,children:this.state.predefinedAutoMake.map(function(c,d){return j.jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},children:[j.jsx(b("XUICheckboxInput.react"),{checked:a.state.selectedAutoMake.has(c.id),className:"_3-91",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},readOnly:!0}),j.jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)})})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveySelectionContainer.react",["ix","cx","fbt","FDSCheckboxInput.maintenance.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUIButton.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.editOtherService=function(){d.setState({isEditingOther:!0})},d.saveOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").createCustomServiceItem(),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},d.stopEditingOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState();return!a?{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),isEditingOther:!1,isHovered:!1,predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry}:babelHelpers["extends"]({},a,{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry})};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()};d.render=function(){var a=this,c=this.state.predefinedBookableTasks.map(function(c,d){if(!c.task)return null;var e=a.state.selectedServices.has(c.task);return j.jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},children:[j.jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},value:e}),j.jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)}),d=this.state.customServices.map(function(a,c){return j.jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},children:[j.jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},value:a.selected}),j.jsx(b("FDSText.react"),{size:"body2",children:a.label})]},c)}),e=this.state.isEditingOther?j.jsxs("div",{className:"_2pi3 _2o1n _2plg",children:[j.jsx(b("XUITextInput.react"),{className:"_2plj",height:"tall",onChange:b("ServicesBookableServicesSurveyActions").customServiceItemChange,placeholder:"Describe your service",value:this.state.customServiceItem}),j.jsxs("div",{className:"_3-8y _2plk",children:[j.jsx(b("XUIButton.react"),{disabled:!this.state.isCustomServiceValid,label:i._("Add"),size:"large",onClick:this.saveOtherService,use:"confirm"}),j.jsx(b("XUIButton.react"),{className:"_3-91",label:i._("Cancel"),onClick:this.stopEditingOtherService})]})]}):j.jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:this.editOtherService,children:[j.jsx(b("Image.react"),{className:"_6pu1",src:g("489390")}),j.jsx(b("FDSText.react"),{color:"highlight",size:"body2",children:i._("Add Service")})]});return j.jsxs("div",{children:[j.jsx(b("FDSText.react"),{margin:"_20nr _3-8y",size:"header2",children:i._("Which services do you provide?")}),j.jsxs("div",{className:"_20nr _2pll",fade:!0,maxHeight:500,children:[c,d,this.state.shouldShowCustomServicesEntry&&e]})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyCheckboxQuestion.react",["cx","React","ShimButton.react","XUICheckboxInput.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_2o1k"+(this.props.hideBorder!==!0?" _2ctu":""),children:[h.jsxs(b("ShimButton.react"),{className:"_2ctv",onClick:this.props.onClick,children:[h.jsx(b("XUICheckboxInput.react"),{checked:this.props.isChecked,className:"_3-91",onClick:this.props.onClick,readOnly:!0}),h.jsx(b("XUIText.react"),{display:"inline",size:"body1",children:this.props.title})]}),this.props.children]})};return c}(h.Component);e.exports=a}),null);
__d("BookableServicesSurveyServiceAreaContainer.react",["cx","fbt","AddressTypeaheadGraphQLSearchSource","AddressTypeaheadSearchSourceConfig","BookableServicesServiceAreaRadiusValues","BookableServicesSurveyCheckboxQuestion.react","DistanceConstants","FBTilesMap__DEPRECATED.react","FluxContainer","GeoCoordinates","LeafletCircle.react","LeafletView","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","XUISingleSelector.react","XUIText.react","XUITokenizer.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("DistanceConstants").METERS_PER_MILE,j=b("React"),k=b("XUISingleSelector.react").Option,l=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(38.82255,-97.64649),zoom:3});a=3;var m=new(b("AddressTypeaheadGraphQLSearchSource"))(new(b("AddressTypeaheadSearchSourceConfig"))(null,null,"facebook","street_place_typeahead","string_match","interleave",a,"services_lead_gen_survey",["USA"],["postal_code"]));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onSelectEntryAttempt=function(a){var c=a.getAuxiliaryData();c&&c.latitude&&d.setState({view:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(c.latitude,c.longitude),zoom:9})});b("ServicesBookableServicesSurveyActions").selectServiceAreaCenter(a,c,c.locationID)},d.onViewChange=function(a){d.setState({view:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.serviceAreaCenterCoordinates&&c.serviceAreaCenterCoordinates.latitude?new(b("GeoCoordinates"))(c.serviceAreaCenterCoordinates.latitude,c.serviceAreaCenterCoordinates.longitude):null;return!a?{address:c.address,canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d,view:d?new(b("LeafletView"))({center:d,zoom:9}):l}:babelHelpers["extends"]({},a,{canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d})};var d=c.prototype;d.onRemoveEntryAttempt=function(a){b("ServicesBookableServicesSurveyActions").removeServiceAreaCenter()};d.onSelectRadius=function(a){b("ServicesBookableServicesSurveyActions").setRadius(a.value)};d.renderMap=function(){return this.state.view==null?null:j.jsx(b("FBTilesMap__DEPRECATED.react"),{className:"_3zv_",onViewChange:this.onViewChange,setZoomPosition:{vertical:"top",horizontal:"left"},showZoomControls:!0,surface:"lead_gen",view:this.state.view,children:this.state.serviceAreaCenterCoordinates?j.jsx(b("LeafletCircle.react"),{center:this.state.serviceAreaCenterCoordinates,radius:this.state.radius*i}):null})};d.renderSelectorOptions=function(){return b("BookableServicesServiceAreaRadiusValues").map(function(a){return j.jsx(k,{value:a,children:j.jsx("span",{children:h._({"*":"Within {number} miles","_1":"Within 1 mile"},[h._plural(a,"number")])})},a)})};d.render=function(){return j.jsxs("div",{children:[this.renderMap(),j.jsxs("div",{className:"_2pib _2pie",children:[this.state.address?j.jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{isChecked:this.state.canVisitMyBusiness,onClick:b("ServicesBookableServicesSurveyActions").checkCanVisitMyBusiness,title:h._("Customers can visit this business"),children:j.jsx(b("XUIText.react"),{className:"_3-8y _spx",color:"secondary",display:"block",size:"body3",children:this.state.address})}):null,j.jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{hideBorder:!0,isChecked:this.state.hasServiceArea,onClick:b("ServicesBookableServicesSurveyActions").checkHasServiceArea,title:h._("This business provides services in a surrounding area"),children:this.state.hasServiceArea?j.jsxs("div",{className:"_3-8y _spy",children:[j.jsx(b("XUIText.react"),{size:"body3",weight:"bold",children:h._("ZIP code")}),j.jsx(b("XUITokenizer.react"),{className:"_3-9b",entries:this.state.serviceAreaCenter,entriesWidthMatchContext:!0,extraTypeaheadProps:{maxLength:5},limit:1,onAddEntryAttempt:this.onSelectEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt,placeholder:h._("e.g. 12345"),searchSource:m,selectOnBlur:!0}),j.jsx(b("XUISingleSelector.react"),{className:"_3-9b",onChange:this.onSelectRadius,value:this.state.radius,size:"large",children:this.renderSelectorOptions()})]}):null})]})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(c)}),null);
__d("BookableServicesSurveyDialogContentContainer.react",["ix","cx","fbt","BookableServicesSurveyGetStartedView.react","BookableServicesSurveyMakeSelectionContainer.react","BookableServicesSurveySelectionContainer.react","BookableServicesSurveyServiceAreaContainer.react","BUIProgressBar.react","CurrentUser","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","asset","cxMargin","immutable","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.showOptOutDialog=function(){c.setState({isOptOutDialogShown:!0})},c.hideOptOutDialog=function(){c.setState({isOptOutDialogShown:!1})},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=b("ServicesBookableServicesSurveyStore").hasAnyServicesSelected(),e=b("ServicesBookableServicesSurveyStore").hasServiceAreaDefined();return{hasAnyServicesSelected:d,hasServiceAreaDefined:e,isOptOutDialogShown:a?a.isOptOutDialogShown:!1,mutationSuccess:c.mutationSuccess,noPermissions:c.noPermissions,progressBarPercentage:b("ServicesBookableServicesSurveyStore").getProgressBarPercentage(),selectedAutoMake:c.selectedAutoMake,showLoadingIndicator:c.showLoadingIndicator,step:c.step}};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesBookableServicesSurveyActions").loadDataAndInitialize(this.props.pageID,this.props.referrer,b("uuid")(),function(){b("ServicesBookableServicesSurveyLogger").log("www_survey_impression")})};d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyLogger").log("dismiss"),b("ServicesBookableServicesSurveyActions").resetSurvey()};d.renderBody=function(){if(this.state.showLoadingIndicator)return j.jsx(b("XUIDialogBody.react"),{className:"_52jv",children:j.jsx(b("XUISpinner.react"),{size:"large"})});else if(this.state.noPermissions)return j.jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:j.jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("You don't have permission to edit this page.")})});switch(this.state.step){case b("ServicesBookableServicesSurveySteps").CONFIRMATION:return!this.state.mutationSuccess?j.jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:j.jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("We're sorry, there were problems with saving your survey. Please try again later.")})}):j.jsxs(b("XUIDialogBody.react"),{className:"_52jv _6qyw",children:[j.jsx("div",{className:"_6i-n",children:j.jsx("div",{className:"_3-96 _2pi0 _6hoq",children:j.jsx(b("Image.react"),{src:g("505220")})})}),j.jsx(b("FDSText.react"),{size:"body1",children:i._("Thanks for telling us more about your business.")})]});case b("ServicesBookableServicesSurveySteps").GET_STARTED:return j.jsx(b("XUIDialogBody.react"),{className:"_2pib",children:j.jsx(b("BookableServicesSurveyGetStartedView.react"),{})});case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return j.jsx(b("XUIDialogBody.react"),{className:"_2pib",children:j.jsx(b("BookableServicesSurveyMakeSelectionContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return j.jsx(b("XUIDialogBody.react"),{className:"_1kto",children:j.jsx(b("BookableServicesSurveyServiceAreaContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return j.jsx(b("XUIDialogBody.react"),{className:"_2pib",children:j.jsx(b("BookableServicesSurveySelectionContainer.react"),{})});default:return null}};d.renderTitle=function(){return this.props.hideTitle?null:j.jsx(b("XUIDialogTitle.react"),{className:"_2pi5",id:"dialogTitle",children:i._("Quick Survey")})};d.renderFooter=function(){if(this.state.showLoadingIndicator)return null;switch(this.state.step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return j.jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[j.jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),j.jsx(b("XUIDialogButton.react"),{disabled:this.state.selectedAutoMake.isEmpty(),label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return j.jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[j.jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),j.jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasServiceAreaDefined,label:i._("Done"),size:"large",onClick:function(){b("ServicesBookableServicesSurveyActions").submitSurvey(b("CurrentUser").getID())},use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return j.jsx(b("XUIDialogFooter.react"),{fullBleedBorder:!0,leftContent:j.jsx(b("FDSLink.react"),{margin:"_3-8w",onClick:this.showOptOutDialog,children:i._("None of the Above")}),children:j.jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasAnyServicesSelected,label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})});case b("ServicesBookableServicesSurveySteps").CONFIRMATION:case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:return null}};d.renderOptOutDialog=function(){var a=this;return j.jsx(b("FDSModal.react"),{footer:j.jsx(b("FDSModalFooter.react"),{primaryButton:j.jsx(b("FDSButton.react"),{label:"Turn Off",onClick:function(){a.hideOptOutDialog(),b("ServicesBookableServicesSurveyActions").selectNoneOfTheAboveServices()},use:"primary"}),secondaryButton:j.jsx(b("FDSCancelButton.react"),{})}),header:j.jsx(b("FDSModalHeader.react"),{title:i._("Turn Off Quote Requests")}),isShown:this.state.isOptOutDialogShown,onHide:this.hideOptOutDialog,width:400,children:j.jsxs(b("FDSSection.react"),{children:[j.jsx(b("FDSText.react"),{size:"body1",margin:"_3-96",children:i._("Selecting {=None of the Above} will prevent you from receiving quote requests.",[i._param("=None of the Above",j.jsx("b",{children:i._("None of the Above")}))])}),j.jsx(b("FDSText.react"),{size:"body1",children:i._("You can change this in {=Edit Page Info > General > Quote Requests} on your computer.",[i._param("=Edit Page Info > General > Quote Requests",j.jsx("b",{children:i._("Edit Page Info > General > Quote Requests")}))])})]})})};d.renderProgressBar=function(){return j.jsx(b("BUIProgressBar.react"),{className:"_2y4-",flexibleWidth:!0,height:"small",padding:!1,percentage:this.state.progressBarPercentage})};d.render=function(){return j.jsxs("div",{children:[this.renderOptOutDialog(),this.renderTitle(),this.renderProgressBar(),this.renderBody(),this.renderFooter()]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContainer.react",["BookableServicesSurveyDialogContentContainer.react","DialogExpansion","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","React","XUIDialog.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},fixedTopPosition:100,labelledBy:"dialogTitle",hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.props.onToggle,shown:this.props.shown,width:480,children:g.jsx(b("BookableServicesSurveyDialogContentContainer.react"),{onToggle:this.props.onToggle,pageID:this.props.pageID,referrer:this.props.referrer})})};return c}(g.Component);e.exports=a}),null);
__d("ServicesLeadGenBookableServicesAdminText.react",["fbt","BookableServicesSurveyDialogContainer.react","React","ShimButton.react","XUIButton.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={referrer:null,showDialog:!1},c.toggleDialog=function(a,b){b!=null&&c.setState({referrer:b}),c.setState({showDialog:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.renderDialog=function(){return!this.state.showDialog?null:h.jsx(b("BookableServicesSurveyDialogContainer.react"),{onToggle:this.toggleDialog,pageID:this.props.pageID,referrer:this.state.referrer,shown:this.state.showDialog})};d.render=function(){var a=this;return this.props.edit?h.jsxs("div",{children:[h.jsxs(b("XUIText.react"),{size:"body1",children:[g._("Get better quote requests by")," ",h.jsx(b("ShimButton.react"),{form:"link",onClick:function(){a.toggleDialog(!0,"edit")},children:g._("telling us more about the services you offer")})]}),this.renderDialog()]}):h.jsxs("div",{children:[h.jsx(b("XUIText.react"),{display:"block",size:"body1",children:this.props.message}),h.jsxs("div",{className:"_3-8y",children:[h.jsx(b("XUIButton.react"),{label:g._("Yes"),onClick:function(){a.toggleDialog(!0,"yes")},size:"small"}),h.jsx(b("XUIButton.react"),{label:g._("No"),onClick:function(){a.toggleDialog(!0,"no")},size:"small"})]}),this.renderDialog()]})};return c}(h.PureComponent);e.exports=a}),null);
__d("MercuryXMATRenderer",["cx","fbt","ix","ErrorBoundary.react","EventRemindersGating","FacepileRounded.react","Image.react","JSResource","Link.react","LinkCTAXMATAsyncLink.react","MercuryIDs","MessengerEnvironment","MessengerGameAdminMessage.react","MessengerGroupPollingAdminMessageReact.bs","MessengerPagesCommercePaymentEnabledAdminMessage.react","MessengerParticipants.bs","MessengerReminderAdminMessage.react","MessengerTextWithEntities.react","MNAdsMessageUtils","MNCommerceLogMessageUtils","PagesInboxAddDetailsToInteractionText.react","PagesManagerInboxStore","PagesMarkAsPaidMessagingActionText.react","QE2Logger","React","ServicesAppointmentOptOutRequestsAdminText.react","ServicesAppointmentReminderAdminText.react","ServicesLeadGenBookableServicesAdminText.react","WorkGalahadScrollToMessageEventEmitter","cxMargin","gkx","isWebGLEnabled","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerGroupPollingAdminMessageReact.bs").jsComponent,k=b("React"),l=b("lazyLoadComponent")(b("JSResource")("MessengerIcebreakersVoteCastMessage.react").__setRef("MercuryXMATRenderer"));function m(a,c){return a?k.jsx(b("Image.react"),{className:"_6-fd _3-94",src:c}):null}function n(a){return a?null:k.jsx(b("Image.react"),{className:"_3-94",src:i("676168")})}a={renderText:function(a,c,d,e,f,g){var o;g=c.log_message_body?k.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:c.log_message_body}):null;o=(o=c)!=null?(o=o.log_message_data)!=null?o.message_type:o:o;switch(o){case"journey_prompt_color":g=h._("You need to be on the latest version of Messenger on a mobile device to pick a color for this conversation.");break;case"journey_prompt_nickname":var p=null,q=b("MercuryIDs").getUserIDFromParticipantID(c.author);if(c.other_user_fbid&&q!==c.other_user_fbid){q=b("MercuryIDs").getParticipantIDFromUserID(c.other_user_fbid);p=b("MessengerParticipants.bs").getNow(q)}p&&p.short_name?g=h._("You need to be on the latest version of Messenger on a mobile device to set a nickname for {admin-text-message} .",[h._param("admin-text-message",p.short_name)]):g=h._("You need to be on the latest version of Messenger on a mobile device to set a nickname for yourself.");break;case"journey_prompt_like":g=h._("You need to be on the latest version of Messenger on a mobile device to pick an emoji for this conversation.");break;case"instant_game_update":b("gkx")("678262")&&b("isWebGLEnabled")()&&(g=k.jsx(b("MessengerGameAdminMessage.react"),{message:c,text:c.log_message_body,isLastOfType:d,onLoad:e}));break;case"ads_welcome_msg":break;case"ad_manage_message":b("MNAdsMessageUtils").isAdsAdminMessage(c)&&(g=b("MNAdsMessageUtils").getAdsPageManage(c,!1));break;case"work_invite_claimed":g=c.log_message_body?c.log_message_body:h._("You're now connected on Workplace Chat.");if(c.log_message_data.untypedData){q=c.log_message_data.untypedData.invite_recipient;p=c.log_message_data.untypedData.invite_sender;q=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(q));p=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(p));if(p!=null&&q!=null){q=[q,p];g=k.jsx(b("FacepileRounded.react"),{profiles:q,message:g,numProfilesToDisplay:2,className:"_8lx"})}}break;case"generic_new_connection":case"confirm_friend_request":p=o==="confirm_friend_request";q=c.log_message_data.untypedData;if(!q)break;o=p?q.friend_request_recipient:q.recipient_id;p=p?q.friend_request_sender:q.initiator_id;o=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(o));p=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(p));if(p==null||o==null)break;o=[o,p];p=q.friend_request_subtype||q.subtype;q=p&&p.toLowerCase()==="icebreaker"?k.jsx(b("ErrorBoundary.react"),{children:k.jsx(k.Suspense,{fallback:null,children:k.jsx(l,{message:c,onLoad:e,isLastOfType:d})})}):null;b("QE2Logger").logExposureForUser("messenger_growth_tombstone");g=k.jsxs("div",{children:[k.jsx(b("FacepileRounded.react"),{profiles:o,message:c.log_message_body,numProfilesToDisplay:2,className:"_8lx"}),q]});break;case"group_thread_created":break;case"group_poll":g=k.jsx(j,{customColor:a,message:c,isLastOfType:d,onLoad:e});break;case"pages_commerce_payment_enabled":g=k.jsx(b("MessengerPagesCommercePaymentEnabledAdminMessage.react"),{message:c});break;case"thread_customization_upsell":b("MessengerEnvironment").messengerui?g=h._("Customize this conversation: choose the color, emoji and nicknames from the sidebar."):g=h._("Choose the color, emoji and nicknames from the sidebar of your conversation on www.messenger.com.");break;case"pages_mark_as_paid":case"pages_mark_as_paid_new":p=c.log_message_data.untypedData;o=p&&p.user_id;q=p&&p.page_id;a=k.jsxs("div",{className:"_86l3",children:[k.jsx(b("Image.react"),{className:"_86kw",src:i("94379")}),h._("Only you can see this.")]});g=k.jsxs(k.Fragment,{children:[a,k.jsx(b("PagesMarkAsPaidMessagingActionText.react"),{pageID:q,detectionType:p?p.detection_type:null,message:c.log_message_body,messageID:c.message_id,isPageMessage:f,userID:o})]});break;case"page_thread_action_system_add_details":a=c.log_message_data.untypedData;q=a&&a.user_id;p=a&&a.page_id;o=a&&a.interaction_type;var r=a&&a.interaction_id;a=a&&a.should_show_cta;var s=k.jsxs("div",{className:"_86l3",children:[k.jsx(b("Image.react"),{className:"_86kw",src:i("94379")}),h._("Only you can see this.")]});g=k.jsxs("div",{children:[s,k.jsx(b("PagesInboxAddDetailsToInteractionText.react"),{defaultCurrency:b("PagesManagerInboxStore").getConfig().defaultCurrency,pageID:p,interactionID:r,interactionType:o,message:c.log_message_body,messageID:c.message_id,isPageMessage:f,userID:q,shouldShowCTA:!!a})]});break;case"ad_reply_message":g=b("MNAdsMessageUtils").getAdReplyAdminMessage(c);break;case"messenger_ad_context":g=b("MNAdsMessageUtils").getAdContextAdminMessage(c);break;case"post_shared_from_group":s=c.log_message_data.untypedData;p=s.post_uri;if(p!==null){r=h._("View Post");g=k.jsxs("div",{children:[g," ",k.jsx(b("Link.react"),{href:p,children:r})]})}break;case"workchat_reminder_link_cta":var t=c.log_message_data.untypedData;o=function(){b("WorkGalahadScrollToMessageEventEmitter").emit("scrollToMessage",t.message_id)};g=k.jsxs("div",{children:[c.log_message_body," ",k.jsx(b("Link.react"),{href:"#",onClick:o,children:h._("View Message")})]});break;case"link_cta":q=c.log_message_data.untypedData;a=q.primary_text?q.primary_text:q.link_cta_xmat_primary_text;s=q.primary_text?q.cta_text:q.link_cta_xmat_cta_text;if(q.www_is_async_url){p=q.async_url;g=k.jsxs("div",{children:[a," ",k.jsx(b("LinkCTAXMATAsyncLink.react"),{text:s,uri:p})]})}else{r=q.primary_text?q.cta_url:q.link_cta_xmat_cta_url;g=k.jsxs("div",{children:[a," ",k.jsx(b("Link.react"),{href:r,children:s})]})}break;case"pages_platform_appointment_reminder":p=(o=c)!=null?(o=o.log_message_data)!=null?o.untypedData:o:o;q=p&&p.product_name;a=p&&p.start_time;r=p&&p.user_name;g=k.jsx(b("ServicesAppointmentReminderAdminText.react"),{isPageMessage:f,message:c.log_message_body,productName:q,startTime:a,timestamp:c.timestamp,userName:r});break;case"services_vertical_opt_out_requests":o=(s=c)!=null?(s=s.log_message_data)!=null?(s=s.untypedData)!=null?s.page_id:s:s:s;g=o&&k.jsx(b("ServicesAppointmentOptOutRequestsAdminText.react"),{message:c.log_message_body,pageID:o,userID:c.other_user_fbid});break;case"services_vertical_lead_gen_survey":f=(p=c)!=null?(p=p.log_message_data)!=null?(p=p.untypedData)!=null?p.page_id:p:p:p;g=f&&k.jsx(b("ServicesLeadGenBookableServicesAdminText.react"),{edit:!1,message:c.log_message_body,pageID:f});break;case"services_vertical_lead_gen_survey_edit":a=(q=c)!=null?(q=q.log_message_data)!=null?(q=q.untypedData)!=null?q.page_id:q:q:q;g=a&&k.jsx(b("ServicesLeadGenBookableServicesAdminText.react"),{edit:!0,message:c.log_message_body,pageID:a});break;case"messenger_group_sync_opt_in":break;case"lightweight_event_create":case"lightweight_event_update":case"lightweight_event_delete":case"lightweight_event_update_time":case"lightweight_event_update_title":case"lightweight_event_update_location":case"lightweight_event_notify_before_event":case"lightweight_event_notify":case"lightweight_event_rsvp":b("QE2Logger").logExposureForUser("omni_m_experiments_reminders");s=b("EventRemindersGating").omniMRenderXMATForAllReminderTypes||"M_REMINDER"===((r=c)!=null?(r=r.log_message_data)!=null?(r=r.untypedData)!=null?r.event_type:r:r:r)&&b("EventRemindersGating").omniMRenderXMATForMReminderType;s&&(g=k.jsx(b("MessengerReminderAdminMessage.react"),{message:c,isLastOfType:d,isMessenger:b("MessengerEnvironment").messengerui}));break;case"messenger_growth_generic_admin_text":o=c.log_message_data.untypedData;if(!o||!o.facepile_ids||o.facepile_ids.length!=2)break;p=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(o.facepile_ids[0]));f=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(o.facepile_ids[1]));q=[p,f];a=b("MessengerEnvironment").messengerui;r=o.title;s=o.description;p=o.cta_uri;f=a?60:40;q=k.jsx("div",{children:k.jsx(b("FacepileRounded.react"),{direction:"descending",profiles:q,message:"",numProfilesToDisplay:2,className:"_8lx",imageSize:f})});f=o.banner_uri!==null;var u=m(f,o.banner_uri),v=n(f);f=!a&&f;var w=null;o.is_two_way||(w=k.jsxs("div",{className:"_74da",children:[k.jsx(b("Image.react"),{className:"_74db",src:i("94379")}),h._("Only you can see this.")]}));g=k.jsxs("div",{children:[w,k.jsxs("div",{className:(f?"_6-fe":"")+(f?"":" _32xu"),children:[u,v,k.jsx("div",{className:"_32xz"+(a?" _6kxz":"")+(f?" _6-ff":""),children:r}),k.jsx("div",{className:"_32x-"+(f?" _6-ff":""),children:s}),q,p?k.jsx("div",{className:"_6u9q"+(f?" _6-ff":""),children:k.jsx(b("Link.react"),{href:p,children:h._("See Friendship")})}):null]})]});break;case"messenger_icebreaker_vote_cast":o=c.log_message_data.untypedData;if(!o)break;w=c.log_message_body;g=k.jsxs("div",{children:[w,k.jsx(b("ErrorBoundary.react"),{children:k.jsx(k.Suspense,{fallback:null,children:k.jsx(l,{message:c,onLoad:e,isLastOfType:d})})})]});break;case"messenger_thread_resurrection_notice":b("MNCommerceLogMessageUtils").isThreadResurrectionXMAT(c)&&(g=b("MNCommerceLogMessageUtils").getThreadResurrectionManage(c));break;default:break}return k.jsx("span",{children:g})}};e.exports=a}),null);
__d("P2PBigAmount.react",["cx","PECurrency","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=b("PECurrency").getCurrencySymbol(c.props.currencyCode);c.state={currencySymbol:d||""};return c}var d=c.prototype;d.render=function(){var a="_8j6"+(this.props.size==="large"?" _1fv":""),c="_8jc"+(this.props.isPending?" _8jd":"")+(this.props.amount.length>=7?" _8je":"");return h.jsxs("div",{className:b("joinClasses")(this.props.className,a),children:[h.jsx("div",{className:"_2n9x"+(this.props.isPending?" _2n9y":"")+(this.props.size==="large"?" _2n9-":"")+(this.props.size!=="large"&&this.props.amount.length>=7?" _62g-":""),children:this.state.currencySymbol}),h.jsx("div",{className:b("joinClasses")(this.props.className,c),children:this.props.amount})]})};return c}(h.Component);a.propTypes={amount:(c=b("prop-types")).string.isRequired,className:c.string,currencyCode:c.string.isRequired,isPending:c.bool,size:c.oneOf(["medium","large"])};a.defaultProps={size:"medium"};e.exports=a}),null);
__d("P2PGroupSendReceiptDialog.react",["cx","fbt","FacepileRounded.react","Image.react","Link.react","MessengerEnvironment","P2PAmountUtils","P2PBigAmount.react","P2PButton.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PLinkConstants","P2PLogger","P2PText.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.handleClose=function(){c.log("UI_Actn_3rd_Party_Receipt_Dismissed"),c.props.onClose()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.log("UI_Actn_3rd_Party_Receipt_Shown",{raw_amount:this.props.amount})};d.getReceiverStatusMap=function(){var a;return this.props.individualRequests.reduce(function(a,b){switch(b.currentStatus){case 7:case 2:case 4:a[b.currentStatus].push(b);break;default:a[1].push(b);break}return a},(a={},a[2]=[],a[7]=[],a[1]=[],a[4]=[],a))};d.getRequestProfile=function(a){a=a.requestee||{};return{image_src:a.picture,name:a.full_name}};d.log=function(a,c){b("P2PLogger").log(a,babelHelpers["extends"]({www_event_flow:this.props.eventFlow},c))};d.renderBody=function(){return i.jsxs(b("P2PDialogBody.react"),{children:[i.jsxs("ul",{children:[this.renderParticipantRow(this.props.sender,!0),this.renderParticipantRow(this.props.receiver,!1)]}),this.renderReceiverStatusList(),i.jsx("div",{className:"_bpy",children:i.jsx(b("P2PBigAmount.react"),{amount:b("P2PAmountUtils").sanitizeAmount(this.props.amount),currencyCode:this.props.currencyCode,isPending:this.props.isGrayAmount,size:"large"})}),i.jsxs(b("P2PText.react"),{className:"_bpt",size:"small",type:"secondary",children:[this.props.bodyText," ",i.jsx(b("Link.react"),{className:"_1ed3",href:b("P2PLinkConstants").helpCenterURI,target:"_blank",children:h._("Learn More")})]})]})};d.renderParticipantRow=function(a,c){return!c&&this.props.individualRequests.length>1?null:i.jsxs("li",{className:"_2chg",children:[i.jsx("div",{className:"_2chh",children:i.jsx(b("Link.react"),{href:a.profile_uri,onClick:this.props.onClose,children:i.jsx(b("Image.react"),{height:50,src:a.picture,width:50})})}),i.jsx("div",{className:"_2chi",children:i.jsxs(b("P2PText.react"),{type:"primary",children:[i.jsx(b("P2PText.react"),{type:"secondary",children:this.renderParticipantText(c)}),a.full_name]})})]},a.id)};d.renderParticipantText=function(a){return a?h._("From"):h._("To")};d.renderReceiverStatusList=function(){if(this.props.individualRequests.length<2)return null;var a=this.getReceiverStatusMap();return i.jsxs("ul",{children:[this.renderStatus(a,4),this.renderStatus(a,2),this.renderStatus(a,1),this.renderStatus(a,7)]})};d.renderStatus=function(a,c){a=a[c].map(this.getRequestProfile);return a.length===0?null:i.jsxs("li",{className:"_5-av",children:[i.jsx(b("P2PText.react"),{className:"_2chi _2pir",type:"secondary",children:this.renderStatusText(c)}),i.jsx(b("FacepileRounded.react"),{className:"_3-8w",hoverBehavior:"name",imageSize:40,numProfilesToDisplay:9,profiles:a})]},c)};d.renderStatusText=function(a){switch(a){case 2:return h._("Declined");case 7:return h._("Expired");case 4:return h._("Paid");case 1:default:return h._("Pending")}};d.render=function(){var a=b("MessengerEnvironment").messengerui,c=a?380:360,d=this.props.title;return i.jsxs(b("P2PDialog.react"),{className:a?"_bpv":"",layerHideOnBlur:!1,onToggle:this.props.onClose,width:c,children:[i.jsx(b("P2PDialogTitle.react"),{children:d}),this.renderBody(),i.jsx(b("P2PDialogFooter.react"),{children:i.jsx(b("P2PButton.react"),{label:h._("OK"),onClick:this.handleClose,type:"primary"})})]})};return c}(i.Component);a.defaultProps={bodyText:h._("You can send money to friends in groups."),eventFlow:"UI_Flow_P2P_Group_Send",individualRequests:[],isGrayAmount:!1,title:h._("Payment Details")};e.exports=a}),null);
__d("P2PGroupPaymentRequestReceiptDialog.react",["fbt","P2PActions","P2PGroupSendReceiptDialog.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("P2PGroupSendReceiptDialog.react"),{amount:this.props.amount,currencyCode:this.props.currencyCode,bodyText:g._("You can send payment requests to friends in groups"),eventFlow:"UI_Flow_P2P_Group_Request",individualRequests:this.props.individualRequests,isGrayAmount:!0,receiver:this.props.requestee,sender:this.props.requester,title:g._("Payment Request Details"),onClose:this.props.onClose||b("P2PActions").hideDialog})};return c}(h.Component);e.exports=a}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/payment_request/",{id:{type:"String",required:!0}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/transaction/",{id:{type:"String",required:!0}})}),null);
__d("P2PMercuryLogMessage.react",["cx","fbt","CurrentUser","Link.react","MercuryIDs","MessengerEnvironment","P2PGroupPaymentRequestReceiptDialog.react","P2PGroupSendReceiptDialog.react","P2PPaymentLogMessageSubtype","React","ReactLayeredComponentMixin_DEPRECATED","XP2PPaymentRequestReceiptController","XP2PTransactionDetailController","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"P2PMercuryLogMessage",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{amount:(a=b("prop-types")).string,receiver:a.object.isRequired,sender:a.object.isRequired,subtype:a.oneOf(Object.keys(b("P2PPaymentLogMessageSubtype")).map(function(a){return b("P2PPaymentLogMessageSubtype")[a]})),transferID:a.string.isRequired,threadFBID:a.string,threadID:a.string},getDefaultProps:function(){return{amount:"",sender:null,receiver:null,subtype:null}},getInitialState:function(){return{groupPaymentRequestReceiptDetailsShown:!1,groupSendReceiptDetailsShown:!1}},handleGroupDetailsLinkClicked:function(){this.setState({groupSendReceiptDetailsShown:!0})},handleGroupPaymentRequestDetailsLinkClicked:function(){this.setState({groupPaymentRequestReceiptDetailsShown:!0})},handleThirdPartyReceiptDialogClosed:function(){this.setState({groupPaymentRequestReceiptDetailsShown:!1,groupSendReceiptDetailsShown:!1})},isViewerSender:function(){var a=this.props.sender.id;return a&&b("MercuryIDs").getUserIDFromParticipantID(a)===b("CurrentUser").getID()},isViewerReceiver:function(){var a=this.props.receiver.id;return a&&b("MercuryIDs").getUserIDFromParticipantID(a)===b("CurrentUser").getID()},renderPaymentRequestDetailsLink:function(){var a=b("XP2PPaymentRequestReceiptController").getURIBuilder().setString("id",this.props.transferID).getURI();return i.jsx(b("Link.react"),{className:"_kiq",href:a,target:"_blank",children:h._("See details")})},renderTransferDetailsLink:function(){var a=b("XP2PTransactionDetailController").getURIBuilder().setString("id",this.props.transferID).getURI();return i.jsx(b("Link.react"),{className:"_kiq",href:a,target:"_blank",children:h._("See details")})},renderGroupDetailsLink:function(){return i.jsx(b("Link.react"),{className:"_kiq",href:"#",onClick:this.handleGroupDetailsLinkClicked,children:h._("See details")})},renderGroupPaymentRequestDetailsLink:function(){return i.jsx(b("Link.react"),{className:"_kiq",href:"#",onClick:this.handleGroupPaymentRequestDetailsLinkClicked,children:h._("See details")})},renderLayers:function(){var a={},c={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},d={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};this.state.groupSendReceiptDetailsShown?a.groupSendReceiptDetailsDialog=i.jsx(b("P2PGroupSendReceiptDialog.react"),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:c,sender:d}):this.state.groupPaymentRequestReceiptDetailsShown&&(a.groupPaymentRequestReceiptDetailsDialog=i.jsx(b("P2PGroupPaymentRequestReceiptDialog.react"),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:c,requester:d}));return a},render:function(){var a=null,c=this.props.amount,d=this.props.subtype,e=this.isViewerSender(),f=this.isViewerReceiver(),g;!e&&!f?g=this.renderGroupDetailsLink():g=this.renderTransferDetailsLink();switch(d){case"sent_in_group":a=h._("{sendername} sent {amount} to {receivername}. {details}",[h._param("sendername",this.props.sender.name),h._param("amount",c),h._param("receivername",this.props.receiver.name),h._param("details",g)]);break;case"canceled_expired":case"canceled_same_card":case"canceled_sender_risk":case"canceled_recipient_risk":case"canceled_customer_service":e?a=h._("Your {amount} payment was canceled. {details}",[h._param("amount",c),h._param("details",this.renderTransferDetailsLink())]):f?a=h._("{name}'s {amount} payment was canceled. {details}",[h._param("name",this.props.sender.name),h._param("amount",c),h._param("details",this.renderTransferDetailsLink())]):a=h._("{sender_name}'s {amount} payment to {receiver_name} was canceled. {details}",[h._param("sender_name",this.props.sender.name),h._param("amount",c),h._param("receiver_name",this.props.receiver.name),h._param("details",g)]);a=i.jsx("span",{className:"_5rdx",children:a});break;case"canceled_declined":e?a=h._("{name} didn't accept your {amount} payment. {details}",[h._param("name",this.props.receiver.name),h._param("amount",c),h._param("details",this.renderTransferDetailsLink())]):f?a=h._("You didn't accept {name}'s {amount} payment. {details}",[h._param("name",this.props.sender.name),h._param("amount",c),h._param("details",this.renderTransferDetailsLink())]):a=h._("{receiver_name} didn't accept {sender_name}'s {amount} payment. {details}",[h._param("receiver_name",this.props.receiver.name),h._param("sender_name",this.props.sender.name),h._param("amount",c),h._param("details",g)]);a=i.jsx("span",{className:"_5rdx",children:a});break;case"request_canceled_by_requester":e?a=h._("You canceled your request for {payment request amount}. {details}",[h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):f?a=h._("{sender's name} canceled their request for {payment request amount}. {details}",[h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):a=h._("{sender's name} canceled their request for {payment request amount} from {receiver's name}. {details}",[h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("receiver's name",this.props.receiver.name),h._param("details",this.renderGroupPaymentRequestDetailsLink())]);a=i.jsx("span",{className:"_5rdx",children:a});break;case"request_declined_by_requestee":e?a=h._("{receiver's name} declined your request for {payment request amount}. {details}",[h._param("receiver's name",this.props.receiver.name),h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):f?a=h._("You declined {sender's name}'s request for {payment request amount}. {details}",[h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):a=h._("{receiver's name} declined {sender's name}'s request for {payment request amount}. {details}",[h._param("receiver's name",this.props.receiver.name),h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("details",this.renderGroupPaymentRequestDetailsLink())]);a=i.jsx("span",{className:"_5rdx",children:a});break;case"request_expired":e?a=h._("Your request for {payment request amount} expired so it was canceled. {details}",[h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):f?a=h._("{sender's name}'s request for {payment request amount} expired so it was canceled. {details}",[h._param("sender's name",this.props.sender.name),h._param("payment request amount",c),h._param("details",this.renderPaymentRequestDetailsLink())]):a=h._("{sender's name}'s request to {receiver's name} for {payment request amount} expired so it was canceled. {details}",[h._param("sender's name",this.props.sender.name),h._param("receiver's name",this.props.receiver.name),h._param("payment request amount",c),h._param("details",this.renderGroupPaymentRequestDetailsLink())]);a=i.jsx("span",{className:"_5rdx",children:a});break}return i.jsx("div",{className:b("MessengerEnvironment").messengerui?"_5rdy":"",children:a})}});e.exports=c}),null);
__d("MessengerLogMessageBody.react",["ImmutableObject","MercuryLogMessageType","MessengerParticipants.bs","P2PMercuryLogMessage.react","React","ReactComponentWithPureRenderMixin","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f){var g=b("React");a=b("createReactClass_DEPRECATED")({displayName:"MessengerLogMessageBody",_subscription:null,mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{thread:b("prop-types").instanceOf(b("ImmutableObject")),message:b("prop-types").object.isRequired,viewer:b("prop-types").string.isRequired},getInitialState:function(){return{extraParticipants:{}}},componentDidMount:function(){this._subscription=this._computeParticipants()},_computeParticipants:function(){var a=this,c=this._getIDsToFetch(this.props);if(c.length===0)return null;var d=[],e={};c.forEach(function(a){var c=b("MessengerParticipants.bs").getNow(a);e[a]=c;c||d.push(a)});this.setState({extraParticipants:e});return d.length>0?b("MessengerParticipants.bs").getMulti(d,function(b){var c=a.state.extraParticipants;d.forEach(function(a){c[a]=b[a]});a._subscription=null;a.setState({extraParticipants:c})}):null},_getIDsToFetch:function(a){var c=[];a=a.message;var d=a.log_message_data;a=a.log_message_type;a===b("MercuryLogMessageType").ORION&&c.push(d.senderId,d.receiverId);return c},componentDidUpdate:function(){var a=this,b=this._getIDsToFetch(this.props);!this._subscription&&!b.every(function(b){return a.state.extraParticipants[b]})&&(this._subscription=this._computeParticipants())},componentWillUnmount:function(){this._subscription&&b("MessengerParticipants.bs").removeCallback(this._subscription)},render:function(){var a=this.props.message.log_message_type;if(a!==b("MercuryLogMessageType").ORION)return null;switch(a){case b("MercuryLogMessageType").ORION:return this._renderP2PLogMessage(this.props.message);default:return null}},_renderP2PLogMessage:function(a){var c=a.log_message_data,d=c.senderId,e=c.receiverId,f=this.state.extraParticipants;d=f[d]||new(b("ImmutableObject"))();f=f[e]||new(b("ImmutableObject"))();return g.jsx(b("P2PMercuryLogMessage.react"),{amount:c.formattedAmount,receiver:f,sender:d,subtype:c.subtype,threadFBID:a.thread_fbid,threadID:a.thread_id,transferID:c.transfer_id})}});e.exports=a}),null);
__d("MessengerLogMessageRenderer.bs",["fbt","invariant","bs_curry","React","bs_js_dict","FBLogger","bs_caml_array","bs_caml_option","MercuryViewer","TooltipLink.react","MessengerParticipants.bs","MercuryMessageRendererUtils","MessengerTextWithEntities.react","MessengerTextWithEmoticons.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){if(a!==void 0)return i.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:b("bs_caml_option").valFromOption(a).name});else{b("FBLogger")("messenger.com").mustfix("Could not find participant for renderParticipantName");return null}}function k(a,c,d){c.length>2||h(0,17765);var e=function(a){var c=i.jsx("div",{children:a.map(function(a){if(a!==void 0)return i.jsx("div",{children:b("bs_caml_option").valFromOption(a).name});else{b("FBLogger")("messenger.com").mustfix("Could not find participant for renderTooltipLink");return null}})});return i.createElement(b("TooltipLink.react"),{children:g._({"*":"{num} more"},[g._param("num",a.length,[0])]),tooltip:c,alignH:"center",position:"above"})},f=c.concat([a.author]);b("MessengerParticipants.bs").getMulti(f,function(f){var h=c.map(function(a){return b("bs_js_dict").get(f,a)});if(a.author===b("MercuryViewer").getID())return b("bs_curry")._1(d,g._("You added {subscriber1} and {more_people}.",[g._param("subscriber1",j(b("bs_caml_array").caml_array_get(h,0))),g._param("more_people",e(h.slice(1,h.length)))]));else if(b("bs_caml_array").caml_array_get(c,0)===b("MercuryViewer").getID())return b("bs_curry")._1(d,g._("{actor} added you and {more_people}.",[g._param("actor",j(b("bs_js_dict").get(f,a.author))),g._param("more_people",e(h.slice(1,h.length)))]));else return b("bs_curry")._1(d,g._("{actor} added {subscriber1} and {more_people}.",[g._param("actor",j(b("bs_js_dict").get(f,a.author))),g._param("subscriber1",j(b("bs_js_dict").get(f,b("bs_caml_array").caml_array_get(c,0)))),g._param("more_people",e(h.slice(1,h.length)))]))});return 0}function a(a,c){var d=a.log_message_data;if(d==null){b("FBLogger")("messenger.com").mustfix("Argument to renderSubscribeMessage was not a log message!");return 0}else{d=b("MercuryMessageRendererUtils").moveCurrentUserToFront(d.added_participants);var e=d.length;if(e>=3)return k(a,d,c);else switch(e){case 0:b("FBLogger")("messenger.com").mustfix("Cannot render subscribe log message with no added participants");return 0;case 1:case 2:break}d=a.log_message_body;if(d==null){b("FBLogger")("messenger.com").mustfix("Could not render subscribe log message with no log_message_body");return 0}else return b("bs_curry")._1(c,i.jsx(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:d}))}}f.getParticipantName=j;f.renderManySubscribersMessage=k;f.renderSubscribeMessage=a}),null);
__d("MessengerLogMessageRenderer.re",["bs_curry","MessengerLogMessageRenderer.bs"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MessengerLogMessageRenderer.bs").renderSubscribeMessage,a,c);return a};f.renderSubscribeMessage=a}),null);
__d("MessengerLogMessage.react",["cx","fbt","ix","EventRemindersGating","EventsMessengerComActionContextJSConfig","Image.react","JSResource","Link.react","MercuryLWARenderer","MercuryXMATRenderer","MessengerDialogs.re","MessengerLightweightActionUtils","MessengerLogMessageBody.react","MessengerLogMessageRenderer.re","MessengerMessage.re","MNCommerceLogMessageUtils","React","WorkChatRedesignedMessageListCheck.re","convertMIGColorToFIGColor","joinClasses","lazyLoadComponent","prop-types","requireWeak","EventReminderRequestHelper"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=b("React");var k=a.useEffect,l=a.useState,m=b("lazyLoadComponent")(b("JSResource")("MessengerEventPlanContainer.react").__setRef("MessengerLogMessage.react")),n=i("86913");function o(a){var c=a.message,d=a.thread;a=a.viewer;var e=l(null),f=e[0],g=e[1];k(function(){c.log_message_type==="log:subscribe"&&b("MessengerLogMessageRenderer.re").renderSubscribeMessage(c,g)},[c]);if(f!=null)return f;return b("MessengerLightweightActionUtils").isLWAMessage(c)?b("MercuryLWARenderer").renderCollapsedText(c):j.jsx(b("MessengerLogMessageBody.react"),{message:c,viewer:a,thread:d})}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showEventPlanDialog:!1},d.$5=function(a){var c;a.stopPropagation();if(d.state.showEventPlanDialog)return;d.setState({showEventPlanDialog:!0});if(!d.props.thread)return;var e=d.props.thread;a=b("EventReminderRequestHelper");var f={action_history:[{surface:b("EventsMessengerComActionContextJSConfig").messenger_com,mechanism:b("EventsMessengerComActionContextJSConfig").reminder_admin_text}]},g=(c=d.props.message)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.event_id:c:c:c;!g?d.setState({showEventPlanDialog:!1}):a.fetchEventReminder(e.thread_id,g,function(){b("MessengerDialogs.re").showDialog(function(){return j.jsx(j.Suspense,{fallback:j.jsx("div",{}),children:j.jsx(m,{threadID:e.thread_id,eventID:g,dialogOnly:!0,dialogHandleToggle:d.$6,actionContext:f})})})})},d.$6=function(a){d.setState({showEventPlanDialog:!1}),b("MessengerDialogs.re").removeAllDialogs()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("EventRemindersGating").shouldShowPlansOnMessengerCom?j.jsx("span",{className:"_ofg",ref:"attachment",children:this.$1()}):null,c=this.$2();if(c==null&&this.props.message.log_message_type!=="log:orion"){var d=b("convertMIGColorToFIGColor")(this.props.thread&&this.props.thread.solid_color);c=b("MercuryXMATRenderer").renderText(d,this.props.message,this.props.isLastOfType,this.props.onImageLoad,this.props.isPageMessage,this.props.viewer)}return j.jsxs("div",{className:this.$3(),children:[this.$4(),j.jsx("i",{className:"_uwa"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _8lms":"")}),j.jsx("span",{className:"_3oh-",children:c?c:j.jsx(o,{message:this.props.message,viewer:this.props.viewer,thread:this.props.thread})}),a]})};d.$2=function(){var a=this.props.message;if(b("MNCommerceLogMessageUtils").isCommercePageAdminMessage(a))return b("MNCommerceLogMessageUtils").getCommercePageManage(a,!0);return b("MNCommerceLogMessageUtils").isThreadResurrectionXMAT(a)?b("MNCommerceLogMessageUtils").getThreadResurrectionManage(a):null};d.$4=function(){return!b("MessengerMessage.re").hasError(this.props.message)?null:j.jsx(b("Image.react"),{className:"_41-9",src:n})};d.$3=function(){var a,c=this.props.message,d=c.log_message_type==="log:unsubscribe"&&c.log_message_data.removed_participants.indexOf(c.author)!==-1,e=this.props.viewer;switch(c.log_message_type){case"log:subscribe":a="_uwb";break;case"log:unsubscribe":a=d?"_uwc":"_uwe";break;case"log:phone-call":a=c.log_message_data.caller.indexOf(e)!==-1?"_uwf":"_uwg";break;case"log:video-call":a=c.log_message_data.caller.indexOf(e)!==-1?"_uwh":"_uwi";break;case"log:thread-name":a="_uwj";break;case"log:thread-image":a="_uwk";break;case"log:error-msg":a="_uwl";break;case"log:live-listen":a="_uwm";break;case"log:wallpaper":a="_uwn";break;case"log:orion":a="_uwo";break;case"log:switch":a="_uwp";break;case"log:page-reply":a="_uwq";break}return b("joinClasses")("_497p"+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w5v":"")+((c.log_message_type==="log:phone-call"||c.log_message_type==="log:video-call")&&!c.log_message_data.answered?" _3no3":"")+(c.log_message_data&&c.log_message_data.message_type==="instant_game_update"?" _11es":""),a)};d.$1=function(){var a;if(!this.props.thread)return null;var c=this.props.thread;if(!c.lightweight_event||!this.props.message.log_message_data)return null;var d=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_id:a:a:a,e;b("requireWeak")("EventReminderStateStore",function(a){e=a.getEvent(c.thread_id,d)});if(!e||!e.exists)return null;a=(a=this.props.message)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.event_time:a:a:a;if(!a)return null;typeof a==="string"&&(a=parseInt(a,10));if(a<=Math.floor(Date.now()/1e3))return null;var f;switch(this.props.message.log_message_data.message_type){case"lightweight_event_create":case"lightweight_event_update_time":case"lightweight_event_update_title":case"lightweight_event_update_location":case"lightweight_event_update":f=h._("Change");break;default:f=null}a=j.jsx(b("Link.react"),{href:"#",onClick:this.$5,title:h._("Edit Event"),ref:"event_rem_link",children:f});this.props.displayItems&&(a=null);return a};return c}(j.PureComponent);c.propTypes={message:(d=b("prop-types")).object.isRequired,viewer:d.string.isRequired,isLastOfType:d.bool.isRequired,onImageLoad:d.func};e.exports=c}),null);
__d("MessengerDateBreak.bs",["cx","React","FBLogger","formatDate","joinClasses","WorkChatRedesignedMessageListCheck.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.date;a=a.className;a=a!==void 0?a:"";try{var d={today:"g:ia",thisYear:"M jS, g:ia",withinWeek:"D g:ia",older:"m/d/Y g:ia",future:"g:ia"};c=b("formatDate")(c,d);return h.jsx("h4",{children:h.jsx("time",{children:c,className:"_3oh-"}),className:b("joinClasses")(a,"_497p"+(b("WorkChatRedesignedMessageListCheck.bs").enabled?" _7w5v":"")+(b("WorkChatRedesignedMessageListCheck.bs").enabled?" _7w78":"")+" _2lpt")})}catch(a){b("FBLogger")("messaging").mustfix("invalid timestamp: Js.Date.getTime(date)");return null}}c=h.memo(a,function(a,b){return a.date.getTime()===b.date.getTime()});f.make=c}),null);
__d("MessengerDateBreak.re",["MessengerDateBreak.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerDateBreak.bs").make;f.make=a}),null);
__d("MercuryOrderedThreadlist",["invariant","ChatReliabilityInstrumentation","LogHistory","MercuryAPIArgsSource","MercuryDispatcher","MercuryFilters.bs","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap","MercuryThreadInformer","MessagingTag","MessengerFolders.bs","MessengerState.bs","RangedCallbackManager"],(function(a,b,c,d,e,f,g){"use strict";var h=b("LogHistory").getInstance("ordered_threadlist_model"),i=b("MercuryFilters.bs").getSupportedFilters().concat([b("MercuryFilters.bs").all,b("MessagingTag").GROUPS]),j=b("MessengerFolders.bs").getSupportedFolders().concat([b("MessagingTag").SPAM,b("MessagingTag").PAGE_BACKGROUND]);a=function(){a.getForFBID=function(a){return l.getForFBID(a)};a.get=function(){return l.get()};function a(a){var c=this;this.$1=a;this.$2=b("MercuryThreadIDMap").getForFBID(this.$1);this.$3=b("MercuryThreadInformer").getForFBID(this.$1);this.$4=b("MercuryDispatcher").getForFBID(this.$1);this.$5={};this.$6();this.$4.subscribe("update-threadlist",function(a,b){if(!k(b))return;a=b.ordered_threadlists;if(a&&a.length)c.$7(a);else{a=(b.actions||[]).filter(function(a){return a.thread_id});c.$8(b.threads||[]);c.$9(a)}c.$3.updatedThreadlist()});this.$4.subscribe("invalidate-global-state",function(){return c.$10()})}var c=a.prototype;c.getThreadlistOrderMap=function(a,c){var d=this;this.$5[a][c]||(i=i.concat([c]),j.forEach(function(a){d.$5[a][c]=new(b("RangedCallbackManager"))(function(a){a=b("MessengerState.bs").getThreadMetaNow(d.$1,a);return a&&a.timestamp},function(a,b){return b-a},d.$2.canLinkExternally.bind(d.$2))}));return this.$5[a][c]};c.getThreadlist=function(a,c,d,e,f,g){return this.getFilteredThreadlist(a,c,d,b("MercuryFilters.bs").all,e,f,g)};c.getFilteredThreadlist=function(a,c,d,e,f,g,i){var j=this.getThreadlistOrderMap(d,e);f=j.executeOrEnqueue(a,c,f,g);g=j.getUnavailableResources(f);if(g.length){if(j.getCurrentArraySize()<a){a={start:a,limit:c,filter:e,resources_size:j.getCurrentArraySize()};h.warn("range_with_gap",JSON.stringify(a))}this.getServerRequests().fetchThreadlistInfo(j.getCurrentArraySize(),g.length,d,e==b("MercuryFilters.bs").all?null:e,i,this.$11(j.getAllResources()))}return f};c.getServerRequests=function(){return b("MercuryServerRequests").getForFBID(this.$1)};c.getThreadlistUntilTimestamp=function(a,c,d){d=d||b("MercuryFilters.bs").all;return this.getThreadlistOrderMap(c,d).getElementsUntil(a)};c.getAvailableThreadlistNow=function(a,c){c=c||b("MercuryFilters.bs").all;return this.getThreadlistOrderMap(a,c).getAllResources()};c.getThreadCount=function(a,c){c=c||b("MercuryFilters.bs").all;return this.getThreadlistOrderMap(a,c).getCurrentArraySize()};c.hasLoadedThreadlist=function(a,c){c=c||b("MercuryFilters.bs").all;return this.getThreadlistOrderMap(a,c).hasReachedEndOfArray()};c.unsubscribe=function(a,c,d){d=d||b("MercuryFilters.bs").all,this.getThreadlistOrderMap(c,d).unsubscribe(a)};c.$10=function(){this.$5={},this.$6()};c.$6=function(){var a=this;j.forEach(function(c){a.$5[c]={},i.forEach(function(d){a.$5[c][d]=new(b("RangedCallbackManager"))(function(c){c=b("MessengerState.bs").getThreadMetaNow(a.$1,c);return c&&c.timestamp},function(a,b){return b-a},a.$2.canLinkExternally.bind(a.$2))})})};c.$12=function(a,c,d){var e=b("MessengerState.bs").getThreadMetaNow(this.$1,a);return!!(e&&e.timestamp&&d&&c&&this.$13(a)==c&&this.$14(a).includes(d))};c.$15=function(a,c,d){var e=[],f=!1;a=(a||[]).filter(function(a){var e=a.filter||b("MercuryFilters.bs").all;return(a.folder==c||!a.folder&&c==b("MessagingTag").INBOX)&&e==d});var g=this.$5[c][d].getAllResources(),i;a.forEach(function(a){e=e.concat(a.thread_ids);var b=a.limit;a.thread_ids.length<b&&(f=!0);(!i||a.end>i)&&(i=a.end)});this.$16(e,c,d);if(f)this.$5[c][d].setReachedEndOfArray();else{a=this.$5[c][d].getCurrentArraySize();if(i&&a<i){var j={};g=g.concat(e);g=g.filter(function(a){var b=j[a];j[a]=!0;return b});g.length&&(b("ChatReliabilityInstrumentation").logERROR("duplicate_thread_ids: "+JSON.stringify(g)),h.warn("duplicate_threads",JSON.stringify({folder:c,expected_final_size:i,actual_final_size:a,duplicate_thread_ids:g})),this.getServerRequests().fetchThreadlistInfo(i,g.length,c,d==b("MercuryFilters.bs").all?null:d,b("MercuryAPIArgsSource").MERCURY,this.$11(this.$5[c][d].getAllResources())))}}};c.$7=function(a){var b=this;j.forEach(function(c){i.forEach(function(d){b.$15(a,c,d)})})};c.$9=function(a){var c=this,d={};j.forEach(function(a){d[a]={},i.forEach(function(b){d[a][b]={to_add:[],to_remove:[],to_remove_if_last_after_add:{}}})});a.forEach(function(a){var e=a.thread_id;c.$17(e,function(f){c.$18(e,function(h){var k=function(){h.forEach(function(a){if(!i.includes(a))return;!f&&g(0,2886);d[f][a].to_add.push(e);!c.$5[f][a].hasReachedEndOfArray()&&!c.$5[f][a].hasResource(e)&&(d[f][a].to_remove_if_last_after_add[e]=!0)})};function l(a){!f&&g(0,2887),i.includes(a)&&(h.includes(a)?d[f][a].to_add.push(e):d[f][a].to_remove.push(e))}if(!f){(a.action_type==="ma-type:change-folder"||a.action_type==="ma-type:change-archived-status")&&j.forEach(function(a){a!==f&&i.forEach(function(b){c.$5[a][b].removeResources([e])})});return}!f&&g(0,2888);switch(a.action_type){case"ma-type:delete-thread":h.forEach(function(a){if(!i.includes(a))return;d[f][a].to_remove.push(e)});break;case"ma-type:change-archived-status":case"ma-type:change-folder":k();break;case"ma-type:change_read_status":l(b("MessagingTag").UNREAD);break;case"ma-type:user-generated-message":case"ma-type:log-message":h.forEach(function(a){if(!i.includes(a))return;c.$12(e,f,a)&&d[f][a].to_add.push(e)});break;case"ma-type:change_flag":l("flag");break}})})});j.forEach(function(a){i.forEach(function(b){var e=c.$5[a][b];c.$16(d[a][b].to_add,a,b);for(var f=e.getCurrentArraySize()-1;f>=0;f--){var g=e.getResourceAtIndex(f);if(!d[a][b].to_remove_if_last_after_add[g])break;d[a][b].to_remove.push(g)}e.removeResources(d[a][b].to_remove)})})};c.$8=function(a){var b=this,c={};j.forEach(function(a){c[a]={},i.forEach(function(b){c[a][b]=[]})});a.forEach(function(a){b.$17(a.thread_id,function(d){b.$18(a.thread_id,function(e){d&&e.forEach(function(e){b.$12(a.thread_id,d,e)&&c[d][e].push(a.thread_id)})})})});j.forEach(function(a){i.forEach(function(d){c[a][d].length>0&&b.$16(c[a][d],a,d)})})};c.$16=function(a,c,d){var e=this;d=d||b("MercuryFilters.bs").all;this.$5[c][d].addResources(a);j.forEach(function(b){b!=c&&e.$5[b][d].removeResources(a)})};c.$17=function(a,c){var d=this;b("MessengerState.bs").getThreadMeta(this.$1,a,function(b){c(d.$13(a,b))})};c.$13=function(a,c){c=c||b("MessengerState.bs").getThreadMetaNow(this.$1,a);var d=null;!c?d="No thread metadata":c.folder||(d="No thread folder");if(d){d={error:d,tid:a};h.warn("no_thread_folder",JSON.stringify(d));b("ChatReliabilityInstrumentation").logERROR("no_thread_folder");return null}!c&&g(0,2889);a=c.folder;c.is_archived&&(a=b("MessagingTag").ACTION_ARCHIVED);if(this.$5[a])return a;else return null};c.$18=function(a,c){var d=this;b("MessengerState.bs").getThreadMeta(this.$1,a,function(b){c(d.$14(a,b))})};c.$14=function(a,c){c=c||b("MessengerState.bs").getThreadMetaNow(this.$1,a);var d=[b("MercuryFilters.bs").all];if(!c){a={error:"no_thread_metadata",tid:a};h.warn("no_thread_metadata",JSON.stringify(a));return[]}c.unread_count&&d.push(b("MessagingTag").UNREAD);c.is_canonical||d.push(b("MessagingTag").GROUPS);a=c.page_thread_info;a&&a.flagged&&d.push("flag");return d};c.$11=function(a){var c=null;if(a.length>0){a=b("MessengerState.bs").getThreadMetaNow(this.$1,a[a.length-1]);c=a?a.timestamp:null}return c};return a}();function k(a){switch(a.payload_source){case"client_change-archived_status":case"client_change-pinned_status":case"client_change_page_follow_up_status":case"client_change_read_status":case"client_change_folder":case"client_channel_message":case"client_delete_messages":case"client_delete_thread":case"client_send_message":case"server_send_message":case"server_fetch_threadlist_info":case"server_thread_sync":case"server_invalidate_global_state":case"client_update_comm_status":return!0;case"server_initial_data":return!!a.ordered_threadlists;default:return!1}}var l=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryDragDropPrompt.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){var i=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsx("div",{className:"_4g6x",children:i.jsxs("div",{className:"_4g6y",children:[i.jsx("div",{className:"_4g6z _4g71",children:h._("Drag Links\/Files Here")}),i.jsx("div",{className:"_4g6z _4g6- _4g6_",children:h._("Drop Files Here")}),i.jsx("div",{className:"_4g6z _4g6- _4g70",children:h._("Drop Link Here")})]})})};return b}(i.Component);e.exports=a}),null);
__d("MercurySyncPageEnvironment",["Arbiter","ChannelInitialData","ChannelManager","MercurySyncDeltaHandler","MessengerMQTTConnection"],(function(a,b,c,d,e,f){"use strict";b("ChannelManager").startChannelManager();function a(a,c){if(Object.keys(b("ChannelInitialData")).length===0&&JSON.stringify(b("ChannelInitialData"))===JSON.stringify({}))return;c||(c=0);b("MercurySyncDeltaHandler").getForFBID(a);b("MessengerMQTTConnection").addDeltaStream({fbid:a,irisSeqID:c.toString()});b("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:a,seqID:c})}function c(a){}e.exports={setUp:a,tearDown:c}}),null);
__d("MercuryPageServerRequests",["CurrentUser","MercuryAPIArgsSource","MercuryAssert","MercuryServerDispatcher","MercuryServerRequests","MercurySingletonProvider","MessagingTag","MessengerServerPayloadTransformer.bs","PagesMessagingPerfTypedLogger","PagesMessengerThreadUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryAPIArgsSource").MERCURY;a=function(a){babelHelpers.inheritsLoose(c,a);c.getForFBID=function(a){return h.getForFBID(a)};c.get=function(){return h.get()};function c(c){var d;d=a.call(this,c)||this;c={"/pages/messaging/thread_tag/add/":{request_user_id:c,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,batch_function:d.$MercuryPageServerRequests1,handler:function(a,b){return d.__handleUpdate(a,b)}},"/pages/messaging/thread_tag/remove/":{request_user_id:c,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,batch_function:d.$MercuryPageServerRequests1,handler:function(a,b){return d.__handleUpdate(a,b)}},"/pages/messaging/thread_tag/list/":{request_user_id:c,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return d.$MercuryPageServerRequests2(a,b)}},"/pages/messaging/thread_custom_tags/list/":{request_user_id:c,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return d.$MercuryPageServerRequests2(a,b)}},"/pages/messaging/create_note/":{request_user_id:c,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return d.__handleUpdate(a,b)}},"/pages/messaging/owner/list/":{request_user_id:c,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return d.$MercuryPageServerRequests2(a,b)}}};b("MercuryServerDispatcher").registerEndpoints(c);return d}var d=c.prototype;d.$MercuryPageServerRequests2=function(a,c){if(a.graphql_payload){var d=a.graphql_payload.map(function(c){return b("MessengerServerPayloadTransformer.bs").transformThread(a.viewer,c,a.for_page)});d={ordered_threadlists:a.ordered_threadlists,payload_source:a.payload_source,threads:d};this.__handleUpdate(d,c)}};d.$MercuryPageServerRequests1=function(a,b){var c=a?a.tag_name:b.tag_name;a=a?a.thread_ids:[];b=b?b.thread_ids:[];a=a.concat(b);b={tag_name:c,thread_ids:a};return b};d.addThreadFlag=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){a={thread_ids:[a],tag_name:"flag"};d.__sendRequest("/pages/messaging/thread_tag/add/",a)})};d.createNote=function(a,c,d){var e=this;b("MercuryAssert").isThreadID(d);this.__threadIDMap.getServerIDFromClientID(d,function(b){b={body:a,message_id:c,other_user_fbid:b};e.__sendRequest("/pages/messaging/create_note/",b)})};d.fetchThreadlistInfo=function(c,d,e,f,h,i){e===void 0&&(e=b("MessagingTag").INBOX);h===void 0&&(h=g);var j={folder:e,offset:c,limit:d,tag_name:null,custom_tags_filter:null,custom_tags:[],enum_tag:"",owner:"",owner_filter:null};if(b("PagesMessengerThreadUtils").isPageSpecficEnumFilter(f)){j.tag_name=f;this.__sendRequest("/pages/messaging/thread_tag/list/",j);return}if(f&&b("PagesMessengerThreadUtils").isCustomTagsFilter(f)){j.custom_tags_filter=f;j.custom_tags=b("PagesMessengerThreadUtils").parseCustomTagsFilter(f);b("PagesMessengerThreadUtils").isCustomTagsWithFlagFilter(f)&&(j.enum_tag="flag");this.__sendRequest("/pages/messaging/thread_custom_tags/list/",j);return}if(f&&b("PagesMessengerThreadUtils").isOwnerFilter(f)){j.owner_filter=f;j.owner=b("PagesMessengerThreadUtils").parseOwnerFilter(f);this.__sendRequest("/pages/messaging/owner/list/",j);return}a.prototype.fetchThreadlistInfo.call(this,c,d,e,f,h,i)};d.removeThreadFlag=function(a,c){var d=this;b("MercuryAssert").isThreadID(a);this.__threadIDMap.getServerIDFromClientID(a,function(a){a={thread_ids:[a],tag_name:"flag"};d.__sendRequest("/pages/messaging/thread_tag/remove/",a)})};d.toString=function(){return"MercuryPageServerRequests"};d.__logMercurySendError=function(c){new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.__getFBID()).setEventName("messages_send_message_js_handle_error").setExceptionMessage(c.error_data.description).setExceptionCode(c.error_data.code).log(),a.prototype.__logMercurySendError.call(this,c)};d.__getForAsyncRequest=function(a){a=a.getData();a=a.request_user_id?a.request_user_id:b("CurrentUser").getID();return c.getForFBID(a)};return c}(b("MercuryServerRequests"));var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryPageMessageActions",["MercuryMessageActions","MercuryPageServerRequests","MercurySingletonMixin"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.__serverRequests=b("MercuryPageServerRequests").getForFBID(c);return d}var d=c.prototype;d.createNote=function(a,b,c){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({action_type:"ma-type:create-page-admin-note",message_id:c,note:a,thread_id:b},"client_create_page_admin_note")),this.__serverRequests.createNote(a.body.text,c,b)};return c}(b("MercuryMessageActions"));Object.assign(a,b("MercurySingletonMixin"),{_instances:{}});e.exports=a}),null);
__d("MercuryPageOrderedThreadlist",["MercuryOrderedThreadlist","MercuryPageServerRequests","MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);c.getForFBID=function(a){return g.getForFBID(a)};c.get=function(){return g.get()};function c(b){var c;c=a.call(this,b)||this;c.$MercuryPageOrderedThreadlist1=b;return c}var d=c.prototype;d.getServerRequests=function(){return b("MercuryPageServerRequests").getForFBID(this.$MercuryPageOrderedThreadlist1)};return c}(b("MercuryOrderedThreadlist"));var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("XWECMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/send/",{})}),null);
__d("MercuryWECServerSendMessageQueue",["MercuryServerSendMessageQueue","MessengerAttachmentTransformer.bs","MessengerMessageTransformer.bs","XWECMessagingSendController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getSendURI=function(){return b("XWECMessagingSendController").getURIBuilder().getURI().toString()};d.handleSuccess=function(a,c){var d=this,e=(a.actions||[]).map(function(a){d.pending_message=null;var c=babelHelpers["extends"]({},a);if(a.graphql_payload&&a.graphql_payload.node){var e=a.graphql_payload.node.story_attachment;e={legacy_attachment_id:a.graphql_payload.node.legacy_attachment_id,story_attachment:e==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(e)};e=b("MessengerAttachmentTransformer.bs").transformAttachment(d.sender_id,{extensible_attachment:e,blob_attachments:[],sticker:null},a.message_id,!0);c=Object.assign(c,{attachments:e})}return c});a.actions=e;this.resumeAfterSuccess(a,c)};return c}(b("MercuryServerSendMessageQueue"));e.exports=a}),null);
__d("MercuryWECServerSendMessageQueueRouter",["MercurySingletonProvider","MercuryWECServerSendMessageQueue"],(function(a,b,c,d,e,f){"use strict";a=function(){a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};function a(a){this.queues=new Map(),this.fbid=a}var c=a.prototype;c.enqueue=function(a,c,d,e){var f=this.queues.get(a);f===void 0&&(f=new(b("MercuryWECServerSendMessageQueue"))(this.fbid,a,c,d),this.queues.set(a,f));f.enqueue(e)};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryWECServerRequests",["MercuryAPIArgsSource","MercuryIDs","MercuryMessageClientState","MercuryPageServerRequests","MercuryServerDispatcher","MercurySingletonProvider","MercuryWECServerSendMessageQueueRouter"],(function(a,b,c,d,e,f){"use strict";var g=b("MercuryAPIArgsSource").MERCURY;a=function(a){babelHelpers.inheritsLoose(c,a);c.getForFBID=function(a){return h.getForFBID(a)};c.get=function(){return h.get()};function c(c){var d;d=a.call(this,c)||this;d.$MercuryWECServerRequests1=c;c={"/wec/messaging/remove_group_participants/":{request_user_id:c,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a,b){return d.__handleUpdate(a,b)}}};b("MercuryServerDispatcher").registerEndpoints(c);return d}var d=c.prototype;d.sendNewMessage=function(a,c){c===void 0&&(c=g);if(a.client_state&&a.client_state!==b("MercuryMessageClientState").SEND_TO_SERVER)return;var d=b("MercuryIDs").tokenize(a.thread_id);a=babelHelpers["extends"]({},a,{thread_id:null,other_user_fbid:d.value});b("MercuryWECServerSendMessageQueueRouter").getForFBID(this.$MercuryWECServerRequests1).enqueue(a.other_user_fbid,this.__getSendMessageQueueOptions(),c,a)};d.leaveGroup=function(a){a={group_id:a,participant_ids:[this.$MercuryWECServerRequests1]};this.__sendRequest("/wec/messaging/remove_group_participants/",a)};return c}(b("MercuryPageServerRequests"));var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryWECMessageActions",["MercuryMessageActions","MercurySingletonMixin","MercuryWECServerRequests"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$MercuryWECMessageActions1=c;d.__serverRequests=b("MercuryWECServerRequests").getForFBID(c);return d}var d=c.prototype;d.leaveGroup=function(a){this.__serverRequests.leaveGroup(a)};return c}(b("MercuryMessageActions"));Object.assign(a,b("MercurySingletonMixin"),{_instances:{}});e.exports=a}),null);
__d("ChatAppointmentUtil",["fbt","DateTime","MercuryShareAttachmentRenderLocations","ServicesDateTimeUtils","getTimezoneAbbreviation"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({LONG_DATE_FORMAT:"l, M j, Y",SHORT_DATE_FORMAT:"D M j, y",TIME_FORMAT:"g:i A",LONG_DATE_TIME_FORMAT:"l, M j, Y g:ia",SHORT_DATE_TIME_FORMAT:"D M j, g:ia"}),i={getAbbreviationMonthText:function(a){switch(a.getMonth()){case 1:return g._("JAN");case 2:return g._("FEB");case 3:return g._("MAR");case 4:return g._("APR");case 5:return g._("MAY");case 6:return g._("JUN");case 7:return g._("JUL");case 8:return g._("AUG");case 9:return g._("SEP");case 10:return g._("OCT");case 11:return g._("NOV");case 12:return g._("DEC")}return null},getDateFormat:function(a){return a===b("MercuryShareAttachmentRenderLocations").CHAT||a===b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW?h.SHORT_DATE_FORMAT:h.LONG_DATE_FORMAT},getDateTimeFormat:function(a){return a===b("MercuryShareAttachmentRenderLocations").CHAT||a===b("MercuryShareAttachmentRenderLocations").CHAT_PREVIEW?h.SHORT_DATE_TIME_FORMAT:h.LONG_DATE_TIME_FORMAT},maybeAppendTimezone:function(a,c){return b("ServicesDateTimeUtils").isTimezoneDifferentThanLocal(c)?a+" ("+b("getTimezoneAbbreviation")(b("DateTime").now(c))+")":a},validateAppointment:function(a){return Boolean(a.product_item&&a.page)},isEndDayDifferentFromStartDay:function(a,c){var d=new(b("DateTime"))(a.start,c);a=new(b("DateTime"))(a.end,c);return d.getDayOfMonth()!==a.getDayOfMonth()},parseJSON:function(a){if(a===null||a===void 0||a.length===0)return null;try{return JSON.parse(a)}catch(a){return null}},renderDate:function(a,c,d){if(!a)return null;a=new(b("DateTime"))(a.start,c);return a.format(i.getDateFormat(d))},renderTimeRange:function(a,c,d){if(!a)return null;d=new(b("DateTime"))(a.start,c);a=new(b("DateTime"))(a.end,c);var e=h.TIME_FORMAT,f;d.equals(a)?f=d.format(e):f=d.format(e)+" - "+a.format(e);return this.maybeAppendTimezone(f,c)},renderDateTimeRange:function(a,c,d){if(!a)return null;a=new(b("DateTime"))(a.start,c);return a.format(i.getDateTimeFormat(d))},renderDateTime:function(a,b){return!a?null:a.format(i.getDateTimeFormat(b))},renderStartDateTime:function(a,c,d){if(!a)return null;a=new(b("DateTime"))(a.start,c);return this.maybeAppendTimezone(i.renderDateTime(a,d),c)},renderEndDateTime:function(a,c,d){if(!a)return null;a=new(b("DateTime"))(a.end,c);return this.maybeAppendTimezone(i.renderDateTime(a,d),c)}};e.exports=i}),null);
__d("MultiToggleButton.react",["cx","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onClick(c.props.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx(b("ShimButton.react"),{"aria-pressed":this.props.isChecked,className:"_2xzo"+(this.props.isChecked?" _2xzq":""),onClick:this.$1,children:this.props.label})};return c}(h.Component);e.exports=a}),null);
__d("MultiToggleButtonGroup.react",["cx","MultiToggleButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=b("joinClasses")("_3hf7",this.props.className);return h.jsx("div",{className:c,children:this.props.options.map(function(c){return h.jsx(b("MultiToggleButton.react"),{label:c.label,value:c.value,isChecked:a.props.selectedOptions.has(c.value),onClick:a.props.onOptionClicked},c.value)})})};return c}(h.Component);e.exports=a}),null);
__d("BusinessCRMConfigStore",["undux"],(function(a,b,c,d,e,f){"use strict";a=b("undux").createConnectedStore;c={config:null};e.exports=a(c)}),null);
__d("CRMAddAdditionalFieldDialog.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSSimplePopover.react","FDSText.react","FDSTextInput.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=560,k=90,l=50;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={value:"",showError:!1},c.$1=function(a){c.setState({value:a})},c.$3=function(){var a=c.state.value&&c.state.value.trim();c.$2(a)?c.props.onConfirm(a):c.setState({showError:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(a){return a!=null&&a.length>0&&a.length<=l};d.render=function(){var a=this.state.value&&this.state.value.trim(),c=this.state.showError?h._("Field Name should be between 1-50 characters long"):null;this.$2(a)&&(c=null);return i.jsx(b("FDSModal.react"),{footer:i.jsx(b("FDSModalFooter.react"),{primaryButton:i.jsx(b("FDSButton.react"),{isDisabled:!!c,label:h._("Add Contact Field"),margin:"_3-9a",onClick:this.$3,use:"primary"}),secondaryButton:i.jsx(b("FDSCancelButton.react"),{})}),header:i.jsx(b("FDSModalHeader.react"),{title:h._("Create Contact Field")}),isShown:!0,onHide:this.props.onCancel,width:j,children:i.jsx(b("FDSSection.react"),{children:i.jsxs("div",{className:"_7rcj",children:[i.jsx(b("FDSText.react"),{display:"inline",weight:"bold",width:k,children:h._("Field Name")}),i.jsx("div",{className:"_3-90",children:i.jsx(b("FDSSimplePopover.react"),{content:h._("Contact fields are added to all contacts."),position:"below"})}),i.jsx(b("FDSTextInput.react"),{errorMessage:c,label:this.state.value,labelIsHidden:!0,onChange:this.$1,placeholder:h._("Name this contact field"),value:this.state.value})]})})})};return c}(i.PureComponent);e.exports=a}),null);
__d("CRMAdditionalFieldsList.react",["cx","fbt","FDSLink.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=5;function a(a){var c=a.rowClassName!=null?a.rowClassName:"_7q3e",d=a.additionalFieldList.map(function(d,e){var f;f=(f=d.custom_field)==null?void 0:f.display_name;d=d.value!=null&&d.value!==""?d.value:"-";if(!a.showAll)if(e===j)return i.jsx("div",{className:"_7q3f",children:i.jsx(b("FDSLink.react"),{onClick:a.onClickSeeMore,showUnderline:"never",children:h._("See More")})},"0");else if(e>j)return null;return f==null?null:i.jsxs("div",{className:c,children:[i.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:f}),i.jsx(b("FDSText.react"),{display:"block",margin:"_3-8w",size:"body3",children:d})]},f+":"+e)});return i.jsx("div",{className:a.className,children:d})}e.exports=a}),null);
__d("CRMCancelImportDialog.react",["fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:g._("Confirm"),onClick:this.props.onConfirmCancel,use:"primary"}),secondaryButton:h.jsx(b("FDSCancelButton.react"),{})}),header:h.jsx(b("FDSModalHeader.react"),{title:g._("Cancel Upload?")}),isShown:this.props.isShown,label:"Modal Title",onHide:this.props.onHide,children:h.jsx(b("FDSSection.react"),{children:h.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:g._("If you cancel your upload, none of your new contacts will be saved. Do you want to continue?")})})})};return c}(h.PureComponent);e.exports=a}),null);
__d("CRMClientContactsSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{title:b.title,subtitle:b.subtitle,uniqueID:b.uniqueID,uri:b.uri})||this;c.$CRMClientContactsSearchableEntry1=b.platform;return c}var c=b.prototype;c.getPlatform=function(){return this.$CRMClientContactsSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("ServicesUINoProfileImage.react",["cx","FDSText.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=a.letter;return h.jsx("div",{className:b("joinClasses")("_6ts_"+(d==="large"?" _6tt0":"")+(d==="small"?" _6tt1":"")+(d==="xsmall"?" _8jmv":"")+(d==="xlarge"?" _6-3z":""),c),children:h.jsx(b("FDSText.react"),{color:"white",size:"header2",children:a})})};return c}(h.Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("CRMClientContactSearchViewItem.react",["cx","CRMClientContactsSearchableEntry","Image.react","React","ServicesUINoProfileImage.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=32;function j(a){var c=null;a.entry.getURI()!=null&&a.entry.getURI()!==""?c=h.jsx(b("Image.react"),{className:"_8jmw",height:i,src:a.entry.getURI(),width:i}):c=h.jsx(b("ServicesUINoProfileImage.react"),{className:"_3-91",letter:a.entry.getTitle()[0],size:"xsmall"});if(a.entry instanceof b("CRMClientContactsSearchableEntry")){a=a.entry.getPlatform();return h.jsxs("div",{className:"_7yyd"+(a==="FACEBOOK"?" _5m15":"")+(a==="INSTAGRAM"?" _5m16":""),height:i,width:i,children:[c,h.jsx("div",{className:"_5m17",children:h.jsx("div",{className:"_5m18"})})]})}return c}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this,b=this.props.entry;return h.jsxs("li",{className:"_8jun",onMouseDown:function(c){return a.props.onSelect(b,c)},children:[h.jsx(j,{entry:b}),h.jsxs("div",{children:[this.props.renderHighlight(b.getTitle()),b.getSubtitle()]})]},b.getUniqueID())};return b}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxRealtimeClock.react",["DateTime","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=6e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={currentTime:b("DateTime").now(c.timezoneID)};return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=setInterval(function(){return a.setState({currentTime:b("DateTime").now(a.props.timezoneID)})},h)};d.componentWillUnmount=function(){this.$1&&clearInterval(this.$1)};d.render=function(){return g.jsx("span",{children:this.state.currentTime.format("g:i A")})};return c}(g.PureComponent);e.exports=a}),null);
__d("CRMClientDetailsAboutSectionFacebook.react",["ix","cx","fbt","ErrorBoundary.react","FDSText.react","Image.react","LeftRight.react","Link.react","PageCustomerProfileUnitType","PagesManagerInboxRealtimeClock.react","React","RelayModern","TextWithEntities.react","Timezone","asset","emptyFunction","linkifyEntityRange","nullthrows","TimezoneNamesData","CRMClientDetailsAboutSectionFacebook_details.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;b("Timezone").registerNamesModule(b("TimezoneNamesData"));var l=(d={},d[(f=b("PageCustomerProfileUnitType")).EDUCATION]=g("532669"),d[f.EMPLOYMENT]=g("542610"),d[f.HOMETOWN]=g("528432"),d[f.LIKE_SINCE]=g("529235"),d[f.LOCAL_TIME]=g("508064"),d[f.LOCATION]=g("542398"),d);function a(a){var c,d;c=(c=a.details.profile_uris)==null?void 0:(c=c[0])==null?void 0:c.uri;d=((d=a.details.page_customer)==null?void 0:d.profile_units)||[];d=d.length>0?d.map(function(c){if(c.unit_type===b("PageCustomerProfileUnitType").LOCAL_TIME){var d;d=(d=a.details.page_customer)==null?void 0:(d=d.city)==null?void 0:(d=d.location)==null?void 0:d.timezone;if(d==null)return null;d=i._("Local time {formatted time}",[i._param("formatted time",k.jsx(b("PagesManagerInboxRealtimeClock.react"),{timezoneID:b("Timezone").getByName(d)}))])}else{var e;d=k.jsx(b("TextWithEntities.react"),{interpolator:b("linkifyEntityRange"),ranges:(e=c.text)==null?void 0:e.ranges,text:(e=c.text)==null?void 0:e.text})}e=b("nullthrows")(c.unit_type);return k.jsx(b("ErrorBoundary.react"),{children:k.jsxs("div",{className:"_6tt2",children:[k.jsx(b("Image.react"),{src:l[e]}),k.jsx("div",{className:"_2pi9",children:d})]})},e)}):k.jsx("span",{className:"_6tt2",children:i._("No public information available.")});return k.jsxs("div",{className:"_2pif",children:[k.jsxs(b("LeftRight.react"),{children:[k.jsx(b("FDSText.react"),{color:"placeholder",size:"header3",children:"Facebook"}),a.shouldSuppressProfileLink?null:k.jsx(b("Link.react"),{href:c,onClick:b("emptyFunction"),target:"_blank",children:i._("View Profile")})]}),k.jsx("div",{className:"_3-8y",children:d})]})}e.exports=c(a,{details:j!==void 0?j:j=b("CRMClientDetailsAboutSectionFacebook_details.graphql")})}),null);
__d("CRMClientDetailsAboutSectionInstagram.react",["ix","cx","fbt","FDSLink.react","FDSText.react","Image.react","LeftRight.react","Link.react","React","RelayModern","asset","emptyFunction","CRMClientDetailsAboutSectionInstagram_details.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c;c=(c=a.details.profile_uris)==null?void 0:(c=c[0])==null?void 0:c.uri;var d=a.details.ig_profile_info;d=d!=null?k.jsxs("span",{children:[k.jsxs("div",{className:"_6tt2",children:[k.jsx(b("Image.react"),{src:g("687382")}),k.jsxs("div",{className:"_2pi9",children:[k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:d.ig_username}),k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:d.ig_name})]})]}),d.ig_bio!==""||d.ig_website!==""?k.jsxs("div",{className:"_6tt2",children:[k.jsx(b("Image.react"),{src:g("490681")}),k.jsxs("div",{className:"_2pi9",children:[k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:d.ig_bio}),d.ig_website!=null?k.jsx(b("FDSLink.react"),{href:d.ig_website,onClick:b("emptyFunction"),target:"_blank",children:d.ig_website}):null]})]}):null]}):k.jsx("span",{className:"_6tt2",children:i._("No public information available.")});return k.jsxs("div",{className:"_2pie",children:[k.jsxs(b("LeftRight.react"),{children:[k.jsx(b("FDSText.react"),{color:"placeholder",size:"header3",children:i._("Instagram")}),a.shouldSuppressProfileLink?null:k.jsx(b("Link.react"),{href:c,onClick:b("emptyFunction"),target:"_blank",children:i._("View Profile")})]}),k.jsx("div",{className:"_3-8y",children:d})]})}e.exports=c(a,{details:j!==void 0?j:j=b("CRMClientDetailsAboutSectionInstagram_details.graphql")})}),null);
__d("CRMClientListActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ADD_OR_REMOVE_CSV:null,CRM_BACK_TO_FILE_UPLOAD:null,CRM_LIST_BACK_TO_CLIENT_LIST:null,CRM_LIST_FORCE_ACTIVITY_REFETCH:null,CRM_LIST_FORCE_REFETCH:null,CRM_LIST_SHOW_CLIENT_DETAILS:null,CRM_LIST_UNSET_FORCE_ACTIVITY_REFETCH:null,CRM_LIST_UNSET_FORCE_REFETCH:null,CRM_LIST_ADD_CONTACT_TO_BULK_EDIT:null,CRM_LIST_REMOVE_CONTACT_TO_BULK_EDIT:null,CRM_LIST_REMOVE_CONTACT_FROM_UNSELECTED_BULK_EDIT:null,CRM_LIST_CLEAR_CONTACT_TO_BULK_EDIT:null,CRM_LIST_SET_TOTAL_CONTACT_COUNT:null,CRM_UPDATE_SEARCH_TERM:null,CRM_CONTACT_SEARCH_DONE:null,CRM_IMPORT_CONTACTS:null,CRM_LIST_MATCH_COLUMN:null,CRM_CREATE_CONTACTS_FROM_CSV:null,CRM_COMPLETE_CONTACTS_CREATION_FROM_CSV:null,CRM_DISMISS_TOAST:null,CRM_INIT_MERGE_CONTACT:null,CRM_COMPLETE_MERGE_CONTACT:null,CRM_DISMISS_MERGE_TOAST:null,CRM_MERGE_CONTACT_ERROR:null,CRM_LIST_SELECT_ALL_TO_BULK_EDIT:null,CRM_LIST_ADD_CONTACT_TO_UNSELECTED_BULK_EDIT:null,CRM_LIST_CLEAR_UNSELECTED_CONTACT_TO_BULK_EDIT:null,CRM_START_BULK_ACTION:null,CRM_COMPLETE_BULK_ACTION:null,CRM_DISMISS_BULK_ACTION_TOAST:null,CRM_SET_EXPORT_CONTACTS_URL:null,CRM_UPDATE_PROGRESS:null,CRM_UPDATE_SELECTED_DATE_RANGE:null,CRM_UPDATE_SELECTED_PLATFORMS:null,CRM_UPDATE_SELECTED_ACTIVITIES:null,CRM_UPDATE_SELECTED_OTHER_FILTERS:null,CRM_CLEAR_SELECTED_OTHER_FILTERS:null,CRM_UPDATE_SAVED_FILTERS:null,CRM_UPDATE_SELECTED_SAVED_FILTER:null,CRM_CLEAR_LIST_SELECTION:null,CRM_UPDATE_INPUT_DATA:null,CRM_UPDATE_IS_LOADING:null,CRM_CLEAR_SELECTED_DATE_RANGE:null,CRM_CLEAR_SELECTED_PLATFORM:null,CRM_SHOW_SEARCH_RESULTS:null,CRM_ADD_CUSTOM_LABEL:null,CRM_REMOVE_CUSTOM_LABEL:null,CRM_CLEAR_TYPEAHEAD_SEARCH:null});e.exports=a}),null);
__d("PagesReactDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("CRMClientListActions",["CRMClientListActionTypes","PagesReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("CRMClientListActionTypes")).ADD_OR_REMOVE_CSV,h=a.CRM_ADD_CUSTOM_LABEL,i=a.CRM_BACK_TO_FILE_UPLOAD,j=a.CRM_CLEAR_LIST_SELECTION,k=a.CRM_CLEAR_SELECTED_DATE_RANGE,l=a.CRM_CLEAR_SELECTED_OTHER_FILTERS,m=a.CRM_CLEAR_SELECTED_PLATFORM,n=a.CRM_CLEAR_TYPEAHEAD_SEARCH,o=a.CRM_COMPLETE_BULK_ACTION,p=a.CRM_COMPLETE_CONTACTS_CREATION_FROM_CSV,q=a.CRM_COMPLETE_MERGE_CONTACT,r=a.CRM_CONTACT_SEARCH_DONE,s=a.CRM_CREATE_CONTACTS_FROM_CSV,t=a.CRM_DISMISS_BULK_ACTION_TOAST,u=a.CRM_DISMISS_MERGE_TOAST,v=a.CRM_DISMISS_TOAST,w=a.CRM_IMPORT_CONTACTS,x=a.CRM_INIT_MERGE_CONTACT,y=a.CRM_LIST_ADD_CONTACT_TO_BULK_EDIT,z=a.CRM_LIST_ADD_CONTACT_TO_UNSELECTED_BULK_EDIT,A=a.CRM_LIST_BACK_TO_CLIENT_LIST,B=a.CRM_LIST_CLEAR_CONTACT_TO_BULK_EDIT,C=a.CRM_LIST_CLEAR_UNSELECTED_CONTACT_TO_BULK_EDIT,D=a.CRM_LIST_FORCE_ACTIVITY_REFETCH,E=a.CRM_LIST_FORCE_REFETCH,F=a.CRM_LIST_MATCH_COLUMN,G=a.CRM_LIST_REMOVE_CONTACT_FROM_UNSELECTED_BULK_EDIT,H=a.CRM_LIST_REMOVE_CONTACT_TO_BULK_EDIT,I=a.CRM_LIST_SELECT_ALL_TO_BULK_EDIT,J=a.CRM_LIST_SET_TOTAL_CONTACT_COUNT,K=a.CRM_LIST_SHOW_CLIENT_DETAILS,L=a.CRM_LIST_UNSET_FORCE_ACTIVITY_REFETCH,M=a.CRM_LIST_UNSET_FORCE_REFETCH,N=a.CRM_MERGE_CONTACT_ERROR,O=a.CRM_REMOVE_CUSTOM_LABEL,P=a.CRM_SET_EXPORT_CONTACTS_URL,Q=a.CRM_SHOW_SEARCH_RESULTS,R=a.CRM_START_BULK_ACTION,S=a.CRM_UPDATE_INPUT_DATA,T=a.CRM_UPDATE_IS_LOADING,U=a.CRM_UPDATE_PROGRESS,V=a.CRM_UPDATE_SAVED_FILTERS,W=a.CRM_UPDATE_SEARCH_TERM,X=a.CRM_UPDATE_SELECTED_DATE_RANGE,Y=a.CRM_UPDATE_SELECTED_OTHER_FILTERS,Z=a.CRM_UPDATE_SELECTED_PLATFORMS,$=a.CRM_UPDATE_SELECTED_SAVED_FILTER;c={updateSearchTerm:function(a){b("PagesReactDispatcher").dispatch({type:W,payload:{searchTerm:a}})},showSearchResults:function(a){b("PagesReactDispatcher").dispatch({type:Q,payload:{showSearchResults:a}})},forceRefetch:function(){b("PagesReactDispatcher").dispatch({type:E,payload:{}})},importContacts:function(){b("PagesReactDispatcher").dispatch({type:w,payload:{}})},unsetForceFetch:function(){b("PagesReactDispatcher").dispatch({type:M,payload:{}})},forceActivityRefetch:function(){b("PagesReactDispatcher").dispatch({type:D,payload:{}})},unsetActivityForceFetch:function(){b("PagesReactDispatcher").dispatch({type:L,payload:{}})},showClientDetails:function(a){b("PagesReactDispatcher").dispatch({type:K,payload:{contactID:a}})},addOrRemoveFile:function(a){b("PagesReactDispatcher").dispatch({type:g,payload:{sampleData:a}})},backToClientList:function(){b("PagesReactDispatcher").dispatch({type:A})},backToFileUpload:function(){b("PagesReactDispatcher").dispatch({type:i})},createContactsFromCSV:function(a){b("PagesReactDispatcher").dispatch({type:s,payload:{uploadedFileName:a}})},completeContactsCreation:function(){b("PagesReactDispatcher").dispatch({type:p})},dismissToast:function(){b("PagesReactDispatcher").dispatch({type:v})},goMatchColumn:function(){b("PagesReactDispatcher").dispatch({type:F})},addBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:y,payload:{contact:a}})},removeBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:H,payload:{contactID:a}})},clearBulkEditClient:function(){b("PagesReactDispatcher").dispatch({type:B,payload:{}})},setTotalContactCount:function(a){b("PagesReactDispatcher").dispatch({type:J,payload:{totalContactCount:a}})},initMergeContact:function(){b("PagesReactDispatcher").dispatch({type:x})},completeMergeContact:function(a){b("PagesReactDispatcher").dispatch({type:q,payload:{mergedID:a}})},dismissMergeToast:function(){b("PagesReactDispatcher").dispatch({type:u})},mergeContactError:function(){b("PagesReactDispatcher").dispatch({type:N})},selectAllBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:I,payload:{isAllSelected:a}})},addUnselectedBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:z,payload:{contact:a}})},removeUnselectedBulkEditClient:function(a){b("PagesReactDispatcher").dispatch({type:G,payload:{contactID:a}})},clearUnselectedBulkEditClient:function(){b("PagesReactDispatcher").dispatch({type:C,payload:{}})},startBulkAction:function(a){b("PagesReactDispatcher").dispatch({type:R,payload:{bulkActionType:a}})},completeBulkAction:function(){b("PagesReactDispatcher").dispatch({type:o})},dismissBulkActionToast:function(){b("PagesReactDispatcher").dispatch({type:t})},exportContactsUrl:function(a){b("PagesReactDispatcher").dispatch({type:P,payload:{url:a}})},updateProgress:function(a){b("PagesReactDispatcher").dispatch({type:U,payload:{progressUpdate:a}})},updateSelectedDateRange:function(a){b("PagesReactDispatcher").dispatch({type:X,payload:{selectedDateRange:a}})},updateSelectedPlatforms:function(a){b("PagesReactDispatcher").dispatch({type:Z,payload:{selectedPlatforms:a}})},updateSelectedOtherFilters:function(a,c){b("PagesReactDispatcher").dispatch({type:Y,payload:{selectedField:a,selectedOption:c}})},clearSelectedOtherFilters:function(){b("PagesReactDispatcher").dispatch({type:l})},updateSavedFilters:function(a,c){b("PagesReactDispatcher").dispatch({type:V,payload:{savedFilter:a,savedName:c}})},updateIsLoading:function(a){b("PagesReactDispatcher").dispatch({type:T,payload:{isLoading:a}})},updateSelectedSavedFilter:function(a){b("PagesReactDispatcher").dispatch({type:$,payload:{savedFilter:a}})},clearListSelection:function(){b("PagesReactDispatcher").dispatch({type:j})},updateInputData:function(a){b("PagesReactDispatcher").dispatch({type:S,payload:{inputData:a}})},clearSelectedDateRange:function(){b("PagesReactDispatcher").dispatch({type:k})},clearSelectedPlatform:function(){b("PagesReactDispatcher").dispatch({type:m})},addCustomLabel:function(a){b("PagesReactDispatcher").dispatch({type:h,payload:{label:a}})},removeCustomLabel:function(a){b("PagesReactDispatcher").dispatch({type:O,payload:{label:a}})},clearTypeaheadSearch:function(){b("PagesReactDispatcher").dispatch({type:n})},setContactSearchLoaded:function(){b("PagesReactDispatcher").dispatch({type:r})}};e.exports=c}),null);
__d("CRMManualContactCreationDialogActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CRM_CLEAR_CONTACT_FORM:null,CRM_CONTACT_ADD_CLIENT_SAVE_FAIL:null,CRM_CONTACT_ADD_CLIENT_SAVE_SUCCESS:null,CRM_CONTACT_ADD_CLIENT_SAVING:null,CRM_CONTACT_DIALOG_INIT_LOADED_CONTACT:null,CRM_CONTACT_FETCHED_NO_CONTACT_PAGE_INFO:null,CRM_CONTACT_INIT_COMPLETED:null,CRM_CONTACT_PHONE_CONSENT_CHECKBOX_CHANGE:null,CRM_CONTACT_PHOTO_UPLOAD_FAIL:null,CRM_CONTACT_PHOTO_UPLOAD_START:null,CRM_CONTACT_PHOTO_UPLOAD_SUCCESS:null,CRM_CONTACT_REMOVE_PHOTO:null,CRM_CONTACT_SET_INITIAL_PARAMS:null,CRM_CONTACT_UPDATE_FIELD:null,CRM_CONTACT_UPDATE_PHONE_VALIDATION:null,CRM_CREATE_DIALOG_HIDE_ERROR_DIALOG:null,CRM_CREATE_DIALOG_VALILDATE_BEFORE_SAVE:null,CRM_CONTACT_UPDATE_LEGAL_NOTICE:null,CRM_CONTACT_MARK_LEGAL_NOTICE_AS_READ:null});e.exports=a}),null);
__d("CRMPageContactsFilterOptionTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports={FACEBOOK:"FB",INSTAGRAM:"IG",OFFLINE:"OFFLINE",ALL:"ALL",ACTIVITY:"ACTIVITY",PREVIOUS_APPOINTMENTS:"PAST_APPOINTMENTS",UPCOMING_APPOINTMENTS:"UPCOMING_APPOINTMENTS",LIKES_PAGE:"LIKED_PAGE",PHONE:"PHONE",WITH_PHONE:"WITH_PHONE",WITHOUT_PHONE:"WITHOUT_PHONE",CONFIRMED_SMS:"CONFIRMED_SMS",UNCONFIRMED_SMS:"UNCONFIRMED_SMS",EMAIL:"EMAIL",WITH_EMAIL:"WITH_EMAIL",WITHOUT_EMAIL:"WITHOUT_EMAIL",UNCONFIRMED_PREFERENCE:"UNCONFIRMED_PREFERENCE",CONFIRMED_SUBSCRIBED:"CONFIRMED_SUBSCRIBED",CONFIRMED_UNSUBSCRIBED:"CONFIRMED_UNSUBSCRIBED",CONFIRMED_UNKNOWN:"CONFIRMED_UNKNOWN",ADDRESS:"ADDRESS",WITH_ADDRESS:"WITH_ADDRESS",WITHOUT_ADDRESS:"WITHOUT_ADDRESS",BIRTHDAY:"BIRTHDAY",WITH_BIRTHDAY:"WITH_BIRTHDAY",WITHOUT_BIRTHDAY:"WITHOUT_BIRTHDAY",SAVED_FILTER:"SAVED_FILTER"}}),null);
__d("CRMClientListStore",["CRMClientListActionTypes","CRMManualContactCreationDialogActionTypes","FluxReduceStore","LocalDate","LocalDateInterval","PagesReactDispatcher","Timezone","immutable","nullthrows","CRMPageContactsFilterOptionTypes"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("CRMClientListActionTypes")).ADD_OR_REMOVE_CSV,h=a.CRM_ADD_CUSTOM_LABEL,i=a.CRM_BACK_TO_FILE_UPLOAD,j=a.CRM_CLEAR_LIST_SELECTION,k=a.CRM_CLEAR_SELECTED_DATE_RANGE,l=a.CRM_CLEAR_SELECTED_OTHER_FILTERS,m=a.CRM_CLEAR_SELECTED_PLATFORM,n=a.CRM_CLEAR_TYPEAHEAD_SEARCH,o=a.CRM_COMPLETE_BULK_ACTION,p=a.CRM_COMPLETE_CONTACTS_CREATION_FROM_CSV,q=a.CRM_COMPLETE_MERGE_CONTACT,r=a.CRM_CONTACT_SEARCH_DONE,s=a.CRM_CREATE_CONTACTS_FROM_CSV,t=a.CRM_DISMISS_BULK_ACTION_TOAST,u=a.CRM_DISMISS_MERGE_TOAST,v=a.CRM_DISMISS_TOAST,w=a.CRM_IMPORT_CONTACTS,x=a.CRM_INIT_MERGE_CONTACT,y=a.CRM_LIST_ADD_CONTACT_TO_BULK_EDIT,z=a.CRM_LIST_ADD_CONTACT_TO_UNSELECTED_BULK_EDIT,A=a.CRM_LIST_BACK_TO_CLIENT_LIST,B=a.CRM_LIST_CLEAR_CONTACT_TO_BULK_EDIT,C=a.CRM_LIST_CLEAR_UNSELECTED_CONTACT_TO_BULK_EDIT,D=a.CRM_LIST_FORCE_ACTIVITY_REFETCH,E=a.CRM_LIST_FORCE_REFETCH,F=a.CRM_LIST_MATCH_COLUMN,G=a.CRM_LIST_REMOVE_CONTACT_FROM_UNSELECTED_BULK_EDIT,H=a.CRM_LIST_REMOVE_CONTACT_TO_BULK_EDIT,I=a.CRM_LIST_SELECT_ALL_TO_BULK_EDIT,J=a.CRM_LIST_SET_TOTAL_CONTACT_COUNT,K=a.CRM_LIST_SHOW_CLIENT_DETAILS,L=a.CRM_LIST_UNSET_FORCE_ACTIVITY_REFETCH,M=a.CRM_LIST_UNSET_FORCE_REFETCH,N=a.CRM_MERGE_CONTACT_ERROR,O=a.CRM_REMOVE_CUSTOM_LABEL,P=a.CRM_SET_EXPORT_CONTACTS_URL,Q=a.CRM_SHOW_SEARCH_RESULTS,R=a.CRM_START_BULK_ACTION,S=a.CRM_UPDATE_INPUT_DATA,T=a.CRM_UPDATE_IS_LOADING,U=a.CRM_UPDATE_PROGRESS,V=a.CRM_UPDATE_SAVED_FILTERS,W=a.CRM_UPDATE_SEARCH_TERM,aa=a.CRM_UPDATE_SELECTED_DATE_RANGE,ba=a.CRM_UPDATE_SELECTED_OTHER_FILTERS,ca=a.CRM_UPDATE_SELECTED_PLATFORMS,da=a.CRM_UPDATE_SELECTED_SAVED_FILTER,ea=b("CRMManualContactCreationDialogActionTypes").CRM_CONTACT_ADD_CLIENT_SAVE_SUCCESS;c=b("Timezone").getEnvironmentTimezoneID()||b("Timezone").PST8PDT;var X=b("LocalDate").today(c).addDays(1),Y=b("LocalDate").fromInstant(123084e4,c),Z=b("CRMPageContactsFilterOptionTypes").ALL,fa=b("CRMPageContactsFilterOptionTypes").ACTIVITY,$=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({isUploaded:!1,searchTerm:null,showSearchResults:!1,forceActivityRefetch:!1,forceRefetch:!1,contactID:null,showImportContactsView:!1,sampleData:null,showMatchColumns:!1,isCreatingContactsFromCSV:!1,isContactCreationComplete:!1,showConfirmationDialog:!1,uploadedFileName:null,progress:5,contactsToBulkEdit:b("immutable").Map([]),unSelectedContactsToBulkEdit:b("immutable").Map([]),totalContactCount:0,isMergingContact:!1,mergedContactID:null,mergeContactError:!1,isAllSelected:!1,isDoingBulkAction:!1,isBulkActionComplete:!1,exportContactsUrl:"",selectedDateRange:new(b("LocalDateInterval"))(Y,X),selectedPlatforms:[Z],selectedOtherFilters:b("immutable").Map([]),savedFilters:b("immutable").Map([]),inputData:null,isLoading:!0,bulkActionType:null,labelFilterIDs:[],isTypeAheadActive:!1,isLoadingContactSearch:!1}));d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new $()};d.reduce=function(a,c){var d=c.type,e=c.payload;switch(d){case ea:return e.addedOrUpdatedClientID!==null?a.contactID===e.addedOrUpdatedClientID?a.set("forceRefetch",!0):a.set("contactID",e.addedOrUpdatedClientID):a.set("forceRefetch",!0);case D:return a.set("forceActivityRefetch",!0);case E:return a.set("forceRefetch",!0);case L:return a.set("forceActivityRefetch",!1);case M:return a.set("forceRefetch",!1);case K:return a.set("contactID",e.contactID);case A:return a.set("contactID",null).set("isUploaded",!1).set("sampleData",null).set("showMatchColumns",!1).set("showImportContactsView",!1);case w:return a.set("showImportContactsView",!0);case g:return e.sampleData===null||e.sampleData===void 0?a.set("isUploaded",!1).set("sampleData",null):a.set("isUploaded",!0).set("sampleData",e.sampleData);case F:return a.set("showMatchColumns",!0);case i:return a.set("showMatchColumns",!1).set("isUploaded",!1);case s:return a.set("contactID",null).set("isUploaded",!1).set("sampleData",null).set("showMatchColumns",!1).set("showImportContactsView",!1).set("showConfirmationDialog",!1).set("isContactCreationComplete",!1).set("isCreatingContactsFromCSV",!0).set("uploadedFileName",e.uploadedFileName);case p:return a.set("isContactCreationComplete",!0).set("isCreatingContactsFromCSV",!1).set("progress",5);case v:return a.set("isContactCreationComplete",!1).set("isCreatingContactsFromCSV",!1).set("progress",5);case y:c=e.contact;if(c!==null&&c!==void 0){d=b("nullthrows")(c.contactID);d=this.getState().contactsToBulkEdit.set(d,c);return a.set("contactsToBulkEdit",d)}return a;case H:c=this.getState().contactsToBulkEdit["delete"](b("nullthrows")(e.contactID));return a.set("contactsToBulkEdit",c);case B:d=this.getState().contactsToBulkEdit.clear();return a.set("contactsToBulkEdit",d);case J:return a.set("totalContactCount",e.totalContactCount);case x:return a.set("isMergingContact",!0);case q:return a.set("isMergingContact",!1).set("mergedContactID",e.mergedID);case u:return a.set("mergedContactID",null).set("isMergingContact",!1).set("mergeContactError",!1);case N:return a.set("isMergingContact",!1).set("mergeContactError",!0).set("isMergingContact",!1);case I:return a.set("isAllSelected",e.isAllSelected);case z:c=e.contact;if(c!=null&&c!==void 0){d=b("nullthrows")(c.contactID);d=this.getState().unSelectedContactsToBulkEdit.set(d,c);return a.set("unSelectedContactsToBulkEdit",d)}return a;case G:c=this.getState().unSelectedContactsToBulkEdit["delete"](b("nullthrows")(e.contactID));return a.set("unSelectedContactsToBulkEdit",c);case C:d=this.getState().unSelectedContactsToBulkEdit.clear();return a.set("unSelectedContactsToBulkEdit",d);case R:return a.set("isBulkActionComplete",!1).set("isDoingBulkAction",!0).set("progress",5).set("bulkActionType",e.bulkActionType);case o:return a.set("isBulkActionComplete",!0).set("isDoingBulkAction",!1).set("progress",5);case t:return a.set("isBulkActionComplete",!1).set("isDoingBulkAction",!1).set("progress",5);case P:return a.set("exportContactsUrl",e.url);case U:c=this.getState().progress+e.progressUpdate;return a.set("progress",c);case aa:return a.set("selectedDateRange",e.selectedDateRange);case ca:return a.set("selectedPlatforms",e.selectedPlatforms);case ba:d=e.selectedField;var f=e.selectedOption;c=this.getState().selectedOtherFilters.get(d);c==null&&(c=[]);var $=[].concat(c);c.includes(f)?$=$.filter(function(a){return a!==f}):(d!==fa&&($=[]),$.push(f));c=this.getState().selectedOtherFilters.set(d,$);return a.set("selectedOtherFilters",c);case l:return a.set("selectedOtherFilters",b("immutable").Map([]));case V:d=a.savedFilters.set(e.savedName,e.savedFilter);return a.set("savedFilters",d);case da:$=b("immutable").Map(e.savedFilter);return a.set("selectedOtherFilters",$);case j:return a.set("isAllSelected",!1).set("contactsToBulkEdit",b("immutable").Map([])).set("unSelectedContactsToBulkEdit",b("immutable").Map([]));case S:return a.set("inputData",e.inputData);case T:return a.set("isLoading",e.isLoading);case k:return a.set("selectedDateRange",new(b("LocalDateInterval"))(Y,X));case m:return a.set("selectedPlatforms",[Z]);case W:return a.set("searchTerm",e.searchTerm).set("isTypeAheadActive",e.searchTerm!==""||a.labelFilterIDs.length!==0).set("isLoadingContactSearch",!0);case Q:return a.set("showSearchResults",e.showSearchResults).set("labelFilterIDs",[]);case h:c=[].concat(a.labelFilterIDs);d=c.findIndex(function(a){return a.name===e.label.name});d===-1&&c.push(e.label);return a.set("labelFilterIDs",c).set("searchTerm","");case O:$=[].concat(a.labelFilterIDs);d=$.findIndex(function(a){return a.name===e.label.name});d!==-1&&$.splice(d,1);return a.set("labelFilterIDs",$).set("isTypeAheadActive",a.searchTerm!==""||$.length!==0).set("searchTerm","");case r:return a.set("isLoadingContactSearch",!1);case n:return a.set("searchTerm","").set("labelFilterIDs",[]).set("isTypeAheadActive",!1).set("isLoadingContactSearch",!1).set("showSearchResults",!1);default:return a}};d.getShowDetailsView=function(){var a=this.getState();return a.contactID!==null};d.getShowContactImportView=function(){var a=this.getState();return a.showImportContactsView};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("PagesReactDispatcher"))}),null);
__d("CRMClientDetailsAboutSection.react",["ix","cx","fbt","CRMClientDetailsAboutSectionFacebook.react","CRMClientDetailsAboutSectionInstagram.react","CRMClientListActions","CRMClientListStore","CRMEventsLogger","FDSCard.react","FDSLink.react","FDSSection.react","FDSText.react","FluxContainer","Image.react","LineClamp.react","React","RelayModern","asset","cxMargin","keyMirror","CRMClientDetailsAboutSection_contact.graphql","CRMClientDetailsAboutSectionRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var m=b("keyMirror")({ADDRESS:null,BIRTHDAY:null,EMAIL:null,PHONE:null,IG:null}),n="customer_details_view";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onEdit(),b("CRMEventsLogger").log(d.props.pageID,"click_edit_contact","edit_contact_button",n)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){a=b("CRMClientListStore").getState();return{forceRefetch:a.forceRefetch}};var d=c.prototype;d.componentDidUpdate=function(a,b){!b.forceRefetch&&this.state.forceRefetch&&this.refetch()};d.refetch=function(){this.props.relay.refetch({page_contact_id:this.props.contact.id,page_id:this.props.pageID},null,function(){b("CRMClientListActions").unsetForceFetch()},{force:!0})};d.getRow=function(a){var c,d,e=null,f=null,h=null,j=null;c=(c=this.props.contact)==null?void 0:(c=c.phone)==null?void 0:c.phoneNumber;d=(d=this.props.contact)==null?void 0:d.fallback_phone;var k=i._("Primary");c==null&&(c=d);switch(a){case m.PHONE:e=l.jsx(b("Image.react"),{src:g("506679")});c==null?f=i._("Phone Number"):(f=c,j=k);break;case m.EMAIL:e=l.jsx(b("Image.react"),{src:g("506660")});c=(d=this)!=null?(d=d.props)!=null?(d=d.contact)!=null?d.email:d:d:d;c==null?f=i._("Email"):(f=c,this.props.isPageEligibleForEmail?j=l.jsx(b("FDSText.react"),{color:"placeholder",display:"inline",size:"meta1",children:i._("Primary {concatenate-symbol}{info-source}",[i._param("concatenate-symbol"," "+String.fromCodePoint(183)+" "),i._param("info-source",this.getEmailWithSubscriptionDescription())])}):j=k);break;case m.BIRTHDAY:e=l.jsx(b("Image.react"),{src:g("665080")});f=((d=this)!=null?(d=d.props)!=null?(d=d.contact)!=null?d.birthday:d:d:d)||i._("Birthday");break;case m.ADDRESS:e=l.jsx(b("Image.react"),{src:g("542398")});f=((c=this)!=null?(c=c.props)!=null?(c=c.contact)!=null?c.address:c:c:c)||i._("Address");h=(d=this)!=null?(d=d.props)!=null?(d=d.contact)!=null?d.cityStateLine:d:d:d;(((c=this)!=null?(c=c.props)!=null?(c=c.contact)!=null?c.address:c:c:c)||((d=this)!=null?(d=d.props)!=null?(d=d.contact)!=null?d.cityStateLine:d:d:d))&&(j=k);break}return l.jsxs("div",{className:"_6tt2",children:[e,l.jsxs("div",{className:"_2pi9",children:[l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:f})}),h!==null?l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:h})}):null,this.props.shouldShowMergeContact?l.jsx(b("FDSText.react"),{color:"placeholder",display:"inline",size:"meta1",children:j}):null]})]},a+"_row")};d.getSecondaryRows=function(a){var c=this,d=null;switch(a){case m.PHONE:d=this.props.contact.SecondaryPhoneNumbers.map(function(a,c){return l.jsx("div",{className:"_6tt2",children:l.jsx("div",{className:"_89cw",children:l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:a.display_phone_number})})})},c+"SecondaryPhoneNumbers")});break;case m.EMAIL:d=this.props.contact.SecondaryEmails.map(function(a,d){return l.jsx("div",{className:"_6tt2",children:l.jsxs("div",{className:"_89cw",children:[l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:a.email_address})}),c.props.isPageEligibleForEmail?l.jsx(b("FDSText.react"),{color:"placeholder",display:"block",size:"meta1",children:c.getEmailWithSubscriptionDescription()}):null]})},d+"SecondaryEmails")});break;case m.ADDRESS:d=this.props.contact.SecondaryAddresses.map(function(a,c){var d;d=(d=a.address)!=null?d:"";a=(a=a.address_second_line)!=null?a:"";return l.jsx("div",{className:"_6tt2",children:l.jsxs("div",{className:"_89cw",children:[d.length?l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:d})}):null,a.length?l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:a})}):null]})},c+"SecondaryAddresses")});break}return l.jsx("div",{children:d},a+"_secondaryRow")};d.getEmailWithSubscriptionRow=function(){var a,c=null;switch((a=this.props)==null?void 0:(a=a.contact)==null?void 0:a.email_subscription_status){case"SUBSCRIBED":c=l.jsxs("div",{className:"_7-aq",children:[l.jsx("div",{className:"_3-8_",children:l.jsx(b("Image.react"),{src:g("497634")})}),l.jsx(b("FDSText.react"),{display:"block",size:"body3",children:i._("Subscribed")})]});break;case"NONSUBSCRIBER":c=l.jsxs("div",{className:"_7-aq",children:[l.jsx("div",{className:"_3-8_",children:l.jsx(b("Image.react"),{src:g("504587")})}),l.jsx(b("FDSText.react"),{display:"block",size:"body3",children:i._("Preference Unknown")})]});break;case"UNSUBSCRIBED":c=l.jsxs("div",{className:"_7-aq",children:[l.jsx("div",{className:"_3-8_",children:l.jsx(b("Image.react"),{src:g("504587")})}),l.jsx(b("FDSText.react"),{display:"block",size:"body3",children:i._("Unsubscribed")})]});break;case"UNCONFIRMED":c=l.jsxs("div",{className:"_7-aq",children:[l.jsx("div",{className:"_3-8_",children:l.jsx(b("Image.react"),{src:g("513799")})}),l.jsx(b("FDSText.react"),{display:"block",size:"body3",children:i._("Confirm Email Preference")})]});break}return l.jsxs("div",{className:"_6tt2",children:[l.jsx(b("Image.react"),{src:g("506660")})," ",l.jsxs("div",{className:"_7-ar",children:[l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:((a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.email:a:a:a)||i._("Email")})}),((a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.email:a:a:a)?c:null]})]})};d.getEmailWithSubscriptionDescription=function(){var a,b=null;switch((a=this.props)==null?void 0:(a=a.contact)==null?void 0:a.email_subscription_status){case"SUBSCRIBED":b=i._("Subscribed");break;case"NONSUBSCRIBER":b=i._("Preference Unknown");break;case"UNSUBSCRIBED":b=i._("Unsubscribed");break;case"UNCONFIRMED":b=i._("Confirm Email Preference")}return b};d.getIGRow=function(){var a,c,d,e;if(this.props.contact==null||this.props.contact.ig_profile_info==null)return;e=(e=this)!=null?(e=e.props)!=null?(e=e.contact)!=null?(e=e.ig_profile_info)!=null?e.ig_username:e:e:e:e;d=(d=this)!=null?(d=d.props)!=null?(d=d.contact)!=null?(d=d.ig_profile_info)!=null?d.ig_name:d:d:d:d;c=(c=this)!=null?(c=c.props)!=null?(c=c.contact)!=null?(c=c.ig_profile_info)!=null?c.ig_bio:c:c:c:c;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?(a=a.ig_profile_info)!=null?a.ig_website:a:a:a:a;return l.jsxs("div",{className:"_7wwy",children:[l.jsx(b("Image.react"),{src:g("687386")}),l.jsxs("div",{className:"_2pi9",children:[l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:e})}),d!==null?l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:d})}):null,l.jsxs("div",{className:"_2pi3",children:[c!==null?l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:c})}):null,a!==null?l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:l.jsx(b("LineClamp.react"),{lines:1,children:a})}):null]})]})]})};d.render=function(){var a;return l.jsx(b("FDSCard.react"),{children:l.jsxs(b("FDSSection.react"),{children:[l.jsxs("div",{className:"_6tt3",children:[l.jsx(b("FDSText.react"),{size:"header2",children:i._("About")}),l.jsx("div",{className:"_6tt4",children:l.jsx(b("FDSLink.react"),{onClick:this.$1,showUnderline:"never",children:i._("Edit")})})]}),this.props.shouldShowMergeContact?l.jsx(b("FDSText.react"),{color:"placeholder",margin:"_3-8z",size:"header3",children:i._("Added Details")}):null,this.getRow(m.PHONE),this.props.shouldShowMergeContact?this.getSecondaryRows(m.PHONE):null,this.props.isPageEligibleForEmail&&!this.props.shouldShowMergeContact?this.getEmailWithSubscriptionRow():this.getRow(m.EMAIL),this.props.shouldShowMergeContact?this.getSecondaryRows(m.EMAIL):null,this.getRow(m.BIRTHDAY),this.getRow(m.ADDRESS),this.props.shouldShowMergeContact?this.getSecondaryRows(m.ADDRESS):null,this.props.shouldShowMergeContact?null:this.getIGRow(),this.props.shouldShowMergeContact&&this.props.contact.fbUserId!=null?l.jsx(b("CRMClientDetailsAboutSectionFacebook.react"),{details:this.props.contact,shouldSuppressProfileLink:this.props.shouldShowMergeContact}):null,this.props.shouldShowMergeContact&&((a=this.props.contact.igId)==null?void 0:a.id)!=null?l.jsx(b("CRMClientDetailsAboutSectionInstagram.react"),{details:this.props.contact,shouldSuppressProfileLink:this.props.shouldShowMergeContact}):null]})})};return c}(l.PureComponent);d=b("FluxContainer").create(c);f=a(d,{contact:j!==void 0?j:j=b("CRMClientDetailsAboutSection_contact.graphql")},k!==void 0?k:k=b("CRMClientDetailsAboutSectionRefetchQuery.graphql"));e.exports=f}),null);
__d("ServicesAppointmentDialogButtonTexts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Actions");b=g._("Approve");c=g._("Approve with notes");d=g._("Add Appointment");f=g._("Copy Booking Link");var h=g._("Copied"),i=g._("Archive"),j=g._("Archive Request"),k=g._("Back"),l=g._("Cancel Appointment"),m=g._("Cancel Appointment Only"),n=g._("Cancel Entire Series"),o=g._("Cancel This and Future Appointments"),p=g._("Delete Event"),q=g._("Confirm Appointment"),r=g._("Confirm Changes"),s=g._("Create Appointment"),t=g._("Decline Appointment"),u=g._("Decline"),v=g._("Delete"),w=g._("Done"),x=g._("Edit"),y=g._("Edit Appointment"),z=g._("Save"),A=g._("Schedule"),B=g._("Reschedule"),C=g._("Schedule Appointment"),D=g._("Skip For Now"),E=g._("Delete Personal Event"),F=g._("Delete Personal Event Only"),G=g._("Delete This and Future Personal Events"),H=g._("Update Appointment Only"),I={CALENDAR:{title:g._("Calendar")},CONTACTS:{title:g._("Contacts")},REQUESTS:{title:g._("Requests")},SETTINGS:{title:g._("Appointment Settings")}},J={REQUEST:"REQUEST",ARCHIVE:"ARCHIVE"};g={REQUEST:{label:g._("Pending Requests"),key:J.REQUEST},ARCHIVE:{label:g._("Archived Requests"),key:J.ARCHIVE}};e.exports={ACTIONS:a,ADD_APPOINTMENT:d,APPROVE:b,APPROVE_WITH_NOTES:c,ARCHIVE:i,ARCHIVE_REQUEST:j,BACK:k,CANCEL_APPOINTMENT:l,CANCEL_APPOINTMENT_ONLY:m,CANCEL_THIS_AND_FUTURE_APPOINTMENTS:o,CANCEL_ENTIRE_SERIES:n,COPIED_BOOKING_LINK:h,COPY_BOOKING_LINK:f,DELETE_PERSONAL_EVENT:E,DELETE_PERSONAL_EVENT_ONLY:F,DELETE_THIS_AND_FUTURE_PERSONAL_EVENTS:G,DELETE_EVENT:p,CONFIRM_APPOINTMENT:q,CONFIRM_CHANGES:r,CREATE_APPOINTMENT:s,DECLINE_APPOINTMENT:t,DECLINE:u,DELETE:v,DONE:w,EDIT:x,EDIT_APPOINTMENT:y,REQUEST_ARCHIVE_LABEL:g,RESCHEDULE:B,SCHEDULE:A,SCHEDULE_APPOINTMENT:C,SAVE:z,SIDEBAR_TABS:I,SKIP_FOR_NOW:D,UPDATE_APPOINTMENT_ONLY:H}}),null);
__d("CRMClientDetailsActivityRoot.react",["cx","fbt","ix","Clipboard","CRMClientListActions","CRMClientListStore","CRMEventsLogger","FDSButton.react","FDSCard.react","FDSDropdownMenu.react","FDSSection.react","FDSSpinner.react","FDSText.react","FluxContainer","Image.react","PagesPlatformBookingMessageViewer","React","RelayModern","ServicesAppointmentDialogButtonTexts","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesDateTimeUtils","XUITextInput.react","cxMargin","formatDate","setTimeout","CRMClientDetailsActivityRoot_contact.graphql","CRMClientDetailsActivityRootRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var m=b("ServicesAppointmentDialogButtonTexts").ACTIONS,n=b("ServicesAppointmentDialogButtonTexts").CANCEL_APPOINTMENT,o=b("ServicesAppointmentDialogButtonTexts").EDIT,p="customer_details_view",q={referrerUIComponent:"crm_client_activity_view",referrerUISurface:"crm"},r=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.onBookAgainClick=function(){b.props.onBookAgainClick(b.props.appointment)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=this,c,d,e;c=(c=this.props.appointment)==null?void 0:(c=c.suggestedTimeRange)==null?void 0:c.start;if(!this.props.appointment||!c)return null;d=!b("ServicesDateTimeUtils").isTimestampInPast(c,(d=this.props.appointment)==null?void 0:(d=d.suggestedTimeRange)==null?void 0:d.end);var f=[{label:o,onClick:function(){a.props.onEditClick(a.props.appointment)},type:"item"},{label:n,onClick:function(){a.props.onCancelClick(a.props.appointment)},type:"item"}];return l.jsxs("div",{className:"_2pie _6xec",children:[l.jsxs("div",{className:"_6yjf",children:[l.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"header3",children:((e=this.props.appointment)==null?void 0:(e=e.productItem)==null?void 0:e.name)||h._("No Service Selected")}),l.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body1",children:(e=this.props.appointment)==null?void 0:e.readableDurationPrice}),l.jsxs(b("FDSText.react"),{color:"placeholder",display:"block",size:"body2",children:[b("formatDate")(c,"l, M j, Y")," ",h._("at")," ",b("formatDate")(c,"g:iA")]})]}),l.jsx("div",{className:"_6yjg",children:d?l.jsx(b("FDSDropdownMenu.react"),{isDisabled:this.props.disabled,items:f,label:m}):l.jsx(b("FDSButton.react"),{isDisabled:this.props.disabled,label:h._("Book Again"),onClick:this.onBookAgainClick})})]})};return a}(l.PureComponent);c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onBookAgainClick=function(a){if(d.state.showBookAgainDialog)return;b("CRMEventsLogger").log(d.props.pageID,"click_book_now","book_now_button_activity_item",p);d.setState({showBookAgainDialog:!0,selectedAppointment:a})},d.$1=function(a){d.setState({showEditDialog:a})},d.$2=function(a){d.setState({showBookAgainDialog:a})},d.$3=function(a){d.setState({showCancelDialog:a})},d.onCancelClick=function(a){if(d.state.showCancelDialog)return;b("CRMEventsLogger").log(d.props.pageID,"click_appointment_activity_delete","appointment_activity_delete_button",p);d.setState({showCancelDialog:!0,selectedAppointment:a})},d.onEditClick=function(a){if(d.state.showEditDialog)return;b("CRMEventsLogger").log(d.props.pageID,"click_appointment_activity_change","appointment_activity_change_button",p);d.setState({showEditDialog:!0,selectedAppointment:a})},d.copyFBAppointmentUrl=function(){d.setState({copiedLink:!0}),b("Clipboard").copy(d.props.bookFBAppointmentUrl||""),b("setTimeout")(function(){d.setState({copiedLink:!1})},2e3)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){var c=b("CRMClientListStore").getState();return!a?{copiedLink:!1,forceActivityRefetch:c.forceActivityRefetch,refetchLoading:!1,selectedAppointment:null,showBookAgainDialog:!1,showCancelDialog:!1,showEditDialog:!1}:{copiedLink:a.copiedLink,forceActivityRefetch:c.forceActivityRefetch,refetchLoading:a.refetchLoading,selectedAppointment:a.selectedAppointment,showBookAgainDialog:a.showBookAgainDialog,showCancelDialog:a.showCancelDialog,showEditDialog:a.showEditDialog}};var d=c.prototype;d.componentDidUpdate=function(){var a=this;if(this.state.forceActivityRefetch){var c;this.setState({refetchLoading:!0});b("CRMClientListActions").unsetActivityForceFetch();this.props.relay.refetch({pageContactID:(c=this.props.contact)==null?void 0:c.id,pageID:this.props.pageID},null,function(){a.setState({refetchLoading:!1})},{force:!0})}};d.onUpdateCompleted=function(a){a&&b("CRMClientListActions").forceActivityRefetch()};d.renderCancelDialog=function(){var a=this,c;return!this.state.showCancelDialog?null:l.jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").ADMIN_CANCEL,onToggle:this.$3,onUpdateCompleted:this.onUpdateCompleted,pageContactID:(c=this.state.selectedAppointment)==null?void 0:(c=c.pageContact)==null?void 0:c.id,pageID:this.props.pageID,referrerData:q,requestID:(c=this.state.selectedAppointment)==null?void 0:c.id,shown:this.state.showCancelDialog,userID:(c=this.state.selectedAppointment)==null?void 0:(c=c.user)==null?void 0:c.id,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.renderShowCreateAnotherDialog=function(){var a=this,c;return!this.state.showBookAgainDialog?null:l.jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE,onToggle:this.$2,pageContactID:(c=this.state.selectedAppointment)==null?void 0:(c=c.pageContact)==null?void 0:c.id,onUpdateCompleted:this.onUpdateCompleted,pageID:this.props.pageID,referrerData:q,shown:this.state.showBookAgainDialog,userID:(c=this.state.selectedAppointment)==null?void 0:(c=c.user)==null?void 0:c.id,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.renderShowDetailsDialog=function(){var a=this,c;return!this.state.showEditDialog?null:l.jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").EDIT,onToggle:this.$1,onUpdateCompleted:this.onUpdateCompleted,pageContactID:(c=this.state.selectedAppointment)==null?void 0:(c=c.pageContact)==null?void 0:c.id,pageID:this.props.pageID,referrerData:q,requestID:(c=this.state.selectedAppointment)==null?void 0:c.id,shown:this.state.showEditDialog,userID:(c=this.state.selectedAppointment)==null?void 0:(c=c.user)==null?void 0:c.id,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.render=function(){var a=this,c;c=(c=this.props.contact)==null?void 0:(c=c.appointments)==null?void 0:c.nodes;if(!c||!c.length){var d;return l.jsx(l.Fragment,{children:l.jsx(b("FDSCard.react"),{margin:this.props.margin,children:l.jsx(b("FDSSection.react"),{children:l.jsxs("div",{className:"_6-3l",children:[l.jsx(b("Image.react"),{src:i("693524")}),l.jsx(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8-",size:"body1",textAlign:"center",children:h._("Follow up with {name} and let them book their next appointment online.",[h._param("name",(d=this.props.contact)==null?void 0:d.first_name)])}),l.jsxs("div",{className:"_3-8-",children:[l.jsx(b("XUITextInput.react"),{className:"_6-3m",height:"tall",value:this.props.bookFBAppointmentUrl}),l.jsx(b("FDSButton.react"),{isDisabled:this.state.copiedLink,label:this.state.copiedLink?h._("Copied!"):h._("Copy Link"),margin:"_3-9a",onClick:this.copyFBAppointmentUrl,use:"primary"})]})]})})})})}return l.jsxs("div",{children:[l.jsx(b("FDSCard.react"),{margin:this.props.margin,children:l.jsxs(b("FDSSection.react"),{children:[this.state.refetchLoading&&l.jsx("div",{className:"_6yjh",children:l.jsx(b("FDSSpinner.react"),{center:!0})}),l.jsx("div",{className:"_6xeo",children:l.jsx(b("FDSText.react"),{size:"header2",children:h._("Activity")})}),c&&c.map(function(b,c){return l.jsx(r,{appointment:b,disabled:a.state.refetchLoading,onBookAgainClick:a.onBookAgainClick,onCancelClick:a.onCancelClick,onEditClick:a.onEditClick},c)})]})}),this.renderShowCreateAnotherDialog(),this.renderShowDetailsDialog(),this.renderCancelDialog()]})};return c}(l.PureComponent);d=b("FluxContainer").create(c);f=a(d,{contact:j!==void 0?j:j=b("CRMClientDetailsActivityRoot_contact.graphql")},k!==void 0?k:k=b("CRMClientDetailsActivityRootRefetchQuery.graphql"));e.exports=f}),null);
__d("CRMEditAdditionalFieldsBody.react",["ix","cx","FDSText.react","FDSTextInput.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChangeValue(a,c.props.index)},c.$2=function(){c.props.onDeleteField(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsxs("div",{className:"_7r3w",children:[i.jsx("div",{className:"_7r2l",children:i.jsx(b("FDSText.react"),{size:"body1",weight:"bold",children:this.props.name})}),i.jsx(b("FDSTextInput.react"),{label:this.props.name,labelIsHidden:!0,onChange:this.$1,placeholder:"-",value:this.props.value}),i.jsx("div",{className:"_7r2m",children:i.jsx(b("Image.react"),{onClick:this.$2,src:g("478812")})})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("CRMMutationUtils",["ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","CRMMutationUtilsConsentForCrmLegalMutation.graphql","CRMMutationUtilsPageDeleteUploadedFileMutation.graphql","CRMMutationUtilsPageCustomFieldCreateMutation.graphql","CRMMutationUtilsRemovePageCustomFieldMutation.graphql","CRMMutationUtilsEditContactCustomFieldMutation.graphql","CRMMutationUtilsPagebulkCreateContactsFromCSVMutation.graphql","CRMMutationUtilsPageContactDeleteMutation.graphql","CRMMutationUtilsBanUserMutation.graphql","CRMMutationUtilsPageContactUpdateMutation.graphql","CRMMutationUtilsPageContactCreateMutation.graphql","CRMMutationUtilsUpdateLegalNoticeShouldShowMutation.graphql","CRMMutationUtilsBackfillPageCRMMutation.graphql","CRMMutationUtilsMergePageContactMutation.graphql","CRMMutationUtilsExportContactsListMutation.graphql","CRMMutationUtilsSaveFilterMutation.graphql","CRMMutationUtilsEditContactsFieldMutation.graphql","CRMMutationUtilsCreateNewLabelMutation.graphql","CRMMutationUtilsApplyAddedLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=b("ClientIDs").getNewClientID,z=b("RelayModern").commitMutation;b("RelayModern").graphql;var A=g!==void 0?g:g=b("CRMMutationUtilsConsentForCrmLegalMutation.graphql"),B=h!==void 0?h:h=b("CRMMutationUtilsPageDeleteUploadedFileMutation.graphql"),C=i!==void 0?i:i=b("CRMMutationUtilsPageCustomFieldCreateMutation.graphql"),D=j!==void 0?j:j=b("CRMMutationUtilsRemovePageCustomFieldMutation.graphql"),E=k!==void 0?k:k=b("CRMMutationUtilsEditContactCustomFieldMutation.graphql"),F=l!==void 0?l:l=b("CRMMutationUtilsPagebulkCreateContactsFromCSVMutation.graphql"),G=m!==void 0?m:m=b("CRMMutationUtilsPageContactDeleteMutation.graphql"),H=n!==void 0?n:n=b("CRMMutationUtilsBanUserMutation.graphql"),I=o!==void 0?o:o=b("CRMMutationUtilsPageContactUpdateMutation.graphql"),J=p!==void 0?p:p=b("CRMMutationUtilsPageContactCreateMutation.graphql"),K=q!==void 0?q:q=b("CRMMutationUtilsUpdateLegalNoticeShouldShowMutation.graphql"),L=r!==void 0?r:r=b("CRMMutationUtilsBackfillPageCRMMutation.graphql"),M=s!==void 0?s:s=b("CRMMutationUtilsMergePageContactMutation.graphql"),N=t!==void 0?t:t=b("CRMMutationUtilsExportContactsListMutation.graphql"),O=u!==void 0?u:u=b("CRMMutationUtilsSaveFilterMutation.graphql"),P=v!==void 0?v:v=b("CRMMutationUtilsEditContactsFieldMutation.graphql"),Q=w!==void 0?w:w=b("CRMMutationUtilsCreateNewLabelMutation.graphql"),R=x!==void 0?x:x=b("CRMMutationUtilsApplyAddedLabelMutation.graphql");a={consentToCrmLegal:function(a,c){z(b("RelayFBEnvironment"),{mutation:A,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},deleteUploadedFile:function(a,c){z(b("RelayFBEnvironment"),{mutation:B,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},createCustomField:function(a,c){z(b("RelayFBEnvironment"),{mutation:C,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},deleteCustomField:function(a,c){var d=function(b,c){if(a.fieldID==null||a.contactID==null)return;c=b.get(a.contactID);if(c==null)return;b=c.getLinkedRecords("additional_custom_fields");if(b!=null){b=b.filter(function(b){b=b&&b.getLinkedRecord("custom_field");b=b&&b.getValue("id");return b!==a.fieldID});c.setLinkedRecords(b,"additional_custom_fields")}};return z(b("RelayFBEnvironment"),{mutation:D,updater:d,variables:{input:{actor_id:b("RelayAPIConfig").actorID,field_id:a.fieldID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})},editCustomField:function(a,c){var d=function(b,c){var d=b.get(a.contactID);if(d==null)return;c=c?(c=c.edit_contact_custom_field)==null?void 0:c.additional_custom_fields:a.fields;c=c.map(function(a){var c,d=y(),e=b.create(d,"CRMCustomField");e.setValue((c=a.custom_field)==null?void 0:c.id,"id");e.setValue((c=a.custom_field)==null?void 0:c.display_name,"display_name");c=b.create("edge:"+d,"ContactCustomFields");c.setValue(a.value,"value");c.setLinkedRecord(e,"custom_field");return c});d.setLinkedRecords(c,"additional_custom_fields")};return z(b("RelayFBEnvironment"),{mutation:E,optimisticUpdater:d,updater:d,variables:{input:{actor_id:b("RelayAPIConfig").actorID,page_id:a.pageID,additional_custom_fields:a.fields,contact_id:a.contactID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})},createCsvContacts:function(a,c){z(b("RelayFBEnvironment"),{mutation:F,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},deleteContact:function(a,c){a={actor_id:b("RelayAPIConfig").actorID,page_contact_ids:[a]};z(b("RelayFBEnvironment"),{mutation:G,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},banContact:function(a,c){a={actor_id:b("RelayAPIConfig").actorID,user_ids:a};z(b("RelayFBEnvironment"),{mutation:H,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},updateContact:function(a,c){z(b("RelayFBEnvironment"),{mutation:I,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},createContact:function(a,c){z(b("RelayFBEnvironment"),{mutation:J,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},updateLegalNoticeShouldShow:function(a,c){z(b("RelayFBEnvironment"),{mutation:K,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},runBackfillPageForCRM:function(a,c){z(b("RelayFBEnvironment"),{mutation:L,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},mergeContact:function(a,c){z(b("RelayFBEnvironment"),{mutation:M,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},exportContactsList:function(a,c){z(b("RelayFBEnvironment"),{mutation:N,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},saveFilter:function(a,c){z(b("RelayFBEnvironment"),{mutation:O,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},editContactsField:function(a,c){z(b("RelayFBEnvironment"),{mutation:P,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},createNewLabel:function(a,c){z(b("RelayFBEnvironment"),{mutation:Q,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})},applyAddedLabel:function(a,c){z(b("RelayFBEnvironment"),{mutation:R,variables:{input:a},onCompleted:function(a,b){c&&c(a,b)},onError:function(a){c&&c({},[a])}})}};e.exports=a}),null);
__d("CRMEditAdditionalFieldsDialog.react",["cx","fbt","CRMAddAdditionalFieldDialog.react","CRMEditAdditionalFieldsBody.react","CRMMutationUtils","FDSButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=600,k=560;function l(a){var c=a.isLoadingDelete?h._("Deleting Contact Field..."):h._("Delete Contact Field");return i.jsx(b("FDSModal.react"),{footer:i.jsx(b("FDSModalFooter.react"),{primaryButton:i.jsx(b("FDSButton.react"),{isDisabled:a.isLoadingDelete,label:c,margin:"_3-9a",onClick:a.onConfirmDeleteField,use:"primary"}),secondaryButton:i.jsx(b("FDSButton.react"),{isDisabled:a.isLoadingDelete,label:h._("Cancel"),onClick:a.onCancelDeleteField})}),header:i.jsx(b("FDSModalHeader.react"),{title:h._("Delete Contact Field?")}),isShown:a.fieldCurrentlyDeleting!=null,onHide:a.onCancelDeleteField,width:k,children:i.jsx(b("FDSSection.react"),{children:i.jsx(b("FDSText.react"),{children:h._("Deleting this contact field will permanently remove all associated information from all of your contacts. Do you want to delete this contact field?")})})})}function m(a){var c=a.additionalFieldList.map(function(c,d){var e;e=(e=c.custom_field)==null?void 0:e.display_name;c=c.value;return e!=null&&c!=null?i.jsx(b("CRMEditAdditionalFieldsBody.react"),{index:d,name:e,onChangeValue:a.onChangeValue,onDeleteField:a.onDeleteField,value:c},d):null});return i.jsxs("div",{className:"_7r2k",children:[c,c.length<20?i.jsx("div",{className:"_7q3f",children:i.jsx(b("FDSLink.react"),{onClick:a.onAddCustomField,children:h._("+ Add Contact Field")})}):null]})}function n(a){return i.jsx(b("FDSModal.react"),{footer:i.jsx(b("FDSModalFooter.react"),{primaryButton:i.jsx(b("FDSButton.react"),{label:h._("Confirm"),margin:"_3-9a",onClick:a.onConfirm,use:"primary"}),secondaryButton:i.jsx(b("FDSButton.react"),{label:h._("Go Back"),onClick:a.onCancel})}),header:i.jsx(b("FDSModalHeader.react"),{title:h._("Continue Without Saving?")}),isShown:a.showDialog,onHide:a.onCancel,width:k,children:i.jsx(b("FDSSection.react"),{children:i.jsx(b("FDSText.react"),{children:h._("If you cancel now, your new contact field won't be saved. Do you want to continue without saving?")})})})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={additionalFieldList:d.props.additionalFieldList,fieldCurrentlyDeletingIndex:null,isLoadingDelete:!1,showCreateCustomFieldDialog:!1,showConfirmationDialog:!1,hasAddedCustomField:!1,haveFieldsBeenModified:!1},d.$1=function(){d.props.onSave(d.state.additionalFieldList)},d.$2=function(a,b){d.setState(function(c){c=c.additionalFieldList.slice();c[b].value=a;return{additionalFieldList:c,haveFieldsBeenModified:!0}})},d.$3=function(a){d.setState(function(b){return{fieldCurrentlyDeletingIndex:a}})},d.$4=function(){d.state.isLoadingDelete||d.setState({fieldCurrentlyDeletingIndex:null})},d.$5=function(){var a=d.state.fieldCurrentlyDeletingIndex;if(a==null)return;a=d.state.additionalFieldList[a];a=a==null?void 0:(a=a.custom_field)==null?void 0:a.id;if(a==null||a===""){d.setState(function(a){var b=a.additionalFieldList.slice();a.fieldCurrentlyDeletingIndex!=null&&b.splice(a.fieldCurrentlyDeletingIndex,1);return{fieldCurrentlyDeletingIndex:null,additionalFieldList:b}});return}d.setState({isLoadingDelete:!0});b("CRMMutationUtils").deleteCustomField({fieldID:a,contactID:d.props.pageContactID},{onSuccess:function(){d.setState(function(a){var b=a.additionalFieldList.slice();a.fieldCurrentlyDeletingIndex!=null&&b.splice(a.fieldCurrentlyDeletingIndex,1);return{fieldCurrentlyDeletingIndex:null,additionalFieldList:b,isLoadingDelete:!1}})},onFailure:function(){d.setState({fieldCurrentlyDeletingIndex:null,isLoadingDelete:!1})}})},d.$6=function(){d.setState({showCreateCustomFieldDialog:!0})},d.$7=function(){d.setState({showCreateCustomFieldDialog:!1})},d.$8=function(a){d.setState(function(b){b=b.additionalFieldList.slice();b.push({custom_field:{id:null,display_name:a},value:""});return{showCreateCustomFieldDialog:!1,additionalFieldList:b,hasAddedCustomField:!0,haveFieldsBeenModified:!0}})},d.$9=function(){if(d.state.hasAddedCustomField){d.setState({showConfirmationDialog:!0});return}d.props.onHide()},d.$10=function(){d.setState({showConfirmationDialog:!1}),d.props.onHide()},d.$11=function(){d.setState({showConfirmationDialog:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.state.fieldCurrentlyDeletingIndex!=null?this.state.additionalFieldList[this.state.fieldCurrentlyDeletingIndex]:null;return i.jsxs(i.Fragment,{children:[i.jsx(b("FDSModal.react"),{footer:i.jsx(b("FDSModalFooter.react"),{primaryButton:i.jsx(b("FDSButton.react"),{isDisabled:!this.state.haveFieldsBeenModified,label:h._("Save"),margin:"_3-9a",onClick:this.$1,use:"primary"}),secondaryButton:i.jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.$9})}),header:i.jsx(b("FDSModalHeader.react"),{title:h._("Additional Information")}),isShown:!0,onHide:this.$9,width:j,children:i.jsx(b("FDSSection.react"),{children:i.jsx(m,{additionalFieldList:this.state.additionalFieldList,onAddCustomField:this.$6,onChangeValue:this.$2,onDeleteField:this.$3})})}),i.jsx(l,{fieldCurrentlyDeleting:a,isLoadingDelete:this.state.isLoadingDelete,onCancelDeleteField:this.$4,onConfirmDeleteField:this.$5}),this.state.showCreateCustomFieldDialog?i.jsx(b("CRMAddAdditionalFieldDialog.react"),{onCancel:this.$7,onConfirm:this.$8}):null,i.jsx(n,{onCancel:this.$11,onConfirm:this.$10,showDialog:this.state.showConfirmationDialog})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("CRMClientDetailsAdditionalFields.react",["cx","fbt","BusinessCRMConfigStore","CRMAdditionalFieldsList.react","CRMEditAdditionalFieldsDialog.react","CRMMutationUtils","FDSCard.react","FDSLink.react","FDSSection.react","FDSText.react","React","RelayModern","CRMClientDetailsAdditionalFields_contact.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=b("BusinessCRMConfigStore").withStore;var j=b("React");c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showAllFields:!1,showEditDialog:!1},d.$1=function(){d.setState({showEditDialog:!0})},d.$2=function(){d.setState({showAllFields:!0})},d.$4=function(a){var c;c=(c=d.props.contact)==null?void 0:c.id;c!=null&&b("CRMMutationUtils").editCustomField({pageID:d.props.pageID,fields:a,contactID:c});d.setState({showEditDialog:!1})},d.$5=function(){d.setState({showEditDialog:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){a=a.additional_custom_fields.filter(function(a){return a!=null});return a.map(function(a){var b;return{custom_field:{id:(b=a.custom_field)==null?void 0:b.id,display_name:(b=a.custom_field)==null?void 0:b.display_name},value:a.value}})};d.render=function(){var a;if(!((a=this.props.store.get("config"))==null?void 0:a.shouldShowImportContacts))return j.jsx("div",{});a=this.$3(this.props.contact);return j.jsxs(j.Fragment,{children:[j.jsx(b("FDSCard.react"),{margin:this.props.margin,children:j.jsxs(b("FDSSection.react"),{children:[j.jsxs("div",{className:"_7q3c",children:[j.jsx(b("FDSText.react"),{size:"header2",children:h._("Additional Info")}),j.jsx("div",{className:"_7q3d",children:j.jsx(b("FDSLink.react"),{onClick:this.$1,showUnderline:"never",children:h._("Edit")})})]}),j.jsx(b("CRMAdditionalFieldsList.react"),{additionalFieldList:a,onClickSeeMore:this.$2,showAll:this.state.showAllFields})]})}),this.state.showEditDialog?j.jsx(b("CRMEditAdditionalFieldsDialog.react"),{additionalFieldList:a,onHide:this.$5,onSave:this.$4,pageContactID:(a=this.props.contact)==null?void 0:a.id}):null]})};return c}(j.PureComponent);e.exports=a(c(d,{contact:i!==void 0?i:i=b("CRMClientDetailsAdditionalFields_contact.graphql")}))}),null);
__d("CRMBlockIGUserConfirmationDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:g._("Block"),onClick:this.props.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:this.props.onCancel})}),header:h.jsx(b("FDSModalHeader.react"),{title:g._("Block {username}?",[g._param("username",this.props.username)])}),isShown:this.props.shown,label:"Block Modal",onHide:this.props.onCancel,children:h.jsxs(b("FDSSection.react"),{children:[g._("They won't be able to find your profile, posts or story or send you messages on Instagram, and your conversation history will be removed. They won't be notified you blocked them."),h.jsx("br",{})," ",h.jsx("br",{}),this.props.isInbox?g._("If you unblock them on the Instagram app, your conversation will return to Inbox."):null]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("ServicesUIProfileImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","size"]);return h.jsx(b("Image.react"),babelHelpers["extends"]({className:b("joinClasses")("_6tsy"+(d==="large"?" _6tsz":"")+(d==="small"?" _6ts-":""),c)},a))};return c}(h.Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("CRMClientProfilePhoto.react",["React","RelayModern","ServicesUINoProfileImage.react","ServicesUIProfileImage.react","CRMClientProfilePhoto_profilePhoto.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.size;a=(a=this.props.profilePhoto)==null?void 0:(a=a.profilePhotoURIs)==null?void 0:(a=a[0])==null?void 0:a.uri;if(a==null){var d;d=((d=this)!=null?(d=d.props)!=null?(d=d.profilePhoto)!=null?d.firstName:d:d:d)||"-";return h.jsx(b("ServicesUINoProfileImage.react"),{letter:d[0],size:c})}return h.jsx(b("ServicesUIProfileImage.react"),{size:c,src:a})};return c}(h.PureComponent);e.exports=a(c,{profilePhoto:g!==void 0?g:g=b("CRMClientProfilePhoto_profilePhoto.graphql")})}),null);
__d("PagesManagerInboxMercuryUtil",["PagesManagerInboxFilterStore"],(function(a,b,c,d,e,f){"use strict";a={shouldUseMercury:function(){return b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"||b("PagesManagerInboxFilterStore").getActiveType()==="WEC"||b("PagesManagerInboxFilterStore").getActiveType()==="INSTAGRAM_DIRECT"},shouldUseMercuryForFollowUp:function(){return b("PagesManagerInboxFilterStore").getActiveType()!=="MESSENGER"?!1:!0}};e.exports=a}),null);
__d("ServicesMessengerSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({OPEN_MESSENGER_SIDEBAR:null});e.exports=a}),null);
__d("ServicesMessengerSidebarStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR,h=400,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({isSidebarOpen:!1}));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new i()};c.reduce=function(a,b){var c=b.payload;switch(b.type){case g:return a.set("isSidebarOpen",c.shouldOpen);default:return a}};c.isSidebarOpen=function(){return this.getState().isSidebarOpen};c.getTransitionDuration=function(){return h};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesMessengerSidebarActions",["PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxMercuryUtil","PagesManagerStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","ServicesMessengerSidebarStore","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR;a={openSidebar:function(a,c,d){d===void 0&&(d="MESSENGER");a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()&&d==="MESSENGER"?a:c;if(a==null)return;c=b("PagesManagerStore").getViewingListItem()!==null&&b("PagesManagerStore").getViewingListItem()===a;var e=b("ServicesMessengerSidebarStore").isSidebarOpen();b("PagesManagerInboxFilterAction").changePlatform(d);!e?(this._toggleMessengerSidebar(!0),b("PagesManagerAction").viewListItem(""+a)):e&&!c&&b("PagesManagerAction").viewListItem(""+a)},closeMessengerSidebar:function(){this._toggleMessengerSidebar(!1)},_toggleMessengerSidebar:function(a){a||b("setTimeout")(function(){b("PagesManagerAction").clearViewListItem()},b("ServicesMessengerSidebarStore").getTransitionDuration()),b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{shouldOpen:a}})}};e.exports=a}),null);
__d("CRMClientDetailsHeader.react",["ix","cx","fbt","BUIProgressBar.react","CRMBlockIGUserConfirmationDialog.react","CRMClientListActions","CRMClientListStore","CRMClientProfilePhoto.react","CRMEventsLogger","CRMMutationUtils","FBConfirmDialog.react","FBModal.react","FDSButton.react","FDSDropdownMenu.react","FDSLink.react","FluxContainer","IGMessageConnectionStatusStore","IGMessageDataDispatcher","IGMessageInboxStore","IGMessageServerActions","Image.react","Layout.react","LineClamp.react","PagesPlatformBookingMessageViewer","React","RelayModern","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesMessengerSidebarActions","XUIGrayText.react","asset","cxMargin","nullthrows","CRMClientDetailsHeader_contact.graphql","CRMClientDetailsHeaderRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var m=b("Layout.react").Column,n=b("Layout.react").FillColumn,o=300,p="customer_details_view";c=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){var c=b("CRMClientListStore").getState();return{deletingOrBanning:a?a.deletingOrBanning:!1,forceRefetch:c.forceRefetch,showBookNowDialog:a?a.showBookNowDialog:!1,showDeleteOrBanConfirmDialog:a?a.showDeleteOrBanConfirmDialog:!1,showBlockIGUserDialog:a?a.showBlockIGUserDialog:!1}};function c(c){var d;d=a.call(this,c)||this;d.showDeleteOrBanConfirmDialog=function(){var a;if(d.state.showDeleteOrBanConfirmDialog)return;b("CRMEventsLogger").log(d.props.pageID,"click_delete_customer","delete_customer_button",p,(a=d.props.contact)==null?void 0:a.id);d.setState({showDeleteOrBanConfirmDialog:!0})};d.onDeleteOrBanConfirmDialogCancel=function(){var a;b("CRMEventsLogger").log(d.props.pageID,"click_delete_customer_cancel_button","delete_customer_button_cancel_button",p,(a=d.props.contact)==null?void 0:a.id);d.setState({showDeleteOrBanConfirmDialog:!1})};d.deleteContact=function(){var a;if(d.state.deletingOrBanning)return;d.setState({deletingOrBanning:!0,showDeleteOrBanConfirmDialog:!1});b("CRMEventsLogger").log(d.props.pageID,"click_delete_customer_confirm_button","delete_customer_button_confirm_button",p,(a=d.props.contact)==null?void 0:a.id);b("CRMMutationUtils").deleteContact(d.props.contact.id,function(a,b){d.props.onDelete()})};d.banContact=function(){var a;if(d.state.deletingOrBanning)return;d.setState({deletingOrBanning:!0,showDeleteOrBanConfirmDialog:!1});b("CRMEventsLogger").log(d.props.pageID,"click_block_customer_confirm_button","ban_customer_button",p,d.props.contact.id);a=(a=babelHelpers.assertThisInitialized(d))!=null?(a=a.props)!=null?(a=a.contact)!=null?(a=a.user)!=null?a.id:a:a:a:a;a!==null&&a!==void 0&&b("CRMMutationUtils").banContact([a],function(a,c){d.props.onDelete(),b("CRMClientListActions").forceRefetch()})};d.toggleBookNowDialog=function(a){if(a&&!d.state.showBookNowDialog){var c;b("CRMEventsLogger").log(d.props.pageID,"click_book_now","book_now_button_details_header",p,(c=d.props.contact)==null?void 0:c.id)}d.setState({showBookNowDialog:a})};d.onBookNowDialogCompleted=function(a){a&&(b("CRMClientListActions").forceRefetch(),b("CRMClientListActions").forceActivityRefetch(),d.openMessenger())};d.onCancelBlockIGUser=function(){var a;d.setState({showBlockIGUserDialog:!1});b("CRMEventsLogger").log(d.props.pageID,"click_block_ig_customer_cancel_button","block_customer_cancel_button",p,(a=d.props.contact)==null?void 0:a.id)};d.onConfirmBlockIGUser=function(){var a,c;d.setState({showBlockIGUserDialog:!1});var e=b("IGMessageServerActions").getForFBID(d.props.pageID);c=(c=babelHelpers.assertThisInitialized(d))!=null?(c=c.props)!=null?(c=c.contact)!=null?c.igUserId:c:c:c;a=(a=babelHelpers.assertThisInitialized(d))!=null?(a=a.props)!=null?(a=a.contact)!=null?a.igThreadId:a:a:a;c!=null&&a!=null&&(e.blockUser(a,c),d.props.onDelete());b("CRMEventsLogger").log(d.props.pageID,"click_block_ig_customer_confirm_button","block_customer_confirm_button",p,(e=d.props.contact)==null?void 0:e.id)};d.$3=function(){var a;if(d.state.showBlockIGUserDialog)return;b("CRMEventsLogger").log(d.props.pageID,"click_block_ig_customer_button","block_customer_button",p,(a=d.props.contact)==null?void 0:a.id);d.setState({showBlockIGUserDialog:!0})};d.$4=function(){var a;window.open("https://help.instagram.com/568100683269916/?ref=reportincrm","_blank");b("CRMEventsLogger").log(d.props.pageID,"click_report_ig_customer_button","report_customer_button",p,(a=d.props.contact)==null?void 0:a.id)};d.openMessenger=function(){var a;a=(a=babelHelpers.assertThisInitialized(d))!=null?(a=a.props)!=null?(a=a.contact)!=null?(a=a.user)!=null?a.id:a:a:a:a;if(a!=null){var c;b("CRMEventsLogger").log(d.props.pageID,"click_open_messages","messages_icon",p,(c=d.props.contact)==null?void 0:c.id);b("ServicesMessengerSidebarActions").openSidebar(a)}};d.openIGDirectSidebar=function(){var a;a=(a=babelHelpers.assertThisInitialized(d))!=null?(a=a.props)!=null?(a=a.contact)!=null?a.igThreadId:a:a:a;a!=null&&b("ServicesMessengerSidebarActions").openSidebar(null,a,"INSTAGRAM_DIRECT");b("CRMEventsLogger").log(d.props.pageID,"click_open_ig_direct","ig_direct_icon",p,(a=d.props.contact)==null?void 0:a.id)};d.onClickIGProfileButton=function(){var a;b("CRMEventsLogger").log(d.props.pageID,"click_go_to_ig_profile","ig_profile_icon",p,(a=d.props.contact)==null?void 0:a.id)};b("IGMessageDataDispatcher").explicitlyRegisterStores([b("IGMessageInboxStore"),b("IGMessageConnectionStatusStore")]);return d}var d=c.prototype;d.componentDidUpdate=function(a,b){!b.forceRefetch&&this.state.forceRefetch&&this.refetch()};d.refetch=function(){this.props.relay.refetch({page_contact_id:this.props.contact.id,page_id:this.props.pageID},null,function(){b("CRMClientListActions").unsetForceFetch()},{force:!0})};d.getDescription=function(){var a;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.description:a:a:a;return l.jsx(b("XUIGrayText.react"),{display:"block",size:"header4",children:l.jsx(b("LineClamp.react"),{lines:1,children:a})})};d.getClientName=function(){var a;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.name:a:a:a;return l.jsx(b("XUIGrayText.react"),{className:"_6t2t",display:"block",shade:"medium",size:"header4",weight:"bold",children:l.jsx(b("LineClamp.react"),{lines:1,children:a})})};d.getBookNowButton=function(){var a=this;return l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("482554")}),label:i._("Book Now"),onClick:function(){a.toggleBookNowDialog(!0)},use:"primary"})};d.getCTAButton=function(){if(this.props.isServiceBusiness)return this.getBookNowButton();if(this.isFBUser())return l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("1183236")}),label:i._("Send Message"),onClick:this.openMessenger,use:"primary"});else if(this.isIGUser())return l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("1183231")}),label:i._("Send Message"),onClick:this.openIGDirectSidebar,use:"primary"});else return null};d.getBookNowDialog=function(){var a=this,c;return!this.props.isServiceBusiness||!this.state.showBookNowDialog?null:l.jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE,onToggle:this.toggleBookNowDialog,onUpdateCompleted:this.onBookNowDialogCompleted,pageContactID:((c=this.props.contact)==null?void 0:c.id)||void 0,pageID:this.props.pageID,referrerData:{referrerUIComponent:"crm_client_detail_view_cta",referrerUISurface:"crm"},shown:this.state.showBookNowDialog,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.getDeleteOrBanConfirmationDialog=function(){if(!this.state.showDeleteOrBanConfirmDialog)return null;if(this.isFBUser()){var a;a=((a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.name:a:a:a)||"";var c=this.props.contact.is_banned_by_page,d=i._("Ban {name}?",[i._param("name",a)]),e=i._("Are you sure you want to ban {name} from this Page? People who are banned can't post, comment or take other actions on your Page. They won't be notified.",[i._param("name",a)]),f=i._("Ban From Page");c===!0&&(d=i._("Remove ban from Page?"),e=i._("Are you sure you want to remove {name} 's ban from this Page? They will be able to post, comment and take other actions on your Page.",[i._param("name",a)]),f=i._("Remove Ban From Page"));return l.jsx(b("FBConfirmDialog.react"),{cancelButtonText:i._("Cancel"),confirmButtonText:f,content:e,onCancel:this.onDeleteOrBanConfirmDialogCancel,onConfirm:this.banContact,onToggle:this.onDeleteOrBanConfirmDialogCancel,shown:!0,title:d})}return l.jsx(b("FBConfirmDialog.react"),{content:i._("Are you sure you want to delete this contact? Deleting this contact will also delete all of their appointments."),onCancel:this.onDeleteOrBanConfirmDialogCancel,onConfirm:this.deleteContact,onToggle:this.onDeleteOrBanConfirmDialogCancel,shown:!0,title:i._("Delete Contact")})};d.getBlockIGUserConfirmationDialog=function(){var a;if(!this.state.showBlockIGUserDialog)return null;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?(a=a.igProfileInfo)!=null?a.username:a:a:a:a;return l.jsx(b("CRMBlockIGUserConfirmationDialog.react"),{isInbox:!1,onCancel:this.onCancelBlockIGUser,onConfirm:this.onConfirmBlockIGUser,shown:this.state.showBlockIGUserDialog,username:b("nullthrows")(a)})};d.$1=function(){var a=i._("Block"),b=i._("Report"),c=this.props.contact.is_banned_by_page===!0?i._("Remove ban"):i._("Ban"),d=i._("Delete");this.isIGUser()?a=[this.$2(a,this.$3),this.$2(b,this.$4)]:this.isFBUser()?a=[this.$2(c,this.showDeleteOrBanConfirmDialog)]:a=[this.$2(d,this.showDeleteOrBanConfirmDialog)];return a};d.$2=function(a,b){return{type:"item",label:a,onClick:b}};d.getMessengerButton=function(){return!this.props.isServiceBusiness||!this.hasButtonType("MESSAGE")||!this.isFBUser()?null:l.jsx(m,{className:"_3-9a _6t1z _6t1-",children:l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("501143")}),label:i._("Open Messages"),labelIsHidden:!0,onClick:this.openMessenger})})};d.getFBProfileButton=function(){var a=this,c;c=(c=this)!=null?(c=c.props)!=null?(c=c.contact)!=null?(c=c.user)!=null?c.url:c:c:c:c;return this.props.shouldSuppressProfileLinks||c==null?null:l.jsx(m,{className:"_3-9a _6t1z _6t1-",children:l.jsx(b("FDSLink.react"),{href:c,onClick:function(){var c;b("CRMEventsLogger").log(a.props.pageID,"click_go_to_fb_profile","fb_profile_icon",p,(c=a.props.contact)==null?void 0:c.id)},target:"_blank",children:l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("490808")}),label:i._("Facebook Profile"),labelIsHidden:!0})})})};d.getIGDirectButton=function(){return!this.props.isServiceBusiness||!this.hasButtonType("MESSAGE_IG_DIRECT")?null:l.jsx(m,{className:"_3-9a _6t1z _6t1-",children:l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("898436")}),label:i._("Instagram Direct Message"),labelIsHidden:!0,onClick:this.openIGDirectSidebar})})};d.hasIGDirectButton=function(){var a;a=((a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.contactCTAs:a:a:a)||[];a=a.find(function(a){return a.ctaType==="MESSAGE_IG_DIRECT"});return a!=null};d.getIGProfileButton=function(){var a;if(this.props.shouldSuppressProfileLinks)return null;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.profile_uris:a:a:a;a=a&&a.find(function(a){return a.platform==="INSTAGRAM"});a=a&&a.uri;return a==null?null:l.jsx(m,{className:"_3-9a _6t1z _6t1-",children:l.jsx(b("FDSLink.react"),{href:a,onClick:this.onClickIGProfileButton,target:"_blank",children:l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("692652")}),label:i._("Instagram Profile"),labelIsHidden:!0})})})};d.isFBUser=function(){var a;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?(a=a.user)!=null?a.id:a:a:a:a;return a!=null};d.isIGUser=function(){var a;return((a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.igUserId:a:a:a)!=null&&((a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.igThreadId:a:a:a)!=null};d.hasButtonType=function(a){var b;b=((b=this)!=null?(b=b.props)!=null?(b=b.contact)!=null?b.contactCTAs:b:b:b)||[];b=b.find(function(b){return b.ctaType===a});if(b==null){var c;c=((c=this)!=null?(c=c.props)!=null?(c=c.contact)!=null?c.moreActions:c:c:c)||[];b=c.find(function(b){return b.ctaType===a})}return b!=null};d.getMoreActionsMenu=function(){return l.jsx(b("FDSDropdownMenu.react"),{items:this.$1(),label:"More Items",useEllipsisIcon:!0})};d.getDeletingOrBanningOverlay=function(){if(this.state.deletingOrBanning){if(this.isFBUser()){var a=this.props.contact.is_banned_by_page===!0?i._("Removing Ban..."):i._("Banning Contact...");return l.jsx(b("FBModal.react"),{shown:!0,children:l.jsx(b("BUIProgressBar.react"),{className:"_6t2u",isBuffering:!0,message:a,padding:!1,width:o})})}return l.jsx(b("FBModal.react"),{shown:!0,children:l.jsx(b("BUIProgressBar.react"),{className:"_6t2u",isBuffering:!0,message:i._("Deleting Contact..."),padding:!1,width:o})})}return null};d.render=function(){return l.jsxs("div",{children:[this.getDeletingOrBanningOverlay(),this.getDeleteOrBanConfirmationDialog(),this.getBlockIGUserConfirmationDialog(),l.jsxs(b("Layout.react"),{className:"_6t2v",children:[l.jsx(m,{className:"_3-9a",children:l.jsx(b("CRMClientProfilePhoto.react"),{profilePhoto:this.props.contact,size:"large"})}),l.jsxs(n,{className:"_3-9c _6t1z",children:[this.getClientName(),this.getDescription()]}),l.jsxs(m,{className:"_3-9a _6t1z _6t1-",children:[this.getBookNowDialog(),this.getCTAButton()]}),this.getMessengerButton(),this.getFBProfileButton(),this.getIGDirectButton(),this.getIGProfileButton(),l.jsx(m,{className:"_3-9a _6t1z",children:l.jsx("div",{className:"_6t1- _3-91",children:this.getMoreActionsMenu()})})]})]})};return c}(l.PureComponent);d=b("FluxContainer").create(c);f=a(d,{contact:j!==void 0?j:j=b("CRMClientDetailsHeader_contact.graphql")},k!==void 0?k:k=b("CRMClientDetailsHeaderRefetchQuery.graphql"));e.exports=f}),null);
__d("PagesManagerCustomLabelsActions",["PagesManagerDispatcher","immutable","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CLEAR_DATA:null,SET_LABEL:null,INIT_STORE:null,DELETE_LABEL:null});a={clearData:function(){b("PagesManagerDispatcher").dispatch({type:g.CLEAR_DATA})},initStore:function(a){b("PagesManagerDispatcher").dispatch({type:g.INIT_STORE,labels:a})},setLabel:function(a){b("PagesManagerDispatcher").dispatch({type:g.SET_LABEL,label:a})},deleteLabel:function(a){b("PagesManagerDispatcher").dispatch({type:g.DELETE_LABEL,name:a})}};e.exports={PagesManagerCustomLabelsActions:a,ActionTypes:g}}),null);
__d("BusinessPresenceCustomLabelColor",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREY:"FF90949C",PURPLE:"FF8A73C9",RED:"FFF65569",BLUE:"FF5291FF",ORANGE:"FFFB9240",GREEN:"FF72A737"})}),null);
__d("PagesManagerInboxLabelsColorSelector.react",["ix","cx","fbt","BusinessPresenceCustomLabelColor","Image.react","React","XUICard.react","XUIContextualDialog.react","XUIContextualDialogBody.react","asset","objectValues","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k={FF90949C:i._("Grey"),FF8A73C9:i._("Purple"),FFF65569:i._("Red"),FF5291FF:i._("Blue"),FFFB9240:i._("Orange"),FF72A737:i._("Green")},l="FF5291FF";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isSelectorShown:!1,hoverColorLabel:k[l],selectedColor:c.$1(c.props.defaultColor)},c.$2=null,c.$3=function(a){c.setState({isSelectorShown:a})},c.$7=function(){c.setState({hoverColorLabel:k[l]})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a){return a==="FF000000"?"FF90949C":a};d.$4=function(a){this.props.onSelectColor(a),this.setState({isSelectorShown:!1,selectedColor:a})};d.$5=function(a){a=this.$1(a);return"#"+a.substring(2)};d.$6=function(a){this.setState({hoverColorLabel:a})};d.render=function(){var a=this,c=j.jsxs(b("XUICard.react"),{background:"transparent",className:"_20-d",onClick:function(){return a.$3(!a.state.isSelectorShown)},ref:function(b){a.$2=b},children:[j.jsx(b("XUICard.react"),{className:"_64u4",style:{backgroundColor:this.$5(this.state.selectedColor)}}),j.jsx(b("Image.react"),{className:this.props.showCaret?"_37_p":"_37_b",src:this.state.isSelectorShown?g("387838"):g("382796")})]});return j.jsxs("span",{className:"_37v6",children:[c,j.jsx(b("XUIContextualDialog.react"),{contextRef:function(){return a.$2},hideOnBlur:!0,label:i._("Select Color"),onToggle:this.$3,position:"below",shown:this.state.isSelectorShown,children:j.jsxs("div",{className:"_64u5",children:[j.jsx(b("XUIContextualDialogBody.react"),{children:b("objectValues")(b("BusinessPresenceCustomLabelColor")).map(function(c){return j.jsx(b("XUICard.react"),{className:"_64u6",onClick:function(){return a.$4(c)},onMouseEnter:function(){return a.$6(k[c])},onMouseLeave:a.$7,style:{backgroundColor:a.$5(c)}},c)})}),j.jsx("span",{className:"_64u7",children:this.state.hoverColorLabel})]})},"contextualDialog")]})};return c}(j.PureComponent);a.propTypes={onSelectColor:b("prop-types").func.isRequired,showCaret:b("prop-types").bool.isRequired,defaultColor:b("prop-types").string.isRequired};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialogLabelRecord.react",["ix","cx","fbt","Image.react","PagesManagerInboxLabelsColorSelector.react","React","Tooltip.react","XUICardSection.react","asset","curry","cxMargin","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isHover:!1,isHoverEyeIcon:!1,isHoverDeleteIcon:!1},c.$1=function(){c.setState({isHoverEyeIcon:!0})},c.$2=function(){c.setState({isHoverEyeIcon:!1})},c.$3=function(){c.setState({isHoverDeleteIcon:!0})},c.$4=function(){c.setState({isHoverDeleteIcon:!1})},c.$5=function(a){var b={};Object.assign(b,c.props.label);b.color=a;c.props.onUpdate(b)},c.$6=function(){c.setState({isHover:!0})},c.$7=function(){c.setState({isHover:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.label,c=this.props.onDelete;return j.jsx(b("XUICardSection.react"),{children:j.jsxs("div",{className:"_1wea","data-testid":void 0,onMouseEnter:this.$6,onMouseLeave:this.$7,children:[j.jsx(b("PagesManagerInboxLabelsColorSelector.react"),{defaultColor:a.color,onSelectColor:this.$5,showCaret:this.state.isHover}),j.jsx("span",{style:{flex:1},children:j.jsx("span",{className:"_1wf9",children:this.props.label.name})}),a.thread_count!=null?j.jsx("span",{className:"_2scb",children:a.thread_count}):null,this.props.onClickSearch?j.jsx(b("Tooltip.react"),{tooltip:i._("See conversations"),children:j.jsx(b("Image.react"),{className:"_73md",onClick:b("curry")(this.props.onClickSearch,a),onMouseEnter:this.$1,onMouseLeave:this.$2,src:this.state.isHoverEyeIcon?g("492046"):g("544369")})}):null,j.jsx(b("Tooltip.react"),{className:"_3-91","data-testid":void 0,tooltip:i._("Delete label"),children:j.jsx(b("Image.react"),{className:"_73md",onClick:b("curry")(c,a),onMouseEnter:this.$3,onMouseLeave:this.$4,src:this.state.isHoverDeleteIcon?g("367582"):g("396630")})})]})})};return c}(j.PureComponent);a.propTypes={onDelete:(c=b("prop-types")).func.isRequired,onUpdate:c.func.isRequired,label:c.object,hasErrorState:c.func,maxLength:c.number};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialogNewLabelForm.react",["cx","fbt","PagesManagerInboxLabelsColorSelector.react","React","SUIBorderUtils","SUIBusinessTheme","SUIButton.react","SUITextInput.react","XUICard.react","XUICardSection.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="",k="FF5291FF";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={inputValue:j,isNameValid:!1,selectedColor:k},c.$1=function(){c.props.onAddLabel(c.state.inputValue,c.state.selectedColor),c.setState({inputValue:j,isNameValid:!1,selectedColor:k})},c.$3=function(a){c.setState({inputValue:a,isNameValid:!0})},c.$4=function(a){c.setState({selectedColor:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){var a=this.props.hasErrorState(this.state.inputValue);a!==null&&a!==void 0&&a!==""&&this.setState({isNameValid:!1});return a};d.render=function(){return i.jsx(b("XUICard.react"),{children:i.jsx(b("XUICardSection.react"),{children:i.jsxs("div",{className:"_466b","data-testid":void 0,children:[i.jsx(b("PagesManagerInboxLabelsColorSelector.react"),{defaultColor:k,onSelectColor:this.$4,showCaret:!0}),i.jsx("span",{style:{flex:1},children:i.jsx(b("SUITextInput.react"),{borderedSides:this.state.isFocused?b("SUIBorderUtils").ALL_SIDES:[],className:"_466c","data-testid":void 0,errorMessage:this.$2(),isMaxLengthHidden:!0,maxLength:this.props.maxLength,onChange:this.$3,placeholder:h._("Name a label..."),styles:{label:{border:"none",height:26,background:"none"}},theme:b("SUIBusinessTheme"),value:this.state.inputValue})}),i.jsx(b("SUIButton.react"),{"data-testid":void 0,disabled:this.state.inputValue===j||!this.state.isNameValid,label:h._("Add Label"),onClick:this.$1,theme:b("SUIBusinessTheme"),use:"confirm"})]})})})};return c}(i.PureComponent);a.propTypes={onAddLabel:b("prop-types").func.isRequired,hasErrorState:b("prop-types").func,maxLength:b("prop-types").number};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialog.react",["cx","fbt","CustomLabelUtils","FluxContainer","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLabelsDialogLabelRecord.react","PagesManagerInboxLabelsDialogNewLabelForm.react","React","ScrollableArea.react","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("CustomLabelUtils").TAG_LIMIT,j=b("React"),k=350,l=500,m=276,n=5;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.$2(!0,a)},d.$3=function(){var a=b("nullthrows")(d.state.deleteConfirmationDialogProps.label);d.props.onRemoveLabelFromThread(a);d.props.onDeleteLabel&&d.props.onDeleteLabel(a.id,a.name);d.$2(!1)},d.$5=function(a,b){d.props.onCreateLabel&&d.props.onCreateLabel(a,b)},d.$6=function(a){var c=d.state.activeSearchLabels.map(function(a){return a.getTitle()});c.indexOf(a.name)!==-1&&(b("PagesManagerInboxFilterAction").removeCustomLabel(a,d.props.pageID),b("PagesManagerInboxFilterAction").addCustomLabel(a,d.props.pageID));d.props.onUpdateLabel&&d.props.onUpdateLabel(a)},d.$7=function(a){if(d.props.labels.has(a))return h._("Label name must be unique.");if(a.indexOf(":")!==-1)return h._("Label name can not contain ':'.");return d.props.labels.size>=i?h._("You've reached the 200 labels limit. You can delete labels to add more."):null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){return{activeSearchLabels:b("PagesManagerInboxFilterStore").getCurrentSearchCustomLabels(),deleteConfirmationDialogProps:{show:!1,label:null}}};var d=c.prototype;d.$2=function(a,c){this.setState({deleteConfirmationDialogProps:{show:a,label:a?b("nullthrows")(c):null}})};d.$4=function(){var a=this;return j.jsxs(b("XUIDialog.react"),{"data-testid":void 0,layerHideOnBlur:!1,onToggle:function(b){return!b&&a.$2(b)},shown:this.state.deleteConfirmationDialogProps.show,width:k,children:[j.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:h._("Delete Label From Page?")}),j.jsx(b("XUIDialogBody.react"),{children:h._("Deleted labels are removed and will no longer be used to describe or organize anyone on your Page.")}),j.jsxs(b("XUIDialogFooter.react"),{children:[j.jsx(b("XUIDialogCancelButton.react"),{}),j.jsx(b("XUIDialogButton.react"),{action:"confirm","data-testid":void 0,label:h._("Delete Label"),onClick:this.$3,use:"confirm"})]})]})};d.$8=function(){return j.jsx(b("PagesManagerInboxLabelsDialogNewLabelForm.react"),{hasErrorState:this.$7,maxLength:this.props.maxLength,onAddLabel:this.$5})};d.$9=function(){var a=this;if(this.props.labels.size===0)return null;var c=j.jsx(b("XUICard.react"),{children:this.props.labels.toArray().map(function(c){return j.jsx(b("PagesManagerInboxLabelsDialogLabelRecord.react"),{hasErrorState:a.$7,label:c,maxLength:a.props.maxLength,onDelete:a.$1,onUpdate:a.$6},c.id)})});return this.props.labels.size>n?j.jsx(b("ScrollableArea.react"),{className:"_73kz",maxHeight:m,children:c}):c};d.render=function(){return j.jsxs(b("XUIDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,width:l,children:[j.jsx(b("XUIDialogTitle.react"),{children:h._("Manage Labels")}),j.jsxs(b("XUIDialogBody.react"),{children:[j.jsx("div",{className:"_3uqr",children:h._("Use labels to help you describe and organize people. Labels can be about anything, such as customer type or previous orders. Only people who manage your Page can see labels.")}),this.$8(),this.$9(),this.$4()]})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("CRMClientDetailsLabelsSection.react",["cx","fbt","BusinessCRMConfigStore","CustomLabelUtils","FDSCard.react","FDSLink.react","FDSSection.react","FDSText.react","PagesManagerCustomLabelsActions","PagesManagerInboxContextCardLabelsTypeahead.react","PagesManagerInboxLabel.react","PagesManagerInboxLabelsDialog.react","QE2Logger","React","RelayModern","cxMargin","emptyFunction","immutable","CRMClientDetailsLabelsSection_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=b("BusinessCRMConfigStore").withStore;var j=(c=b("CustomLabelUtils")).MAX_LABEL_NAME_LENGTH,k=c.onAddLabel,l=c.onCreateLabel,m=c.onDeleteLabel,n=c.onRemoveLabel,o=c.onUpdateLabel,p=b("PagesManagerCustomLabelsActions").PagesManagerCustomLabelsActions,q=b("React");d=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var r="CRMClientDetailsLabelsSection_contactLabels",s="CRMClientDetailsLabelsSection_page_labels";f=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowManageLabelsDialog:!1},d.onRemoveLabel=function(a){var b=d.getContactLabels().map(function(a){return a&&a.id});if(b.indexOf(a.id)===-1)return;n(a.id,a.name,(b=d.props.page)==null?void 0:(a=b.contact)==null?void 0:a.id,r)},d.onAddLabel=function(a){k(a.id,a.name,(a=d.props.page)==null?void 0:(a=a.contact)==null?void 0:a.id,d.props.pageID,r,s)},d.onCreateAndAddLabel=function(a){k(null,a,(a=d.props.page)==null?void 0:(a=a.contact)==null?void 0:a.id,d.props.pageID,r,s,null,{onSuccess:function(a){p.setLabel(a)},onFailure:b("emptyFunction")})},d.$1=function(a,c){m(a,d.props.pageID,s,{onSuccess:function(){p.deleteLabel(c)},onFailure:b("emptyFunction")})},d.$2=function(a,c){l(a,c,d.props.pageID,s,{onSuccess:function(a){p.setLabel(a)},onFailure:b("emptyFunction")})},d.onLabelsDialogToggle=function(a){return d.setState({shouldShowManageLabelsDialog:a})},d.onShowManageLabelsClick=function(){return d.setState({shouldShowManageLabelsDialog:!0})},d.getLabel=function(a){return a==null||a.id==null||a.name==null||a.label_color==null?null:q.jsx("div",{className:"_653d",children:q.jsx(b("PagesManagerInboxLabel.react"),{color:a.label_color,id:a.id,name:a.name,onRemove:d.onRemoveLabel,pageID:d.props.pageID,searchOnClick:!1})},a.id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){o(a.id,a.color,{onSuccess:function(a){p.setLabel(a)},onFailure:b("emptyFunction")})};d.getContactLabels=function(){var a;a=((a=this.props.page)==null?void 0:(a=a.contact)==null?void 0:(a=a.contactLabels)==null?void 0:a.edges)||[];return!a||a.length===0?[]:a.map(function(a){return a&&a.node||null}).filter(function(a){return a!=null})};d.getLabels=function(){var a=this.getContactLabels();return!a||a.length===0?q.jsx("div",{className:"_3-8y",children:q.jsx("span",{className:"_kd_",children:h._("Labels help you describe and organize your contacts. Only people who manage your Page can see labels.")})}):q.jsx("div",{className:"_3-8y",children:a.map(this.getLabel)})};d.showManageLabelsDialog=function(){return!this.state.shouldShowManageLabelsDialog?null:q.jsx(b("PagesManagerInboxLabelsDialog.react"),{labels:this.formatLabelData(),labelsConnectionName:"CRMClientDetailsLabelsSection_page_labels",maxLength:j,onCreateLabel:this.$2,onDeleteLabel:this.$1,onRemoveLabelFromThread:this.onRemoveLabel,onToggle:this.onLabelsDialogToggle,onUpdateLabel:this.$3,pageID:this.props.pageID,shouldShowAutoLabel:!1,shown:this.state.shouldShowManageLabelsDialog})};d.formatLabelData=function(){var a;a=((a=this.props.page)==null?void 0:(a=a.labels)==null?void 0:a.edges)||[];return this.convertLabelDataToMap(a)};d.convertLabelDataToMap=function(a){a=a.map(function(a){return[a.node.name,{id:a.node.id,color:a.node.label_color,name:a.node.name}]});return b("immutable").Map(a||[])};d.getTypeaheadLabels=function(){var a=this.formatLabelData().toArray(),b=this.getContactLabels();return b.length===0?a:a.filter(function(a){return!b.some(function(b){return b?a.id===b.id:!0})})};d.getLabelsTypeahead=function(){return q.jsx(b("PagesManagerInboxContextCardLabelsTypeahead.react"),{labels:this.getTypeaheadLabels(),maxLength:j,onAddLabel:this.onAddLabel,onCreateLabel:this.onCreateAndAddLabel,pageLabelNum:this.formatLabelData().toArray().length})};d.render=function(){var a;if(((a=this.props.page)==null?void 0:(a=a.contact)==null?void 0:a.user)==null){b("QE2Logger").logExposureForPage("crm_labels",this.props.pageID);if(!((a=this.props.store.get("config"))==null?void 0:a.shouldShowLabelsForOfflineContacts))return null}return q.jsx(b("FDSCard.react"),{margin:this.props.margin,children:q.jsxs(b("FDSSection.react"),{children:[q.jsxs("div",{className:"_6vs9",children:[q.jsx(b("FDSText.react"),{size:"header2",children:h._("Labels")}),q.jsx("div",{className:"_6vsa",children:q.jsx(b("FDSLink.react"),{onClick:this.onShowManageLabelsClick,showUnderline:"never",children:h._("Manage Labels")})})]}),this.getLabels(),this.getLabelsTypeahead(),this.showManageLabelsDialog()]})})};return c}(q.PureComponent);g=d(f,{page:i!==void 0?i:i=b("CRMClientDetailsLabelsSection_page.graphql")});e.exports=a(g)}),null);
__d("CRMClientDetailsAddNoteMutation",["ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","RelayRuntime","CRMClientDetailsAddNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ClientIDs").getNewClientID,i=b("RelayRuntime").ConnectionHandler,j=b("RelayModern").commitMutation;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CRMClientDetailsAddNoteMutation.graphql");function l(a,b,c){b=a.get(b);if(!b)return;b=i.getConnection(b,"CRMClientDetailsNotesSection_contact_notes");if(!b)return;a=i.createEdge(a,b,c,"PageContactNotesEdge");b&&a&&i.insertEdgeBefore(b,a)}function a(a,c){var d=function(b){if(!a.pageContactID)return;var c=h();c=b.create(c,"TextWithEntities");c.setValue(a.body,"text");var d=h(),e=b.create(d,"PageAdminNote");e.setValue(d,"id");e.setLinkedRecord(c,"body");e.setValue(Date.now()/1e3,"timestamp");l(b,a.pageContactID,e)},e=function(b){if(!a.pageContactID)return;var c=b.getRootField("page_admin_note_create");if(!c)return;c=c.getLinkedRecord("note");c&&l(b,a.pageContactID,c)};return j(b("RelayFBEnvironment"),{mutation:k,optimisticUpdater:d,updater:e,variables:{input:{actor_id:b("RelayAPIConfig").actorID,body:{text:a.body},page_contact_id:a.pageContactID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("CRMClientDetailsUpdateNoteMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","CRMClientDetailsUpdateNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("CRMClientDetailsUpdateNoteMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,note_id:a.noteId,body:{text:a.body}}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxDeleteNoteMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxDeleteNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxDeleteNoteMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,note_id:a.noteID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("CRMClientDetailsNotesSection.react",["ix","cx","fbt","CRMClientDetailsAddNoteMutation","CRMClientDetailsNote.react","CRMClientDetailsUpdateNoteMutation","CRMEventsLogger","FDSButton.react","FDSCard.react","FDSLink.react","FDSSection.react","FDSText.react","Image.react","PagesManagerInboxDeleteNoteMutation","React","RelayModern","SUIBusinessTheme","SUITextArea.react","XUISpinner.react","asset","cxMargin","emptyFunction","nullthrows","CRMClientDetailsNotesSection_contact.graphql","CRMClientDetailsNotesSectionContactQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var m="customer_details_view";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1,newNoteText:"",showNewNoteForm:!1},d.onDeleteNote=function(a){var c;c=(c=d.props.contact)==null?void 0:(c=c.notes)==null?void 0:c.edges;var e=c?c.length:1;b("PagesManagerInboxDeleteNoteMutation").commit({noteID:a},{onSuccess:function(){d.props.relay.refetchConnection(e>1?e-1:e,b("emptyFunction"))},onFailure:b("emptyFunction")})},d.onEditNote=function(a,c){var e;e=(e=d.props.contact)==null?void 0:(e=e.notes)==null?void 0:e.edges;var f=e?e.length:1;e=b("nullthrows")((e=d.props.contact)==null?void 0:e.id);if(e===null)return;b("CRMClientDetailsUpdateNoteMutation").commit({body:c,noteId:a},{onSuccess:function(){d.props.relay.refetchConnection(f-1,b("emptyFunction"))},onFailure:b("emptyFunction")})},d.onSaveNoteClick=function(){var a;b("CRMEventsLogger").log(d.props.pageID,"click_save_note","save_note_button",m);if(d.state.newNoteText==null)return;b("CRMClientDetailsAddNoteMutation").commit({body:d.state.newNoteText,pageContactID:b("nullthrows")((a=d.props.contact)==null?void 0:a.id)});d.clearNote()},d.onAddNoteButtonClick=function(){if(d.state.showNewNoteForm)return;b("CRMEventsLogger").log(d.props.pageID,"click_add_note","add_note_button",m);d.setState({showNewNoteForm:!0},function(){d.$1&&d.$1.focusInput()})},d.updateNote=function(a){d.setState({newNoteText:a})},d.clearNote=function(){d.setState({showNewNoteForm:!1,newNoteText:""})},d.onLoadMoreNotesClick=function(){if(!d.props.relay.hasMore()||d.props.relay.isLoading())return;d.setState({isLoading:!0});d.props.relay.loadMore(10,function(){return d.setState({isLoading:!1})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.hasNotes=function(){var a;a=(a=(a=this.props.contact)==null?void 0:(a=a.notes)==null?void 0:a.edges)!=null?a:[];return a.length>0};d.getNewNoteForm=function(){var a=this,c;return!this.state.showNewNoteForm?null:l.jsxs("div",{className:"_3-8y"+(this.hasNotes()?" _6xpn":""),children:[l.jsx(b("SUITextArea.react"),{maxLength:1e3,onChange:this.updateNote,placeholder:i._("Write a note..."),ref:function(b){return a.$1=b},rows:2,shouldAutoGrow:!0,theme:b("SUIBusinessTheme"),value:this.state.newNoteText}),l.jsxs("div",{className:"_6xpo _3-8y",children:[l.jsx(b("FDSButton.react"),{label:i._("Cancel"),margin:"_3-8_",onClick:this.clearNote,size:"large",width:64}),l.jsx(b("FDSButton.react"),{isDisabled:((c=this.state.newNoteText)!=null?c:"").replace(/\s/g,"")==="",label:i._("Save"),onClick:this.onSaveNoteClick,size:"large",use:"primary",width:64})]})]})};d.getNotes=function(){var a=this,c;c=(c=this.props.contact)==null?void 0:(c=c.notes)==null?void 0:c.edges;if(c==null||c.length===0)return l.jsx("div",{className:"_3-8y",children:l.jsx("span",{className:"_dk_",children:i._("Notes help you remember important details about your contacts. Only people who manage your Page can see notes.")})});c=c.map(function(c){return c.node?l.jsx(b("CRMClientDetailsNote.react"),{note:c.node,onDelete:a.onDeleteNote,onEdit:a.onEditNote,pageID:a.props.pageID},c.node.id):null});return l.jsx("div",{className:"_3-8y",children:c})};d.getSeeMoreSection=function(){if(!this.props.relay.hasMore())return null;return this.state.isLoading?l.jsx("div",{className:"_6xpq",children:l.jsx(b("XUISpinner.react"),{})}):l.jsx("div",{className:"_6xpq",children:l.jsxs(b("FDSLink.react"),{onClick:this.onLoadMoreNotesClick,showUnderline:"never",children:[l.jsx(b("Image.react"),{className:"_3-8_",src:g("598189")}),i._("See More")]})})};d.render=function(){return l.jsx(b("FDSCard.react"),{margin:this.props.margin,children:l.jsxs(b("FDSSection.react"),{children:[l.jsxs("div",{className:"_6wsb",children:[l.jsx(b("FDSText.react"),{size:"header2",children:i._("Notes")}),l.jsx("div",{className:"_6xpr",children:l.jsx(b("FDSLink.react"),{onClick:this.onAddNoteButtonClick,showUnderline:"never",children:i._("Add Note")})})]}),this.getNewNoteForm(),this.getNotes(),this.getSeeMoreSection()]})})};return c}(l.PureComponent);d=a(c,{contact:j!==void 0?j:j=b("CRMClientDetailsNotesSection_contact.graphql")},{direction:"forward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.contact)==null?void 0:a.notes},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,page_contact_id:a.contact.id,page_id:a.pageID}},query:k!==void 0?k:k=b("CRMClientDetailsNotesSectionContactQuery.graphql")});e.exports=d}),null);
__d("XCRMManualContactCreationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/contact_creation/dialog/",{appointment_id:{type:"FBID"},contact_id:{type:"FBID"},first_name:{type:"String"},from_split_flow:{type:"Bool",defaultValue:!1},last_name:{type:"String"},page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("CRMClientDetailsView.react",["ix","cx","fbt","ActorURI","AsyncRequest","BusinessCRMConfigStore","CenteredContainer.react","CRMClientDetailsAboutSection.react","CRMClientDetailsActivityRoot.react","CRMClientDetailsAdditionalFields.react","CRMClientDetailsHeader.react","CRMClientDetailsLabelsSection.react","CRMClientDetailsNotesSection.react","CRMClientListActions","CRMEventsLogger","FDSText.react","Image.react","Layout.react","Link.react","QuickPerformanceLogger","React","ScrollableArea.react","ServicesMessengerSidebarActions","XCRMManualContactCreationDialogController","asset","cxMargin","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=b("BusinessCRMConfigStore").withStore;var j=b("React"),k=b("Layout.react").Column,l="customer_details_view";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.editClient=function(){b("CRMEventsLogger").log(d.props.pageID,"click_edit_customer","edit_customer_button",l);var a=b("XCRMManualContactCreationDialogController").getURIBuilder().setFBID("page_id",d.props.pageID).setFBID("contact_id",d.props.contactID).getURI();a=b("ActorURI").create(a,d.props.pageID);new(b("AsyncRequest"))(a).send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("QuickPerformanceLogger").markerEnd(36503556,2)};d.goBackToList=function(){b("ServicesMessengerSidebarActions").closeMessengerSidebar(),b("CRMClientListActions").backToClientList()};d.render=function(){var a,c=this.props.relayResponse.page;return c==null?null:j.jsx(b("ScrollableArea.react"),{height:this.props.height,children:j.jsx(b("CenteredContainer.react"),{children:j.jsxs("div",{className:"_3-8y",children:[j.jsxs(b("Link.react"),{className:"_6t2q",onClick:this.goBackToList,children:[j.jsx(b("Image.react"),{src:g("503177")}),j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",weight:"bold",children:i._("Contacts")})]}),j.jsx(b("CRMClientDetailsHeader.react"),{contact:b("nullthrows")(c.contact),isServiceBusiness:(a=(a=this.props.store.get("config"))==null?void 0:a.isServiceBusiness)!=null?a:!1,onDelete:this.goBackToList,pageID:this.props.pageID,shouldSuppressProfileLinks:(a=(a=this.props.store.get("config"))==null?void 0:a.shouldShowMergeContact)!=null?a:!1}),j.jsxs(b("Layout.react"),{className:"_6tsw",children:[j.jsxs(k,{className:"_6tsx",children:[j.jsx(b("CRMClientDetailsAboutSection.react"),{contact:b("nullthrows")(c.contact),isPageEligibleForEmail:(a=c==null?void 0:(a=c.servicesVerticalInfo)==null?void 0:a.isPageEligibleForEmail)!=null?a:!1,onEdit:this.editClient,pageID:this.props.pageID,shouldShowMergeContact:(a=(a=this.props.store.get("config"))==null?void 0:a.shouldShowMergeContact)!=null?a:!1}),j.jsx(b("CRMClientDetailsLabelsSection.react"),{margin:"_3-8y",page:c,pageID:this.props.pageID}),j.jsx(b("CRMClientDetailsNotesSection.react"),{contact:b("nullthrows")(c.contact),margin:"_3-8o",pageID:this.props.pageID})]}),j.jsxs(k,{className:"_3-9b _6xfw",children:[j.jsx(b("CRMClientDetailsActivityRoot.react"),{bookFBAppointmentUrl:(a=c.servicesVerticalInfo)==null?void 0:a.bookFBAppointmentUrl,contact:b("nullthrows")(c.contact),pageID:this.props.pageID}),j.jsx(b("CRMClientDetailsAdditionalFields.react"),{contact:b("nullthrows")(c.contact),margin:"_3-8o",pageID:this.props.pageID})]})]})]})})})};return c}(j.PureComponent);e.exports=a(c)}),null);
__d("CRMClientDetailsRoot.react",["cx","fbt","CRMClientDetailsView.react","CRMClientListStore","FluxContainer","PagesReactDispatcher","QuickPerformanceLogger","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","ServicesUISpinner.react","cxMargin","CRMClientDetailsRootQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=i!==void 0?i:i=b("CRMClientDetailsRootQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.renderQueryResponse=function(a){var c=a.error;a=a.props;if(c)return d.getError();else if(a)return j.jsx(b("CRMClientDetailsView.react"),{contactID:d.state.contactID,height:d.props.height,pageID:d.props.pageID,relayResponse:a});return d.getLoading()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){a=b("CRMClientListStore").getState();return{contactID:a.contactID}};var d=c.prototype;d.componentDidMount=function(){b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("RelayAPIConfig").DO_NOT_USE_setActorID(this.props.pageID),b("QuickPerformanceLogger").markerStart(36503556)};d.getError=function(){return j.jsx("div",{className:"_6sk4",children:h._("Something went wrong. Please try again later.")})};d.getLoading=function(){return j.jsx("div",{className:"_3-8y",children:j.jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"})})};d.render=function(){return!this.state.contactID?null:j.jsx(k,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:l,render:this.renderQueryResponse,variables:{page_contact_id:this.state.contactID,page_id:this.props.pageID}})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("CRMClientListItemActionsEnum",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOK_APPOINTMENT:null,DELETE:null,VIEW_PROFILE:null,BLOCK:null});e.exports=a}),null);
__d("CRMClientRow.react",["ix","cx","fbt","invariant","BusinessCRMConfigStore","CRMClientListActions","CRMClientListItemActionsEnum","CRMClientListStore","CRMClientProfilePhoto.react","CRMEventsLogger","FDSButton.react","FDSCheckboxInput.react","FluxContainer","Image.react","Layout.react","LineClamp.react","Link.react","PagesReactDispatcher","React","RelayModern","ServicesMessengerSidebarActions","XUIGrayText.react","asset","cxMargin","nullthrows","CRMClientRow_contact.graphql"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k;a=b("BusinessCRMConfigStore").withStore;var l=b("React");c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var m=b("Layout.react").Column,n=b("Layout.react").FillColumn,o=2;function p(a){return l.jsx(b("XUIGrayText.react"),{className:"_6rbu",display:"block",size:"header4",children:l.jsx(b("LineClamp.react"),{lines:1,children:a.title})})}function q(a){return a.value===null?l.jsx(b("XUIGrayText.react"),{className:"_6rbu",display:"block",shade:"medium",size:"header4",weight:"bold",children:l.jsx(b("LineClamp.react"),{lines:1,children:"-"})}):a.value}d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.openIGDirectSidebar=function(){var a=d.props.contact.igThreadId;a!=null&&b("ServicesMessengerSidebarActions").openSidebar(null,a,"INSTAGRAM_DIRECT")},d.openMessengerSidebar=function(){var a;a=(a=d.props.contact.user)==null?void 0:a.id;a!=null&&b("ServicesMessengerSidebarActions").openSidebar(a)},d.goToClientDetails=function(){var a,c=d.props.contact;c=b("nullthrows")(c.id);(a=b("CRMClientListActions")).showClientDetails(c);a.clearBulkEditClient();a.clearUnselectedBulkEditClient();a.selectAllBulkEditClient(!1)},d.onCheckBoxChange=function(){var a;a={contactID:b("nullthrows")(d.props.contact.id),fbUserID:(a=d.props.contact.user)==null?void 0:a.id,igUserID:(a=d.props.contact.igUserID)==null?void 0:a.id,pageCustomerID:(a=d.props.contact.pageCustomerId)==null?void 0:a.id};d.state.contactsToBulkEdit.has(b("nullthrows")(d.props.contact.id))?(b("CRMClientListActions").removeBulkEditClient(b("nullthrows")(d.props.contact.id)),b("CRMClientListActions").addUnselectedBulkEditClient(a),b("CRMEventsLogger").log(d.props.pageID,"uncheck_contact_list_row","contact_list_row_checkbox","contact_list")):((d.state.mergeContactError||d.state.mergedContactID!==null)&&b("CRMClientListActions").dismissMergeToast(),b("CRMClientListActions").addBulkEditClient(a),b("CRMClientListActions").removeUnselectedBulkEditClient(b("nullthrows")(d.props.contact.id)))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){a=b("CRMClientListStore").getState();return{contactsToBulkEdit:a.contactsToBulkEdit,unSelectedContactsToBulkEdit:a.unSelectedContactsToBulkEdit,isAllSelected:a.isAllSelected,mergedContactID:a.mergedContactID,mergeContactError:a.mergeContactError}};var d=c.prototype;d.componentDidMount=function(){b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores())};d.getDescription=function(){var a;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.description:a:a:a;return l.jsx(b("XUIGrayText.react"),{className:"_6rdm",display:"block",size:"header4",children:l.jsx(b("LineClamp.react"),{lines:1,children:a})})};d.getClientName=function(){var a;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.name:a:a:a;return l.jsx(b("XUIGrayText.react"),{className:"_6rbu",display:"block",shade:"medium",size:"header4",weight:"bold",children:l.jsx(b("LineClamp.react"),{lines:1,children:a})})};d.getColumnValue=function(a){return l.jsx(b("XUIGrayText.react"),{className:"_6rbu",display:"block",shade:"medium",size:"header4",weight:"bold",children:l.jsx(b("LineClamp.react"),{lines:1,children:a})})};d.getBirthdayValue=function(){var a;a=(a=this)!=null?(a=a.props)!=null?(a=a.contact)!=null?a.birthday:a:a:a;return a!=null?this.getColumnValue(a):null};d.getContactValue=function(){var a;a=((a=this.props.contact)==null?void 0:a.phoneNumber)===null?this.props.contact.fallback_phone_number:(a=this.props.contact)==null?void 0:(a=a.phoneNumber)==null?void 0:a.displayNumber;return a!=null?this.getColumnValue(a):null};d.getPlatformsValue=function(){var a,c;a=((a=this.props.contact)==null?void 0:a.user)!=null;c=((c=this.props.contact)==null?void 0:(c=c.igProfileInfo)==null?void 0:c.username)!=null;return!c&&!a?null:l.jsxs("div",{children:[a?l.jsx(b("Image.react"),{className:"_7ynr",src:"/images/pages/crm/indicator-fb-2x.png"}):null,c?l.jsx(b("Image.react"),{className:"_7ynr",src:"/images/pages/crm/indicator-ig-2x.png"}):null]})};d.getNotes=function(){var a;a=((a=this.props.contact)==null?void 0:(a=a.notes)==null?void 0:a.edges)||[];a=a.length>0?(a=a[0].node)==null?void 0:(a=a.body)==null?void 0:a.text:null;return a!=null?this.getColumnValue(a):null};d.onActionButtonChange=function(a){this.props.handleClickActionButton&&this.props.handleClickActionButton(a,this.props.contact)};d.getButton=function(){var a=this,c,d=this.props.store;d=d.get("config");if(d==null)return l.jsx("div",{style:{minHeight:"1px",minWidth:"150px"}});d=d.isServiceBusiness;if(d)return l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("482554")}),label:i._("Book Now"),onClick:function(){a.onActionButtonChange(b("CRMClientListItemActionsEnum").BOOK_APPOINTMENT)},use:"primary",width:150});d=((d=this.props.contact)==null?void 0:d.user)!=null;c=((c=this.props.contact)==null?void 0:(c=c.igProfileInfo)==null?void 0:c.username)!=null;if(!c&&!d)return l.jsx("div",{style:{minHeight:"1px",minWidth:"150px"}});else if(c)return l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("1183231")}),label:i._("Send Message"),onClick:this.openIGDirectSidebar,use:"primary",width:150});return l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("1183236")}),label:i._("Send Message"),onClick:this.openMessengerSidebar,use:"primary",width:150})};d.getLink=function(){var a;return l.jsx(b("Link.react"),{className:((a=this.props.store.get("config"))==null?void 0:a.shouldShowMergeContact)?"_82u3":"_6sig",label:"contact details link",onClick:this.goToClientDetails})};d.getLabels=function(){var a;a=((a=this.props.contact)==null?void 0:(a=a.labels)==null?void 0:a.edges)||[];if(!a||a.length===0)return null;a=a.map(function(a){return a&&a.node||null}).filter(function(a){return a!=null});var b=null,c=a.slice();if(a.length>o){a=a.length-o;b=l.jsx("div",{className:"_6six",children:i._("+{x_more_labels_count} more",[i._param("x_more_labels_count",a)])});c.splice(o)}return l.jsxs("div",{className:"_6siv _3-8y",children:[c.map(function(a){if(a==null||a.id==null||a.name==null||a.label_color==null)return null;var b=null;a.label_color!=null&&(b="#"+a.label_color.substring(2));b!==null||j(0,6368);return l.jsxs("div",{className:"_6six",children:[l.jsx("div",{className:"_6si-",style:{backgroundColor:b}}),l.jsx("span",{className:"_6si_",children:a.name})]},a.id)}),b]})};d.render=function(){if(!this.state.contactsToBulkEdit.has(b("nullthrows")(this.props.contact.id))&&this.state.isAllSelected&&!this.state.unSelectedContactsToBulkEdit.has(b("nullthrows")(this.props.contact.id))){var a;a={contactID:b("nullthrows")(this.props.contact.id),fbUserID:(a=this.props.contact.user)==null?void 0:a.id,igUserID:(a=this.props.contact.igUserID)==null?void 0:a.id,pageCustomerID:(a=this.props.contact.pageCustomerId)==null?void 0:a.id};b("CRMClientListActions").addBulkEditClient(a);b("CRMEventsLogger").log(this.props.pageID,"check_contact_list_row","contact_list_row_checkbox","contact_list")}a=this.state.contactsToBulkEdit.has(b("nullthrows")(this.props.contact.id));var c=a?"_6rbx _888r":"_6rbx";return l.jsxs(b("Layout.react"),{className:c,children:[l.jsx(m,{className:"_3-9a",children:((c=this.props.store.get("config"))==null?void 0:c.shouldShowMergeContact)&&l.jsx("div",{className:"_82ds",children:l.jsx(b("FDSCheckboxInput.react"),{label:"",onChange:this.onCheckBoxChange,value:a})})}),l.jsx(m,{className:"_3-9a",children:l.jsx(b("CRMClientProfilePhoto.react"),{profilePhoto:this.props.contact})}),l.jsxs(n,{className:"_3-9c _6rby",children:[this.getClientName(),this.getDescription(),this.getLabels(),this.getLink()]}),((c=this.props.store.get("config"))==null?void 0:c.shouldShowPlatformIconsInList)?l.jsxs(m,{className:"_3-9a _6rby _6-3j",children:[l.jsx(p,{title:i._("Platform(s)")}),l.jsx(q,{value:this.getPlatformsValue()})]}):null,l.jsxs(m,{className:"_3-9a _6rby _6-3j",children:[l.jsx(p,{title:i._("Contact")}),l.jsx(q,{value:this.getContactValue()})]}),l.jsxs(m,{className:"_3-9a _6rby _6rbz",children:[l.jsx(p,{title:i._("Birthday")}),l.jsx(q,{value:this.getBirthdayValue()})]}),l.jsxs(m,{className:"_3-9a _6rby _6rb-",children:[l.jsx(p,{title:i._("Notes")}),l.jsx(q,{value:this.getNotes()})]}),l.jsx(m,{className:"_3-8s _6-3k _6rby",children:this.getButton()})]})};return c}(l.PureComponent);f=c(b("FluxContainer").create(d),{contact:k!==void 0?k:k=b("CRMClientRow_contact.graphql")});e.exports=a(f)}),null);
__d("CRMClientList.react",["cx","CRMClientListActions","CRMClientListItemActionsEnum","CRMClientListStore","CRMClientRow.react","CRMEventsLogger","FBMorePager.react","FluxContainer","PagesPlatformBookingMessageViewer","PagesReactDispatcher","QuickPerformanceLogger","React","RelayModern","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","XUISpinner.react","nullthrows","CRMClientList_clientList.graphql","CRMClientListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.loadMoreContacts=function(){var a=b("nullthrows")(d.props.relay);if(!a.hasMore()||a.isLoading())return;a.loadMore(d.props.pageSize,function(){})},d.handleClickActionButton=function(a,c){switch(a){case b("CRMClientListItemActionsEnum").BOOK_APPOINTMENT:b("CRMEventsLogger").log(d.props.pageID,"click_book_now","book_now_button_contact_list_item","customer_list_view");d.toggleBookNowDialog(!0,c);break}},d.toggleBookNowDialog=function(a,b){d.setState({showBookNowDialog:a,selectedContact:b})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){var c=b("CRMClientListStore").getState();return{forceRefetch:c.forceRefetch,selectedContact:a?a.selectedContact:null,showBookNowDialog:a?a.showBookNowDialog:!1}};var d=c.prototype;d.componentDidMount=function(){b("QuickPerformanceLogger").markerEnd(36503555,2),b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores()),this.setTotalContactCount()};d.componentDidUpdate=function(a){(a==null?void 0:(a=a.clientList)==null?void 0:a.contactCount)!==((a=this.props)==null?void 0:(a=a.clientList)==null?void 0:a.contactCount)&&this.setTotalContactCount()};d.UNSAFE_componentWillUpdate=function(a,b){(this.props.searchTerm!==a.searchTerm||!this.state.forceRefetch&&b.forceRefetch)&&this.refetch()};d.setTotalContactCount=function(){var a;a=this==null?void 0:(a=this.props)==null?void 0:(a=a.clientList)==null?void 0:a.contactCount;b("CRMClientListActions").setTotalContactCount((a=a)!=null?a:0)};d.getBookNowDialog=function(){var a=this,c;return!this.state.showBookNowDialog?null:j.jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").MANUAL_CREATE,onToggle:this.toggleBookNowDialog,onUpdateCompleted:b("CRMClientListActions").forceRefetch,pageContactID:((c=this.state.selectedContact)==null?void 0:c.id)||void 0,pageID:this.props.pageID,referrerData:{referrerUIComponent:"crm_client_list_view_cta",referrerUISurface:"crm"},shown:this.state.showBookNowDialog,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.getContacts=function(){var a;a=((a=this)!=null?(a=a.props)!=null?(a=a.clientList)!=null?(a=a.contacts)!=null?a.edges:a:a:a:a)||[];var b=[];a.forEach(function(a){a.node&&b.push(a.node)});return b};d.getPager=function(){var a=b("nullthrows")(this.props.relay);return!a.hasMore()?null:j.jsx(b("FBMorePager.react"),{onMore:this.loadMoreContacts,children:j.jsx("div",{className:"_6s19 _2pi4",children:j.jsx(b("XUISpinner.react"),{size:"large"})})})};d.refetch=function(){var a,c=b("nullthrows")(this.props.relay);a=((a=this)!=null?(a=a.props)!=null?(a=a.clientList)!=null?(a=a.contacts)!=null?a.edges:a:a:a:a)||[];c.refetchConnection(a.length+1,function(){b("CRMClientListActions").unsetForceFetch()},{seatchTerm:this.props.searchTerm})};d.render=function(){var a=this,c=this.getContacts();return!c||c.length===0?null:j.jsxs("div",{children:[c.map(function(c){return j.jsx(b("CRMClientRow.react"),{contact:c,handleClickActionButton:a.handleClickActionButton,pageID:a.props.pageID},c.id)}),this.getBookNowDialog(),this.getPager()]})};return c}(j.PureComponent);d=b("FluxContainer").create(c);f=a(d,{clientList:h!==void 0?h:h=b("CRMClientList_clientList.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.clientList)!=null?a.contacts:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{first:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,search_term:a.searchTerm,creation_time_range:a.creationTimeRange,platforms:a.platforms,activities:a.activities,phone_status:a.phoneStatus,email_status:a.emailStatus,with_address:a.withAddress,with_birthday:a.withBirthday,label_filter_ids:a.labelFilterIDs,page_id:a.pageID}},query:i!==void 0?i:i=b("CRMClientListPaginationQuery.graphql")});e.exports=f}),null);
__d("CRMClientListAlertDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:g._("OK"),onClick:a.onHide,use:"primary"})}),header:h.jsx(b("FDSModalHeader.react"),{title:a.title}),isShown:a.shown,onHide:a.onHide,children:h.jsx(b("FDSSection.react"),{children:a.alertText})})}e.exports=a}),null);
__d("CRMClientListBulkAction.react",["ix","cx","fbt","CRMClientListActions","CRMClientListAlertDialog.react","CRMClientListStore","CRMEventsLogger","FDSButton.react","FDSCheckboxInput.react","FDSText.react","FluxContainer","Image.react","JSResource","React","ServicesUISpinner.react","Tooltip.react","lazyLoadComponent","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=(a=b("lazyLoadComponent"))((c=b("JSResource"))("CRMExportContactsDialog.react").__setRef("CRMClientListBulkAction.react")),l=a(c("CRMAddLabelDialogRoot.react").__setRef("CRMClientListBulkAction.react")),m=a(c("CRMMergeContactConflictDialogRoot.react").__setRef("CRMClientListBulkAction.react")),n=a(c("CRMEditContactsDialogRoot.react").__setRef("CRMClientListBulkAction.react"));d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("CRMClientListActions").selectAllBulkEditClient(!1),b("CRMClientListActions").clearBulkEditClient(),b("CRMClientListActions").clearUnselectedBulkEditClient(),b("CRMEventsLogger").log(d.props.pageID,"clear_contact_list_selection","contact_list_row_checkbox","contact_list")},d.$3=function(){d.$2(!1)},d.$8=function(a){a===void 0&&(a=!1),d.$4(!1),a&&b("CRMClientListActions").clearListSelection()},d.$9=function(){d.$5(!1),b("CRMClientListActions").clearListSelection()},d.$10=function(){d.$6(!1),b("CRMClientListActions").clearListSelection()},d.$11=function(){d.$7(!1),b("CRMClientListActions").clearListSelection()},d.$13=function(){d.$12(!1)},d.$15=function(){b("CRMEventsLogger").log(d.props.pageID,"click","merge_contact_button","contact_list");if(d.state.isMergingContact){d.$12(!0);return}var a=d.$14();if(a.hasSamePlatformUsers){d.$2(!0);return}d.$4(!0,a.uniqueFBuserID,a.uniqueInstagramUserID,a.pageCustomerID)},d.$16=function(){b("CRMEventsLogger").log(d.props.pageID,"click","export_contact_button","contact_list"),d.$5(!0)},d.$17=function(){b("CRMEventsLogger").log(d.props.pageID,"click","edit_fields_contact_button","contact_list"),d.$6(!0)},d.$18=function(){b("CRMEventsLogger").log(d.props.pageID,"click","add_label_contact_button","contact_list"),d.$7(!0)},d.$19=function(){b("CRMEventsLogger").log(d.props.pageID,"select_all_contact_list","contact_list_select_all_checkbox","contact_list"),b("CRMClientListActions").clearBulkEditClient(),b("CRMClientListActions").clearUnselectedBulkEditClient(),b("CRMClientListActions").selectAllBulkEditClient(!0)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){var c=b("CRMClientListStore").getState();return{showUnableToMergeAlert:a?a.showUnableToMergeAlert:!1,showMergeConflictDialog:a?a.showMergeConflictDialog:!1,showMergeInProgressAlert:a?a.showMergeInProgressAlert:!1,uniqueFBuserID:a?a.uniqueFBuserID:null,uniqueInstagramUserID:a?a.uniqueInstagramUserID:null,pageCustomerID:a?a.pageCustomerID:null,showExportContactsDialog:a?a.showExportContactsDialog:!1,showEditContactsDialog:a?a.showEditContactsDialog:!1,showAddLabelDialog:a?a.showAddLabelDialog:!1,isMergingContact:c.isMergingContact,isDoingBulkAction:c.isDoingBulkAction,inputData:c.inputData,searchTerm:c.searchTerm}};var d=c.prototype;d.$2=function(a){this.setState({showUnableToMergeAlert:a})};d.$4=function(a,b,c,d){this.setState({showMergeConflictDialog:a,uniqueInstagramUserID:c,uniqueFBuserID:b,pageCustomerID:d})};d.$5=function(a){this.setState({showExportContactsDialog:a})};d.$6=function(a){this.setState({showEditContactsDialog:a})};d.$7=function(a){this.setState({showAddLabelDialog:a})};d.$12=function(a){this.setState({showMergeInProgressAlert:a})};d.$14=function(){var a=null,b=null,c=null,d=null,e=!1;for(var f=this.props.contactsToBulkEdit.values(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i.fbUserID,k=i.igUserID;i=i.pageCustomerID;if(a!=null&&j!=null&&a!==j){e=!0;break}else j!=null&&(a=j,c=i);if(b!=null&&k!=null&&b!==k){e=!0;break}else k!=null&&(b=k,d=i)}return{uniqueFBuserID:a,uniqueInstagramUserID:b,hasSamePlatformUsers:e,pageCustomerID:(j=c)!=null?j:d}};d.render=function(){var a=[];this.props.contactsToBulkEdit.forEach(function(b,c){c=b.contactID;c!=null&&a.push(c)});var c=Array.from(this.props.unSelectedContactsToBulkEdit.keys()).filter(function(a){return a!=null}),d=this.props.contactsToBulkEdit.size>0,e=this.props.isAllSelected?this.props.totalContactCount-this.props.unSelectedContactsToBulkEdit.size:this.props.contactsToBulkEdit.size,f=this.state.isMergingContact||this.state.isDoingBulkAction,h=this.props.contactsToBulkEdit.size<2||this.props.contactsToBulkEdit.size>5||f;return j.jsxs("div",{className:"_82q0",children:[d?j.jsxs("div",{className:"_869a",children:[j.jsx("div",{className:"_82nj",children:j.jsx(b("Tooltip.react"),{tooltip:i._("Select or deselect all contacts"),children:j.jsx(b("FDSCheckboxInput.react"),{label:"select or deselect",labelIsHidden:!0,onChange:this.$1,value:"indeterminate"})})}),j.jsx("div",{className:"_2pij",children:j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("503645")}),isDisabled:f,label:"Add Label",onClick:this.$18})}),j.jsx("div",{className:"_2pij",children:j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("1003828")}),isDisabled:f,label:i._("Download Contacts"),onClick:this.$16})}),j.jsx("div",{className:"_2pij",children:j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:h?g("875946"):g("831479")}),isDisabled:h,label:i._("Merge Contacts"),onClick:this.$15,tooltip:i._("You can merge up to 5 contacts, including 1 each from Facebook and Instragam.")})}),j.jsx("div",{className:"_2pij",children:j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("492955")}),isDisabled:f,label:i._("Edit"),onClick:this.$17})}),j.jsx("div",{className:"_4m37 _2pic",children:j.jsx(b("FDSText.react"),{color:"secondary",children:i._({"*":"{number} Contacts Selected"},[i._param("number",e,[0,e])])})})]}):j.jsxs("div",{className:"_869a",children:[j.jsx("div",{className:"_82nj",children:j.jsx(b("Tooltip.react"),{tooltip:i._("Select or deselect all contacts"),children:j.jsx(b("FDSCheckboxInput.react"),{label:"select or deselect",labelIsHidden:!0,onChange:this.$19,value:!1})})}),j.jsx("div",{className:"_4m37 _2pic",children:j.jsx(b("FDSText.react"),{color:"secondary",children:i._({"*":"Contacts ({number})"},[i._param("number",this.props.totalContactCount,[0,this.props.totalContactCount])])})})]}),this.state.showUnableToMergeAlert&&j.jsx(b("CRMClientListAlertDialog.react"),{alertText:i._("You can't merge two or more contacts from Facebook or Instagram into a single contact. Please select only one contact from each source and try again."),onHide:this.$3,shown:this.state.showUnableToMergeAlert,title:i._("These Contacts Can't Be Merged")}),this.state.showMergeInProgressAlert&&j.jsx(b("CRMClientListAlertDialog.react"),{alertText:i._("You can't merge additional contacts until the merge in progress is complete. Please wait for the previous merge to complete and try again."),onHide:this.$13,shown:this.state.showMergeInProgressAlert,title:i._("Contacts Not Merged")}),this.state.showMergeConflictDialog&&j.jsx(j.Suspense,{fallback:j.jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"}),children:j.jsx(m,{onHide:this.$8,pageCustomerID:this.state.pageCustomerID,pageID:this.props.pageID,selectedContactIDs:a,shown:this.state.showMergeConflictDialog,uniqueFBUserID:this.state.uniqueFBuserID,uniqueInstagramUserID:this.state.uniqueInstagramUserID})}),this.state.showExportContactsDialog&&j.jsx(j.Suspense,{fallback:j.jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"}),children:j.jsx(k,{inputData:this.state.inputData,isAllSelected:this.props.isAllSelected,onHide:this.$9,pageID:this.props.pageID,searchTerm:this.state.searchTerm,selectedContactIDs:a,shown:this.state.showExportContactsDialog,unSelectedContactIDs:c})}),this.state.showEditContactsDialog&&j.jsx(j.Suspense,{fallback:j.jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"}),children:j.jsx(n,{inputData:this.state.inputData,isAllSelected:this.props.isAllSelected,onHide:this.$10,pageID:this.props.pageID,searchTerm:this.state.searchTerm,selectedContactIDs:a,shown:this.state.showEditContactsDialog,unSelectedContactIDs:c})}),this.state.showAddLabelDialog&&j.jsx(j.Suspense,{fallback:j.jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"}),children:j.jsx(l,{inputData:this.state.inputData,isAllSelected:this.props.isAllSelected,onHide:this.$11,pageID:this.props.pageID,searchTerm:this.state.searchTerm,selectedContactIDs:a,shown:this.state.showAddLabelDialog,unSelectedContactIDs:c})})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(d)}),null);
__d("CRMClientListRoot.react",["cx","fbt","CRMClientList.react","CRMClientListActions","CRMClientListStore","FluxContainer","PagesReactDispatcher","QuickPerformanceLogger","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","ScrollableArea.react","ServicesMessengerSidebarActions","ServicesUISpinner.react","Timezone","CRMPageContactsFilterOptionTypes","CRMClientListRootClientListQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=10,m=b("Timezone").getEnvironmentTimezoneID()||b("Timezone").PST8PDT,n=b("CRMPageContactsFilterOptionTypes").ACTIVITY,o=b("CRMPageContactsFilterOptionTypes").ADDRESS,p=b("CRMPageContactsFilterOptionTypes").BIRTHDAY,q=b("CRMPageContactsFilterOptionTypes").WITH_ADDRESS,r=b("CRMPageContactsFilterOptionTypes").WITH_BIRTHDAY,s=b("CRMPageContactsFilterOptionTypes").PHONE,t=b("CRMPageContactsFilterOptionTypes").EMAIL,u=i!==void 0?i:i=b("CRMClientListRootClientListQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){a=b("CRMClientListStore").getState();return{searchTerm:a.searchTerm,labelFilterIDs:a.labelFilterIDs,selectedDateRange:a.selectedDateRange,selectedPlatforms:a.selectedPlatforms,selectedOtherFilters:a.selectedOtherFilters,showSearchResults:a.showSearchResults,forceRefetch:a.forceRefetch}};function c(c){var d;d=a.call(this,c)||this;d.renderQueryResponse=function(a){var c=a.error;a=a.props;if(c)return d.getError();else if(a){b("CRMClientListActions").updateIsLoading(!1);return d.getClientList(a)}b("CRMClientListActions").updateIsLoading(!0);return d.getLoading()};b("RelayAPIConfig").DO_NOT_USE_setActorID(d.props.pageID);return d}var d=c.prototype;d.componentDidMount=function(){b("QuickPerformanceLogger").markerStart(36503555),b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesMessengerSidebarActions").closeMessengerSidebar()};d.getError=function(){return j.jsx("div",{className:"_6rdl",children:h._("Something went wrong. Please try again later.")})};d.getLoading=function(){return j.jsx("div",{className:"_8d52",children:j.jsx(b("ServicesUISpinner.react"),{centered:!1,size:"large"})})};d.getPhoneSelectedValue=function(){var a;a=(a=this.state.selectedOtherFilters.get(s))!=null?a:[];var b=null;a.length>0&&(b=a[0]);return b};d.getEmailSelectedValue=function(){var a;a=(a=this.state.selectedOtherFilters.get(t))!=null?a:[];var b=null;a.length>0&&(b=a[0]);return b};d.getAddressSelectedValue=function(){var a;a=(a=this.state.selectedOtherFilters.get(o))!=null?a:[];var b=null;a.length>0&&(b=a[0]);a=null;b!=null&&(a=b===q);return a};d.getBirthdaySelectedValue=function(){var a;a=(a=this.state.selectedOtherFilters.get(p))!=null?a:[];var b=null;a.length>0&&(b=a[0]);a=null;b!=null&&(a=b===r);return a};d.getInputData=function(){var a,c=[this.state.selectedDateRange.start.toInstant(m),this.state.selectedDateRange.end.toInstant(m)];a=(a=this.state.selectedOtherFilters.get(n))!=null?a:[];var d=this.state.labelFilterIDs.map(function(a){return a.id});c={creationTimeRange:c,platforms:this.state.selectedPlatforms,activities:a,phoneStatus:this.getPhoneSelectedValue(),emailStatus:this.getEmailSelectedValue(),withAddress:this.getAddressSelectedValue(),withBirthday:this.getBirthdaySelectedValue(),labelFilterIDs:d};b("CRMClientListActions").updateInputData(c);return c};d.getClientList=function(a){var c=this.getInputData();return j.jsx("div",{className:"_6rdl",children:j.jsx(b("CRMClientList.react"),{activities:c.activities,clientList:a.page,creationTimeRange:c.creationTimeRange,labelFilterIDs:c.labelFilterIDs,emailStatus:c.emailStatus,forceRefetch:this.state.forceRefetch,pageID:this.props.pageID,pageSize:l,phoneStatus:c.phoneStatus,platforms:c.platforms,searchTerm:this.state.showSearchResults?this.state.searchTerm:null,withAddress:c.withAddress,withBirthday:c.withBirthday})})};d.render=function(){var a=this.getInputData();return j.jsx(b("ScrollableArea.react"),{height:this.props.height,children:j.jsx(k,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:u,render:this.renderQueryResponse,variables:{count:l,search_term:this.state.showSearchResults?this.state.searchTerm:null,page_id:this.props.pageID,creation_time_range:a.creationTimeRange,platforms:a.platforms,activities:a.activities,phone_status:a.phoneStatus,email_status:a.emailStatus,with_address:a.withAddress,with_birthday:a.withBirthday,label_filter_ids:a.labelFilterIDs}})})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("CRMClientContactsRelaySearchSource.react",["AbstractRelaySearchSource","CRMClientContactsSearchableEntry","CRMClientListActions","RelayFBEnvironment","RelayModern","nullthrows","CRMClientContactsRelaySearchSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;function h(a,c,d){var e=g!==void 0?g:g=b("CRMClientContactsRelaySearchSourceQuery.graphql");return{query:e,variables:{search_term:c,count:d,pageID:a,cursor:null}}}function i(a){a=(a=a)!=null?(a=a.page)!=null?(a=a.page_contacts)!=null?a.edges:a:a:a;if(!a)return[];b("CRMClientListActions").setContactSearchLoaded();return a.map(function(a){var c,d,e;a=b("nullthrows")(a.node);var f=b("nullthrows")(a.id);e=(e=(e=a)!=null?e.name:e)!=null?e:"";d=(d=(d=a)!=null?(d=d.ig_profile_info)!=null?d.username:d:d)!=null?d:"";c=(c=a)!=null?(c=c.profile_photo_uris)!=null?(c=c[0])!=null?c.uri:c:c:c;var g="FACEBOOK";a.ig_profile_info!==null&&(g="INSTAGRAM");return new(b("CRMClientContactsSearchableEntry"))({title:e,subtitle:d,uniqueID:f,uri:c,platform:g})}).filter(function(a){return a!==null})}function j(a,b){return b(a)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){return a.call(this,b("RelayFBEnvironment"),{bootstrapRequests:[],queryRequests:[{gen:function(a){return h(c,a,d)}}],packageFn:i,getAllForEmptyQuery:!0},j)||this}return c}(b("AbstractRelaySearchSource"));e.exports=a}),null);
__d("PageCustomLabelsTypeaheadViewItem.react",["cx","React","XUICard.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.entry;return h.jsxs("li",{className:"_7znk","data-testid":void 0,onMouseDown:function(b){return a.props.onSelect(c,b)},children:[h.jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:c.getColor()}}),h.jsx("span",{style:{flex:1},children:this.props.renderHighlight(c.getTitle())})]},c.getUniqueID())};return c}(h.PureComponent);a.propTypes={entry:b("prop-types").object,onSelect:b("prop-types").func,renderHighlight:b("prop-types").func};e.exports=a}),null);
__d("CRMClientTypeaheadSearchResultsRenderer.react",["ix","cx","fbt","CRMClientContactSearchViewItem.react","CRMClientContactsSearchableEntry","CRMClientListStore","FDSSpinner.react","FDSText.react","Image.react","Link.react","PageCustomLabelsTypeaheadViewItem.react","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerStore","React","ScrollableArea.react","SearchableEntry","TextSearchUtil","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a;d.props.queryString&&(c=b("TextSearchUtil").getTokens(a.toString(),d.props.queryString.toString()).map(function(a,b){return a.isHighlighted?j.jsx("span",{className:"_8i3e",children:a.text},b):a.text}));return j.jsx("span",{children:c})},d.$2=function(a){d.props.onSelect(new(b("SearchableEntry"))({uniqueID:"0",title:"See all Results"}),a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=[],d=[];this.props.entries.map(function(e){e instanceof b("PagesManagerInboxCustomLabelSearchableEntry")?c.push(j.jsx(b("PageCustomLabelsTypeaheadViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$1},e.getUniqueID())):e instanceof b("CRMClientContactsSearchableEntry")&&d.push(j.jsx(b("CRMClientContactSearchViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$1},e.getUniqueID()))});var e=d.length===0&&b("CRMClientListStore").getState().isLoadingContactSearch,f=c.length>0?j.jsx("div",{className:"_8i3f","data-testid":"labelsSection_header",children:i._("LABELS")}):null;e=e||d.length>0?j.jsxs("div",{children:[j.jsx("div",{className:"_8i3f","data-testid":"contactsSection_header",children:i._("CONTACTS")}),e&&j.jsx("div",{className:"_3-9b _3-96",children:j.jsx(b("FDSSpinner.react"),{})})]}):null;var h=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getListNavigationHeight();return j.jsx(b("ScrollableArea.react"),{maxHeight:h,children:j.jsxs("div",{className:"_8i3d",children:[j.jsxs(b("Link.react"),{className:"_8jun",onClick:this.$2,children:[j.jsx("div",{className:"_8jx3",children:j.jsx(b("Image.react"),{src:g("483480")})}),j.jsx(b("FDSText.react"),{color:"blueLink",weight:"bold",children:i._("See all results for {queryString}",[i._param("queryString",this.props.queryString.length>5?this.props.queryString.substr(0,3)+"...":this.props.queryString)])})]}),j.jsx("span",{className:"_8i3g"}),e,d,j.jsx("span",{className:"_7zla"}),f,c]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxSearchTokenRenderer.react",["cx","PagesManagerInboxLabel.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.entry.getData();return h.jsx(b("PagesManagerInboxLabel.react"),{className:this.props.className?this.props.className:"_22op",color:a.color,id:a.id,isToken:!0,name:a.name,onRemove:this.props.onRemove,searchOnClick:!0},a.name)};return c}(h.PureComponent);a.propTypes={entry:b("prop-types").object,onRemove:b("prop-types").func};e.exports=a}),null);
__d("CRMClientTypeahead.react",["ix","cx","fbt","CompositeSearchSource","CRMClientContactsRelaySearchSource.react","CRMClientContactsSearchableEntry","CRMClientListActions","CRMClientListStore","CRMClientTypeaheadSearchResultsRenderer.react","FluxContainer","Image.react","Link.react","PageManagerInboxCustomLabelSearchSource","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxSearchTokenRenderer.react","PagesReactDispatcher","React","XUITokenizer.react","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){a=b("CRMClientListStore").getState();var c=a.labelFilterIDs.map(function(a){return new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a)});return{searchTerm:a.searchTerm,isTypeAheadActive:a.isTypeAheadActive,showSearchResults:a.showSearchResults,activeSearchLabels:c}};var d=c.prototype;d.componentDidMount=function(){b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores())};d.$2=function(a){b("CRMClientListActions").updateSearchTerm(a.target.value)};d.$3=function(a){if(a instanceof b("PagesManagerInboxCustomLabelSearchableEntry"))b("CRMClientListActions").addCustomLabel(a.getData());else if(a instanceof b("CRMClientContactsSearchableEntry")){var c,d=b("nullthrows")(a.getUniqueID());(c=b("CRMClientListActions")).showClientDetails(d);c.clearBulkEditClient();c.clearUnselectedBulkEditClient();c.clearTypeaheadSearch();c.selectAllBulkEditClient(!1)}else a.getUniqueID()==="0"&&b("CRMClientListActions").showSearchResults(!0)};d.$4=function(a){a instanceof b("PagesManagerInboxCustomLabelSearchableEntry")&&b("CRMClientListActions").removeCustomLabel(a.getData())};d.$5=function(){b("CRMClientListActions").clearTypeaheadSearch()};d.render=function(){var a=this,c=new(b("CompositeSearchSource"))([b("PageManagerInboxCustomLabelSearchSource").getInstance(this.props.labels),new(b("CRMClientContactsRelaySearchSource.react"))(this.props.pageID,5)]),d=b("CRMClientTypeaheadSearchResultsRenderer.react");d={useLayer:!0,ViewRenderer:d,TokenRenderer:b("PagesManagerInboxSearchTokenRenderer.react"),maxEntries:200};return j.jsxs("div",{children:[j.jsxs("div",{className:"_8j3u",children:[this.state.isTypeAheadActive?j.jsx(b("Link.react"),{className:"_8j3v",onClick:this.$5,children:j.jsx(b("Image.react"),{src:g("499680")})}):j.jsx("div",{className:"_8j3v",children:j.jsx(b("Image.react"),{src:g("492644")})}),this.state.showSearchResults?j.jsx("div",{className:"_3-99",children:this.state.searchTerm}):j.jsx(b("XUITokenizer.react"),{className:"_8f-a",context:this.$1,entries:this.state.activeSearchLabels,focusedOnInit:!0,hideViewWithEntries:!1,onAddEntryAttempt:this.$3,onChange:this.$2,onEnterWithoutSelection:this.$2,onQueryStringChange:this.$2,onRemoveEntryAttempt:this.$4,placeholder:i._("Search people and labels"),presenter:d,searchSource:c,showEntriesOnFocus:!0,tokenClassName:"_8f-b"})]}),j.jsx("div",{ref:function(b){return a.$1=b}})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerCustomLabelsStore",["FluxReduceStore","PagesManagerCustomLabelsActions","PagesManagerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerCustomLabelsActions").ActionTypes,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({labels:b("immutable").Map([]),isInitialized:!1}));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new h()};c.reduce=function(a,b){var c;switch(b.type){case g.CLEAR_DATA:return this.getInitialState();case g.INIT_STORE:return this.getInitialState().set("labels",b.labels).set("isInitialized",!0);case g.SET_LABEL:c=this.getState().labels.set(b.label.name,b.label);return a.set("labels",c);case g.DELETE_LABEL:c=this.getState().labels["delete"](b.name);return a.set("labels",c);default:return a}};c.getLabels=function(){return this.getState().labels};c.isInitialized=function(){return this.getState().isInitialized};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("CRMClientTypeaheadRoot.react",["CRMClientTypeahead.react","FluxContainer","PagesManagerCustomLabelsStore","PagesReactDispatcher","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerCustomLabelsStore")]};c.calculateState=function(a){a=b("PagesManagerCustomLabelsStore").getLabels().toArray();return{labels:a}};var d=c.prototype;d.componentDidMount=function(){b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores())};d.render=function(){return g.jsx(b("CRMClientTypeahead.react"),{labels:this.state.labels,pageID:this.props.pageID})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("CRMPageContactsDateRangeFilter.react",["fbt","BUIDateRangePicker.react","BUIDateRangePresets","CRMClientListActions","CRMEventsLogger","LocalDate","LocalDateInterval","React","Timezone","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=b("Timezone").getEnvironmentTimezoneID()||b("Timezone").PST8PDT;var i=b("LocalDate").today(a).addDays(1),j=b("LocalDate").fromInstant(123084e4,a),k=g._("Date Added");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){if(a.interval){a=new(b("LocalDateInterval"))(a.interval.start,a.interval.end);b("CRMClientListActions").clearListSelection();b("CRMClientListActions").updateSelectedDateRange(a);var c=new Map();c.set("platformsSelected",a.toString());b("CRMEventsLogger").log(d.props.pageID,"click","creation_time_option","creation_time_filter_dropdown",null,c)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx("span",{className:"_3-9a",children:h.jsx(b("BUIDateRangePicker.react"),{datePresetsLabel:k,dateRestraints:[function(a){return a.isAfterOrEqual(j)&&a.isBeforeOrEqual(i)}],defaultIncludeToday:!0,height:this.props.useLargeButton?"tall":"short",hideIcon:!1,limitPagerToRestraints:!0,onChange:this.$1,options:l(),timezoneID:b("Timezone").getEnvironmentTimezoneID(),value:{interval:this.props.selectedDateRange},verbose:"custom"})})};return c}(h.PureComponent);function l(){var a;return[{calculateInterval:function(){return new(b("LocalDateInterval"))(j,i)},text:g._("Lifetime"),value:"Lifetime",disableComparison:!0},(a=b("BUIDateRangePresets")).TODAY,a.YESTERDAY,a.LAST_7D,a.LAST_14D,a.THIS_MONTH,{calculateInterval:function(){return new(b("LocalDateInterval"))(i.subtractMonths(3),i)},text:g._("Last 3 months"),value:"last_3_months"},{calculateInterval:function(){return new(b("LocalDateInterval"))(i.subtractMonths(6),i)},text:g._("Last 6 months"),value:"last_6_months"}]}e.exports=c}),null);
__d("CRMPageContactsFilterMappingFunction",["CRMPageContactsFilterOptionTypes"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("CRMPageContactsFilterOptionTypes")).ACTIVITY,h=a.ADDRESS,i=a.BIRTHDAY,j=a.CONFIRMED_SMS,k=a.CONFIRMED_SUBSCRIBED,l=a.CONFIRMED_UNKNOWN,m=a.CONFIRMED_UNSUBSCRIBED,n=a.EMAIL,o=a.LIKES_PAGE,p=a.PHONE,q=a.PREVIOUS_APPOINTMENTS,r=a.SAVED_FILTER,s=a.UNCONFIRMED_PREFERENCE,t=a.UNCONFIRMED_SMS,u=a.UPCOMING_APPOINTMENTS,v=a.WITH_ADDRESS,w=a.WITH_BIRTHDAY,x=a.WITH_EMAIL,y=a.WITH_PHONE,z=a.WITHOUT_ADDRESS,A=a.WITHOUT_BIRTHDAY,B=a.WITHOUT_EMAIL,C=a.WITHOUT_PHONE;e.exports={getOptionType:function(a){switch(a){case q:case u:case o:return g;case y:case C:case j:case t:return p;case x:case B:case s:case k:case m:case l:return n;case v:case z:return h;case w:case A:return i;default:return r}}}}),null);
__d("CRMPageContactsOtherFilterFbt",["fbt","CRMPageContactsFilterOptionTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=b("CRMPageContactsFilterOptionTypes")).ACTIVITY,i=a.ADDRESS,j=a.BIRTHDAY,k=a.CONFIRMED_SMS,l=a.CONFIRMED_SUBSCRIBED,m=a.CONFIRMED_UNKNOWN,n=a.CONFIRMED_UNSUBSCRIBED,o=a.EMAIL,p=a.LIKES_PAGE,q=a.PHONE,r=a.PREVIOUS_APPOINTMENTS,s=a.SAVED_FILTER,t=a.UNCONFIRMED_PREFERENCE,u=a.UNCONFIRMED_SMS,v=a.UPCOMING_APPOINTMENTS,w=a.WITH_ADDRESS,x=a.WITH_BIRTHDAY,y=a.WITH_EMAIL,z=a.WITH_PHONE,A=a.WITHOUT_ADDRESS,B=a.WITHOUT_BIRTHDAY,C=a.WITHOUT_EMAIL,D=a.WITHOUT_PHONE;e.exports={getFbt:function(a){switch(a){case h:return g._("Activity");case r:return g._("Appointment completed");case v:return g._("Appointment scheduled");case p:return g._("LIKES_PAGE");case q:return g._("Phone");case k:return g._("Text message (SMS) confirmed");case u:return g._("Text message (SMS) not confirmed");case z:return g._("Known");case D:return g._("Unknown");case o:return g._("Email");case t:return g._("Preference not confirmed");case l:return g._("Subscribed");case n:return g._("Unsubscribed");case m:return g._("Preference unknown");case y:return g._("Known");case C:return g._("Unknown");case i:return g._("Street Address");case w:return g._("Known");case A:return g._("Unknown");case j:return g._("Birthday");case x:return g._("Known");case B:return g._("Unknown");case s:return g._("Saved Filters");default:return""}}}}),null);
__d("CRMPageContactsFilterTokenizer.react",["cx","fbt","CRMClientListActions","CRMEventsLogger","CRMMutationUtils","CRMPageContactsOtherFilterFbt","FDSButton.react","JSResource","React","ServicesUISpinner.react","XUICloseButton.react","lazyLoadComponent","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("CRMPageContactsOtherFilterFbt").getFbt,j=b("React"),k=b("lazyLoadComponent")(b("JSResource")("CRMSaveFilterSetDialog.react").__setRef("CRMPageContactsFilterTokenizer.react")),l=b("lazyLoadComponent")(b("JSResource")("CRMSaveFilterFailDialog.react").__setRef("CRMPageContactsFilterTokenizer.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showSaveFilterSetDialog:!1,showSaveFilterFailedDialog:!1},d.$5=function(){d.setState({showSaveFilterSetDialog:!0})},d.$6=function(){d.setState({showSaveFilterSetDialog:!1})},d.$7=function(){d.setState({showSaveFilterSetDialog:!0})},d.$8=function(){d.setState({showSaveFilterFailedDialog:!1})},d.$9=function(a){b("CRMClientListActions").updateSavedFilters(d.props.filters,a);var c=[];for(var e=d.props.filters.values(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;c.push.apply(c,h)}h={actor_id:d.props.pageID,saved_filter:{saved_filter:c,customized_name:a}};b("CRMEventsLogger").log(d.props.pageID,"click","saved_customized_filter_button","customized_tokenizer_bar");b("CRMMutationUtils").saveFilter(h,function(a,b){b&&d.setState({showSaveFilterFailedDialog:!0})})},d.$11=function(){b("CRMEventsLogger").log(d.props.pageID,"click","clear_tokenizers_button","customized_tokenizer_bar"),b("CRMClientListActions").clearSelectedOtherFilters()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return j.jsx("span",{className:"_8bv0",children:h._("Filters:")})};d.$2=function(a,c){b("CRMEventsLogger").log(this.props.pageID,"click","remove_filter_from_tokenizer_button","customized_tokenizer_bar"),b("CRMClientListActions").updateSelectedOtherFilters(a,c),b("CRMClientListActions").clearListSelection()};d.$3=function(a,c){var d=this,e=i(a),f=i(c);e=h._("{Filter Type}: {Filter Option}",[h._param("Filter Type",e),h._param("Filter Option",f)]);return j.jsxs("span",{className:"_8bv1",style:{backgroundColor:"#c4d2e7"},children:[j.jsx("span",{className:"_8bv2 _2pi8",children:e}),j.jsx("span",{className:"_3-8r",children:j.jsx(b("XUICloseButton.react"),{onClick:function(){return d.$2(a,c)}})})]},e)};d.$4=function(){var a=this,b=[];this.props.filters.forEach(function(c,d){c.map(function(c){b.push(a.$3(d,c))})});return b};d.$10=function(){return j.jsx("div",{className:"_8bv3",children:j.jsx(b("FDSButton.react"),{label:h._("Save Filter"),onClick:this.$5})})};d.$12=function(){return j.jsx("div",{className:"_8bv3",children:j.jsx(b("FDSButton.react"),{label:h._("Clear"),onClick:this.$11})})};d.render=function(){return j.jsxs("div",{className:"_8buh",children:[this.$1(),this.$4(),j.jsxs("div",{className:"_8bui _2pic",children:[this.$10(),this.$12()]}),this.state.showSaveFilterSetDialog&&j.jsx(j.Suspense,{fallback:j.jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"}),children:j.jsx(k,{onHide:this.$6,onSave:this.$9,shown:this.state.showSaveFilterSetDialog})}),this.state.showSaveFilterFailedDialog&&j.jsx(j.Suspense,{fallback:j.jsx(b("ServicesUISpinner.react"),{centered:!0,size:"large"}),children:j.jsx(l,{onClick:this.$7,onHide:this.$8,shown:this.state.showSaveFilterFailedDialog})})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("CRMPageContactsOtherFilter.react",["ix","fbt","CRMClientListActions","CRMEventsLogger","CRMPageContactsFilterMappingFunction","CRMPageContactsFilterOptionTypes","CRMPageContactsOtherFilterFbt","FDSDropdownMultiSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSDropdownSelectorSeparator.react","FlexLayout.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("CRMPageContactsFilterMappingFunction").getOptionType,j=(a=b("CRMPageContactsFilterOptionTypes")).ACTIVITY,k=a.ADDRESS,l=a.BIRTHDAY,m=a.CONFIRMED_SMS,n=a.CONFIRMED_SUBSCRIBED,o=a.CONFIRMED_UNKNOWN,p=a.CONFIRMED_UNSUBSCRIBED,q=a.EMAIL,r=a.LIKES_PAGE,s=a.PHONE,t=a.PREVIOUS_APPOINTMENTS,u=a.SAVED_FILTER,v=a.UNCONFIRMED_PREFERENCE,w=a.UNCONFIRMED_SMS,x=a.UPCOMING_APPOINTMENTS,y=a.WITH_ADDRESS,z=a.WITH_BIRTHDAY,A=a.WITH_EMAIL,B=a.WITH_PHONE,C=a.WITHOUT_ADDRESS,D=a.WITHOUT_BIRTHDAY,E=a.WITHOUT_EMAIL,F=a.WITHOUT_PHONE,G=b("CRMPageContactsOtherFilterFbt").getFbt,H=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.props.appliedFilters,e;a.length===c.length+1?e=a.filter(function(a){return!c.includes(a)})[0]:e=c.filter(function(b){return!a.includes(b)})[0];var f=i(e);if(f!==u){b("CRMClientListActions").updateSelectedOtherFilters(f,e);f=new Map();f.set("otherFiltersSelected",a.join(", "));b("CRMEventsLogger").log(d.props.pageID,"click","other_filter_option","other_filter_dropdown",null,f)}else{b("CRMEventsLogger").log(d.props.pageID,"click","aved_customized_filter","other_filter_dropdown");b("CRMClientListActions").updateSelectedSavedFilter((f=d.props.savedFilters.get(e))!=null?f:new Map())}b("CRMClientListActions").clearListSelection()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=Array.from(this.props.savedFilters.keys());a=a.map(function(a){return H.jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:a},a)});var c=this.props.shouldShowEmailSubscription?[H.jsx(b("FDSDropdownSelectorOption.react"),{value:v,children:G(v)},v),H.jsx(b("FDSDropdownSelectorOption.react"),{value:n,children:G(n)},n),H.jsx(b("FDSDropdownSelectorOption.react"),{value:p,children:G(p)},p),H.jsx(b("FDSDropdownSelectorOption.react"),{value:o,children:G(o)},o)]:[],d=this.props.shouldShowLikesPageFilter?H.jsx(b("FDSDropdownSelectorOption.react"),{value:r,children:G(r)}):[],e=this.props.isServiceBusiness?[H.jsx(b("FDSDropdownSelectorOption.react"),{value:m,children:G(m)},m),H.jsx(b("FDSDropdownSelectorOption.react"),{value:w,children:G(w)},w)]:[];d=this.props.isServiceBusiness?[H.jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(j),children:[H.jsx(b("FDSDropdownSelectorOption.react"),{value:t,children:G(t)}),H.jsx(b("FDSDropdownSelectorOption.react"),{value:x,children:G(x)}),d]},j),H.jsx(b("FDSDropdownSelectorSeparator.react"),{},"appointments_separator")]:[];return H.jsx("span",{className:"_3-9a",children:H.jsx(b("FlexLayout.react"),{justify:"all",children:H.jsxs(b("FDSDropdownMultiSelector.react"),{buttonIcon:H.jsx(b("Image.react"),{src:g("537875")}),buttonSize:this.props.useLargeButton?"large":"medium",dropdownWidth:270,label:h._("Filter"),maxHeight:500,onChange:this.$1,placeholder:"Label",value:this.props.appliedFilters,children:[d,H.jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(s),children:[e,H.jsx(b("FDSDropdownSelectorOption.react"),{value:B,children:G(B)}),H.jsx(b("FDSDropdownSelectorOption.react"),{value:F,children:G(F)})]}),H.jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(q),children:[c,H.jsx(b("FDSDropdownSelectorOption.react"),{value:A,children:G(A)}),H.jsx(b("FDSDropdownSelectorOption.react"),{value:E,children:G(E)})]}),H.jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(k),children:[H.jsx(b("FDSDropdownSelectorOption.react"),{value:y,children:G(y)}),H.jsx(b("FDSDropdownSelectorOption.react"),{value:C,children:G(C)})]}),H.jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(l),children:[H.jsx(b("FDSDropdownSelectorOption.react"),{value:z,children:G(z)}),H.jsx(b("FDSDropdownSelectorOption.react"),{value:D,children:G(D)})]}),a.length>0?H.jsx(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:G(u),children:a}):[]]})})})};return c}(H.PureComponent);e.exports=c}),null);
__d("CRMPageContactsPlatformFilter.react",["ix","fbt","CRMClientListActions","CRMEventsLogger","CRMPageContactsFilterOptionTypes","FDSDropdownMultiSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorSeparator.react","FlexLayout.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=(a=b("CRMPageContactsFilterOptionTypes")).ALL,j=a.FACEBOOK,k=a.INSTAGRAM,l=a.OFFLINE,m=b("React"),n=h._("Source"),o=h._("All"),p=h._("Facebook"),q=h._("Instagram"),r=h._("Added");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=[],e=!0;a.length!==0?d.props.selectedPlatforms.includes(i)&&a.length>1?c=a.filter(function(a){return a!==i}):!d.props.selectedPlatforms.includes(i)&&a.includes(i)?c.push(i):c=[].concat(a):!d.props.selectedPlatforms.includes(i)?c.push(i):e=!1;if(e){b("CRMClientListActions").clearListSelection();b("CRMClientListActions").updateSelectedPlatforms(c);a=new Map();a.set("platformsSelected",c.join(", "));b("CRMEventsLogger").log(d.props.pageID,"click","platform_option","platform_filter_dropdown",null,a)}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a="";this.props.selectedPlatforms.includes(i)||this.props.selectedPlatforms.includes(j)&&this.props.selectedPlatforms.includes(k)&&this.props.selectedPlatforms.includes(l)?a=h._("{Source}: {All}",[h._param("Source",n),h._param("All",o)]):this.props.selectedPlatforms.includes(j)&&this.props.selectedPlatforms.includes(k)?a=h._("{Facebook}, {Instagram}",[h._param("Facebook",p),h._param("Instagram",q)]):this.props.selectedPlatforms.includes(k)&&this.props.selectedPlatforms.includes(l)?a=h._("{Instagram}, {Added}",[h._param("Instagram",q),h._param("Added",r)]):this.props.selectedPlatforms.includes(j)&&this.props.selectedPlatforms.includes(l)?a=h._("{Facebook}, {Added}",[h._param("Facebook",p),h._param("Added",r)]):this.props.selectedPlatforms.includes(j)?a=p:this.props.selectedPlatforms.includes(k)?a=q:a=r;return m.jsx("span",{className:"_3-9a",children:m.jsx(b("FlexLayout.react"),{justify:"all",children:m.jsxs(b("FDSDropdownMultiSelector.react"),{buttonIcon:m.jsx(b("Image.react"),{src:g("566622")}),buttonSize:this.props.useLargeButton?"large":"medium",buttonUse:"default",label:a,onChange:this.$1,placeholder:n,value:this.props.selectedPlatforms,children:[m.jsx(b("FDSDropdownSelectorOption.react"),{value:i,children:o}),m.jsx(b("FDSDropdownSelectorSeparator.react"),{}),m.jsx(b("FDSDropdownSelectorOption.react"),{value:j,children:p}),m.jsx(b("FDSDropdownSelectorOption.react"),{value:k,children:q}),m.jsx(b("FDSDropdownSelectorOption.react"),{value:l,children:r})]})})})};return c}(m.PureComponent);e.exports=c}),null);
__d("CRMClientsViewHeader.react",["ix","cx","fbt","regeneratorRuntime","ActorURI","AsyncRequest","BasicFBNux","BusinessCRMConfigStore","CRMClientListActions","CRMClientListBulkAction.react","CRMClientListStore","CRMClientTypeaheadRoot.react","CRMEventsLogger","CRMPageContactsDateRangeFilter.react","CRMPageContactsFilterMappingFunction","CRMPageContactsFilterTokenizer.react","CRMPageContactsOtherFilter.react","CRMPageContactsPlatformFilter.react","FDSButton.react","FDSText.react","FluxContainer","Image.react","PagesReactDispatcher","React","RelayFBEnvironment","RelayModern","SUIBusinessTheme","SUISearchInput.react","XCRMManualContactCreationDialogController","XUIAmbientNUX.react","asset","cxMargin","CRMClientsViewHeaderSavedFilterQuery.graphql","CRMClientsViewHeaderEmailSubscriptionGKQuery.graphql","CRMClientsViewHeaderLikesPageFilterGKQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l;a=b("BusinessCRMConfigStore").withStore;var m=b("CRMPageContactsFilterMappingFunction").getOptionType,n=b("React"),o=b("RelayModern").fetchQuery;b("RelayModern").graphql;var p=6874,q="customer_list_view",r=j!==void 0?j:j=b("CRMClientsViewHeaderSavedFilterQuery.graphql"),s=k!==void 0?k:k=b("CRMClientsViewHeaderEmailSubscriptionGKQuery.graphql"),t=l!==void 0?l:l=b("CRMClientsViewHeaderLikesPageFilterGKQuery.graphql");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){d.$1=a},d.$3=function(){return d.$1},d.$4=function(){d.setState({hasShown:!0}),b("BasicFBNux").onDismiss(p)},d.addClient=function(){b("CRMEventsLogger").log(d.props.pageID,"click_manual_entry","manual_entry_button",q);var a=b("XCRMManualContactCreationDialogController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI();a=b("ActorURI").create(a,d.props.pageID);new(b("AsyncRequest"))(a).send()},d.importContacts=function(){b("CRMEventsLogger").log(d.props.pageID,"click_import_from_csv_button","import_contact_from_csv_button",q),b("CRMClientListActions").importContacts()},d.searchFocused=function(){b("CRMEventsLogger").log(d.props.pageID,"click_search_input","seach_input",q)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){var c=b("CRMClientListStore").getState();return{searchTerm:c.searchTerm,hasShown:a==null?!1:a.hasShown,contactsToBulkEdit:c.contactsToBulkEdit,unSelectedContactsToBulkEdit:c.unSelectedContactsToBulkEdit,totalContactCount:c.totalContactCount,isAllSelected:c.isAllSelected,selectedDateRange:c.selectedDateRange,selectedPlatforms:c.selectedPlatforms,selectedOtherFilters:c.selectedOtherFilters,savedFilters:c.savedFilters,isLoading:c.isLoading,shouldShowEmailSubscription:a==null?!1:a.shouldShowEmailSubscription,shouldShowLikesPageFilter:a==null?!1:a.shouldShowLikesPageFilter}};var d=c.prototype;d.componentDidMount=function(){var a;b("CRMClientListActions").clearSelectedDateRange();b("CRMClientListActions").clearSelectedPlatform();b("CRMClientListActions").clearSelectedOtherFilters();b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores());this.getSavedFilters();this.canSeeEmailSubscription();this.canSeeLikesPageFilter();b("BasicFBNux").onView(p);((a=this.props.store.get("config"))==null?void 0:a.shouldShowImportContactNux)&&this.state.hasShown===!1&&b("CRMEventsLogger").log(this.props.pageID,"csv_import_nux_impression","import_contact_from_csv_button",q)};d.getAddNewClientButton=function(){var a;return n.jsx(b("FDSButton.react"),{icon:n.jsx(b("Image.react"),{src:g("482650")}),label:i._("Add New Contact"),onClick:this.addClient,size:((a=this.props.store.get("config"))==null?void 0:a.shouldShowTypeahead)?"large":"medium",use:"primary"})};d.getImportContactButton=function(){var a;return((a=this.props.store.get("config"))==null?void 0:a.shouldShowImportContacts)?n.jsxs(n.Fragment,{children:[n.jsx(b("FDSButton.react"),{icon:n.jsx(b("Image.react"),{src:g("514769")}),label:i._("Upload Contacts"),margin:"_3-9a",onClick:this.importContacts,ref:this.$2,size:((a=this.props.store.get("config"))==null?void 0:a.shouldShowTypeahead)?"large":"medium",use:"default"}),((a=this.props.store.get("config"))==null?void 0:a.shouldShowImportContactNux)?n.jsx(b("XUIAmbientNUX.react"),{contextRef:this.$3,onCloseButtonClick:this.$4,position:"below",shown:!this.state.hasShown,width:"auto",children:i._("Now you can upload your list of contacts from a spreadsheet.")},"csvImportNux"):null," "]}):null};d.searchChanged=function(a){b("CRMClientListActions").clearListSelection(),b("CRMClientListActions").updateSearchTerm(a),b("CRMClientListActions").showSearchResults(!0)};d.getSearchInput=function(){var a;return n.jsx(b("SUISearchInput.react"),{hasTooltip:!1,margin:"_3-9a",onChange:this.searchChanged,onFocus:this.searchFocused,placeholder:i._("Search for contact"),theme:b("SUIBusinessTheme"),value:(a=this.state.searchTerm)!=null?a:"",width:"20%"})};d.getAppliedFilters=function(){var a=[];for(var b=this.state.selectedOtherFilters.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;a.push.apply(a,e)}return a};d.$5=function(a){var b=new Map();a.forEach(function(a){var c,d=m(a);c=(c=b.get(d))!=null?c:[];c.push(a);b.set(d,c)});return b};d.getSavedFilters=function(){var a=this,c,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(o(b("RelayFBEnvironment"),r,{actor_id:this.props.pageID}));case 2:c=g.sent,d=[],e=[],c.saved_filter_query.map(function(a){d.push(a.saved_filter),e.push(a.customized_name)}),f=[],d.forEach(function(b){f.push(a.$5(b))}),e.reverse(),f.reverse(),e.forEach(function(a,c){b("CRMClientListActions").updateSavedFilters(f[c],a)});case 11:case"end":return g.stop()}},null,this)};d.canSeeEmailSubscription=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(o(b("RelayFBEnvironment"),s,{page_id:this.props.pageID}));case 2:a=c.sent,this.setState({shouldShowEmailSubscription:a.page.gk_check.passes_gk});case 4:case"end":return c.stop()}},null,this)};d.canSeeLikesPageFilter=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(o(b("RelayFBEnvironment"),t,{page_id:this.props.pageID}));case 2:a=c.sent,this.setState({shouldShowLikesPageFilter:a.page.gk_check.passes_gk});case 4:case"end":return c.stop()}},null,this)};d.render=function(){var a,c=this.getAppliedFilters();return n.jsxs("div",{children:[n.jsxs("div",{className:"_6p26",children:[((a=this.props.store.get("config"))==null?void 0:a.shouldShowTypeahead)?n.jsx(b("CRMClientTypeaheadRoot.react"),{pageID:this.props.pageID}):this.getSearchInput(),((a=this.props.store.get("config"))==null?void 0:a.shouldShowFilters)?[n.jsx(b("CRMPageContactsPlatformFilter.react"),{pageID:this.props.pageID,selectedPlatforms:this.state.selectedPlatforms,useLargeButton:!!((a=this.props.store.get("config"))==null?void 0:a.shouldShowTypeahead)},"platFormFilter"),n.jsx(b("CRMPageContactsDateRangeFilter.react"),{pageID:this.props.pageID,selectedDateRange:this.state.selectedDateRange,useLargeButton:!!((a=this.props.store.get("config"))==null?void 0:a.shouldShowTypeahead)},"dateRangeFilter"),n.jsx(b("CRMPageContactsOtherFilter.react"),{appliedFilters:c,isServiceBusiness:!!((a=this.props.store.get("config"))==null?void 0:a.isServiceBusiness),pageID:this.props.pageID,savedFilters:this.state.savedFilters,shouldShowEmailSubscription:this.state.shouldShowEmailSubscription,shouldShowLikesPageFilter:this.state.shouldShowLikesPageFilter,useLargeButton:!!((a=this.props.store.get("config"))==null?void 0:a.shouldShowTypeahead)},"otherFilter")]:null,n.jsxs("div",{className:"_8ba4",children:[this.getImportContactButton(),this.getAddNewClientButton()]})]}),c.length>0?n.jsx("div",{children:n.jsx(b("CRMPageContactsFilterTokenizer.react"),{filters:this.state.selectedOtherFilters,pageID:this.props.pageID})}):null,((a=this.props.store.get("config"))==null?void 0:a.shouldShowMergeContact)&&!this.state.isLoading?this.state.totalContactCount!==0?n.jsx(b("CRMClientListBulkAction.react"),{contactsToBulkEdit:this.state.contactsToBulkEdit,isAllSelected:this.state.isAllSelected,pageID:this.props.pageID,totalContactCount:this.state.totalContactCount,unSelectedContactsToBulkEdit:this.state.unSelectedContactsToBulkEdit}):n.jsxs("div",{className:"_8end",children:[n.jsx("div",{className:"_8ene",children:n.jsx("div",{className:"_8enf",children:n.jsx(b("Image.react"),{src:g("1089017")})})}),n.jsx("div",{children:n.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:"No Results Found"})}),n.jsx("div",{children:n.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:"There are no contacts matching your search criteria."})})]}):null]})};return c}(n.PureComponent);e.exports=a(b("FluxContainer").create(c))}),null);
__d("CRMCreateNewFieldDialog.react",["ix","cx","fbt","CRMEventsLogger","CRMMutationUtils","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FDSTextInput.react","FDSTooltip.react","Image","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k="create_custom_field_dialog";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={displayName:""},d.$1=function(){b("CRMEventsLogger").log(d.props.pageID,"click_create_custom_field_button","create_custom_field_button",k);var a={actor_id:d.props.pageID,custom_field:{display_name:d.state.displayName,page_id:d.props.pageID}};b("CRMMutationUtils").createCustomField(a,function(a,b){d.props.onHide();d.setState({displayName:""});a=a==null?void 0:(b=a.crm_custom_field_create)==null?void 0:b.custom_field;b=d.props.selectedFields;var c=d.props.customFields;c.set(a==null?void 0:a.id,a==null?void 0:a.display_name);var e=d.props.selectedFieldsForUnmatchedTable,f=d.props.selectedFieldsForMatchedTable;d.props.isMatchedTable?f.set(d.props.rowIndex,a==null?void 0:a.id):e.set(d.props.rowIndex,a==null?void 0:a.id);d.props.onAddCustomField(b,c,f,e);b.add(a==null?void 0:a.id)});d.$2()},d.$2=function(){d.setState({displayName:""})},d.$3=function(a){d.setState({displayName:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){var a=new RegExp("^[a-zA-Z0-9 ]*$");if(this.props.existingCustomFields.has(this.state.displayName))return i._("The field name {field_name} already exists.",[i._param("field_name",this.state.displayName)]);return!a.test(this.state.displayName)?i._("Field names may only contain letters and numbers. Please enter a different name and try again."):null};d.render=function(){var a=this.$4();return j.jsx(b("FDSModal.react"),{footer:j.jsx(b("FDSModalFooter.react"),{primaryButton:j.jsx(b("FDSButton.react"),{isDisabled:this.state.displayName.trim()===""||a!==null,label:i._("Save"),onClick:this.$1,use:"primary"}),secondaryButton:j.jsx(b("FDSCancelButton.react"),{onClick:this.$2})}),header:j.jsx(b("FDSModalHeader.react"),{title:i._("Create Custom Field")}),isShown:this.props.isShown,label:"Create Custom Field",onHide:this.props.onHide,children:j.jsx(b("FDSSection.react"),{children:j.jsxs("div",{className:"_7of9",children:[j.jsxs("div",{className:"_7qlw",children:[j.jsx(b("FDSText.react"),{color:"secondary",size:"header3",weight:"bold",width:96,children:i._("Field Name")}),j.jsx(b("FDSTooltip.react"),{display:"inline",tooltip:i._("Custom fields can be found in your contact's details."),children:j.jsx(b("Image"),{className:"_7ofp",source:g("479798")})})]}),j.jsx("div",{className:"_7qlo",children:j.jsx(b("FDSTextInput.react"),{errorMessage:a,label:"Field Name",labelIsHidden:!0,onChange:this.$3,value:this.state.displayName})})]})})})};return c}(j.PureComponent);e.exports=a}),null);
__d("CRMContactImportColumnMatchRoot.react",["ix","cx","fbt","CRMCancelImportDialog.react","CRMClientListActions","CRMCreateNewFieldDialog.react","CRMCSVImportColumnMatchTable.react","CRMEventsLogger","CRMMutationUtils","CRMUnmatchedFieldConfirmImportDialog.react","FDSButton.react","FDSDropdownSelectorOption.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSText.react","FlexLayout.react","Image.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k="csv_import_custom_field_matching_screen",l="create_new_field",m={labels:[{label:i._("Column Label")},{label:i._("Contact Field")},{label:i._("Preview")}]};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d,e;e=a.call(this,c)||this;e.goBackToList=function(){b("CRMEventsLogger").log(e.props.pageID,"click_go_back","back_button",k),b("CRMClientListActions").backToClientList(),e.removeMatchedData()};e.$1=function(a){var c=new Map();c.set("selected_fields",a);b("CRMEventsLogger").log(e.props.pageID,"select_field_for_matched_fields","custom_field_dropdown_list",k,null,c);e.setState(function(b){if(a===l)return{showCreateNewFieldDialog:a===l};var c=b.selectedFields.add(a),d=b.selectedFieldsForMatchedTable.get(b.currentRowForMatchedTable);d!=null&&c.has(d)&&c["delete"](d);return{showCreateNewFieldDialog:a===l,selectedFields:c,showNameGuidanceCard:!c.has("first_name")&&!c.has("full_name"),selectedFieldsForMatchedTable:b.selectedFieldsForMatchedTable.set(b.currentRowForMatchedTable,a)}})};e.$2=function(a){var c=new Map();c.set("selected_fields",a);b("CRMEventsLogger").log(e.props.pageID,"select_field_for_unmatched_fields","custom_field_dropdown_list",k,null,c);e.setState(function(b){if(a===l)return{showCreateNewFieldDialog:a===l};var c=b.selectedFields.add(a),d=b.selectedFieldsForUnmatchedTable.get(b.currentRowForUnmatchedTable);d!=null&&c.has(d)&&c["delete"](d);return{showCreateNewFieldDialog:a===l,selectedFields:c,showNameGuidanceCard:!c.has("first_name")&&!c.has("full_name"),selectedFieldsForUnmatchedTable:b.selectedFieldsForUnmatchedTable.set(b.currentRowForUnmatchedTable,a)}})};e.$3=function(a){e.setState({currentRowForMatchedTable:a,isMatchedTable:!0})};e.$4=function(a){e.setState({currentRowForUnmatchedTable:a,isMatchedTable:!1})};e.$5=function(){e.setState({showCreateNewFieldDialog:!1,showConfirmCancelDialog:!1,showConfirmationDialog:!1})};e.$7=function(){b("CRMEventsLogger").log(e.props.pageID,"click_cancel_import","cancel_import_button",k),e.setState({showConfirmCancelDialog:!0})};e.$8=function(){if(e.$6()!==0&&!e.state.showConfirmationDialog)e.setState({showConfirmationDialog:!0});else{var a;b("CRMEventsLogger").log(e.props.pageID,"click_confirm_import","confirm_import_button",k);var c=Array.from(e.state.selectedFieldsForMatchedTable.entries()).map(function(a){return{key:a[0],value:a[1]}}),d=Array.from(e.state.selectedFieldsForUnmatchedTable.entries()).map(function(a){return{key:a[0],value:a[1]}});a={actor_id:e.props.pageID,csv_input:{page_id:e.props.pageID,file_id:(a=e.props.sampleData)==null?void 0:a.uploaded_file_id,fields_from_matched_table:c,fields_from_unmatched_table:d,consent_legal:e.props.consentLegal}};b("CRMMutationUtils").createCsvContacts(a,function(a,c){b("CRMClientListActions").completeContactsCreation()});b("CRMClientListActions").createContactsFromCSV((c=e.props.sampleData)==null?void 0:c.file);e.removeMatchedData()}};e.$11=function(a,b,c,d){e.setState({selectedFields:a,customFields:b,selectedFieldsForMatchedTable:c,selectedFieldsForUnmatchedTable:d})};var f=0,g=new Map(),h=new Set();d=(d=c.sampleData)==null?void 0:d.matched_data;d&&Object.entries(d).map(function(a){var b;a=(b=c.sampleData)!=null?(b=b.matched_fields)!=null?b[a[0]]:b:b;a!==null&&a!==void 0&&(h.add(a),g.set(f++,a))});d=!h.has("first_name")&&!h.has("full_name");e.state={customFields:new Map(),isMatchedTable:!0,currentRowForMatchedTable:-1,currentRowForUnmatchedTable:-1,showCreateNewFieldDialog:!1,showConfirmationDialog:!1,showConfirmCancelDialog:!1,selectedFields:h,selectedFieldsForMatchedTable:g,selectedFieldsForUnmatchedTable:new Map(),showNameGuidanceCard:d};return e}var d=c.prototype;d.removeMatchedData=function(){var a=this,b,c=0,d=new Map(),e=new Set();b=(b=this.props.sampleData)==null?void 0:b.matched_data;b&&Object.entries(b).map(function(b){var f;b=(f=a.props.sampleData)!=null?(f=f.matched_fields)!=null?f[b[0]]:f:f;b!==null&&b!==void 0&&(e.add(b),d.set(c++,b))});this.setState({selectedFieldsForMatchedTable:d,selectedFieldsForUnmatchedTable:new Map()})};d.goBackToFileUpload=function(){b("CRMClientListActions").backToFileUpload()};d.$6=function(){var a,b;a=(a=this.props.sampleData)==null?void 0:a.matched_data;a=a?Object.entries(a).length:0;b=(b=this.props.sampleData)==null?void 0:b.unmatched_data;b=b?Object.entries(b).length:0;return Math.abs(this.state.selectedFieldsForUnmatchedTable.size+this.state.selectedFieldsForMatchedTable.size-a-b)};d.$9=function(){var a,c=this.state.selectedFields,d=[];d.push(j.jsx(a=b("FDSDropdownSelectorOption.react"),{icon:j.jsx(b("Image.react"),{src:g("504539")}),value:l,children:i._("Create Custom Field")},l));d.push(j.jsx(a,{icon:j.jsx(b("Image.react"),{src:g("478236")}),value:"ignore",children:i._("Don't Upload This Field")},"ignore"));d.push([j.jsx(a,{isDisabled:c.has("first_name"),value:"first_name",children:i._("First Name")},"first_name"),j.jsx(a,{isDisabled:c.has("last_name"),value:"last_name",children:i._("Last Name")},"last_name"),j.jsx(a,{isDisabled:c.has("full_name"),value:"full_name",children:i._("Full Name")},"full_name"),j.jsx(a,{isDisabled:c.has("phone_number"),value:"phone_number",children:i._("Phone Number")},"phone_number"),j.jsx(a,{isDisabled:c.has("email"),value:"email",children:i._("Email")},"email"),j.jsx(a,{isDisabled:c.has("birthday"),value:"birthday",children:i._("Birthday")},"birthday"),j.jsx(a,{isDisabled:c.has("address"),value:"address",children:i._("Address")},"address"),j.jsx(a,{isDisabled:c.has("city_name"),value:"city_name",children:i._("City")},"city_name"),j.jsx(a,{isDisabled:c.has("state"),value:"state",children:i._("State")},"state"),j.jsx(a,{isDisabled:c.has("zip_code"),value:"zip_code",children:i._("ZIP\/Postal Code")},"zip_code"),j.jsx(a,{isDisabled:c.has("note"),value:"note",children:i._("Note")},"note")]);d.push(this.$10());return d};d.$10=function(){var a=new Set(Array.from(this.state.selectedFields.values())),c=[];this.props.existingCustomFields.forEach(function(d,e){c.push(j.jsx(b("FDSDropdownSelectorOption.react"),{isDisabled:a.has(e),value:e,children:d},e))});this.state.customFields.forEach(function(d,e){c.push(j.jsx(b("FDSDropdownSelectorOption.react"),{isDisabled:a.has(e),value:e,children:d},e))});return c};d.render=function(){return j.jsxs("div",{className:"_7ndn",style:{overflowY:"auto"},children:[j.jsx("div",{className:"_7inb",children:j.jsx(b("FlexLayout.react"),{align:"center",justify:"center",children:j.jsx(b("FDSText.react"),{color:"primary",size:"header1",children:i._("Match Contact Fields")})})}),j.jsx("div",{className:"_7o4h",children:j.jsx(b("FDSText.react"),{color:"primary",size:"body1",children:i._("We've matched your contact fields based on the column labels in your spreadsheet. Scroll to review and change these suggested matches and use the dropdown menu to assign or customize unmatched fields. Unmatched fields won't be uploaded.")})}),this.state.showNameGuidanceCard?j.jsx(n,{}):null,j.jsxs("div",{className:"_7kq_",children:[j.jsx(b("CRMCSVImportColumnMatchTable.react"),{csvImportData:this.props.sampleData,fieldSelectorOptions:this.$9(),headerItems:m,onChangeFieldForMatchedTable:this.$1,onChangeFieldForUnmatchedTable:this.$2,onRowClickForMatchedTable:this.$3,onRowClickForUnmatchedTable:this.$4,selectedFieldsForMatchedTable:this.state.selectedFieldsForMatchedTable,selectedFieldsForUnmatchedTable:this.state.selectedFieldsForUnmatchedTable}),j.jsx(b("CRMCreateNewFieldDialog.react"),{customFields:this.state.customFields,existingCustomFields:new Set(Array.from(this.props.existingCustomFields.values()).concat(Array.from(this.state.customFields.values()))),isMatchedTable:this.state.isMatchedTable,isShown:this.state.showCreateNewFieldDialog,onAddCustomField:this.$11,onHide:this.$5,pageID:this.props.pageID,rowIndex:this.state.isMatchedTable?this.state.currentRowForMatchedTable:this.state.currentRowForUnmatchedTable,selectedFields:this.state.selectedFields,selectedFieldsForMatchedTable:this.state.selectedFieldsForMatchedTable,selectedFieldsForUnmatchedTable:this.state.selectedFieldsForUnmatchedTable})]}),j.jsx("div",{className:"_7ins",children:j.jsxs(b("FlexLayout.react"),{align:"center",justify:"all",children:[j.jsxs("div",{children:[j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("503177"),style:{marginLeft:-8,marginRight:4}}),label:i._("Back"),margin:"_3-8x _3-95 _3-9b",onClick:this.goBackToFileUpload,size:"large",use:"default"}),j.jsx(b("FDSButton.react"),{label:i._("Cancel"),margin:"_3-8x _3-95 _3-9b",onClick:this.$7,size:"large",use:"default"})]}),j.jsx(b("FDSButton.react"),{isDisabled:this.state.showNameGuidanceCard,label:i._("Import"),margin:"_3-8x _3-95 _3-91",onClick:this.$8,size:"large",use:"primary"}),j.jsx(b("CRMUnmatchedFieldConfirmImportDialog.react"),{isShown:this.state.showConfirmationDialog,numOfUnmatchedFields:this.$6(),onConfirmImport:this.$8,onHide:this.$5,pageID:this.props.pageID}),j.jsx(b("CRMCancelImportDialog.react"),{isShown:this.state.showConfirmCancelDialog,onConfirmCancel:this.goBackToList,onHide:this.$5})]})})]})};return c}(j.Component);var n=function(){return j.jsx("div",{className:"_7kq_",children:j.jsxs(b("FDSGuidanceCard.react"),{category:"error",children:[j.jsx(b("FDSGuidanceCardHeader.react"),{children:i._("Required Contact Field Missing")}),j.jsx(b("FDSGuidanceCardContent.react"),{children:j.jsx(b("FDSGuidanceCardContentText.react"),{children:i._("Name is a required contact field. Please match a column to the name contact field to continue.")})})]})})};e.exports=a}),null);
__d("XCRMContactImportCsvUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/csv_import/",{page_id:{type:"FBID",required:!0}})}),null);
__d("CRMContactsCSVFileInput.react",["fbt","CRMClientListActions","CRMCSVFileInput.react","CRMEventsLogger","CRMMutationUtils","FileInputUploader","React","XCRMContactImportCsvUploadController","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=1*1024*1024,j="csv_import_file_upload_screen";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={fileError:null,fileName:null,fileSize:null,fileID:null,uploading:!1},d.$2=null,d.onClose=function(){d.setState({fileName:null,fileSize:null,uploading:!1,fileError:null});if(d.state.fileID==null)return;var a={actor_id:d.props.pageID,file_id:d.state.fileID};b("CRMMutationUtils").deleteUploadedFile(a,b("emptyFunction"));b("CRMClientListActions").addOrRemoveFile()},d.$3=b("XCRMContactImportCsvUploadController").getURIBuilder().setFBID("page_id",d.props.pageID).getURI().toString(),d.$4=function(a,c){if(!a||!a[0]||d.$2)return;b("CRMEventsLogger").log(d.props.pageID,"upload_csv_file","csv_file_upload_area",j);d.$1=a[0];if(((a=d.$1)==null?void 0:a.size)===0){b("CRMEventsLogger").log(d.props.pageID,"upload_wrong_file","csv_file_upload_area",j,null,new Map().set("error","file_empty"));d.setState({fileName:(a=d.$1)==null?void 0:a.name,uploading:!1,fileError:g._("The file you selected doesn't contain any information. Please choose another file and try again.")});return}if(((a=d.$1)==null?void 0:a.size)>i){b("CRMEventsLogger").log(d.props.pageID,"upload_wrong_file","csv_file_upload_area",j,null,new Map().set("error","file_too_large"));d.setState({fileName:(a=d.$1)==null?void 0:a.name,uploading:!1,fileError:g._("The file you selected is too large. Please choose a file smaller than 1 MB.")});return}var e=new(b("FileInputUploader"))(c).setURI(d.$3).setFiles({file:d.$1});d.$2=e;d.setState({fileName:(a=d.$1)==null?void 0:a.name,fileSize:(c=d.$1)==null?void 0:c.size,uploading:!0,fileError:null},function(){e.subscribe("success",d.$5),e.subscribe("failure",d.$6),e.send()})},d.$6=function(a,c){d.$2=null;a=c.response.payload.file_validation_error;a!==null&&a!==void 0&&b("CRMEventsLogger").log(d.props.pageID,"upload_wrong_file","csv_file_upload_area",j,null,new Map().set("error",a));d.setState({fileName:null,uploading:!1,fileError:a})},d.$5=function(a,c){var e;d.$2=null;a=c.response.payload.file_validation_error;a!==null&&a!==void 0?b("CRMEventsLogger").log(d.props.pageID,"upload_wrong_file","csv_file_upload_area",j,null,new Map().set("error",a)):b("CRMEventsLogger").log(d.props.pageID,"upload_file","csv_file_upload_area",j);d.setState({uploading:!1,fileID:(e=c)!=null?(e=e.response)!=null?(e=e.payload)!=null?e.uploaded_file_id:e:e:e,fileError:a});b("CRMClientListActions").addOrRemoveFile((e=c)!=null?(e=e.response)!=null?e.payload:e:e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx(b("CRMCSVFileInput.react"),{fileError:this.state.fileError,fileName:this.state.fileName,fileSize:this.state.fileSize,isUploading:this.state.uploading,onClose:this.onClose,onUpload:this.$4})};return c}(h.PureComponent);e.exports=a}),null);
__d("EmailTOSDialog.react",["ix","cx","fbt","CRMConsentToTOSDialog.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","Image.react","Link.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showFullTOS:!1},c.$1=function(){c.setState({showFullTOS:!0})},c.$2=function(){c.setState({showFullTOS:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return j.jsxs("span",{children:[j.jsx(b("FDSModal.react"),{footer:j.jsx(b("FDSModalFooter.react"),{primaryButton:j.jsx(b("FDSButton.react"),{label:i._("Confirm"),onClick:this.props.onConfirm,use:"primary"}),secondaryButton:j.jsx(b("FDSCancelButton.react"),{})}),header:j.jsx(b("FDSModalHeader.react"),{title:i._("Page Contact Terms of Service")}),isShown:this.props.isShown,label:"Modal Title",onHide:this.props.onHide,width:560,children:j.jsx(b("FDSSection.react"),{children:j.jsxs("div",{className:"_81t1",children:[j.jsx("div",{className:"_7r67",children:j.jsx(b("Image.react"),{src:g("700836")})}),j.jsxs("div",{className:"_7r68",children:[j.jsx(a=b("FDSText.react"),{margin:"_3-8y _20nr",size:"header2",textAlign:"center",children:i._("Protecting Contact Information")}),j.jsx("div",{children:j.jsx(a,{color:"secondary",children:i._("Your contacts trust you to act responsibly with their information. By clicking Confirm, you agree to the following:")})}),j.jsx("div",{className:"_7tku",children:j.jsx(a,{color:"secondary",size:"body2",children:i._("You have permission to store and use their information to send transactional and promotional messages")})}),j.jsx("div",{className:"_7tku",children:j.jsx(a,{color:"secondary",size:"body2",children:i._("Your contacts haven't opted out of sharing with you any of this information")})}),j.jsx("div",{className:"_7tku",children:j.jsx(a,{color:"secondary",size:"body2",children:i._("If a contact opts out of sharing their information at any point, you'll remove that information immediately")})}),j.jsx(b("Link.react"),{onClick:this.$1,children:j.jsx(a,{size:"body2",children:i._("Review Page Contact Terms of Service")})})]})]})})}),j.jsx(b("CRMConsentToTOSDialog.react"),{isShown:this.state.showFullTOS,onConfirm:this.$2,onHide:this.$2})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("CRMContactImportRoot.react",["ix","cx","fbt","BusinessCRMConfigStore","CRMClientListActions","CRMClientListStore","CRMContactImportColumnMatchRoot.react","CRMContactsCSVFileInput.react","CRMEventsLogger","CRMMutationUtils","EmailTOSDialog.react","FDSButton.react","FDSCheckboxInput.react","FDSText.react","FlexLayout.react","FluxContainer","Image.react","Link.react","PagesReactDispatcher","React","RelayFBEnvironment","RelayModern","asset","cxMargin","emptyFunction","CRMContactImportRootQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j;a=b("BusinessCRMConfigStore").withStore;var k=b("React"),l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var m="csv_import_file_upload_screen",n=j!==void 0?j:j=b("CRMContactImportRootQuery.graphql");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isUploaded:!1,isChecked:!1,sampleData:null,showMatchColumns:!1,showTOSDialog:!1},d.goBackToList=function(){var a;b("CRMEventsLogger").log(d.props.pageID,"click_go_back","back_button",m);a=(a=d.state.sampleData)==null?void 0:a.uploaded_file_id;if(a!==null&&a!==void 0){a={client_mutation_id:"0",actor_id:d.props.pageID,file_id:a};b("CRMMutationUtils").deleteUploadedFile(a,b("emptyFunction"))}b("CRMClientListActions").backToClientList()},d.goMatchColumn=function(){b("CRMEventsLogger").log(d.props.pageID,"click_continue_to_match_fields","continue_match_fields_button",m),b("CRMClientListActions").goMatchColumn()},d.$1=function(){b("CRMEventsLogger").log(d.props.pageID,"crm_tos_impression","crm_tos_dialog",m),d.setState({showTOSDialog:!0})},d.$2=function(){b("CRMEventsLogger").log(d.props.pageID,"click_cancel_tos","crm_tos_dialog",m),d.setState({showTOSDialog:!1})},d.$3=function(){b("CRMEventsLogger").log(d.props.pageID,"click_accept_tos","crm_tos_dialog",m);var a={actor_id:d.props.pageID};b("CRMMutationUtils").consentToCrmLegal(a,b("emptyFunction"));b("CRMClientListActions").goMatchColumn();d.setState({showTOSDialog:!1})},d.$4=function(a){var c=a.error;a=a.props;if(c)return k.jsx("div",{});else if(a){var e=new Map();a.node.page_custom_fields.map(function(a){e.set(a.id,a.display_name)});return k.jsx(b("CRMContactImportColumnMatchRoot.react"),{consentLegal:d.state.isChecked,existingCustomFields:e,pageID:d.props.pageID,sampleData:d.state.sampleData})}return k.jsx("div",{})},d.$5=function(){var a=d.state.isChecked;b("CRMEventsLogger").log(d.props.pageID,a?"uncheck_sms_agreement":"check_sms_agreement","sms_agreement",m);d.setState({isChecked:!a})},d.$6=function(){b("CRMEventsLogger").log(d.props.pageID,"click_download_template","download_csv_template_link",m)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a){var c=b("CRMClientListStore").getState();return{isUploaded:c.isUploaded,isChecked:a==null?!1:a.isChecked,sampleData:c.sampleData,showMatchColumns:c.showMatchColumns,showTOSDialog:a==null?!1:a.showTOSDialog}};var d=c.prototype;d.componentDidMount=function(){b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores())};d.render=function(){var a;return this.state.showMatchColumns&&!this.state.showTOSDialog?k.jsx(l,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:n,render:this.$4,variables:{page_id:this.props.pageID}}):k.jsxs("div",{className:"_7ndn",style:{height:this.props.height!==null&&this.props.height!==void 0?this.props.height+"px":void 0,overflowY:"scroll"},children:[k.jsxs("div",{className:"_7t17",children:[k.jsxs("div",{className:"_7t18",children:[k.jsxs("div",{className:"_7ndc",children:[k.jsx("div",{className:"_7inb",children:k.jsx(b("FDSText.react"),{color:"primary",size:"header3",weight:"bold",children:i._("Upload Contacts")})}),k.jsx("div",{className:"_7inr",children:k.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:i._("You can choose to upload your contacts and info about them from a spreadsheet. You'll have an opportunity to review all the details before the upload is done to make sure everything is correct. Facebook won't share the info you upload with anyone, but we will store it on your behalf so that you can manage your contacts in one place.")})}),k.jsx(b("CRMContactsCSVFileInput.react"),{pageID:this.props.pageID}),this.props.isEligibleForSMS&&this.state.isUploaded&&((a=this.state)==null?void 0:(a=a.sampleData)==null?void 0:a.file_validation_error)==null?k.jsxs("div",{className:"_7r2x",children:[k.jsx(b("FDSCheckboxInput.react"),{label:"",onChange:this.$5,value:this.state.isChecked})," ",k.jsx(b("FDSText.react"),{color:"primary",size:"body2",children:i._("You confirm that you have permission to communicate with these contacts via text message (SMS) on behalf of {page_name}. Messages may include appointment confirmations, reminders and more.",[i._param("page_name",this.props.pageName)])})]}):null]}),k.jsx("div",{className:"_7t19",children:k.jsxs(b("FlexLayout.react"),{align:"center",justify:"all",children:[k.jsx(b("FDSButton.react"),{label:i._("Cancel"),margin:"_3-8x _3-95 _3-9b",onClick:this.goBackToList,size:"large",use:"default"}),k.jsx(b("FDSButton.react"),{isDisabled:!this.state.isUploaded||((a=this.state)==null?void 0:(a=a.sampleData)==null?void 0:a.file_validation_error)!=null,label:i._("Continue"),margin:"_3-8x _3-95 _3-91",onClick:this.props.hasConsent?this.goMatchColumn:this.$1,size:"large",use:"primary"})]})})]}),k.jsxs("div",{className:"_7t1a",children:[k.jsxs("div",{className:"_7t1b",children:[k.jsx(b("FDSText.react"),{color:"primary",margin:"_3-8z _3-9c",size:"header3",weight:"bold",children:i._("Spreadsheet formatting tips:")}),k.jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8z _3-95 _3-9c",size:"body2",children:i._("Here are some formatting tips to keep in mind before you begin:")}),k.jsxs(b("FDSText.react"),{color:"secondary",margin:"_3-9c _3-8w",size:"body2",children:[k.jsx(b("Image.react"),{src:g("505499")}),i._("The first row should be column labels")]}),k.jsxs(b("FDSText.react"),{color:"secondary",margin:"_3-9c _3-8w",size:"body2",children:[k.jsx(b("Image.react"),{src:g("505499")}),i._("Each column you're uploading must have a label")]}),k.jsxs(b("FDSText.react"),{color:"secondary",margin:"_3-9c _3-8w",size:"body2",children:[k.jsx(b("Image.react"),{src:g("505499")}),i._("Name is the only required column label")]}),k.jsxs(b("FDSText.react"),{color:"secondary",margin:"_3-9c _3-8w _3-97",size:"body2",children:[k.jsx(b("Image.react"),{src:g("505499")}),i._("Any contact without a name won't be uploaded")]})]}),k.jsx(o,{onClickDownload:this.$6,uri:(a=this.props.store.get("config"))==null?void 0:a.templateURI})]})]}),k.jsx(b("EmailTOSDialog.react"),{isShown:this.state.showTOSDialog,onConfirm:this.$3,onHide:this.$2})]})};return c}(k.PureComponent);function o(a){var c=a.uri;a=a.onClickDownload;return k.jsxs("div",{className:"_7j7y",children:[k.jsx(b("FDSText.react"),{color:"primary",margin:"_3-9c _3-97",size:"header3",weight:"bold",children:i._("Contact List Template")}),k.jsx(b("FDSText.react"),{color:"secondary",margin:"_3-9c",size:"body2",children:i._("Save time by organizing your list of contacts in the suggested format before uploading.")}),k.jsxs(b("Link.react"),{className:"_8p_2 _3-9c _3-8z",href:c,onClick:a,children:[k.jsx(b("Image.react"),{className:"_3-90",src:g("406900")}),k.jsx(b("FDSText.react"),{color:"blueLink",size:"body2",children:i._("Download Template")})]})]})}e.exports=a(b("FluxContainer").create(c))}),null);
__d("CRMPageContactsBulkActionType",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({EXPORT:"export",EDIT:"edit",ADD_LABEL:"addLabel"})}),null);
__d("CRMClientsMainView.react",["cx","fbt","CRMClientDetailsRoot.react","CRMClientListActions","CRMClientListRoot.react","CRMClientListStore","CRMClientsViewHeader.react","CRMContactImportRoot.react","CRMEventsLogger","CRMPageContactsBulkActionType","FDSGuidanceToast.react","FDSGuidanceToastButton.react","FDSGuidanceToastCloseButton.react","FDSGuidanceToastProgressBar.react","FluxContainer","PagesReactDispatcher","React","RelayFBEnvironment","RelayModern","ResponsiveBlock.react","goURI","nullthrows","CRMClientsMainViewQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=1e3,m=3,n=i!==void 0?i:i=b("CRMClientsMainViewQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=d.state.progress+m;a<=95&&b("CRMClientListActions").updateProgress(m)},d.$3=function(){window.clearInterval(d.$1),b("CRMClientListActions").dismissToast()},d.$5=function(){window.clearInterval(d.$1),d.$1=void 0,b("CRMClientListActions").dismissBulkActionToast()},d.$6=function(){b("CRMEventsLogger").log(d.props.pageID,"click","merge_contact_success_toast_view_button","contact_list"),b("CRMClientListActions").showClientDetails(b("nullthrows")(d.state.mergedContactID)),b("CRMClientListActions").dismissMergeToast()},d.$7=function(a,b){d.setState({headerHeight:b})},d.$8=function(a){var c=a.error;a=a.props;if(c)return j.jsx("div",{});else if(a){c=a.node.has_consent_to_crm_tos;return j.jsx(b("CRMContactImportRoot.react"),{hasConsent:c,height:d.props.height,isEligibleForSMS:((c=(c=a.node.services_vertical_info)==null?void 0:c.is_eligible_for_appointment_calendar)!=null?c:!1)&&((c=(c=a.node.services_vertical_info)==null?void 0:c.is_page_eligible_for_sms)!=null?c:!1),pageID:d.props.pageID,pageName:a.node.display_name})}return j.jsx("div",{})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("CRMClientListStore")]};c.calculateState=function(a,c){c=b("CRMClientListStore").getState();return{isCreatingContactsFromCSV:c.isCreatingContactsFromCSV,isContactCreationComplete:c.isContactCreationComplete,uploadedFileName:c.uploadedFileName,progress:c.progress,headerHeight:a?a.headerHeight:0,showDetailsView:b("CRMClientListStore").getShowDetailsView(),showContactImportView:b("CRMClientListStore").getShowContactImportView(),isMergingContact:c.isMergingContact,mergedContactID:c.mergedContactID,mergeContactError:c.mergeContactError,isDoingBulkAction:c.isDoingBulkAction,isBulkActionComplete:c.isBulkActionComplete,exportContactsUrl:c.exportContactsUrl,bulkActionType:c.bulkActionType}};var d=c.prototype;d.componentDidMount=function(){b("CRMClientListActions").backToClientList(),b("PagesReactDispatcher").explicitlyRegisterStores(this.constructor.getStores()),this.props.contactID!=null&&b("CRMClientListActions").showClientDetails(this.props.contactID)};d.componentDidUpdate=function(){(this.state.isCreatingContactsFromCSV||this.state.isDoingBulkAction)&&this.$1==null&&(this.$1=window.setInterval(this.$2,l))};d.$4=function(){b("CRMClientListActions").dismissMergeToast()};d.render=function(){return this.state.showContactImportView?j.jsx("div",{className:"_6o-e",children:j.jsx(k,{cacheConfig:{force:!0},environment:b("RelayFBEnvironment"),query:n,render:this.$8,variables:{page_id:this.props.pageID}})}):j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"_6o-e",children:this.state.showDetailsView?j.jsx(b("CRMClientDetailsRoot.react"),{height:this.props.height,pageID:this.props.pageID}):j.jsxs(j.Fragment,{children:[j.jsx(b("ResponsiveBlock.react"),{onResize:this.$7,children:j.jsx(b("CRMClientsViewHeader.react"),{pageID:this.props.pageID})}),j.jsx(b("CRMClientListRoot.react"),{height:this.props.height!=null?this.props.height-this.state.headerHeight:null,pageID:this.props.pageID})]})}),j.jsxs("div",{className:"_7o8_",children:[this.state.isCreatingContactsFromCSV||this.state.isContactCreationComplete?j.jsx(o,{fileName:this.state.uploadedFileName,isComplete:this.state.isContactCreationComplete,onClose:this.$3,progress:this.state.progress}):null,this.state.isMergingContact||this.state.mergedContactID!=null||this.state.mergeContactError?j.jsx(p,{hasError:this.state.mergeContactError,isComplete:this.state.mergedContactID!=null,onClose:this.$4,onView:this.$6}):null,this.state.isDoingBulkAction||this.state.isBulkActionComplete?j.jsx(q,{actionType:this.state.bulkActionType,isComplete:this.state.isBulkActionComplete,onClose:this.$5,pageID:this.props.pageID,progress:this.state.progress,url:this.state.exportContactsUrl}):null]})]})};return c}(j.PureComponent);function o(a){var c=a.progress,d=a.isComplete,e=a.fileName;a=a.onClose;return j.jsx("div",{className:"_7o90",children:j.jsx(b("FDSGuidanceToast.react"),{closeButton:j.jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:a}),content:d?h._("Your contacts will finish uploading within the next few minutes. Please refresh the page to see uploaded contacts."):h._("'Uploading' {file_name}",[h._param("file_name",e)]),progressBar:j.jsx(b("FDSGuidanceToastProgressBar.react"),{progress:d?100:c}),type:d?"success":"progress"})})}function p(a){var c=a.isComplete,d=a.hasError,e=a.onClose;a=a.onView;if(d){b("CRMEventsLogger").log(this.props.pageID,"merge_page_contact_error","merge_contact_error_toast","contact_list");return j.jsx("div",{className:"_7o90",children:j.jsx(b("FDSGuidanceToast.react"),{callToActionButton:j.jsx(b("FDSGuidanceToastButton.react"),{label:h._("OK"),onClick:e}),closeButton:j.jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:e}),content:h._("There was an issue merging these contacts. Please refresh the page and try again."),type:"error"})})}return j.jsx("div",{className:"_7o90",children:j.jsx(b("FDSGuidanceToast.react"),{callToActionButton:c?j.jsx(b("FDSGuidanceToastButton.react"),{label:h._("View"),onClick:a}):void 0,closeButton:j.jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:e}),content:c?h._("Your contacts have been merged. Select \"view\" to see your merged contact."):h._("'Merging contacts'"),progressBar:j.jsx(b("FDSGuidanceToastProgressBar.react"),{}),type:c?"success":"buffering"})})}function q(a){var c=a.progress,d=a.isComplete,e=a.url,f=a.actionType,g=a.onClose,i=a.pageID;a="";var k="",l="",m=function(){return void 0},n=function(){return void 0};switch(f){case b("CRMPageContactsBulkActionType").EXPORT:a=h._("Download");k=h._("Your file is ready. Please select Download to continue.");l=h._("We're preparing your file. We'll notify you when it's ready to be downloaded.");m=function(){b("CRMEventsLogger").log(i,"click","export_contact_toast_download_button","contact_list"),b("goURI")(e)};n=function(){b("CRMEventsLogger").log(i,"click","export_contact_toast_dismiss_button","contact_list"),g()};break;case b("CRMPageContactsBulkActionType").EDIT:a=h._("View");k=h._("Your contacts have been updated. Select \"view\" to refresh this list.");l=h._("Saving changes to selected contacts");m=function(){b("CRMEventsLogger").log(i,"click","edit_fields_contact_toast_view_button","contact_list"),b("CRMClientListActions").forceRefetch(),g()};n=function(){b("CRMEventsLogger").log(i,"click","edit_fields_contact_toast_dismiss_button","contact_list"),g()};break;case b("CRMPageContactsBulkActionType").ADD_LABEL:a="View";k='Your contacts have been updated. Select "View" to see updated information.';l="Updating contacts";m=function(){b("CRMEventsLogger").log(i,"click","add_label_contact_toast_view_button","contact_list"),b("CRMClientListActions").forceRefetch(),g()};n=function(){b("CRMEventsLogger").log(i,"click","add_label_contact_toast_dismiss_button","contact_list"),g()};break;default:break}return j.jsx("div",{className:"_7o90",children:j.jsx(b("FDSGuidanceToast.react"),{callToActionButton:d?j.jsx(b("FDSGuidanceToastButton.react"),{label:a,onClick:m}):void 0,closeButton:j.jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:n}),content:d?k:l,progressBar:j.jsx(b("FDSGuidanceToastProgressBar.react"),{progress:d?100:c}),type:d?"success":"progress"})})}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("CRMBanReportUserDialog.react",["fbt","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=g._("Ban {name}?",[g._param("name",a.userName)]),d=g._("Are you sure you want to ban {name} from this Page? People who are banned can't post, comment, send messages or take other actions on your Page. They won't be notified.",[g._param("name",a.userName)]);a.isBanned&&(c=g._("Remove Ban from Page?"),d=g._("Removing {name}'s ban will allow them to post, comment, send messages and take other actions on your Page.",[g._param("name",a.userName)]));return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:a.isBanned?g._("Remove Ban"):g._("Ban"),onClick:a.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSCancelButton.react"),{})}),header:h.jsx(b("FDSModalHeader.react"),{title:c}),isShown:a.shown,label:"Create New Group",onHide:a.onHide,children:h.jsx(b("FDSSection.react"),{children:h.jsx(b("FDSText.react"),{children:d})})})}e.exports=a}),null);
__d("PagesCreateSavedResponseMutation",["RelayFBEnvironment","RelayModern","PagesCreateSavedResponseMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesCreateSavedResponseMutation.graphql");function a(a,c,d,e,f,g,j,k){k===void 0&&(k=null);return h((k=k)!=null?k:b("RelayFBEnvironment"),{mutation:i,variables:{input:{page_id:a,title:c,message:d,image_id:e,corresponding_question:f}},onCompleted:g,onError:j})}e.exports={commit:a}}),null);
__d("PagesDeleteSavedResponseMutation",["RelayFBEnvironment","RelayModern","PagesDeleteSavedResponseMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesDeleteSavedResponseMutation.graphql");function a(a,c,d){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{saved_response_id:a}},onCompleted:c,onError:d})}e.exports={commit:a}}),null);
__d("PagesEditSavedResponseMutation",["RelayFBEnvironment","RelayModern","PagesEditSavedResponseMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesEditSavedResponseMutation.graphql");function a(a,c,d,e,f,g,j){j===void 0&&(j=null);return h((j=j)!=null?j:b("RelayFBEnvironment"),{mutation:i,variables:{input:{saved_response_id:a,title:c,message:d,new_image_id:e}},onCompleted:f,onError:g})}e.exports={commit:a}}),null);
__d("SavedResponsesAllPersonalizationView.react",["cx","fbt","FDSRadioList.react","FDSRadioListItem.react","FDSText.react","React","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){return a.shouldShowSavedReplyInIG&&a.macro.instagramDescription!==null&&a.selectedMacroKey===a.macro.name?i.jsx("div",{className:"_8vni",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.macro.instagramDescription})}):i.jsx("div",{})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this;return i.jsx("div",{className:"_7t8c",children:i.jsx(b("FDSRadioList.react"),{onChange:this.props.onMacroSelected,value:this.props.selectedMacroKey,children:Object.keys(this.props.macros).map(function(c){var d=a.props.macros[c],e=i.jsx(b("FDSText.react"),{size:"body1",children:d.key});return i.jsxs("div",{className:"_7t8f",children:[i.jsx("div",{className:"_8jl-",children:i.jsx(b("FDSRadioListItem.react"),{label:e,value:c},c)}),i.jsx(j,{macro:d,selectedMacroKey:a.props.selectedMacroKey,shouldShowSavedReplyInIG:a.props.shouldShowSavedReplyInIG})]},c)})})})};d.render=function(){return i.jsx("div",{className:this.props.className,children:i.jsxs("div",{className:"_84mv",children:[i.jsx("div",{className:"_7t7g",children:h._("Personalize your saved reply each time with information about your Page or the person you're talking to.")}),i.jsx(b("ScrollableArea.react"),{fade:!0,maxHeight:265,shadow:!0,children:i.jsx("div",{className:"_7t8c",children:this.$1()})})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("SavedResponsesActionButton.react",["cx","Image.react","React","ShimButton.react","XUIGrayText.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_uvx",this.props.className);return h.jsxs(b("ShimButton.react"),{className:a,onClick:this.props.onClick,children:[h.jsx(b("Image.react"),{src:this.props.image,className:"_uvy"}),h.jsx(b("XUIGrayText.react"),{shade:"medium",className:"_uvz",children:this.props.label})]})};return c}(h.Component);a.propTypes={image:b("prop-types").object.isRequired,label:b("prop-types").string.isRequired,onClick:b("prop-types").func.isRequired};e.exports=a}),null);
__d("XPagesSavedResponseImagePreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/preview/",{})}),null);
__d("SavedResponsesImage.react",["cx","ActorURI","AsyncRequest","Image.react","LoadingIndicator.react","React","XPagesSavedResponseImagePreviewController","XUICloseButton.react","isEmpty","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state={imageUrl:null,isFetchingThumbnail:!1};b.$1=null;return b}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.imageID!==this.props.imageID&&this.$2(a.imageID)};d.componentDidMount=function(){this.props.imageID&&this.$2(this.props.imageID)};d.componentWillUnmount=function(){this.$1&&this.$1.abort&&(this.$1.abort(),this.$1=null)};d.render=function(){if(!this.$3()&&!this.state.imageUrl)return null;var a="_3mgf";this.$3()?a=b("joinClasses")(a,this.props.loadingClassName):a=b("joinClasses")(a,this.props.displayClassName);return i.jsx("div",{className:this.props.className,children:i.jsx("div",{className:a,children:this.$4()})})};d.$2=function(a){var c=this;if((h||(h=b("isEmpty")))(a)){this.setState({imageUrl:null});return}this.setState({isFetchingThumbnail:!0});var d=b("XPagesSavedResponseImagePreviewController").getURIBuilder().getURI();d=b("ActorURI").create(d,this.props.pageID);this.$1=new(b("AsyncRequest"))();this.$1.setURI(d).setHandler(function(a){return c.$5(a)}).setMethod("POST").setData({image_id:a,target_width:this.props.width,target_height:this.props.height}).send()};d.$3=function(){return this.state.isFetchingThumbnail||!!this.props.isUploading};d.$4=function(){if(this.props.isUploading||this.state.isFetchingThumbnail)return i.jsx(b("LoadingIndicator.react"),{className:"_3mgg",color:"white",size:"medium"});else if(this.state.imageUrl)return i.jsxs("div",{children:[i.jsx(b("XUICloseButton.react"),{className:"_3mgn"+(this.props.shouldShowCloseButton?"":" hidden_elem"),onClick:this.props.onClose,size:"medium"}),i.jsx(b("Image.react"),{src:this.state.imageUrl})]});else return null};d.$5=function(a){this.setState({imageUrl:a.payload.url,isFetchingThumbnail:!1})};return c}(i.PureComponent);a.propTypes={displayClassName:(c=b("prop-types")).string.isRequired,height:c.number.isRequired,imageID:c.string,isUploading:c.bool,loadingClassName:c.string.isRequired,onClose:c.func,pageID:c.string.isRequired,shouldShowCloseButton:c.bool.isRequired,width:c.number.isRequired};e.exports=a}),null);
__d("SavedResponsesImageUploader.react",["cx","ChatFileUploaderMixin","Image.react","MercuryConfig","MercuryFileUploader","React","ReactDOM","SavedResponsesUtils","URI","XUIGrayText.react","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("createReactClass_DEPRECATED")({displayName:"SavedResponsesImageUploader",mixins:[b("ChatFileUploaderMixin")],propTypes:{image:(a=b("prop-types")).object.isRequired,label:a.string.isRequired,pageID:a.string,imagesOnly:a.bool},componentDidMount:function(){this._fileUploader=new(b("MercuryFileUploader"))(this.props.attachmentsShelf,b("ReactDOM").findDOMNode(this.refs.form),b("ReactDOM").findDOMNode(this.refs.input),b("ReactDOM").findDOMNode(this.refs.attachID)),this.props.imageID&&this._fileUploader.addCachedAttachments([b("SavedResponsesUtils").generateImageMetadata(this.props.imageID)]),this.setUpSubscriptionsHandler(this._fileUploader)},getActionURI:function(){return this.props.pageID?new(h||(h=b("URI")))(b("MercuryConfig").upload_url).addQueryData("request_user_id",this.props.pageID).toString():b("MercuryConfig").upload_url},getDefaultProps:function(){return{pageID:null}},componentDidUpdate:function(a,c){this.props.imageID&&(this._fileUploader.removeAttachments(),this._fileUploader.addCachedAttachments([b("SavedResponsesUtils").generateImageMetadata(this.props.imageID)]))},render:function(){var a=b("joinClasses")("_uvx",this.props.className);return i.jsxs("form",{action:this.getActionURI(),className:a,method:"post",ref:"form",children:[i.jsx("input",{name:"attach_id",ref:"attachID",type:"hidden"}),i.jsxs("div",{className:"_4q60",children:[i.jsxs("div",{className:"_4q61 _2d_p",children:[i.jsx(b("Image.react"),{className:"_uvy",src:this.props.image}),i.jsx(b("XUIGrayText.react"),{className:"_uvz",shade:"medium",children:this.props.label})]}),i.jsx("input",{accept:this.props.imagesOnly?"image/jpg, image/png":"*",className:"_2d_q",name:"attachment[]",ref:"input",type:"file"})]})]})}});e.exports=c}),null);
__d("SavedResponsesEditResponseContentView.react",["ix","cx","fbt","AbstractTextArea.react","FDSText.react","MacroInput.react","React","SavedResponsesActionButton.react","SavedResponsesImage.react","SavedResponsesImageUploader.react","ScrollableArea.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=320,l=170;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.uploadHandler.onUploadStarted()},c.$2=function(){c.props.uploadHandler.onUploadFinished()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){var a=this,c=this.props.responseImageID!==""?i._("Change Photo"):i._("Add Photo"),d=this.props.editorState.getCurrentContent().getPlainText().length;return j.jsxs("div",{className:"_57ho",children:[j.jsxs("div",{children:[j.jsx("span",{className:"_7t8g",children:j.jsx(b("SavedResponsesImageUploader.react"),{className:"_3-8v",image:g("583685"),imagesOnly:!0,label:c,onFileUploaderMounted:function(b){return a.props.uploadHandler.onUploaderMounted(b)},onSubmit:this.$1,onUploadFinished:this.$2,pageID:this.props.pageID})}),j.jsx("span",{className:"_7t8g",children:j.jsx(b("SavedResponsesActionButton.react"),{className:"_3-8v",image:g("541612"),label:i._("Add Personalization"),onClick:this.props.onPersonalize})})]}),j.jsxs("span",{className:"_8e33"+(d>1e3?" _8e34":""),children:[d," / ",this.props.characterLimit]})]})};d.render=function(){var a=this,c="macroInput",d=this.props.isSavedReplyNewUI?i._("Shortcut (Required)"):i._("Enter reply title"),e=i._("Write a message...");return j.jsxs("div",{className:this.props.className,children:[j.jsx("div",{className:"_1vw8",children:j.jsx(b("ScrollableArea.react"),{maxHeight:25,children:j.jsx(b("AbstractTextArea.react"),{className:"_4451",onChange:function(b){return a.props.onTitleChange(b.target.value)},placeholder:d,value:this.props.responseTitle})})}),this.props.isSavedReplyNewUI?j.jsx("div",{className:"_1vw8",children:j.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:i._("Use a shortcut to find this saved reply later and easily insert it into a conversation. Shortcuts must be at least 3 characters.")})}):null,j.jsx("div",{children:j.jsxs(b("ScrollableArea.react"),{fade:!0,maxHeight:this.props.isSavedReplyNewUI?l:k,children:[j.jsx(b("MacroInput.react"),{className:"_3jv6",editorState:this.props.editorState,onChange:this.props.onContentChange,placeholder:e,readOnly:!1,ref:c}),j.jsx(b("SavedResponsesImage.react"),{className:"_57hh",displayClassName:"_57hn",height:250,imageID:this.props.responseImageID,isUploading:this.props.isUploadingImage,loadingClassName:"_57hi",onClose:this.props.onDeleteImage,pageID:this.props.pageID,shouldShowCloseButton:!0,width:250})]})}),this.$3()]})};return c}(j.PureComponent);e.exports=a}),null);
__d("SavedResponsesFooterButton.react",["cx","Image.react","React","XUIButton.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:"_3-8i"+(this.props.isHidden?" hidden_elem":""),size:"large",label:this.props.label,onClick:this.props.onClick,use:this.props.use,image:this.props.image?h.jsx(b("Image.react"),{src:this.props.image}):null}))};return c}(h.Component);a.propTypes={image:(c=b("prop-types")).object,isHidden:c.bool,label:c.string.isRequired,onClick:c.func.isRequired,use:c.oneOf(["default","special","confirm"])};a.defaultProps={use:"default",isHidden:!1};e.exports=a}),null);
__d("SavedResponsesImageUploadHelper",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.onUploaderMounted=function(a){this.$3=a};b.onUploadFinished=function(){if(!this.$3)return;var a=this.$3.getImageFiles();a=a.pop().toString();this.$2(a)};b.onUploadStarted=function(){this.$1()};return a}();e.exports=a}),null);
__d("SavedResponsesMacroDetailView.react",["cx","fbt","React","ScrollableArea.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.macro;return!a?null:i.jsx(b("ScrollableArea.react"),{fade:!0,shadow:!0,children:i.jsxs("div",{children:[i.jsx("div",{className:"_tpd",children:a.key}),i.jsx("div",{className:"_tpe",children:a.description}),i.jsx("div",{className:"_tpf",children:h._("Example")}),i.jsx("div",{className:"_tpg",children:a.example})]})})};return c}(i.Component);a.propTypes={macro:(c=b("prop-types")).shape({description:c.string.isRequired,example:c.string.isRequired,key:c.string.isRequired,name:c.string.isRequired,value:c.string.isRequired})};e.exports=a}),null);
__d("SavedResponsesMacroListItem.react",["cx","ix","Image.react","React","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state={isHover:!1};return b}var d=c.prototype;d.render=function(){var a=this;return i.jsxs("div",{className:"_5y_z","data-id":this.props.macro.key,onClick:function(){return a.$1()},onMouseOut:function(){return a.$2()},onMouseOver:function(){return a.$3()},role:"presentation",children:[i.jsx("div",{className:"_5y__",children:this.props.macro.key}),i.jsx("div",{className:"_5z00"+(this.state.isHover?"":" hidden_elem"),children:i.jsx(b("Image.react"),{src:h("94789")})})]})};d.$3=function(){this.props.onHover(this.props.macro),this.setState({isHover:!0})};d.$2=function(){this.setState({isHover:!1})};d.$1=function(){this.props.onSelect(this.props.macro)};return c}(i.Component);a.propTypes={macro:(c=b("prop-types")).shape({key:c.string.isRequired,value:c.string.isRequired}).isRequired,onHover:c.func.isRequired,onSelect:c.func.isRequired};e.exports=a}),null);
__d("SavedResponsesMacroListView.react",["React","SavedResponsesMacroListItem.react","prop-types"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx("ul",{children:this.$1()})};d.$1=function(){var a=[];for(var c in this.props.macros){var d=this.props.macros[c];a.push(g.jsx(b("SavedResponsesMacroListItem.react"),{macro:d,onHover:this.props.onMacroHover,onSelect:this.props.onMacroSelected},c))}return a};return c}(g.Component);a.propTypes={macros:b("prop-types").object.isRequired,onMacroHover:b("prop-types").func.isRequired,onMacroSelected:b("prop-types").func.isRequired};e.exports=a}),null);
__d("SavedResponsesMacroBrowseView.react",["cx","fbt","Grid.react","React","prop-types","SavedResponsesFooterButton.react","SavedResponsesMacroDetailView.react","SavedResponsesMacroListView.react","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g,h){var i=b("Grid.react").GridItem,j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state={activeMacro:null};return b}var d=c.prototype;d.render=function(){return j.jsxs("div",{children:[this.renderBodyPart(),j.jsx("div",{className:"_3ohz",children:this.renderFooterPart()})]})};d.renderBodyPart=function(){var a=this,c=b("joinClasses")("_552a",this.props.className);return j.jsx("div",{className:c,children:j.jsxs(b("Grid.react"),{cols:2,spacing:"none",className:"_552b",children:[j.jsxs(i,{className:"_552c",children:[j.jsx("div",{className:"_552d"}),j.jsx(b("ScrollableArea.react"),{fade:!0,shadow:!0,children:j.jsx("div",{className:"_2t-k",children:j.jsx(b("SavedResponsesMacroListView.react"),{macros:this.props.macros,onMacroSelected:this.props.onMacroSelected,onMacroHover:function(b){return a.$1(b)}})})})]}),j.jsx(i,{className:"_552e",children:j.jsx(b("SavedResponsesMacroDetailView.react"),{macro:this.state.activeMacro})})]})})};d.renderFooterPart=function(){var a=h._("Cancel");return j.jsx("div",{children:j.jsx("div",{className:"_552g",children:j.jsx(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.props.onCancel})})})};d.$1=function(a){this.setState({activeMacro:a})};return c}(j.Component);a.propTypes={macros:b("prop-types").object.isRequired,onCancel:b("prop-types").func.isRequired,onMacroSelected:b("prop-types").func.isRequired};e.exports=a}),null);
__d("SavedResponsesPanel.react",["cx","fbt","ix","Image.react","React","ShimButton.react","XUICloseButton.react","XUIDialogBody.react","XUIDialogTitle.react","XUIGrayText.react","asset","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=h._("Close");return j.jsx(b("XUICloseButton.react"),{className:"_2rpe",label:a,onClick:this.props.onClose,shade:"dark",size:"medium",title:a,type:"button"})};d.render=function(){return j.jsxs("div",{className:this.props.className,children:[j.jsxs(b("XUIDialogTitle.react"),{className:"_3alh"+(this.props.isSavedReplyNewUI?" _7r7a":""),showCloseButton:!1,children:[j.jsxs("div",{className:"_2rp7",children:[j.jsx(b("ShimButton.react"),{className:"_2rp8"+(this.props.shouldShowBackButton?"":" hidden_elem"),onClick:this.props.onBackButtonClicked,children:this.props.isSavedReplyNewUI?j.jsx(b("Image.react"),{className:"_81wx",src:i("952225")}):j.jsxs("div",{children:[j.jsx(b("Image.react"),{className:"_2rp9",src:i("76048")}),j.jsx(b("XUIGrayText.react"),{className:"_2rpa",shade:"light",children:this.props.backButtonLabel}),j.jsx("div",{className:"_2rpb"})]})}),j.jsx("span",{className:"_5hp9",children:this.props.title})]}),this.props.isSavedReplyNewUI?null:this.$1()]}),j.jsx(b("XUIDialogBody.react"),{className:"_2rpc",children:this.props.children})]})};return c}(j.Component);a.propTypes={backButtonLabel:(c=b("prop-types")).string,onBackButtonClicked:c.func,onClose:c.func.isRequired,shouldShowBackButton:c.bool,title:c.string.isRequired};a.defaultProps={backButtonLabel:null,onBackButtonClicked:b("emptyFunction"),shouldShowBackButton:!1};e.exports=a}),null);
__d("MacroSpan.react",["cx","React","XUICloseButton.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMouseOver:!1},c.$2=function(){c.setState({isMouseOver:!0})},c.$3=function(){c.setState({isMouseOver:!1})},c.$5=function(){c.props.onRemoveToken(c.props.offsetKey)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.$1();return a===null?null:h.jsx("span",{className:"_vxd",onMouseEnter:this.$2,onMouseLeave:this.$3,children:h.jsxs("span",{className:"_vxe",contentEditable:!1,"data-offset-key":this.props.offsetKey,spellCheck:!1,children:[this.$4(a),h.jsx(b("XUICloseButton.react"),{className:"_vxf",onClick:this.$5,size:"small"})]})})};d.$4=function(a){a=a.data.key;a=a in this.props.tokens?this.props.tokens[a].key:a;return a};d.$1=function(){return this.props.entityKey==null?null:this.props.contentState.getEntity(this.props.entityKey)};return c}(h.Component);a.propTypes={contentState:(c=b("prop-types")).object.isRequired,entityKey:c.string,offsetKey:c.string.isRequired,onRemoveToken:c.func.isRequired,tokens:c.object.isRequired};e.exports=a}),null);
__d("getMacrosInputDecorator",["CompositeDraftDecorator","MacroSpan.react","getEntityMatcher"],(function(a,b,c,d,e,f){function a(a,c){return new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="TOKEN"}),component:b("MacroSpan.react"),props:{onRemoveToken:c,tokens:a}}])}e.exports=a}),null);
__d("SavedResponsesTokensUtils",["createEditorStateWithRanges","getMacrosInputDecorator"],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("{{(.*?)}}","ig"),h={_parseTemplateFieldTokens:function(a){a=a;var b=[],c;while(c=g.exec(a)){var d={text:c[0],offset:c.index,length:c[0].length,entity:{token:c[0],key:c[1]}};b.push(d);a=a.replace(c[0],d.text);g.lastIndex=d.offset+d.length}if(b.length>0){b[0].offset===0&&(a=" "+a,b.forEach(function(a){a.offset++}));c=b[b.length-1];c.length+c.offset===a.length&&(a+=" ")}return{ranges:b,text:a}},createTemplateFieldsEditorStateWithText:function(a,c,d){a=h._parseTemplateFieldTokens(a);var e=a.ranges;a=a.text;return b("createEditorStateWithRanges")({text:a,ranges:e,decorator:b("getMacrosInputDecorator")(d,c),addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("TOKEN","IMMUTABLE",a)}})},prepareforSend:function(a,b){var c=a.match(/\{{(.*?)\}}/g);c&&c.forEach(function(c){var d=c.replace("{{","").replace("}}","");d=d in b?b[d].value:d;a=a.replace(c,d)});return a}};e.exports=h}),null);
__d("SavedResponsesEditResponseView.react",["cx","fbt","invariant","DraftModifier","DraftOffsetKey","EditorState","PagesCreateSavedResponseMutation","PagesDeleteSavedResponseMutation","PagesEditSavedResponseMutation","PagesEventObserver","PagesMessagingInboxActionLogger","React","RelayModern","SavedResponsesAllPersonalizationView.react","SavedResponsesEditResponseContentView.react","SavedResponsesFooterButton.react","SavedResponsesImageUploadHelper","SavedResponsesMacroBrowseView.react","SavedResponsesPanel.react","SavedResponsesTokensUtils","SavedResponsesUtils","SelectionState","XUISpinner.react","curry","getMacrosInputDecorator"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("RelayModern").createEnvironment,l=1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$7=function(a){e.setState({selectedMacroKey:a})};e.$14=function(){var a=e.props.supportedMacros[e.state.selectedMacroKey];e.$10(a);e.setState({selectedMacroKey:""})};e.$12=function(){e.setState({imageID:""})};e.$33=function(){e.state.isPersonalizing?e.setState({isPersonalizing:!1}):e.state.isModified?e.setState({shouldShowDiscardWarning:!0}):e.props.onEditDone(!1)};e.$9=function(){e.setState({isPersonalizing:!1})};e.$13=function(){e.setState({isPersonalizing:!0}),e.props.onEnterPersonalizeView()};e.$25=function(){e.setState({shouldShowDeleteWarning:!0})};e.$26=function(){e.setState({isProcessing:!0}),e.state.isEditing?e.$30():e.$31()};e.$23=function(){e.setState({shouldShowDeleteWarning:!1})};e.$22=function(){var a;b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_delete_reply",page_id:e.props.pageID},null);e.setState({shouldShowDeleteWarning:!1,isProcessing:!0});var c=e.props.initialResponse;!c&&i(0,6166);b("PagesDeleteSavedResponseMutation").commit(c.id,function(){return e.props.onEditDone(!0)},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(c.message,null,(a=c.title)!=null?a:"",null,(a=c)!=null?(a=a.image)!=null?a.id:a:a,null,null)};e.$19=function(){e.props.onEditDone(!1)};e.$20=function(){e.setState({shouldShowDiscardWarning:!1})};c=!!e.props.initialResponse||!1;d=!!e.props.initialResponse&&!!e.props.initialResponse.image?e.props.initialResponse.image.id:"";var f=e.$1(c);e.state={anyContent:f.getCurrentContent().hasText(),editorState:f,imageID:d,isEditing:c,isModified:!1,isPersonalizing:!1,isProcessing:!1,isUploadingImage:!1,selectedMacroKey:"",shouldShowDeleteWarning:!1,shouldShowDiscardWarning:!1,title:e.props.initialResponse?(f=e.props.initialResponse.title)!=null?f:"":"",uploadHandler:new(b("SavedResponsesImageUploadHelper"))(function(){return e.$2()},function(a){return e.$3(a)})};!!e.props.upsellSpecificData&&!!e.props.upsellSpecificData.icebreaker_message&&(e.state.title=h._("FAQ"));return e}var d=c.prototype;d.$4=function(){return h._("Cancel")};d.$5=function(){return h._("Delete")};d.$6=function(){return h._("Save")};d.$8=function(){var a=this;if(this.state.isPersonalizing)return this.props.isSavedReplyNewUI?j.jsx(b("SavedResponsesAllPersonalizationView.react"),{className:"_1wxh",macros:this.props.supportedMacros,onCancel:this.$9,onMacroSelected:this.$7,selectedMacroKey:this.state.selectedMacroKey,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG}):j.jsx(b("SavedResponsesMacroBrowseView.react"),{className:"_1wxh",macros:this.props.supportedMacros,onCancel:this.$9,onMacroSelected:function(b){return a.$10(b)}});else return j.jsx(b("SavedResponsesEditResponseContentView.react"),{characterLimit:l,className:"_1wxh",editorState:this.state.editorState,isSavedReplyNewUI:this.props.isSavedReplyNewUI,isUploadingImage:this.state.isUploadingImage,onContentChange:function(b){return a.$11(b)},onDeleteImage:this.$12,onPersonalize:this.$13,onTitleChange:function(b){a.setState({title:b,isModified:!0})},pageID:this.props.pageID,responseImageID:this.state.imageID,responseTitle:this.state.title,uploadHandler:this.state.uploadHandler})};d.$15=function(){var a=h._("Cancel"),c=h._("Add");return j.jsxs("div",{className:"_4pnp",children:[j.jsx(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.$9}),j.jsx(b("SavedResponsesFooterButton.react"),{disabled:this.state.selectedMacroKey==="",label:c,onClick:this.$14,use:"confirm"})]})};d.$16=function(){if(this.state.isPersonalizing)return this.props.isSavedReplyNewUI?this.$15():j.jsx(b("SavedResponsesFooterButton.react"),{label:this.$4(),onClick:this.$9});else return this.$17()};d.$18=function(){var a=h._("Continue Editing"),c=this.props.isSavedReplyNewUI?h._("Don't Save"):h._("Discard");return j.jsxs("div",{children:[j.jsx("div",{className:"_2ln1",children:this.props.isSavedReplyNewUI?h._("Do you want to save your changes?"):h._("Are you sure you want to discard your edit?")}),j.jsxs("div",{className:"_4pnp",children:[j.jsx(b("SavedResponsesFooterButton.react"),{label:c,onClick:this.$19}),j.jsx(b("SavedResponsesFooterButton.react"),{label:a,onClick:this.$20,use:"confirm"})]})]})};d.$21=function(){return j.jsxs("div",{children:[j.jsx("div",{className:"_2ln1",children:h._("Are you sure you want to delete this saved reply?")}),j.jsxs("div",{className:"_4pnp",children:[j.jsx(b("SavedResponsesFooterButton.react"),{label:this.$5(),onClick:this.$22}),j.jsx(b("SavedResponsesFooterButton.react"),{label:this.$4(),onClick:this.$23,use:"confirm"})]})]})};d.$24=function(){var a=this.state.editorState.getCurrentContent().getPlainText().length>=l,c=a?j.jsx("div",{className:"_2ln1",children:h._("Your saved reply must be {character limit} characters or less.",[h._param("character limit",l)])}):null;return j.jsxs("div",{children:[this.props.isSavedReplyNewUI?null:j.jsx(b("SavedResponsesFooterButton.react"),{isHidden:!this.state.isEditing,label:this.$5(),onClick:this.$25}),c,j.jsxs("div",{className:"_4pnp",children:[j.jsx(b("SavedResponsesFooterButton.react"),{label:this.$4(),onClick:b("curry")(this.props.onEditDone,!1)}),j.jsx(b("SavedResponsesFooterButton.react"),{disabled:!this.state.anyContent&&!this.state.imageID||a||this.props.isSavedReplyNewUI&&!b("SavedResponsesUtils").isValidShortcut(this.state.title),label:this.$6(),onClick:this.$26,use:"confirm"}),j.jsx(b("XUISpinner.react"),{className:(this.state.isProcessing?"":"hidden_elem")+" _3-91 _3-99",size:"small"})]})]})};d.$17=function(){if(this.state.shouldShowDeleteWarning)return this.$21();else if(this.state.shouldShowDiscardWarning)return this.$18();else return this.$24()};d.$27=function(){if(!this.state.isPersonalizing)return h._("List");else return h._("Edit")};d.$28=function(){if(this.state.isPersonalizing)return h._("Add Personalization");else if(this.state.isEditing)return h._("Edit Reply");else return h._("Create Saved Reply")};d.$29=function(a){a={text:"{{"+a.name+"}}",key:a.name};var c=this.state.editorState,d=c.getSelection(),e=c.getCurrentContent(),f=d.getStartKey(),g=d.getStartOffset();f=e.getBlockForKey(f);if(f.getText().substr(g-1,1).trim().length>0){f=b("DraftModifier").replaceText(e,d," ");d=f.getSelectionAfter();g=b("DraftModifier").insertText(f,d,a.text,c.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",a).getLastCreatedEntityKey())}else g=b("DraftModifier").replaceText(e,d,a.text,c.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",a).getLastCreatedEntityKey());g=b("DraftModifier").insertText(g,g.getSelectionAfter()," ");c=b("EditorState").push(c,g,"insert-fragment");c=b("EditorState").forceSelection(c,c.getSelection());this.$11(c)};d.$30=function(){var a=this,c,d=this.state.editorState.getCurrentContent().getPlainText();b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_edit_reply",page_id:this.props.pageID,response_content:d},null);var e=this.props.initialResponse;!e&&i(0,6165);var f=this.state.imageID?this.state.imageID.toString():null;c=(c=e)!=null?(c=c.image)!=null?c.id:c:c;b("PagesEditSavedResponseMutation").commit(e.id,this.state.title.trim(),d,f,function(){return a.props.onEditDone(!0)},function(){},this.props.shouldOverrideRelayEnvironment?k({actorID:String(this.props.overrideRelayEnvironmentWithID)}):null);b("PagesMessagingInboxActionLogger").logUpdateSavedReply(e.message,d,e.title,this.state.title,c,f,null)};d.$31=function(){var a=this,c,d=this.state.editorState.getCurrentContent().getPlainText();b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_create_reply",page_id:this.props.pageID,response_content:d},null);var e=null;!!this.props.upsellSpecificData&&!!this.props.upsellSpecificData.icebreaker_message&&(e=this.props.upsellSpecificData.icebreaker_message);var f=this.state.imageID?this.state.imageID.toString():null;b("PagesCreateSavedResponseMutation").commit(this.props.pageID,(c=this.state.title.trim())!=null?c:"",d,f,e,function(){return a.props.onEditDone(!0)},function(){},this.props.shouldOverrideRelayEnvironment?k({actorID:String(this.props.overrideRelayEnvironmentWithID)}):null);b("PagesMessagingInboxActionLogger").logUpdateSavedReply(null,d,null,this.state.title,null,f,e)};d.$1=function(a){var c=this;if(a&&this.props.initialResponse||!!this.props.upsellSpecificData){var d="";if(a&&this.props.initialResponse){d=(a=this.props.initialResponse.message)!=null?a:""}else if(this.props.upsellSpecificData){d=(a=this.props.upsellSpecificData.page_reply)!=null?a:""}return b("SavedResponsesTokensUtils").createTemplateFieldsEditorStateWithText(d,function(a){return c.$32(a)},this.props.supportedMacros)}else return b("EditorState").createEmpty(b("getMacrosInputDecorator")(this.props.supportedMacros||{},function(a){return c.$32(a)}))};d.$10=function(a){b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_personalize",page_id:this.props.pageID},null),this.setState({isPersonalizing:!1}),this.$29(a)};d.$11=function(a){this.setState({anyContent:a.getCurrentContent().hasText(),editorState:a,isModified:!0})};d.$2=function(){b("PagesEventObserver").logData_DEPRECATED({event_name:"saved_replies_add_image",page_id:this.props.pageID},null),this.setState({imageID:"",isUploadingImage:!0})};d.$3=function(a){this.setState({imageID:a,isUploadingImage:!1})};d.$32=function(a){var c=this.state.editorState;a=b("DraftOffsetKey").decode(a);var d=a.blockKey;a=a.decoratorKey;a=c.getBlockTree(d).getIn([a]);d=new(b("SelectionState"))({anchorKey:d,anchorOffset:a.get("start"),focusKey:d,focusOffset:a.get("end"),isBackward:!1,hasFocus:!0});a=b("DraftModifier").removeRange(c.getCurrentContent(),d,"forward");d=b("EditorState").push(c,a,"remove-range");this.$11(d)};d.render=function(){return j.jsxs(b("SavedResponsesPanel.react"),{backButtonLabel:this.$27(),className:"_15ht"+(this.props.isSavedReplyNewUI?" _7r87":""),isSavedReplyNewUI:this.props.isSavedReplyNewUI,onBackButtonClicked:this.$33,onClose:this.props.onClose,shouldShowBackButton:!0,title:this.$28(),children:[this.$8(),j.jsx("div",{className:"_3ohz",children:this.$16()})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("SavedResponsesListItem.react",["cx","fbt","ClientIDs","Link.react","React","ReactDOM","SavedResponsesConstants","SavedResponsesImage.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowSeeMoreLink:!1,shouldLimitHeight:!0},d.$4=function(a){var c=0,e=0,f=/\{{(.*?)\}}/g,g=f.exec(a),h=[];while(g!=null){e=g.index;h.push(i.jsx("span",{children:a.substring(c,e)},b("ClientIDs").getNewClientID()));c=e+g[0].length;var j=g[1]in d.props.tokens?d.props.tokens[g[1]].value:g[1];h.push(i.jsx("span",{className:"_-8",children:j},b("ClientIDs").getNewClientID()));g=f.exec(a)}h.push(i.jsx("span",{children:a.substring(c,a.length)},b("ClientIDs").getNewClientID()));return h},d.$2=function(){d.props.onResponseSelected(d.props.response,d.props.tokens)},d.$3=function(){d.props.onResponseHover&&d.props.onResponseHover(d.props.response,d.props.tokens)},d.$5=function(a){d.setState({shouldShowSeeMoreLink:!1,shouldLimitHeight:!1}),a.stopPropagation()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(){this.$1()};d.render=function(){var a=this.props.response.image&&!0;return i.jsxs("div",{className:"_33w3"+(a?" _33w4":""),"data-id":this.props.response.id,onClick:this.$2,onMouseEnter:this.$3,onMouseLeave:this.props.onResponseUnhover,role:"presentation",children:[i.jsx("div",{className:"_33w5"+(a?" _33w6":"")+" fwb",children:this.props.response.title}),i.jsxs("div",{className:"_33w7"+(this.state.shouldLimitHeight?" _4en5":"")+(!this.props.response.title&&this.props.response.image?" _2pid":""),ref:"message",children:[this.props.response.image?i.jsx(b("SavedResponsesImage.react"),{className:"_33w8",displayClassName:"_33w9",height:b("SavedResponsesConstants").listItemImageHeight,imageID:this.props.response.image.id,loadingClassName:"_33w9",pageID:this.props.pageID,shouldShowCloseButton:!1,width:b("SavedResponsesConstants").listItemImageWidth}):null,this.$4(this.props.response.message)]}),i.jsx(b("Link.react"),{className:"_4en6"+(this.state.shouldShowSeeMoreLink?"":" hidden_elem"),onClick:this.$5,children:h._("See more")})]})};d.$1=function(){if(this.state.shouldLimitHeight===!1||this.state.shouldShowSeeMoreLink)return;var a=b("ReactDOM").findDOMNode(this.refs.message);a.scrollHeight>a.clientHeight&&this.setState({shouldShowSeeMoreLink:!0})};return c}(i.Component);a.propTypes={onResponseHover:(c=b("prop-types")).func,onResponseSelected:c.func.isRequired,onResponseUnhover:c.func,pageID:c.string.isRequired,response:c.shape({id:c.string.isRequired,title:c.string,message:c.string.isRequired,image:c.object}),tokens:c.object.isRequired};e.exports=a}),null);
__d("SavedResponsesListView.react",["cx","React","SavedResponsesListItem.react","SavedResponsesUtils","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;if(this.props.isLoadingResponses)return h.jsx("div",{className:"_e19",children:h.jsx(b("XUISpinner.react"),{size:"large"})});var c=this.props.searchQuery.trim().toLowerCase(),d=function(a){return a.message.toLowerCase().indexOf(c)!==-1||(a.title||"").toLowerCase().indexOf(c)!==-1},e=b("SavedResponsesUtils").sortSavedResponses(this.props.responses,this.props.sortingKey);return h.jsx("ul",{className:this.props.shouldAdjustRightMargin?"_e1a":"",children:e.filter(d).map(function(c){return h.jsx(b("SavedResponsesListItem.react"),{onResponseHover:a.props.onResponseHover,onResponseSelected:a.props.onResponseSelected,onResponseUnhover:a.props.onResponseUnhover,pageID:a.props.pageID,response:c,tokens:a.props.supportedMacros},c.id)})})};return c}(h.Component);a.propTypes={isLoadingResponses:(c=b("prop-types")).bool.isRequired,onResponseHover:c.func,onResponseSelected:c.func.isRequired,onResponseUnhover:c.func,pageID:c.string.isRequired,responses:c.array.isRequired,searchQuery:c.string.isRequired,shouldAdjustRightMargin:c.bool};e.exports=a}),null);
__d("SavedResponsesOrderingMenu.react",["cx","fbt","ContextualDialogArrow","PopoverMenu.react","React","ReactXUIMenu","SavedResponsesConstants","XUIPopoverButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=[{key:b("SavedResponsesConstants").sortingKey.MOST_USED,title:h._("Frequently used")},{key:b("SavedResponsesConstants").sortingKey.LAST_USED,title:h._("Recently used")}];c.$1=d;return c}var d=c.prototype;d.$2=function(){var a=this,b;return(b=this.$1.find(function(b){return b.key===a.props.activeSortingOptionKey}))!=null?b:this.$1[0]};d.$3=function(a){var b=this;return i.jsx(j,{onclick:function(){return b.props.onSortingKeyChanged(a.key)},children:a.title},a.key)};d.render=function(){var a=this,c=i.jsx(b("ReactXUIMenu"),{children:this.$1.map(function(b){return a.$3(b)})});return i.jsxs("div",{className:this.props.className,children:[i.jsx("span",{className:"_4mjo",children:h._("Sort by")}),i.jsx(b("PopoverMenu.react"),{alignv:"baseline",layerBehaviors:[b("ContextualDialogArrow")],menu:c,children:i.jsx(b("XUIPopoverButton.react"),{label:this.$2().title})})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("SavedResponsesListViewContainer.react",["cx","fbt","Layout.react","LeftFillRightFitLayout.react","React","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a="inputField";return k.jsxs(b("Layout.react"),{className:"_4b4n",children:[k.jsx(i,{children:k.jsx("div",{className:"_1x3i"})}),k.jsx(j,{children:k.jsx(b("XUITextInput.react"),{onChange:this.props.onSearchQueryChanged,placeholder:h._("Search replies"),ref:a,value:this.props.searchQuery})}),k.jsx(i,{children:k.jsx(b("XUICloseButton.react"),{className:this.props.searchQuery.length===0?"hidden_elem":"",onClick:this.props.onSearchQueryCleared,size:"small"})})]})};d.render=function(){var a=b("joinClasses")("_3ohy",this.props.className);return k.jsxs("div",{className:a,children:[k.jsxs(b("LeftFillRightFitLayout.react"),{className:"_1x3h",children:[this.$1(),this.props.isSavedReplyNewUI?null:k.jsx(b("SavedResponsesOrderingMenu.react"),{activeSortingOptionKey:this.props.activeSortingOptionKey,className:"_4b4m",onSortingKeyChanged:this.props.onSortingKeyChanged})]}),this.props.children,this.props.isSavedReplyNewUI?null:k.jsx("div",{className:"_3ohz",children:this.props.footerPart})]})};return c}(k.Component);e.exports=a}),null);
__d("SavedResponsesManageListView.react",["cx","fbt","ix","PagesMessagingInboxActionLogger","React","SavedResponsesConstants","SavedResponsesFooterButton.react","SavedResponsesListView.react","SavedResponsesListViewContainer.react","SavedResponsesPanel.react","ScrollableArea.react","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.$1=function(a){e.setState({activeSortingOptionKey:a}),b("PagesMessagingInboxActionLogger").logSavedReplySortClicked(a)};e.state={searchQuery:"",activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.LAST_USED};return e}var d=c.prototype;d.render=function(){var a=this;return j.jsx(b("SavedResponsesPanel.react"),{className:"_15ht",shouldShowBackButton:!1,onClose:this.props.onClose,title:h._("Saved Replies"),children:j.jsx(b("SavedResponsesListViewContainer.react"),{footerPart:this.$2(),onSearchQueryChanged:function(b){return a.$3(b)},onSearchQueryCleared:function(){return a.$4()},searchQuery:this.state.searchQuery,activeSortingOptionKey:this.state.activeSortingOptionKey,onSortingKeyChanged:this.$1,children:this.$5()})})};d.$5=function(){return j.jsx("div",{className:"_4pno",children:j.jsxs(b("ScrollableArea.react"),{fade:!0,shadow:!0,children:[j.jsx(b("SavedResponsesListView.react"),{isLoadingResponses:!1,onResponseSelected:this.props.onResponseSelected,pageID:this.props.pageID,responses:this.props.responses,searchQuery:this.state.searchQuery,supportedMacros:this.props.supportedMacros,sortingKey:this.state.activeSortingOptionKey}),this.$6()]})})};d.$2=function(){var a=h._("Create Reply"),c=h._("Done");return j.jsxs("div",{className:"_4pnp",children:[j.jsx(b("SavedResponsesFooterButton.react"),{image:i("88945"),label:a,onClick:this.props.onCreateNewReplyClicked}),j.jsx(b("SavedResponsesFooterButton.react"),{label:c,onClick:this.props.onDoneClicked})]})};d.$6=function(){return j.jsx("div",{className:"_4pnq",children:j.jsx("div",{className:"_50f8 _4pnr",children:h._("End of saved replies")})})};d.$3=function(a){this.setState({searchQuery:a.target.value})};d.$4=function(){this.setState({searchQuery:""})};return c}(j.Component);a.propTypes={onClose:(c=b("prop-types")).func.isRequired,onCreateNewReplyClicked:c.func.isRequired,onDoneClicked:c.func.isRequired,onResponseSelected:c.func.isRequired,otherUserID:c.string.isRequired,pageID:c.string.isRequired,responses:c.array.isRequired,supportedMacros:c.object.isRequired};e.exports=a}),null);
__d("SavedResponsesManagePanel.react",["cx","React","RelayModern","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesManageListView.react","SavedResponsesUtils","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("RelayModern").createEnvironment;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state={isLoadingResponses:!0,isLoadingTokens:!0,responseToEdit:null,responses:[],supportedMacros:null,viewType:b.props.initialViewType};return b}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.render=function(){var a=this;if(this.state.isLoadingResponses||this.state.isLoadingTokens)return h.jsx("div",{className:"_15ht",children:h.jsx("div",{className:"_15hu",children:h.jsx(b("XUISpinner.react"),{size:"large"})})});switch(this.state.viewType){case b("SavedResponsesConstants").editPanelViewMode.LIST:return h.jsx(b("SavedResponsesManageListView.react"),{onClose:this.props.onClose,onCreateNewReplyClicked:function(){return a.$2()},onDoneClicked:function(){return a.$3()},onResponseSelected:function(b,c){return a.$4(b,c)},otherUserID:this.props.otherUserID,overrideRelayEnvironmentWithID:this.props.overrideRelayEnvironmentWithID,pageID:this.props.pageID,responses:this.state.responses,shouldOverrideRelayEnvironment:this.props.shouldOverrideRelayEnvironment,supportedMacros:this.state.supportedMacros});case b("SavedResponsesConstants").editPanelViewMode.EDIT:case b("SavedResponsesConstants").editPanelViewMode.CREATE:case b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return h.jsx(b("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,isSavedReplyNewUI:!1,onClose:this.props.onClose,onEditDone:function(b){return a.$5(b)},onEnterPersonalizeView:function(){return a.$6()},overrideRelayEnvironmentWithID:this.props.overrideRelayEnvironmentWithID,pageID:this.props.pageID,shouldOverrideRelayEnvironment:this.props.shouldOverrideRelayEnvironment,shouldShowSavedReplyInIG:!1,supportedMacros:this.state.supportedMacros,upsellSpecificData:null})}};d.$1=function(){var a=this;this.setState({isLoadingResponses:!0,isLoadingTokens:!0});b("SavedResponsesUtils").fetchSavedResponse(this.props.pageID,function(b){return a.setState({responses:b,isLoadingResponses:!1})},this.props.shouldOverrideRelayEnvironment?i({actorID:String(this.props.overrideRelayEnvironmentWithID)}):null);b("SavedResponsesUtils").fetchSavedResponseTokens(this.props.pageID,this.props.otherUserID,null,"MESSENGER",function(b){return a.setState({supportedMacros:b,isLoadingTokens:!1})})};d.$5=function(a){if(this.props.initialViewType===b("SavedResponsesConstants").editPanelViewMode.CREATE){this.props.onClose();return}a&&this.$1();this.setState({responseToEdit:null,viewType:b("SavedResponsesConstants").editPanelViewMode.LIST})};d.$2=function(){this.setState({responseToEdit:null,viewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})};d.$3=function(){this.props.onClose()};d.$6=function(){this.setState({viewType:b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})};d.$4=function(a){this.setState({responseToEdit:a,viewType:b("SavedResponsesConstants").editPanelViewMode.EDIT})};return c}(h.Component);a.propTypes={initialViewType:(c=b("prop-types")).string,onClose:c.func.isRequired,otherUserID:c.string.isRequired,pageID:c.string.isRequired};a.defaultProps={initialViewType:b("SavedResponsesConstants").editPanelViewMode.LIST};e.exports=a}),null);
__d("PagesContentEditorAttachment.react",["ix","cx","fbt","FDSButton.react","FDSSpinner.react","FDSText.react","FileInput.react","Image.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","XUICard.react","XUIError.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=80;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;if(this.props.attachmentType===null)return j.jsx(b("Link.react"),{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrj":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-aw"),onClick:this.props.onAddAttachmentLinkPressed,children:this.props.videoDisabled===!0?i._("+ Add Photo"):i._("+ Add an attachment")});var c=this.props.errors&&this.props.errors.mediaError;return j.jsxs(b("XUICard.react"),{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrk":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-b2"),children:[j.jsx(b("Image.react"),{onClick:this.props.onClosePressed,src:this.props.isInboxCombinedCustomQuestionTest===!0?g("515976"):g("478237"),style:this.props.isInboxCombinedCustomQuestionTest===!0?{position:"absolute",top:12,right:17,cursor:"pointer"}:{position:"absolute",top:12,right:12}}),j.jsx(b("FDSText.react"),{size:"body1",weight:"bold",children:this.props.attachmentType==="image"?i._("Image"):i._("Video")}),j.jsx(l,{attachmentType:this.props.attachmentType,disabled:this.props.disabled===!0,isLoading:this.props.isLoading,onSelectAttachmentType:this.props.onSelectAttachmentType,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1}),j.jsxs("div",{className:"_6-b3",children:[j.jsx(b("XUIError.react"),{xuiError:c,children:this.props.media&&this.props.media.type===this.props.attachmentType?j.jsx(b("Image.react"),{className:"_6-b4",src:this.props.media&&this.props.media.url}):j.jsx("div",{className:"_6-b4",children:j.jsx(b("Image.react"),{className:"_6-b5",src:this.props.attachmentType==="image"?g("481807"):g("493176")})})}),j.jsx(m,{attachmentType:this.props.attachmentType,currentMedia:this.props.media,disabled:this.props.disabled===!0,hasSizeError:this.props.hasSizeError,isLoading:this.props.isLoading,onImageUpload:this.props.onImageUpload,onVideoUpload:this.props.onVideoUpload})]}),this.props.onImageTitleChange&&this.props.attachmentType==="image"?j.jsxs("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[j.jsx("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:i._("Image Title")}),j.jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrn":"",children:j.jsx(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:this.props.errors&&this.props.errors.imageTitleError,maxLength:k,onChange:this.props.onImageTitleChange,placeholder:i._("Enter a title"),theme:b("SUIBusinessTheme"),value:this.props.media&&this.props.media.title})})]}):null,this.props.onImageSubtitleChange&&this.props.attachmentType==="image"?j.jsxs("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[j.jsx("div",{className:(this.props.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:i._("Image Subtitle (Optional)")}),j.jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrn":"",children:j.jsx(b("SUITextInput.react"),{disabled:this.props.disabled,errorMessage:null,maxLength:k,onChange:this.props.onImageSubtitleChange,placeholder:i._("Enter a subtitle to provide more information"),theme:b("SUIBusinessTheme"),value:this.props.media&&this.props.media.subtitle})})]}):null]})};return c}(j.PureComponent);function l(a){return j.jsxs("div",{className:"_6-b6",children:[j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:a.attachmentType==="image"?g("504181"):g("481807")}),isDisabled:a.isLoading||a.disabled,label:i._("Change Format to Image"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType("image")},size:"large",use:a.attachmentType==="image"?"primary":"default"}),a.videoDisabled?null:j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:a.attachmentType==="video"?g("495229"):g("493176")}),isDisabled:a.isLoading||a.disabled,label:i._("Change Format to Video"),labelIsHidden:!0,onClick:function(){return a.onSelectAttachmentType("video")},size:"large",use:a.attachmentType==="video"?"primary":"default"})]})}function m(a){var b,c,d,e,f;a.attachmentType==="image"?(b=".png,.jpg,.jpeg",f=a.onImageUpload,c=a.currentMedia&&a.currentMedia.type==="image"?i._("Change Image"):i._("Choose Image"),d=i._("Images must be no more than 25 MB."),e=a.hasSizeError?i._("Choose an image smaller than 25 MB."):null):(b="video/*",f=a.onVideoUpload,c=a.currentMedia&&a.currentMedia.type==="video"&&a.currentMedia.url!=null?i._("Change Video"):i._("Choose Video"),d=i._("Videos must be no more than 25 MB."),e=a.hasSizeError?i._("Choose a video smaller than 25 MB."):null);return j.jsx(n,{disabled:a.disabled,accept:b,description:d,errorText:e,isLoading:a.isLoading,label:c,onUpload:f})}function n(a){var c=a.disabled||a.isLoading,d=j.jsx(b("FDSButton.react"),{isDisabled:c,href:{url:"#"},label:a.label,margin:"_3-95",use:"default"});return j.jsxs("div",{className:"_6-b7",children:[j.jsxs("span",{children:[j.jsx(b("XUIError.react"),{xuiError:a.errorText,children:j.jsx("div",{className:"_6-b8",children:c?d:j.jsx(b("FileInput.react"),{accept:a.accept,name:"file",onChange:a.onUpload,children:d})})}),a.isLoading?j.jsx(b("FDSSpinner.react"),{margin:"_3-99"}):null]}),j.jsx(b("FDSText.react"),{color:"placeholder",size:"body3",children:a.description})]})}e.exports=a}),null);
__d("PagesContentEditorCTASection.react",["ix","cx","fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","Image.react","LeftRight.react","Link.react","React","SUIBusinessTheme","SUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=80,l=3,m=function(a){var c=i._("Button Label"),d=i._("Add an action you want people to take"),e=a.cta?a.cta.content:"",f=a.cta?a.cta.type:"button",h="";a.cta&&(h=a.cta.url);var l=i._("Button #{cta_index}",[i._param("cta_index",a.index+1)]),m=function(b){a.onCTATitleChange(a.index,b)},n=function(b){a.onCTAURLChange(a.index,b)},o=function(b){b&&a.onCTATypeChange(a.index,b)},p=function(){a.onRemoveCTA(a.index)};p=j.jsx(b("Image.react"),{onClick:p,src:a.isInboxCombinedCustomQuestionTest===!0?g("515976"):g("478237"),style:a.isInboxCombinedCustomQuestionTest===!0?{position:"relative",right:5,cursor:"pointer"}:null});var q=i._("Action"),r=f==="postback"?i._("Bot Payload"):i._("Website URL"),s=f==="postback"?i._("Optional: This will be sent back to your webhook."):i._("Add a URL");return j.jsxs("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrk":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9w"),children:[j.jsxs(b("LeftRight.react"),{className:(a.isInboxCombinedCustomQuestionTest?"_8hro":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9x"),children:[j.jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrp":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-9y"),children:l}),j.jsx("div",{className:Boolean(a.isInboxCombinedCustomQuestionTest)?"":"_6-aw",children:p})]}),j.jsxs("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrl":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ax"),children:[j.jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:c}),j.jsx(b("SUITextInput.react"),{disabled:a.disabled,errorMessage:a.errors?a.errors.ctaLabelError:null,maxLength:k,onChange:m,placeholder:d,theme:b("SUIBusinessTheme"),value:e})]}),Boolean(a.showCTATypes)&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:q}),j.jsx("div",{className:Boolean(a.isInboxCombinedCustomQuestionTest)?"_8hrn":"",children:j.jsxs(b("FDSDropdownSelector.react"),{onChange:o,value:f,children:[j.jsx(b("FDSDropdownSelectorOption.react"),{value:"button",children:i._("Open a website")}),j.jsx(b("FDSDropdownSelectorOption.react"),{value:"postback",children:i._("Send a postback")})]})})]}),j.jsxs("div",{className:(Boolean(a.isInboxCombinedCustomQuestionTest)?"_8hrl":"")+(Boolean(a.isInboxCombinedCustomQuestionTest)?"":" _6-ax"),children:[j.jsx("div",{className:(a.isInboxCombinedCustomQuestionTest?"_8hrm":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-ay"),children:r}),j.jsx(b("SUITextInput.react"),{disabled:a.disabled,errorMessage:a.errors?a.errors.ctaURLError:null,onChange:n,placeholder:s,theme:b("SUIBusinessTheme"),value:h})]})]},a.index)};function a(a){var c=a.ctas,d=c&&c.length?c.map(function(b,d){var e=null;a.errors&&(e=a.errors.ctaErrors.find(function(a){return a&&a.buttonNumber===d}));return j.jsx(m,{cta:b,ctaCount:c.length,disabled:a.disabled,errors:e,index:d,isInboxCombinedCustomQuestionTest:a.isInboxCombinedCustomQuestionTest,onCTATitleChange:a.onCTATitleChange,onCTATypeChange:a.onCTATypeChange,onCTAURLChange:a.onCTAURLChange,onRemoveCTA:a.onRemoveCTA,showCTATypes:a.showCTATypes},d)}):null,e=null;(!a.ctas||a.ctas.length<l)&&(e=j.jsx(b("Link.react"),{className:(a.isInboxCombinedCustomQuestionTest?"_8hrq":"")+(a.isInboxCombinedCustomQuestionTest?"":" _6-az"),onClick:a.onAddCTA,children:!a.ctas||a.ctas.length===0?i._("+ Add a button"):i._("+ Add another button")}));return j.jsxs("div",{children:[d,e]})}e.exports=a}),null);
__d("PagesContentEditorConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Type a message...").toString();b=Object.freeze({QUESTIONNAIRE_WELCOME_MESSAGE:"questionnaireWelcomeMessage",QUESTIONNAIRE_THANK_YOU_MESSAGE:"questionnaireThankYouMessage",QUESTIONNAIRE_REMINDER_MESSAGE:"questionnaireReminderMessage",QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:"questionnaireStopQuestionsMessage",QUESTIONNAIRE_SUMMARY_MESSAGE:"questionnaireSummaryMessage",QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:"questionnaireDisqualificationMessage"});e.exports={PagesContentEditorMessageComposerSpecialTypes:b,DEFAULT_MESSAGE:a}}),null);
__d("PagesContentEditorMessageComposer.react",["cx","fbt","AdsCMFormHorizontalLine.react","FDSText.react","FileInputUploader","PagesContentEditorAttachment.react","PagesContentEditorConstants","PagesContentEditorCTASection.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","React","ServicesDurationUnit","ServicesTimeDurationSelector.react","SUIBusinessTheme","SUIErrorComponentUtil","SUISimplePopover.react","SUITextArea.react","SUITextInput.react","URI","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("PagesContentEditorConstants").PagesContentEditorMessageComposerSpecialTypes,k=b("React"),l="/ajax/mercury/upload.php",m=500,n=25,o=[b("ServicesDurationUnit").MINUTES,b("ServicesDurationUnit").HOURS];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:!1,hasSizeError:!1},d.$3=function(a){d.setState({hasSizeError:!1,isLoading:!1}),d.props.onSelectAttachmentType(a)},d.$4=function(a){d.$2(a);var c=d.props.pageID?new(i||(i=b("URI")))(l).addQueryData({request_user_id:d.props.pageID}).toString():new(i||(i=b("URI")))(l).toString(),e=a.target;d.$1=new(b("FileInputUploader"))(e).setURI(c);d.$1.subscribe("success",d.$5);d.$1.subscribe("failure",d.$6);d.$1.send();d.props.onImageSelect&&d.props.onImageSelect(a)},d.$5=function(a,b){d.setState({isLoading:!1}),d.props.onUploadImageSuccess(b)},d.$6=function(){d.setState({isLoading:!1}),d.props.onUploadImageFailure&&d.props.onUploadImageFailure()},d.$7=function(a){d.$2(a);var c=d.props.pageID?new(i||(i=b("URI")))(l).addQueryData({request_user_id:d.props.pageID}).toString():new(i||(i=b("URI")))(l).toString(),e=a.target;d.$1=new(b("FileInputUploader"))(e).setURI(c);d.$1.subscribe("success",d.$8);d.$1.subscribe("failure",d.$9);d.$1.send();d.props.onVideoSelect&&d.props.onVideoSelect(a)},d.$8=function(a,b){d.setState({isLoading:!1}),d.props.onUploadVideoSuccess(b)},d.$9=function(){d.setState({isLoading:!1}),d.props.onUploadVideoFailure&&d.props.onUploadVideoFailure()},d.$10=function(){d.props.onCloseAttachment(),d.setState({hasSizeError:!1,isLoading:!1})},d.$3=function(a){d.props.onSelectAttachmentType(a),d.$1&&d.$1.abort(),d.setState({hasSizeError:!1,isLoading:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){a=a.currentTarget.files;a=a&&a[0];a=a.size/1024/1024;a>n?this.setState({hasSizeError:!0}):this.setState({hasSizeError:!1,isLoading:!0})};d.$11=function(){if(!Boolean(this.props.isInboxCombinedCustomQuestionTest)||this.props.questionText===void 0)return k.jsx("span",{});var a=h._("Question #{question_index_number}",[h._param("question_index_number",this.props.index+1)]);return k.jsxs("span",{children:[k.jsx("div",{className:"_8hrv",children:k.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:a})}),k.jsx("div",{className:"_8hrn",children:k.jsx(b("SUITextInput.react"),{onChange:this.props.onQuestionTextChange,theme:b("SUIBusinessTheme"),value:this.props.questionText})})]})};d.$12=function(){var a,c=null;switch(this.props.specialType){case j.QUESTIONNAIRE_WELCOME_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireWelcomeTextError;break;case j.QUESTIONNAIRE_THANK_YOU_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireThanksTextError;break;case j.QUESTIONNAIRE_REMINDER_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireReminderError;break;case j.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:c=this.props.errors&&this.props.errors.questionnaireStopQuestionsError;break;default:c=this.props.errors&&this.props.errors.welcomeTextError;break}a={composerKey:"welcomeMessage"+((a=this.props.index)!=null?a:"")+":"+((a=this.props.numIcebreakers)!=null?a:"0"),initialDisabled:this.props.disabled===!0,initialReply:this.props.text,isAdsInterfaceSource:!1,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,maxCharacterLength:(a=this.props.textLimit)!=null?a:m,automationID:(a=this.props.automationID)!=null?a:null,pageID:this.props.pageID,placeholderText:(a=this.props.placeholderText)!=null?a:null,automationType:(a=this.props.automationType)!=null?a:null};return this.props.showPersonalization?k.jsx(p,{config:a,errorMessage:c,errorTooltipPosition:"above",messageLabel:this.props.messageLabel,onMessageChange:this.props.onMessageChange,text:this.props.text}):k.jsxs("span",{children:[k.jsxs("div",{className:"_6-b0",children:[k.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:this.props.messageLabel||h._("Text")}),k.jsx(b("FDSText.react"),{color:"secondary",size:"meta1",children:a.maxCharacterLength-this.props.text.length})]}),k.jsx("div",{className:"_6-b1",children:k.jsx(b("SUITextArea.react"),{disabled:this.props.disabled,errorMessage:c,maxLength:a.maxCharacterLength,onChange:this.props.onMessageChange,placeholder:this.props.placeholderText,shouldAutoGrow:!0,theme:b("SUIBusinessTheme"),value:this.props.text})})]})};d.$13=function(){var a;return this.props.hideAttachmentSection?null:[this.props.isInboxCombinedCustomQuestionTest?null:k.jsxs("div",{className:"_3-8z _3-95",children:[k.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Attachment (Optional)")}),k.jsx(b("SUISimplePopover.react"),{content:this.props.videoDisabled?h._("Add an image to your message."):h._("Add an image or video to your message."),theme:b("SUIBusinessTheme")})]},"AttachmentTitle"),k.jsx("div",{className:this.props.isInboxCombinedCustomQuestionTest?"_8hrw":"",children:k.jsx(b("PagesContentEditorAttachment.react"),{attachmentType:this.props.attachmentType,disabled:this.props.disabled,errors:this.props.errors,hasSizeError:this.state.hasSizeError,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,isLoading:this.state.isLoading,media:this.props.media,onAddAttachmentLinkPressed:this.props.onAddAttachmentLinkPressed,onClosePressed:this.$10,onImageSubtitleChange:this.props.onImageSubtitleChange,onImageTitleChange:this.props.onImageTitleChange,onImageUpload:this.$4,onSelectAttachmentType:this.$3,onVideoUpload:this.$7,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1},"attachment")},"AttachmentBody")]};d.$14=function(){return this.props.hideCTASection?null:[this.props.isInboxCombinedCustomQuestionTest?null:k.jsxs("div",{className:"_3-8z _3-95",children:[k.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Button (Optional)")}),k.jsx(b("SUISimplePopover.react"),{content:h._("Add a button to send people to your website."),theme:b("SUIBusinessTheme")})]},"ctaTitle"),k.jsx(b("PagesContentEditorCTASection.react"),{ctas:this.props.ctas,disabled:this.props.disabled,errors:this.props.errors,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,onAddCTA:this.props.onAddCTA,onCTATitleChange:this.props.onCTATitleChange,onCTATypeChange:this.props.onCTATypeChange,onCTAURLChange:this.props.onCTAURLChange,onRemoveCTA:this.props.onRemoveCTA,showCTATypes:this.props.showCTATypes},"ctas")]};d.$15=function(){var a;return!Boolean(this.props.showTimeSection)?null:[k.jsx(b("AdsCMFormHorizontalLine.react"),{},"horizLine"),k.jsx("div",{className:"_3-8z _3-94",children:k.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Send After")})},"timeTitle"),k.jsx("div",{className:"_6-b0 _3-95",children:k.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("How long after users drop off do you want to remind them to finish?")})},"timeSubtitle"),k.jsx(b("ServicesTimeDurationSelector.react"),{durationUnits:(a=this.props.timeDurationUnits)!=null?a:o,errorMsg:(a=this.props.errors)==null?void 0:a.timeInputError,onChange:(a=this.props.onTimeChange)!=null?a:b("emptyFunction"),value:this.props.time},"timeSelector")]};d.render=function(){return k.jsxs("div",{className:(!this.props.isInboxCombinedCustomQuestionTest&&!this.props.inDialog?"_6_oc":"")+(this.props.isInboxCombinedCustomQuestionTest?"":" _3-8-"),children:[this.$11(),this.$12(),this.$13(),this.$14(),this.$15()]})};return c}(k.PureComponent);function p(a){var c=b("SUIErrorComponentUtil").getErrorIcon(a,b("SUIBusinessTheme")),d=b("SUIErrorComponentUtil").getErrorBorderColor(a,b("SUIBusinessTheme")),e=h._("Automated Response (Optional)");return a.config.isInboxCombinedCustomQuestionTest===!0?k.jsxs("span",{children:[k.jsx("div",{className:"_8hrv",children:k.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:e})}),k.jsxs("div",{className:"_8hrx",style:{borderColor:d},children:[c?k.cloneElement(c,babelHelpers["extends"]({},b("SUIErrorComponentUtil").getErrorTooltipProps(a),{className:"_73ta"})):null,k.jsx(b("PagesReplyComposerEditorContainer.react"),{className:"_8hry",config:a.config,isInboxCombinedCustomQuestionTest:!0,onReplyChange:a.onMessageChange,welcomeString:a.text},a.config.composerKey),k.jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config})]})]}):k.jsxs("span",{children:[k.jsxs("div",{className:"_6-b0",children:[k.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:(e=a.messageLabel)!=null?e:h._("Text")}),k.jsx(b("FDSText.react"),{color:"secondary",size:"meta1",children:((e=a.config.maxCharacterLength)!=null?e:m)-a.text.length})]}),k.jsxs("div",{className:"_73t9",style:{borderColor:d},children:[c?k.cloneElement(c,babelHelpers["extends"]({},b("SUIErrorComponentUtil").getErrorTooltipProps(a),{className:"_73ta"})):null,k.jsx(b("PagesReplyComposerEditorContainer.react"),{className:"_3w-k",config:a.config,onReplyChange:a.onMessageChange,welcomeString:a.text},a.config.composerKey),k.jsx(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config})]})]})}e.exports=a}),null);
__d("PagesMarketingAutomationMessageComposer.react",["PagesContentEditorMessageComposer.react","PagesMarketingAutomationActions","React","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("media_upload_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$2=function(a){var c;c=(c=a)!=null?(c=c.response)!=null?(c=c.payload)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.image_id:c:c:c:c:c;if(c){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.src:a:a:a:a:a;if(a){c={id:c,url:a,type:"image",class_name:"EntBusinessMessageWithItems"};b("PagesMarketingAutomationActions").updateMedia(c);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,c)}}},d.$3=function(a){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("media_upload_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$4=function(a){var c;c=(c=a)!=null?(c=c.response)!=null?(c=c.payload)!=null?(c=c.metadata)!=null?(c=c[0])!=null?c.video_id:c:c:c:c:c;if(c){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.thumbnail_src:a:a:a:a:a;if(a){c={id:c,url:a,type:"video",class_name:"EntBusinessMessageWithItems"};b("PagesMarketingAutomationActions").updateMedia(c);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,c)}}},d.$5=function(){var a;new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("remove_attachment_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();b("PagesMarketingAutomationActions").updateAttachmentType(null);b("PagesMarketingAutomationActions").updateMedia(null);d.props.onIndexedMediaChange&&d.props.onIndexedMediaChange((a=d.props.index)!=null?a:0,null)},d.$6=function(){var a;b("PagesMarketingAutomationActions").updateAttachmentType("image");d.props.onIndexedMediaTypeChange&&d.props.onIndexedMediaTypeChange((a=d.props.index)!=null?a:0,"image")},d.$7=function(a){var c;new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("format_change_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();b("PagesMarketingAutomationActions").updateAttachmentType(a);d.props.onIndexedMediaTypeChange&&d.props.onIndexedMediaTypeChange((c=d.props.index)!=null?c:0,a)},d.$8=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].content=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$9=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].type=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$10=function(a,c){if(!d.props.ctas)return;var e=d.props.ctas.slice();e[a].url=c;b("PagesMarketingAutomationActions").updateCTAs(e);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,e)},d.$11=function(a){if(!d.props.ctas)return;var c=d.props.ctas.slice(0);c.splice(a,1);b("PagesMarketingAutomationActions").updateCTAs(c);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((a=d.props.index)!=null?a:0,c)},d.$12=function(){var a=d.props.ctas&&d.props.ctas.slice();new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("add_button_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log();var c={content:"",url:"",type:"button"};if(a){var e;a.push(c);b("PagesMarketingAutomationActions").updateCTAs(a);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((e=d.props.index)!=null?e:0,a)}else{b("PagesMarketingAutomationActions").updateCTAs([c]);d.props.onIndexedCTAChange&&d.props.onIndexedCTAChange((e=d.props.index)!=null?e:0,[c])}},d.$13=function(a){var b;d.props.onMessageChange((b=d.props.index)!=null?b:0,a)},d.$14=function(a){var b;d.props.onIndexedQuestionChange&&d.props.onIndexedQuestionChange((b=d.props.index)!=null?b:0,a)},d.$15=function(a){var b;d.props.onIndexedTimeChange&&d.props.onIndexedTimeChange((b=d.props.index)!=null?b:0,(b=a)!=null?b:0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;return g.jsx(b("PagesContentEditorMessageComposer.react"),{attachmentType:this.props.attachmentType,automationID:this.props.automationID,automationType:this.props.automationType,ctas:this.props.ctas,errors:this.props.errors,hideAttachmentSection:this.props.hideAttachmentSection,hideCTASection:this.props.hideCTASection,inDialog:this.props.inDialog,index:this.props.index,isInboxCombinedCustomQuestionTest:this.props.isInboxCombinedCustomQuestionTest,media:this.props.media,messageLabel:this.props.messageLabel,numIcebreakers:this.props.numIcebreakers,onAddAttachmentLinkPressed:this.$6,onAddCTA:this.$12,onCTATitleChange:this.$8,onCTATypeChange:this.$9,onCTAURLChange:this.$10,onCloseAttachment:this.$5,onImageSelect:this.$1,onMessageChange:this.$13,onQuestionTextChange:this.$14,onRemoveCTA:this.$11,onSelectAttachmentType:this.$7,onTimeChange:this.$15,onUploadImageSuccess:this.$2,onUploadVideoSuccess:this.$4,onVideoSelect:this.$3,pageID:this.props.pageID,placeholderText:this.props.placeholderText,questionText:this.props.questionText,showCTATypes:this.props.showCTATypes,showPersonalization:this.props.showPersonalization,showTimeSection:this.props.showTimeSection,specialType:this.props.specialType,text:this.props.welcomeText,textLimit:this.props.textLimit,time:this.props.time,timeDurationUnits:this.props.timeDurationUnits,videoDisabled:(a=this.props.videoDisabled)!=null?a:!1})};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFAQConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Frequently Asked Questions");b=g._("Suggest questions people can ask your Page. Then set up automated responses to those questions.");c=g._("Automated responses are sent instantly after someone taps a question.");d=g._("Note: Frequently asked questions will appear at the beginning of a conversation with your Page. You can also choose to add these questions to a menu which people can access throughout the entire conversation.");f=g._("Questions and Responses");var h=g._("A maximum of four frequently asked questions can be displayed at the beginning of a conversation. You can add up to five questions to a menu which people can access throughout the conversation."),i=g._("Add to Menu"),j=g._("People messaging you will be able to access this question throughout the conversation."),k=g._("Replace persistent menu?"),l=g._("You've already used an API to create a persistent menu. Adding this question will replace the current options in your persistent menu."),m=g._("Replace"),n=g._("Maximum Questions Reached"),o=g._("You may only add up to five questions to the menu."),p=g._("Questions");g=g._("Menu");e.exports={FAQ_AUTO_RESPONSE_TOGGLE_TITLE:a,FAQ_EDIT_VIEW_INTRO:b,FAQ_TIMING_WHEN:c,FAQ_TIMING_NOTE:d,FAQ_EDITOR_CARD_TITLE:f,FAQ_EDITOR_CARD_DESCRIPTION:h,FAQ_MENU_TOGGLE_TITLE:i,FAQ_MENU_TOGGLE_DESCRIPTION:j,FAQ_MENU_REPLACE_WARN_TITLE:k,FAQ_MENU_REPLACE_WARN_DESCRIPTION:l,FAQ_MENU_REPLACE_CTA_TITLE:m,FAQ_MENU_ERROR_MAX_LIMIT_REACHED_TITLE:n,FAQ_MENU_ERROR_MAX_LIMIT_REACHED_DESCRIPTION:o,FAQ_PREVIEW_TAB_QUESTIONS:p,FAQ_PREVIEW_TAB_MENU:g}}),null);
__d("PagesManagerInboxSettingToggleRow.react",["cx","FDSSwitch.react","FDSText.react","FlexLayout.react","PagesManagerInboxFAQConstants","React","XUIError.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesManagerInboxFAQConstants").FAQ_MENU_ERROR_MAX_LIMIT_REACHED_DESCRIPTION,i=b("React"),j=5;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isOn:c.props.isOn,shouldShowError:!1},c.$1=function(){if(!c.state.isOn&&Number(c.props.numCustomQuestionsInMenu)>=j){c.setState({shouldShowError:!0});return}c.setState(function(a){return{isOn:!a.isOn,shouldShowError:!1}});c.props.onToggleChange&&c.props.onToggleChange(!c.state.isOn)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.isDisabled,d=a.title;a=a.subtitle;c=i.jsx(b("FDSSwitch.react"),{isDisabled:c,label:"",labelIsHidden:!0,onChange:this.$1,value:this.state.isOn});return i.jsx(b("XUIError.react"),{xuiError:this.state.shouldShowError?h:null,children:i.jsxs(b("FlexLayout.react"),{className:this.state.shouldShowError?"_8jo4":this.props.className,justify:"all",children:[i.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[d!=null?i.jsx(b("FDSText.react"),{color:"primary",margin:"_3-94",size:"body2",weight:"bold",children:d}):null,a!=null?i.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:a}):null]}),i.jsx(b("FlexLayout.react"),{className:"_8g_e",children:c})]})})};return c}(i.PureComponent);a.defaultProps={isDisabled:!1};e.exports=a}),null);
__d("CustomQuestionsRichResponseComposer.react",["ix","cx","fbt","Image.react","PagesManagerInboxFAQConstants","PagesManagerInboxSettingToggleRow.react","PagesMarketingAutomationMessageComposer.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("PagesManagerInboxFAQConstants").FAQ_MENU_TOGGLE_DESCRIPTION,k=b("PagesManagerInboxFAQConstants").FAQ_MENU_TOGGLE_TITLE,l=b("React"),m=i._("Enter the answer to this question");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMaxLengthHidden:!1,isSelected:!1,media:c.props.icebreaker.response_media_attachment},c.$1=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"custom_question")},c.$2=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"saved_response")},c.$3=function(a,b){c.props.onIceBreakerChange(c.props.index,b,"response_ctas")},c.$4=function(a,b){c.setState({media:b}),c.props.onIceBreakerChange(c.props.index,b,"response_media_attachment")},c.$5=function(a,b){a=c.state.media;a===void 0||a===null||a.type!==b?c.props.onIceBreakerChange(c.props.index,{id:null,url:null,type:b,class_name:null},"response_media_attachment"):c.props.onIceBreakerChange(c.props.index,{id:a.id,url:a.url,type:b,class_name:a.class_name},"response_media_attachment")},c.$6=function(a){c.props.onIceBreakerChange(c.props.index,a,"should_show_in_menu")},c.$7=function(){c.props.onRemoveIceBreaker(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a;return l.jsxs("div",{className:"_8j4r",children:[l.jsx("div",{className:"_8j4p",children:l.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:(a=(a=this.props.icebreaker.response_media_attachment)==null?void 0:a.type)!=null?a:null,automationID:"0",ctas:this.props.icebreaker.response_ctas,errors:null,hideAttachmentSection:!1,hideCTASection:!1,index:this.props.index,isInboxCombinedCustomQuestionTest:!0,isWelcomeTextIntialized:this.props.icebreaker.saved_response.length>0,media:this.props.icebreaker.response_media_attachment,numIcebreakers:this.props.numIcebreakers,onIndexedCTAChange:this.$3,onIndexedMediaChange:this.$4,onIndexedMediaTypeChange:this.$5,onIndexedQuestionChange:this.$1,onMessageChange:this.$2,pageID:this.props.pageID,questionText:this.props.icebreaker.custom_question,showPersonalization:!0,showTimeSection:!1,welcomeText:(a=this.props.icebreaker.saved_response)!=null?a:m})}),this.props.showRemove&&l.jsx(b("Image.react"),{onClick:this.$7,src:g("515976"),style:{position:"absolute",top:12,right:12,cursor:"pointer"}}),l.jsx(b("PagesManagerInboxSettingToggleRow.react"),{className:"_8j4o",isOn:(a=this.props.icebreaker.should_show_in_menu)!=null?a:!1,numCustomQuestionsInMenu:this.props.numCustomQuestionsInMenu,onToggleChange:this.$6,subtitle:j,title:k},"total"+this.props.numCustomQuestionsInMenu+"toggle"+this.props.index+String(this.props.icebreaker.should_show_in_menu))]})};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAccordion.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isExpanded:c.props.initialExpanded},c.$1=function(){(c.props.disableCollapse!==!0||!c.state.isExpanded)&&c.setState(function(a,b){return{isExpanded:!a.isExpanded}}),c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){a.forceOpen!==this.props.forceOpen&&this.props.forceOpen===!0&&this.state.isExpanded===!1&&this.setState({isExpanded:!0})};d.render=function(){var a=!this.state.isExpanded&&this.props.collapsedHeader!==void 0?this.props.collapsedHeader:this.props.header;return h.jsxs("div",{className:this.props.className,children:[h.jsx(b("Link.react"),{className:"_6q2e"+(this.props.useDefaultCursor===!0?" _6_nb":""),onClick:this.$1,children:a}),this.state.isExpanded?this.props.children:null]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerComposerSectionCard.react",["ix","cx","BUISwitch.react","FDSText.react","Image.react","PagesManagerInboxAccordion.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){return i.jsxs("div",{className:"_6_od",children:[a.leftIcon,i.jsxs("div",{className:"_6_oe",children:[i.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:a.header}),i.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.subtitle})]}),a.isCollapsible?a.useCollapseToggleSwitch===!0?i.jsx(b("BUISwitch.react"),{value:!a.isCollapsed}):i.jsx(b("Image.react"),{className:"_6vpp",src:a.isCollapsed?g("504840"):g("566392")}):null,Boolean(a.isRemoveable)?i.jsx(b("Image.react"),{className:"_6vpp",onClick:a.onRemoveMessage,src:g("478237")}):null]})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){var a;c.props.onRemoveMessage&&c.props.onRemoveMessage((a=c.props.index)!=null?a:0)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_6arn",children:i.jsx(b("PagesManagerInboxAccordion.react"),{children:this.props.body,collapsedHeader:i.jsx(j,{header:this.props.header,isCollapsed:!0,isCollapsible:this.props.isCollapsible,isRemoveable:this.props.isRemoveable,leftIcon:this.props.leftIcon,onRemoveMessage:this.$1,subtitle:this.props.collapsedSubtitle!==void 0?this.props.collapsedSubtitle:this.props.subtitle,useCollapseToggleSwitch:this.props.useCollapseToggleSwitch}),disableCollapse:!this.props.isCollapsible,forceOpen:!!this.props.forceOpen,header:i.jsx(j,{header:this.props.header,isCollapsed:!1,isCollapsible:this.props.isCollapsible,isRemoveable:this.props.isRemoveable,leftIcon:this.props.leftIcon,onRemoveMessage:this.$1,subtitle:this.props.subtitle,useCollapseToggleSwitch:this.props.useCollapseToggleSwitch}),initialExpanded:this.props.isCollapsible?!!this.props.initialExpanded:!0,onClick:this.props.onClick,useDefaultCursor:!this.props.isCollapsible})})};return c}(i.PureComponent);e.exports=a}),null);
__d("IcebreakerComposerSectionCard.react",["ix","cx","fbt","AdCampaignDestination","AdsUEditorAdgroupMessengerFAQContentIceBreaker.react","CustomQuestionsRichResponseComposer.react","Image.react","PagesManagerComposerSectionCard.react","PagesManagerInboxFAQConstants","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","React","ShimButton.react","SUIBusinessThemeContainer.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("PagesManagerInboxFAQConstants").FAQ_EDITOR_CARD_DESCRIPTION,k=b("React");a=b("React");c=a.PureComponent;d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=c.props.icebreakers[a];return a.saved_response},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){return this.props.icebreakers.filter(function(a){return Boolean(a.should_show_in_menu)}).length};d.render=function(){var a=this,c="icebreaker_preview";b("PagesReplyComposerActions").getActionsByKey(c).initializeStoreWithConfig({composerKey:c,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:""});b("PagesReplyComposerDispatcher").getByKey(c).explicitlyRegisterStore(b("PagesReplyComposerStore").getByKey(c));var d=b("PagesReplyComposerStore").getByKey("MessengerJSONPreview").getState();c=this.props.icebreakers.map(function(c,e){c=k.jsx("div",{className:"_89o1",children:k.jsx(b("SUIBusinessThemeContainer.react"),{children:a.props.isInboxCombinedCustomQuestionTest?k.jsx(b("CustomQuestionsRichResponseComposer.react"),{composerState:d,icebreaker:c,index:e,numCustomQuestionsInMenu:a.$2(),numIcebreakers:a.props.icebreakers.length,onIceBreakerChange:a.props.onCustomQuestionRichMessageChange,onRemoveIceBreaker:a.props.onDeleteIcebreaker,pageID:a.props.pageID,showRemove:a.props.icebreakers.length>a.props.minIcebreakers}):k.jsx(b("AdsUEditorAdgroupMessengerFAQContentIceBreaker.react"),{composerState:d,destinationType:b("AdCampaignDestination").MESSENGER,errorSpec:null,getResponseText:a.$1,index:e,isNamesARTest:!0,isUnifiedCreation:!1,onIceBreakerChange:a.props.onIceBreakerChange,onRemoveIceBreaker:a.props.onDeleteIcebreaker,pageID:a.props.pageID,showRemove:a.props.icebreakers.length>a.props.minIcebreakers,value:{title:c.custom_question,response:c.saved_response}})})},"question"+e);return c});var e=i._("+ Add a Question");e=!this.props.icebreakers||!this.props.disableAddRow?k.jsx(b("ShimButton.react"),{className:"_89f2"+(this.props.isInboxCombinedCustomQuestionTest?" _8jmh":""),onClick:this.props.onAddRow,children:e}):null;c=k.jsxs("div",{className:"_6_oc",children:[c,e]});return k.jsx(b("PagesManagerComposerSectionCard.react"),{body:c,header:i._("Questions and Responses"),isCollapsible:!1,leftIcon:k.jsx("div",{className:"_6as2 _6as8",children:k.jsx(b("Image.react"),{src:g("561662")})}),subtitle:this.props.isInboxCombinedCustomQuestionTest?j:i._("Suggest questions for people to tap, then set up automated responses to those questions. People will only see 2 to 4 questions, depending on how many you write. If you add more than 4, the questions shown will be selected randomly.")})};return c}(c);e.exports=d}),null);
__d("IcebreakerFreeTextEditor.react",["IcebreakerComposerSectionCard.react","PagesMarketingAutomationActions","PagesMarketingAutomationContentView.react","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers,h=b("React");a=b("React");c=a.PureComponent;var i=100,j=2,k=5;d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.icebreakers.length<i){var a=d.props.icebreakers.concat([{custom_question:"",saved_response:"",response_ctas:[],should_show_in_menu:d.props.icebreakers.filter(function(a){return Boolean(a.should_show_in_menu)}).length<k}]);b("PagesMarketingAutomationActions").updateIcebreakers(a)}},d.$2=function(a){var c=d.props.icebreakers.filter(function(b,c){return c!==a});b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(c));b("PagesMarketingAutomationActions").updateIcebreakers(c)},d.$3=function(a,c,e){var f=d.props.icebreakers,h=f.map(function(b,d){if(d===a)if(e==="title"){return{custom_question:(d=c)!=null?d:"",saved_response:(d=b.saved_response)!=null?d:"",response_ctas:[]}}else{return{custom_question:(d=b.custom_question)!=null?d:"",saved_response:(d=c)!=null?d:"",response_ctas:[]}}else return b});b("PagesMarketingAutomationActions").updateIcebreakers(h);e==="title"&&(f[a].custom_question.trim()===""||c==="")&&b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(h))},d.$4=function(a,c,e){var f=d.props.icebreakers,h=f.map(function(b,d){var f;f={custom_question:b.custom_question,saved_response:b.saved_response,response_ctas:(f=b.response_ctas)!=null?f:[],response_media_attachment:(f=b.response_media_attachment)!=null?f:null,should_show_in_menu:(f=b.should_show_in_menu)!=null?f:!1};if(d===a)if(e==="custom_question"){f.custom_question=typeof c==="string"?c:(d=b.custom_question)!=null?d:""}else if(e==="saved_response"){f.saved_response=typeof c==="string"?c:(d=b.saved_response)!=null?d:""}else if(e==="response_ctas"){f.response_ctas=c instanceof Array?c:(d=b.response_ctas)!=null?d:[]}else if(e==="response_media_attachment"){f.response_media_attachment=typeof c!=="boolean"&&typeof c!=="string"&&!(c instanceof Array)?c:(d=b.response_media_attachment)!=null?d:null}else{f.should_show_in_menu=typeof c==="boolean"?c:(d=b.should_show_in_menu)!=null?d:!1}return f});b("PagesMarketingAutomationActions").updateIcebreakers(h);e==="custom_question"&&(f[a].custom_question.trim()===""||c==="")&&b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(g(h))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.icebreakers,c=Boolean(this.props.isInboxCombinedCustomQuestionTest);a=h.jsx(b("IcebreakerComposerSectionCard.react"),{disableAddRow:a.length>=i,disableSave:a.length<j,icebreakers:a,isInboxCombinedCustomQuestionTest:c,minIcebreakers:j,onAddRow:this.$1,onCustomQuestionRichMessageChange:c?this.$4:b("emptyFunction"),onDeleteIcebreaker:this.$2,onIceBreakerChange:c?b("emptyFunction"):this.$3,pageID:this.props.pageID});return a};return c}(c);e.exports=d}),null);
__d("PagesAutomatedQuestionnairePrivacyPolicyItem.react",["cx","fbt","FDSText.react","PagesMarketingAutomationUtils","React","SUIBusinessTheme","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onInputChange=function(a){c.props.onQuestionnairePrivacyPolicyURLChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.questionnairePrivacyPolicyURL,c=b("PagesMarketingAutomationUtils").getQuestionnairePrivacyPolicyURLError(a);return i.jsxs("div",{className:"_3-8- _6_oc",children:[i.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Privacy Policy URL")}),i.jsx("div",{className:"_3-8n",children:i.jsx(b("SUITextInput.react"),{errorMessage:c,onChange:this.onInputChange,placeholder:(c=this.props.placeHolder)!=null?c:"https://www.yourprivacypolicy.com/",theme:b("SUIBusinessTheme"),value:a})})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesTimeRangeEditorTypes",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=[g._("Sunday").toString(),g._("Monday").toString(),g._("Tuesday").toString(),g._("Wednesday").toString(),g._("Thursday").toString(),g._("Friday").toString(),g._("Saturday").toString()];e.exports={DAY_OF_WEEK_TO_STRING:a}}),null);
__d("PagesTimeRangeEditorUtilities",["fbt","invariant","AdsTimezone","DateTime","PagesTimeRangeEditorTypes","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesTimeRangeEditorTypes").DAY_OF_WEEK_TO_STRING,j=b("immutable").List,k=b("immutable").Set,l=24,m=3600,n=l*m,o=7,p={getInvalidWeekdaySelectionMessage:function(){return g._("You must select at least one day.")},getInvalidTimezoneMessage:function(){return g._("You must provide a time zone.")},getTimezoneID:function(a){if(a===null||a===void 0||a==="")return-1;var c=b("AdsTimezone").sortedTimezones.find(function(b){return b.name===a});return c?c.id:-1},getTimezoneName:function(a){var c=b("AdsTimezone").sortedTimezones.find(function(b){return b.id===a});c||h(0,3195);return c.name},getTimeRangesFromJson:function(a){a=JSON.parse(a);return j(a.map(function(a){a.weekdays=k(a.weekdays);return a}))},getDateFromSecInDay:function(a,c){c=b("DateTime").now(c).startOfDay();return c.addSeconds(a)},getIsRequestTimeInAwayTimeRange:function(a,c){return this.isTimeInAwayTimeRange(b("DateTime").now(this.getTimezoneID(a)),a,c)},isTimeInAwayTimeRange:function(a,b,c){b=a.getDayOfWeek();b=this.getAwayTimeBracketsForWeekday(b,c);for(var c=0;c<b.size;c++){var d=b.get(c),e=a.startOfDay().addSeconds(d.from);d=a.startOfDay().addSeconds(d.to);if(a.isAfter(e)&&a.isBefore(d))return!0}return!1},getAwayTimeBracketsForWeekday:function(a,b){b=p.splitOverNightTimeRanges(b);b=b.filter(function(b){return b.weekdays.contains(a)&&b.isRecurrent}).sort(function(a,b){return a.fromSecInDay-b.fromSecInDay});var c=[];for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=c.length>0?c[c.length-1]:null;g&&g.to>=f.fromSecInDay?g.to=Math.max(g.to,f.toSecInDay):c.push({from:f.fromSecInDay,to:f.toSecInDay})}return j(c)},splitOverNightTimeRanges:function(a){var b=[];a.map(function(a){if(!a.isRecurrent||a.fromSecInDay<a.toSecInDay){b.push(a);return}b.push({id:a.id,isRecurrent:!0,weekdays:a.weekdays,fromSecInDay:a.fromSecInDay,toSecInDay:n,date:0});b.push({id:a.id+"_overnight",isRecurrent:!0,weekdays:k(a.weekdays.map(function(a){return(a+1)%o})),fromSecInDay:0,toSecInDay:a.toSecInDay,date:0})});return j(b)},getReversedTimeBrackets:function(a){a=a.sort(function(a,b){return a.from-b.from});var b=0,c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b<f.from&&c.push({from:b,to:f.from});b=f.to}f=m*l;b<f&&c.push({from:b,to:f});return j(c)},getFormatedTime:function(a,b,c){var d=i[a.getDayOfWeek()],e=a.format("g:iA");if(c===!0)return e;b.getDayOfYear()===a.getDayOfYear()?d=g._("today").toString():b.getDayOfYear()+1===a.getDayOfYear()&&(d=g._("tomorrow").toString());return e+" "+d}};e.exports=p}),null);
__d("PagesAutomatedResponsesAwayScheduleDetail.react",["cx","fbt","DateTime","FDSText.react","FluxContainer","PagesMarketingAutomationStore","PagesTimeRangeEditorTypes","PagesTimeRangeEditorUtilities","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesTimeRangeEditorTypes").DAY_OF_WEEK_TO_STRING,j=b("React"),k=86400;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.calculateState=function(a,c){return{awayTimeZone:b("PagesMarketingAutomationStore").getAwayTimeZone(),awayTimeRanges:b("PagesMarketingAutomationStore").getAwayTimeRanges()}};c.getStores=function(){return[b("PagesMarketingAutomationStore")]};var d=c.prototype;d.$1=function(a){return a==null?null:a.replace("_"," ")};d.render=function(){var a=this;if(!this.props.isShown)return null;var c=j.jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x",size:"body1",children:h._("You can manually make your Page away in Inbox or schedule times for your Page to be away each week.")});if(this.state.awayTimeRanges&&!this.state.awayTimeRanges.isEmpty()){var d=[],e=function(c){var e=b("PagesTimeRangeEditorUtilities").getAwayTimeBracketsForWeekday(c,a.state.awayTimeRanges);e=e.map(function(d,e){if(a.state.awayTimeZone===null)return null;var f=b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone);if(f===-1)return null;f=b("DateTime").now(b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone)).startOfDay().addSeconds(d.from===k?d.from-1:d.from);d=b("DateTime").now(b("PagesTimeRangeEditorUtilities").getTimezoneID(a.state.awayTimeZone)).startOfDay().addSeconds(d.to===k?d.to-1:d.to);return d.equals(f)?null:j.jsxs("div",{className:"_7nhj",children:[f.format("g:iA")," - ",d.format("g:iA")]},"index"+e+"_w"+c)}).filter(function(a){return a!==null});d.push(j.jsxs("div",{className:"_7nhk",children:[j.jsxs("div",{children:[i[c],": "]}),j.jsx("div",{children:e.size>0?e:h._("None")})]},"weekday"+c))};for(var f=0;f<7;f++)e(f);c=j.jsxs("div",{children:[j.jsxs(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-95",size:"body2",children:[h._("Time zone:")," ",this.$1(this.state.awayTimeZone)]}),d]})}return j.jsxs("div",{className:"_20nr",children:[j.jsx(b("FDSText.react"),{display:"block",margin:"_3-95 _3-8y",size:"header3",weight:"bold",children:h._("Schedule")}),c]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesTimeRangeEditorDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!0})}),null);
__d("PagesTimeRangeEditorActions",["PagesTimeRangeEditorDispatcher","keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirrorRecursive")({INITIALIZE_TIME_RANGES:null,INITIALIZE_TIMEZONE:null,TOGGLE_WEEKDAY:null,TOGGLE_RECURRENCE:null,ADD_ENTRY:null,DELETE_ENTRY:null,SET_TIME_IN_DAY:null,SET_DATE:null,SET_TIMEZONE:null}),h={ActionTypes:g,initializeTimeRanges:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.INITIALIZE_TIME_RANGES,timeRanges:a})},initializeTimezone:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.INITIALIZE_TIMEZONE,timezoneName:a})},toggleWeekday:function(a,c){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.TOGGLE_WEEKDAY,id:a,weekday:c})},toggleRecurrence:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.TOGGLE_RECURRENCE,id:a})},addTimeRange:function(){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.ADD_ENTRY})},deleteTimeRange:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.DELETE_ENTRY,id:a})},setStartTime:function(a,b){h._setTimeInDay(a,b,!0)},setEndTime:function(a,b){h._setTimeInDay(a,b,!1)},setDate:function(a,c){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.SET_DATE,id:a,date:c})},setTimezone:function(a){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.SET_TIMEZONE,timezoneName:a})},_setTimeInDay:function(a,c,d){b("PagesTimeRangeEditorDispatcher").dispatch({actionType:g.SET_TIME_IN_DAY,id:a,time:c,isStartTime:d})}};e.exports=h}),null);
__d("PagesTimeRangeEditorAddButton.react",["ix","fbt","Image.react","PagesTimeRangeEditorActions","React","XUIButton.react","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a.stopPropagation(),b("PagesTimeRangeEditorActions").addTimeRange()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return i.jsx(b("XUIButton.react"),{className:this.props.className,onClick:this.$1,image:i.jsx(b("Image.react"),{src:g("142643")}),size:"large",label:h._("Add Time")})};return c}(i.Component);e.exports=a}),null);
__d("PagesTimeRangeEditorEmptyView.react",["cx","fbt","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx("div",{className:b("joinClasses")(this.props.className,"_3a1t"),children:h._("Schedule times for your Page to be away each week.")})};return c}(i.Component);e.exports=a}),null);
__d("PagesTimeRangeEditorStore",["invariant","PagesTimeRangeEditorActions","PagesTimeRangeEditorDispatcher","FluxStore","immutable","PagesTimeRangeEditorUtilities","guid"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesTimeRangeEditorActions").ActionTypes,i=b("immutable").List,j=b("immutable").Set;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesTimeRangeEditorDispatcher"))||this;c.$PagesTimeRangeEditorStore1=i([]);c.$PagesTimeRangeEditorStore3=new Map();c.$PagesTimeRangeEditorStore4=new Map();c.$PagesTimeRangeEditorStore5=!1;return c}var d=c.prototype;d.getTimeRanges=function(){return this.$PagesTimeRangeEditorStore1};d.getEditingID=function(){return this.$PagesTimeRangeEditorStore2};d.getHasValidationFailure=function(){return this.$PagesTimeRangeEditorStore5};d.getTimeRangeErrorMessage=function(a,b){if(this.$PagesTimeRangeEditorStore3.has(a)){a=this.$PagesTimeRangeEditorStore3.get(a);a||g(0,4207);return a.get(b)}return null};d.getFieldErrorMessage=function(a){return this.$PagesTimeRangeEditorStore4.get(a)};d.getTimezoneName=function(){var a=this.$PagesTimeRangeEditorStore6;a||g(0,4208);return a};d.$PagesTimeRangeEditorStore7=function(){return{id:b("guid")(),isRecurrent:!0,weekdays:j([]),fromSecInDay:0,toSecInDay:86399,date:Math.floor(Date.now()/1e3)}};d.__onDispatch=function(a){var b=a.actionType,c=!0;switch(b){case h.ADD_ENTRY:this.$PagesTimeRangeEditorStore1=this.$PagesTimeRangeEditorStore1.concat(this.$PagesTimeRangeEditorStore7());this.$PagesTimeRangeEditorStore8();break;case h.INITIALIZE_TIMEZONE:this.$PagesTimeRangeEditorStore6=a.timezoneName;this.$PagesTimeRangeEditorStore8();break;case h.TOGGLE_RECURRENCE:this.$PagesTimeRangeEditorStore9(a.id);break;case h.TOGGLE_WEEKDAY:this.$PagesTimeRangeEditorStore10(a.id,a.weekday);this.$PagesTimeRangeEditorStore8();break;case h.DELETE_ENTRY:this.$PagesTimeRangeEditorStore11(a.id);this.$PagesTimeRangeEditorStore8();break;case h.SET_TIME_IN_DAY:this.$PagesTimeRangeEditorStore12(a.id,a.time,a.isStartTime);this.$PagesTimeRangeEditorStore8();break;case h.SET_DATE:this.$PagesTimeRangeEditorStore13(a.id,a.date);break;case h.INITIALIZE_TIME_RANGES:this.$PagesTimeRangeEditorStore14(a.timeRanges);this.$PagesTimeRangeEditorStore8();break;case h.SET_TIMEZONE:this.$PagesTimeRangeEditorStore6=a.timezoneName;this.$PagesTimeRangeEditorStore8();break;default:c=!1;break}c&&this.__emitChange()};d.$PagesTimeRangeEditorStore15=function(a){var b=this.$PagesTimeRangeEditorStore1.find(function(b){return b.id===a});b||g(0,4209);return b};d.$PagesTimeRangeEditorStore16=function(a){var b=Object.assign({},a);this.$PagesTimeRangeEditorStore1=this.$PagesTimeRangeEditorStore1.splice(this.$PagesTimeRangeEditorStore1.indexOf(a),1,b)};d.$PagesTimeRangeEditorStore11=function(a){this.$PagesTimeRangeEditorStore1=this.$PagesTimeRangeEditorStore1["delete"](this.$PagesTimeRangeEditorStore1.indexOf(this.$PagesTimeRangeEditorStore15(a)))};d.$PagesTimeRangeEditorStore9=function(a){a=this.$PagesTimeRangeEditorStore15(a);a.isRecurrent=!a.isRecurrent;this.$PagesTimeRangeEditorStore16(a)};d.$PagesTimeRangeEditorStore10=function(a,b){a=this.$PagesTimeRangeEditorStore15(a);var c=a.weekdays;c.has(b)?a.weekdays=c.remove(b):a.weekdays=c.add(b);this.$PagesTimeRangeEditorStore16(a)};d.$PagesTimeRangeEditorStore12=function(a,b,c){a=this.$PagesTimeRangeEditorStore15(a);c?a.fromSecInDay=b:a.toSecInDay=b;this.$PagesTimeRangeEditorStore16(a)};d.$PagesTimeRangeEditorStore13=function(a,b){a=this.$PagesTimeRangeEditorStore15(a);a.date=b.getUnixTimestampSeconds();this.$PagesTimeRangeEditorStore16(a)};d.$PagesTimeRangeEditorStore17=function(a){return i(a.map(function(a){return Object.assign({},a)}))};d.$PagesTimeRangeEditorStore14=function(a){this.$PagesTimeRangeEditorStore1=this.$PagesTimeRangeEditorStore17(a)};d.$PagesTimeRangeEditorStore18=function(){var a=this;this.$PagesTimeRangeEditorStore3.clear();this.$PagesTimeRangeEditorStore1.map(function(c){var d=new Map();a.$PagesTimeRangeEditorStore3.set(c.id,d);c.weekdays.isEmpty()&&(d.set("weekdayPicker",b("PagesTimeRangeEditorUtilities").getInvalidWeekdaySelectionMessage()),a.$PagesTimeRangeEditorStore5=!0)})};d.$PagesTimeRangeEditorStore19=function(){this.$PagesTimeRangeEditorStore4.clear(),this.$PagesTimeRangeEditorStore6||(this.$PagesTimeRangeEditorStore5=!0,this.$PagesTimeRangeEditorStore4.set("timezone",b("PagesTimeRangeEditorUtilities").getInvalidTimezoneMessage()))};d.$PagesTimeRangeEditorStore8=function(){this.$PagesTimeRangeEditorStore5=!1,this.$PagesTimeRangeEditorStore18(),this.$PagesTimeRangeEditorStore19()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesTimeRangeEditorDeleteButton.react",["ix","Image.react","React","ShimButton.react","fbglyph"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("ShimButton.react"),{className:this.props.className,onClick:this.props.onClick,children:h.jsx(b("Image.react"),{src:g("130092")})})};return c}(h.Component);e.exports=a}),null);
__d("PagesTimeRangeEditorErrorContainer.react",["cx","FluxContainer","PagesTimeRangeEditorStore","React","XUIError.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesTimeRangeEditorStore")]};c.calculateState=function(a,c){return{errorMessage:c.timeRangeKey!==null&&c.timeRangeKey!==void 0&&c.timeRangeKey!==""?b("PagesTimeRangeEditorStore").getTimeRangeErrorMessage(c.timeRangeKey,c.validationKey):b("PagesTimeRangeEditorStore").getFieldErrorMessage(c.validationKey)}};var d=c.prototype;d.render=function(){return h.jsx(b("XUIError.react"),{xuiError:this.state.errorMessage,className:"_24mu",children:this.props.children})};return c}(h.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesTimeRangeEditorTimePicker.react",["cx","fbt","ix","AbstractTimeInput.react","Image.react","React","TimeOfDay","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=3600,l=babelHelpers["extends"]({},b("AbstractTimeInput.react").defaultProps.classNames,{columnClassNames:babelHelpers["extends"]({},b("AbstractTimeInput.react").defaultProps.classNames.columnClassNames,{column:"_4nww _3zhh",columnValue:"_4nx3 _3zhi",focused:"_3zhj"}),disabled:"_4nx6 _3zhl",focused:"_3zhm",space:"_4nxh _3zhn"});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a=a?a.toSecondOfDay():0;c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isOvernight?h._("This time range starts and ends on different days"):null;return j.jsx(b("AbstractTimeInput.react"),{className:b("joinClasses")(this.props.className,"_3zi2"),classNames:l,icon:this.$2(),disabled:!1,onChangeValueAttempt:this.$1,value:b("TimeOfDay").fromSecondOfDay(this.props.value),"aria-label":a,"data-hover":"tooltip","data-tooltip-content":a})};d.$2=function(){var a=null;this.props.value>=6*k&&this.props.value<18*k?a=i("95368"):a=i("94912");return j.jsx(b("Image.react"),{src:a})};return c}(j.Component);e.exports=a}),null);
__d("PagesTimeRangeWeekdayPickerView.react",["cx","fbt","MultiToggleButtonGroup.react","React","XUIError.react","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("immutable").List;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;var c=[{label:h._("S"),value:0},{label:h._("M"),value:1},{label:h._("T"),value:2},{label:h._("W"),value:3},{label:h._("T"),value:4},{label:h._("F"),value:5},{label:h._("S"),value:6}];b.$1=j(c);return b}var d=c.prototype;d.render=function(){return i.jsx(b("XUIError.react"),{children:i.jsx(b("MultiToggleButtonGroup.react"),{className:b("joinClasses")("_3oqo",this.props.className),options:this.$1,selectedOptions:this.props.selectedDays,onOptionClicked:this.props.onOptionClicked})})};return c}(i.Component);e.exports=a}),null);
__d("PagesTimeRangeEntryEditorView.react",["cx","PagesTimeRangeEditorDeleteButton.react","PagesTimeRangeEditorErrorContainer.react","PagesTimeRangeEditorTimePicker.react","PagesTimeRangeWeekdayPickerView.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onToggleWeekday(c.props.timeRange.id,a)},c.$2=function(){c.props.onDelete(c.props.timeRange.id)},c.$3=function(a){c.props.onSetFromTime(c.props.timeRange.id,a)},c.$4=function(a){c.props.onSetToTime(c.props.timeRange.id,a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.timeRange.fromSecInDay>=this.props.timeRange.toSecInDay;return h.jsxs("div",{className:"_3af0",children:[h.jsx(b("PagesTimeRangeEditorErrorContainer.react"),{validationKey:"timePicker",timeRangeKey:this.props.timeRange.id,children:h.jsxs("div",{className:"_24mu _24mv",children:[h.jsx(b("PagesTimeRangeEditorTimePicker.react"),{className:"_2hy3",value:this.props.timeRange.fromSecInDay,onChange:this.$3,isOvernight:a}),h.jsx("span",{className:"_2hy4",children:"-"}),h.jsx(b("PagesTimeRangeEditorTimePicker.react"),{className:"_2hy3",value:this.props.timeRange.toSecInDay,onChange:this.$4,isOvernight:a})]})}),h.jsx(b("PagesTimeRangeEditorErrorContainer.react"),{validationKey:"weekdayPicker",timeRangeKey:this.props.timeRange.id,children:h.jsx(b("PagesTimeRangeWeekdayPickerView.react"),{className:this.props.timeRange.isRecurrent?"":"hidden_elem",selectedDays:this.props.timeRange.weekdays,onOptionClicked:this.$1})}),h.jsx("div",{className:"_2hy5",children:h.jsx(b("PagesTimeRangeEditorDeleteButton.react"),{className:"_2hy6",onClick:this.$2})})]})};return c}(h.Component);e.exports=a}),null);
__d("PagesTimeRangePreviewRow.react",["cx","Layout.react","PagesTimeRangeEditorUtilities","React","immutable","DateStrings","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("immutable").List,j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=24*3600,m=24;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.$1(b("PagesTimeRangeEditorUtilities").getReversedTimeBrackets(this.props.awayBrackets),!1).concat(this.$1(this.props.awayBrackets,!0)).sort(function(a,b){return a.from-b.from}),d=b("DateStrings").getWeekdayNameShort(this.props.weekday);typeof d==="string"&&(d=d.toUpperCase());return h.jsxs(b("Layout.react"),{className:"_4-gt",children:[h.jsx(j,{className:"_3np_",children:d}),h.jsxs(k,{className:b("joinClasses")(this.props.className,"_4-gv"),children:[h.jsx("div",{className:"_4-gw",children:this.$2()}),h.jsx("div",{children:c.map(function(b){return a.$3(b)})})]})]})};d.$2=function(){var a=[],b=100/m;for(var c=0;c<m;c++)a.push(h.jsx("div",{className:"_4-gx",style:{left:c*b+"%",width:b+"%"}},c));return a};d.$1=function(a,b){var c=this;return i(a.map(function(a){return c.$4(a,b)}))};d.$4=function(a,b){return{from:a.from,to:a.to,isAway:b}};d.$3=function(a){var b=(a.to-a.from)/l*100,c=a.from/l*100;return h.jsx("div",{className:"_4-gy",style:{width:b+"%",left:c+"%"},children:h.jsx("div",{className:"_4-gz"+(a.isAway?" _4-g-":"")})},a.from+"-"+a.to)};return c}(h.Component);e.exports=a}),null);
__d("PagesTimeRangePreview.react",["cx","fbt","Layout.react","PagesTimeRangeEditorUtilities","PagesTimeRangePreviewRow.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=b("React"),l=[0,1,2,3,4,5,6];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return k.jsxs("div",{className:b("joinClasses")(this.props.className,"_3nps"),children:[this.$1(),l.map(function(b){return a.$2(b)}),this.$3()]})};d.$1=function(){return k.jsx("div",{className:b("joinClasses")(this.props.className,"_3npt"),children:this.$4(h._("Away"))})};d.$4=function(a){return k.jsxs("div",{className:"_3npu _3npw",children:[k.jsx("div",{className:"_3npx"}),k.jsx("div",{className:"_3np-",children:a})]})};d.$3=function(){var a=["6AM","12PM","6PM","12AM"];return k.jsxs(b("Layout.react"),{className:this.props.className,children:[k.jsx(i,{className:"_3np_"}),k.jsx(j,{className:"_3nq0",children:a.map(function(a){return k.jsx("div",{className:"_3nq1",children:a},a)})})]})};d.$2=function(a){return k.jsx(b("PagesTimeRangePreviewRow.react"),{weekday:a,awayBrackets:b("PagesTimeRangeEditorUtilities").getAwayTimeBracketsForWeekday(a,this.props.awayTimeRanges)},a)};return c}(k.Component);e.exports=a}),null);
__d("PagesTimeRangeEditorListContainer.react",["FluxContainer","PagesTimeRangeEditorActions","PagesTimeRangeEditorEmptyView.react","PagesTimeRangeEditorStore","PagesTimeRangeEntryEditorView.react","PagesTimeRangePreview.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesTimeRangeEditorStore")]};c.calculateState=function(){return{timeRanges:b("PagesTimeRangeEditorStore").getTimeRanges(),editingID:b("PagesTimeRangeEditorStore").getEditingID()}};var d=c.prototype;d.UNSAFE_componentWillUpdate=function(a,b){b.timeRanges!==this.state.timeRanges&&this.props.onTimeRangesChanged(b.timeRanges)};d.render=function(){var a=this;return this.state.timeRanges.isEmpty()?g.jsx(b("PagesTimeRangeEditorEmptyView.react"),{className:this.props.className}):g.jsxs("div",{className:this.props.className,children:[g.jsx(b("PagesTimeRangePreview.react"),{awayTimeRanges:this.state.timeRanges}),this.state.timeRanges.map(function(c){var d;return g.jsx(b("PagesTimeRangeEntryEditorView.react"),{isEditing:c.id===a.state.editingID,timeRange:c,onToggleRecurrence:(d=b("PagesTimeRangeEditorActions")).toggleRecurrence,onToggleWeekday:d.toggleWeekday,onDelete:d.deleteTimeRange,onSetFromTime:d.setStartTime,onSetToTime:d.setEndTime,onSetDate:d.setDate},c.id)})]})};return c}(g.Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesTimeRangeTimezoneEditorContainer.react",["cx","fbt","FDSSimplePopover.react","FluxContainer","PagesTimeRangeEditorActions","PagesTimeRangeEditorStore","PagesTimeRangeEditorUtilities","React","SUILiveRailThemeDEPRECATED","SUITimeZoneSelector.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PagesTimeRangeEditorActions").setTimezone(b("PagesTimeRangeEditorUtilities").getTimezoneName(a.timeZoneId))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesTimeRangeEditorStore")]};c.calculateState=function(){return{timezoneName:b("PagesTimeRangeEditorStore").getTimezoneName(),errorMessage:b("PagesTimeRangeEditorStore").getFieldErrorMessage("timezone")}};var d=c.prototype;d.UNSAFE_componentWillUpdate=function(a,b){b.timezoneName!==this.state.timezoneName&&this.props.onTimezoneChanged(b.timezoneName)};d.render=function(){var a=new(b("SUITimeZoneSelector.react").VALUE)({timeZoneId:b("PagesTimeRangeEditorUtilities").getTimezoneID(this.state.timezoneName)});return i.jsxs("div",{className:this.props.className,children:[i.jsx("span",{className:"_5dza",children:h._("Time zone:")}),i.jsx(b("FDSSimplePopover.react"),{content:h._("Select the time zone you want to schedule your away time in.")}),i.jsx(b("SUITimeZoneSelector.react"),{className:"_5dzb",onChange:this.$1,theme:b("SUILiveRailThemeDEPRECATED"),value:a,errorMessage:this.state.errorMessage})]})};return c}(i.Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesTimeRangeEditor.react",["cx","LeftRight.react","PagesTimeRangeEditorActions","PagesTimeRangeEditorAddButton.react","PagesTimeRangeEditorDispatcher","PagesTimeRangeEditorListContainer.react","PagesTimeRangeEditorStore","PagesTimeRangeTimezoneEditorContainer.react","React","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesTimeRangeEditorDispatcher").explicitlyRegisterStore(b("PagesTimeRangeEditorStore")),b("PagesTimeRangeEditorActions").initializeTimeRanges(this.props.initialTimeRanges),b("PagesTimeRangeEditorActions").initializeTimezone(this.props.initialTimezoneName)};d.render=function(){return h.jsxs("div",{className:b("joinClasses")(this.props.className,"_1wdg"),children:[h.jsx(b("PagesTimeRangeEditorListContainer.react"),{onTimeRangesChanged:this.props.onTimeRangesChanged}),h.jsxs(b("LeftRight.react"),{children:[h.jsx(b("PagesTimeRangeTimezoneEditorContainer.react"),{className:"_3-99",onTimezoneChanged:this.props.onTimezoneChanged}),h.jsx(b("PagesTimeRangeEditorAddButton.react"),{className:"_1u0p"})]})]})};return c}(h.Component);e.exports=a}),null);
__d("PagesAutomatedResponsesAwayTimeRangeEditorRoot.react",["PagesMarketingAutomationActions","PagesMarketingAutomationStore","PagesTimeRangeEditor.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){b("PagesMarketingAutomationActions").updateAwayTimeRange(a)};d.$2=function(a){b("PagesMarketingAutomationActions").updateAwayTimeZone(a)};d.render=function(){var a=b("PagesMarketingAutomationStore").getAwayTimeZone(),c=b("PagesMarketingAutomationStore").getAwayTimeRanges();return a!=null&&c!=null?g.jsx(b("PagesTimeRangeEditor.react"),{initialTimeRanges:c,initialTimezoneName:a,onTimeRangesChanged:this.$1,onTimezoneChanged:this.$2}):g.jsx("div",{})};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationContentUtils",["ix","fbt","AdsMessengerPartialAutomatedCreationTypes","PagesManagerInboxFAQConstants","PagesManagerInboxStore","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","URI","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesManagerInboxFAQConstants").FAQ_EDIT_VIEW_INTRO,l=b("PagesManagerInboxFAQConstants").FAQ_TIMING_NOTE,m=b("PagesManagerInboxFAQConstants").FAQ_TIMING_WHEN,n=b("PagesMarketingAutomationUtils").shouldShowAutoResponseRestructure;function a(a){switch(a){case"positive_recommendation":return h._("Page Recommended");case"negative_recommendation":return h._("Page Not Recommended");case"job_application":return n()?h._("Job Application Received"):h._("Application Received");case"smart_reply_positive_feedback":return h._("Positive Feedback");case"smart_reply_negative_feedback":return h._("Negative Feedback");case"smart_reply_contact":return h._("Contact Information");case"smart_reply_location":return h._("Location");case"smart_reply_hours":return h._("Hours");case"instant_reply":return h._("Instant Reply");case"away_message":return h._("Away Message");case"icebreaker":case"custom_questions":return h._("Frequently Asked Questions");case"automated_checkout":return h._("Checkout Info Inquiry");case"mbs_reengagement":return h._("Rules-Based Follow-Up");case"organic_intake_form":return h._("Questions for Potential Customers");case"appointment_reminder":return n()?h._("Appointment Reminders"):h._("Reminders");case"appointment_follow_up":return n()?h._("Appointment Follow-up"):h._("Follow-up Messages");default:return""}}function c(a,c){var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"positive_recommendation":return h._("Send a message after someone publicly shares that they recommend your Page.");case"negative_recommendation":return h._("Send a message after someone publicly shares that they don't recommend your Page.");case"job_application":return h._("Respond to someone who applied for a job you posted.");case"smart_reply_positive_feedback":return h._("Respond to a message containing positive feedback about your business.");case"smart_reply_negative_feedback":return h._("Respond to a message containing negative feedback about your business.");case"smart_reply_contact":return h._("Respond to a message asking for contact information.");case"smart_reply_location":return h._("Respond to a message asking about the location of your business.");case"smart_reply_hours":return h._("Respond to a message asking about your business hours.");case"instant_reply":return d?h._("Respond to the first message someone sends {pageName} in Messenger or on Instagram.",[h._param("pageName",c)]):h._("Respond to the first message someone sends your Page.");case"away_message":return d?h._("When away messages are on, {pageName} is away and sends away messages. You can manually make {page name} away in Inbox or schedule times to be away each week.",[h._param("pageName",c),h._param("page name",c)]):h._("When away messages are on, your Page is away and sends away messages. You can manually make your Page away in Inbox or schedule times for your Page to be away each week.");case"icebreaker":return h._("Suggest questions for people to tap so it's easier for them to start a conversation. Then set up automated responses to those questions.");case"custom_questions":return k;case"automated_checkout":return h._("Inquire about checkout information through a set of predefined questions.");case"mbs_reengagement":return h._("Re-engage customers with automatic notifications based on rules you set.");case"organic_intake_form":return h._("Ask a sequence of questions to see if people are potential customers. These questions can help qualify your leads.");case"appointment_reminder":return h._("Send customers an automatic reminder via Messenger or text message (SMS) the day before their appointment.");case"appointment_follow_up":return h._("Automatically send customers a message after their appointment to encourage them to book again.");default:return""}}function d(a,c){var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"positive_recommendation":return h._("You can customize your message to thank them, send an offer or start a conversation.");case"negative_recommendation":return h._("You can customize your message to send an offer or learn more about the customer's experience.");case"job_application":return h._("You can customize your message to thank them for their interest or let them know when to expect a response.");case"smart_reply_positive_feedback":return h._("You can customize your message to thank them, send an offer or start a conversation.");case"smart_reply_negative_feedback":return h._("You can customize your message to send an offer or learn more about the customer's experience.");case"smart_reply_contact":return h._("You can customize your message to include additional contact information, such as a WhatsApp number or an Instagram link.");case"smart_reply_location":return h._("You can customize your message to include additional information about your location, such as options for parking or public transportation.");case"smart_reply_hours":return h._("You can customize your message to include additional information, such as upcoming holiday hours.");case"instant_reply":return d?h._("You can customize your message to say hello, give them more information about {pageName} or let them know when to expect a response.",[h._param("pageName",c)]):h._("You can customize your message to say hello, give them more information about your Page or let them know when to expect a response.");case"away_message":return h._("You can customize your message to let people know how long you'll be away and when you'll respond.");case"automated_checkout":return h._("You can customize your messages for automated checkout.");case"mbs_reengagement":return h._("You can customize your messages.");case"organic_intake_form":return h._("You can customize your questions depending on the information you need.");default:return""}}function f(a,b){switch(a){case"positive_recommendation":return h._("Edit Message: Page Recommended");case"negative_recommendation":return h._("Edit Message: Page Not Recommended");case"job_application":return h._("Edit Message: Application Received");case"smart_reply_positive_feedback":return h._("Edit Message: Positive Feedback");case"smart_reply_negative_feedback":return h._("Edit Message: Negative Feedback");case"smart_reply_contact":return h._("Edit Message: Contact Information");case"smart_reply_location":return h._("Edit Message: Location");case"smart_reply_hours":return h._("Edit Message: Hours");case"instant_reply":return h._("Edit Message: Instant Reply");case"away_message":return h._("Edit: Away Message");case"icebreaker":case"custom_questions":return h._("Edit: Frequently Asked Questions");case"saved_reply":return b!=="0"?h._("Edit Saved Reply"):h._("Create Saved Reply");default:return""}}function o(a,b){switch(a){case"positive_recommendation":return h._("Sent 10 minutes after someone publicly shares that they recommend {pageName}",[h._param("pageName",b)]);case"negative_recommendation":return h._("Sent 10 minutes after someone publicly shares that they don't recommend {pageName}",[h._param("pageName",b)]);case"job_application":case"smart_reply_contact":case"smart_reply_location":case"smart_reply_hours":return h._("Sent instantly");case"smart_reply_positive_feedback":return h._("Sent 10 minutes after someone gives positive feedback");case"smart_reply_negative_feedback":return h._("Sent 10 minutes after someone gives negative feedback");case"instant_reply":case"away_message":return h._("Sent instantly");case"custom_questions":return m;case"icebreaker":return h._("Frequently asked questions are shown when someone taps a button to send your page a message.");case"automated_checkout":return h._("When your customer decides to buy a product.");case"mbs_reengagement":return h._("Customize the timing of each follow-up message.");case"organic_intake_form":return h._("Sent instantly to people who contact your Page for the first time.");case"appointment_reminder":return h._("Sent the day before a confirmed appointment");case"appointment_follow_up":return h._("Choose when you want to send a follow-up message");default:return""}}function p(a,c){var d=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse;switch(a){case"smart_reply_contact":return h._("Note: People who ask about contact information only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"smart_reply_location":return h._("Note: People who ask about the location of your business only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"smart_reply_hours":return h._("Note: People who ask about business hours only will receive this response if your conversation hasn't been active for at least 30 minutes.");case"away_message":return h._("Away messages send when you manually make your Page away in Inbox or schedule times for your Page to be away each week.");case"instant_reply":return d?h._("Note: If {pageName} is away and has instant replies turned on, people will receive an away message instead of an instant reply.",[h._param("pageName",c)]):h._("Note: If your Page is away and has instant replies turned on, people will receive an away message instead of an instant reply.");case"icebreaker":return h._("Automated responses are sent instantly after someone taps or types a question.");case"automated_checkout":return h._("Note: These messages and questions will be sent in sequence, however you can change the order of questions or add new ones.");case"mbs_reengagement":return h._("Note: You can connect rules with existing app events. Then add conditions to determine when these messages are sent.");case"organic_intake_form":return h._("You can stop these questions at any time in the conversation.");case"custom_questions":return l;default:return null}}function q(a){switch(a){case"positive_recommendation":return h._("Hi, thanks for recommending us! We're glad you had a great experience.");case"negative_recommendation":return h._("Hi, we're sorry you had a bad experience. Please let us know how we can improve.");case"job_application":return h._("Hi! We've received your application and appreciate your interest in working for us.");case"smart_reply_positive_feedback":return h._("We're glad you had a positive experience!");case"smart_reply_negative_feedback":return h._("We're sorry you had a negative experience.");case"smart_reply_contact":return B();case"smart_reply_location":return C();case"smart_reply_hours":return D();case"instant_reply":return h._("Hi, thanks for contacting us. We've received your message and appreciate you reaching out.");case"away_message":return h._("Thanks for your message. We're away and can't respond right now. We appreciate you reaching out.");case"icebreaker":case"custom_questions":return h._("Default icebreaker question.");case"automated_checkout":return h._("It's awesome to hear that you're interested in purchasing this item from us! We will need a few details about you.");case"organic_intake_form":return"Default intro message";case"mbs_reengagement":return"Default intro message";case"appointment_reminder":return h._("We're looking forward to your appointment.");case"appointment_follow_up":return h._("Hi {firstname}, we'd love to have you back for another appointment.",[h._param("firstname","{{user_first_name}}")]);default:return""}}function r(a){switch(a){case"positive_recommendation":case"negative_recommendation":return{id:0,url:A(a),type:"image",class_name:"EntBusinessMessageWithItems"};default:return null}}function s(a,c){switch(a){case"smart_reply_hours":return[{content:h._("See Hours"),url:new(i||(i=b("URI")))("https://www.facebook.com/"+c+"/about").toString(),type:"button"}];case"smart_reply_contact":return b("PagesMarketingAutomationStore").getWebsite()?[{content:h._("Visit Website"),url:b("PagesMarketingAutomationStore").getWebsite(),type:"button"}]:[];case"smart_reply_location":return b("PagesMarketingAutomationStore").getAddress()?[{content:h._("Get Directions"),url:t(c),type:"button"}]:[];default:return[]}}function t(a){a=b("PagesMarketingAutomationStore").getAddress();return a!==null&&a!==void 0?b("PagesMarketingAutomationStore").getDirectionsURI():""}function u(a,b){switch(a){case"positive_recommendation":return h._("{pageName} privately replied to your recommendation.",[h._param("pageName",b)]);case"negative_recommendation":return h._("{pageName} privately replied to your recommendation.",[h._param("pageName",b)]);default:return""}}function v(a){switch(a){case"positive_recommendation":return h._("Sent after your Page is publicly recommended");case"negative_recommendation":return h._("Sent after your Page is publicly not recommended");default:return""}}function w(a){switch(a){case"positive_recommendation":return h._("Page Recommended");case"negative_recommendation":return h._("Page Not Recommended");case"job_application":return n()?h._("Job Application Received"):h._("Application Received");case"smart_reply_positive_feedback":return h._("Positive Feedback");case"smart_reply_negative_feedback":return h._("Negative Feedback");case"smart_reply_contact":return h._("Contact Information");case"smart_reply_location":return h._("Location");case"smart_reply_hours":return h._("Hours");case"away_message":return h._("Away Message");case"instant_reply":return h._("Instant Reply");case"icebreaker":case"custom_questions":return h._("Frequently Asked Questions");case"automated_checkout":return h._("Buyer Information");case"buyer_information_form":return h._("Customer Information");case"mbs_reengagement":return h._("Rules-Based Follow-Up");case"organic_intake_form":return h._("Questions for Potential Customers");case"appointment_reminder":return n()?h._("Appointment Reminders"):h._("Reminders");case"appointment_follow_up":return n()?h._("Appointment Follow-up"):h._("Follow-up Messages");default:return""}}function x(a,b,c,d){switch(a){case"POSITIVE_RECOMMENDATION":return"positive_recommendation";case"NEGATIVE_RECOMMENDATION":return"negative_recommendation";case"JOB_APPLICATION":return b===!1?null:"job_application";case"SMART_REPLY_POSITIVE_FEEDBACK":return c===!1?null:"smart_reply_positive_feedback";case"SMART_REPLY_NEGATIVE_FEEDBACK":return c===!1?null:"smart_reply_negative_feedback";case"SMART_REPLY_CONTACT":return d===!1?null:"smart_reply_contact";case"SMART_REPLY_LOCATION":return d===!1?null:"smart_reply_location";case"SMART_REPLY_HOURS":return d===!1?null:"smart_reply_hours";case"CUSTOM_QUESTIONS":return"custom_questions";default:return null}}function y(a){switch(a){case"IMAGE":return"image";case"VIDEO":return"video";default:return null}}function z(a){switch(a){case"BUTTON":return"button";case"POSTBACK":return"postback";default:return null}}function A(a){switch(a){case"positive_recommendation":return"/images/pages/inbox/goodratingautomation.png";case"negative_recommendation":return"/images/pages/inbox/badratingautomation.png";default:return null}}function B(){return b("PagesMarketingAutomationStore").getPhoneNumber()?h._("We can be reached at {phoneNumber}. You can also visit us online.",[h._param("phoneNumber",b("PagesMarketingAutomationStore").getPhoneNumber())]):""}function C(){return b("PagesMarketingAutomationStore").getAddress()?h._("We're located at {address}",[h._param("address",b("PagesMarketingAutomationStore").getAddress())]):""}function D(){if(b("PagesMarketingAutomationStore").getIsAlwaysOpen())return h._("We're always open.");else if(b("PagesMarketingAutomationStore").getIsPermanentlyClosed())return h._("We're permanently closed.");else if(b("PagesMarketingAutomationStore").getHours().length>0)switch(b("PagesMarketingAutomationStore").getHours().length){case 7:return h._("We're open seven days a week.");default:var a=J(b("PagesMarketingAutomationStore").getHours());return h._("We're open {days}",[h._param("days",a)])}else return h._("We have no hours available on our Page.")}function E(){return{introMessage:h._("Thanks for your interest. We just need a few details to create your order.").toString(),questionMessages:[{answers:[h._("Cash on Delivery").toString(),h._("Bank Transfer").toString()],message:h._("How would you like to pay?").toString(),answerType:j.MULTIPLE_CHOICE,prefillType:"NONE",replyType:"QUICK_REPLIES"},{answers:[],message:h._("What's your shipping address?").toString(),answerType:j.CUSTOM,prefillType:"NONE",replyType:"TEXT"},{answers:[],message:h._("What's the recipient's full name?").toString(),answerType:j.CUSTOM,prefillType:"NONE",replyType:"TEXT"},{answers:[],message:h._("What's your phone number?").toString(),answerType:"PHONE",prefillType:"PHONE",replyType:"QUICK_REPLIES"}],thankYouMessage:h._("Thanks for answering our questions. We will process your order.").toString()}}function F(){return{reminderMessage:h._("Almost there! Please finish answering our questions.").toString(),summaryMessage:h._("Please review your answer summary below. Confirm that these details are correct to place your order.").toString(),disqualificationMessage:h._("Thanks for your interest, but it doesn't look like we're a good fit at this time.").toString(),stopQuestionsMessage:h._("You've paused our automated questions. Let us know how we can help.").toString()}}function G(){return{reengagementMessages:[{triggerTimeMin:0,messageText:h._("You only have a few questions left to answer. Finish now.").toString(),ctas:[],attachment:null,attachmentType:null}],reengagementRules:{mainRules:[""],andRules:[],notRules:[]}}}function H(a){switch(a){case"positive_recommendation":return g("544926");case"negative_recommendation":return g("673528");case"job_application":case"smart_reply_contact":return g("551571");case"smart_reply_negative_feedback":return g("676769");case"smart_reply_positive_feedback":return g("676776");case"smart_reply_location":return g("540480");case"smart_reply_hours":return g("508066");default:return null}}function I(a){switch(a){case"common_responses":return h._("Respond to Common Questions");case"job_application":return n()?h._("Send Confirmations"):h._("Communicate About Jobs");case"feedback":return h._("Respond to Feedback");case"greet_customers":return n()?h._("Greet People"):h._("Greet Customers");case"frequently_asked_questions":return n()?h._("Share and Get Information"):h._("Share Info About Your Page");case"checkout_request":return h._("Respond to Checkout Request");case"reengagement":return h._("Follow Up with Customers");case"appointment_messaging":return n()?h._("Follow Up"):h._("Communicate About Appointments");default:return""}}function J(a){if(a.length===0)return"";else if(a.length===1)return a.join();var b=a.length,c=a.slice(0,b-1);return h._("{days_of_week} and {last_day}.",[h._param("days_of_week",c.join(", ")),h._param("last_day",a[b-1])])}function K(a){switch(a){case"smart_reply_contact":return h._("Your Page doesn't have enough contact information listed to use a default message. Create your own message or add more contact information to turn this on.");case"smart_reply_location":return h._("Your Page doesn't have an address listed, so you can't use a default message for this automated response. Create your own message or add an address to turn this on.");case"smart_reply_hours":return h._("Your Page doesn't have business hours listed, so you can't use a default message for this automated response. Create your own message or add hours to turn this on.");default:return null}}function L(a){switch(a){case"APP_EVENT":return h._("App Event");case"IS":return h._("Is");case"IS_NOT":return h._("Is Not");default:return""}}function M(a,b){switch(a){case"away_message":return h._("Choose where {pageName} can be away and send away messages.",[h._param("pageName",b)]);case"instant_reply":return h._("Choose where {pageName} sends instant replies.",[h._param("pageName",b)]);default:return""}}function N(a){switch(a){case"icebreaker":case"custom_questions":return h._("Your Page's custom questions were created using an API. Editing has been disabled through inbox.");default:return null}}function O(a){switch(a){case"PLATFORMS":return h._("Save Changes Without Platform?");case"AWAY_TIME":return h._("Save Away Schedule Changes?");case"CUSTOM_QUESTIONS":return h._("Replace persistent menu?");default:return""}}function P(a){switch(a){case"PLATFORMS":return h._("Your changes will be saved, but the message won't send because no platforms have been selected. To start sending this message, you must select at least one platform.");case"AWAY_TIME":return h._("Changes to your away schedule will cause your Page will be away after changes are saved. You can make your Page available at any time in Inbox.");case"CUSTOM_QUESTIONS":return h._("You've already used an API to create a persistent menu. Adding this question will replace the current options in your persistent menu.");default:return""}}function Q(a){switch(a){case"organic_intake_form":return h._("If questions for potential customers are turned on, frequently asked questions will be turned off. You can only use one of these automated responses.");case"custom_questions":return h._("If frequently asked questions are turned on, questions for potential customers will be turned off. You can only use one of these automated responses.");default:return""}}function R(a){switch(a){case"organic_intake_form":return h._("Turn Off Frequently Asked Questions?");case"custom_questions":return h._("Turn Off Questions for Potential Customers?");default:return""}}e.exports={getContentForDetailViewTitle:a,getContentForDetailViewDescription:c,getContentForDetailViewGeneralDescription:d,getContentForEditHeader:f,getContentForReengagement:L,getDefaultCheckoutStepMessages:F,getDefaultContent:q,getDefaultContentForAutomatedCheckoutMessages:E,getDefaultAttachment:r,getDefaultImage:A,getDefaultCTAs:s,getDefaultIconForAutoResponse:H,getDefaultReengagementMessages:G,getSidebarDescription:v,getSidebarTitle:w,getTimingContent:o,getPlacementContent:M,getTimingNote:p,getAdminGhostText:u,convertStringToAttachmentType:y,convertStringToButtonType:z,getTriggerType:x,getTitleForCategory:I,getContentForNotice:K,getContentForDisabledEditButtonNotice:N,getContentForModalTitle:O,getContentForModalDetail:P,getContentForIncompatibilityDisclaimerModal:Q,getTitleForIncompatibilityDisclaimerModal:R}}),null);
__d("PagesMarketingAutomationContentView.react",["FluxContainer","PageAutomationTrigger","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationDetailView.react","PagesMarketingAutomationDispatcher","PagesMarketingAutomationEditView.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","PagesTimeRangeEditorUtilities","React","RelayFBEnvironment","RelayModern","ServicesEventsLogger","WebFunnelLogger","promiseDone","PagesMarketingAutomationContentViewQuery.graphql","PagesMarketingAutomationContentViewAwayInfoQuery.graphql","PagesMarketingAutomationContentViewIsMenuSetByAPIQuery.graphql","PagesMarketingAutomationContentViewIsIcebreakersSetByAPIQuery.graphql","PagesMarketingAutomationContentViewIcebreakerQuery.graphql","PagesMarketingAutomationContentViewIntakeFormInfoQuery.graphql","PagesMarketingAutomationContentViewFollowUpMessageInfoQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j,k,l,m,n=(a=b("PagesMarketingAutomationContentUtils")).convertStringToAttachmentType,o=a.convertStringToButtonType,p=a.getDefaultCheckoutStepMessages,q=a.getDefaultContentForAutomatedCheckoutMessages,r=a.getDefaultReengagementMessages,s=b("React"),t=b("RelayModern").fetchQuery;b("RelayModern").graphql;var u=4;c=function(a){babelHelpers.inheritsLoose(c,a);c.setupDefaultAutomation=function(a){var c=b("PagesMarketingAutomationStore").getAutomationType();if(c!==null&&c!==void 0){var d=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(c);a=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(c,a);b("PagesMarketingAutomationActions").updateState(b("PagesMarketingAutomationContentUtils").getDefaultContent(c).toString(),q(),r(),d,a,d?"image":null,c);b("PagesMarketingAutomationStore").isIntakeFormInitialSetupExperience()&&c==="organic_intake_form"&&b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);if(c==="automated_checkout"){a=p();(d=b("PagesMarketingAutomationActions")).updateQuestionnaireReminderMessage(a.reminderMessage);d.updateQuestionnaireSummaryMessage(a.summaryMessage);d.updateQuestionnaireDisqualificationMessage(a.disqualificationMessage);d.updateQuestionnaireStopQuestionsMessage(a.stopQuestionsMessage)}}};c.fetchAndStoreAutomationData=function(){var a=b("PagesMarketingAutomationStore").getAutomationID();if(a==null)return;b("promiseDone")(t(b("RelayFBEnvironment"),g!==void 0?g:g=b("PagesMarketingAutomationContentViewQuery.graphql"),{automationID:a}),function(a){var c,d,e,f,g,h;h=(h=a)!=null?(h=h.node)!=null?h.text:h:h;g=(g=a)!=null?(g=g.node)!=null?g.platforms:g:g;f=(f=a)!=null?(f=f.node)!=null?(f=f.automated_message_attachment)!=null?f.url:f:f:f;e=(e=a)!=null?(e=e.node)!=null?(e=e.automated_message_attachment)!=null?e.id:e:e:e;var i=null;if(e){var j;i=(j=a)!=null?(j=j.node)!=null?(j=j.automated_message_attachment)!=null?j.type:j:j:j;i=i?n(i):null}j=(j=a)!=null?(j=j.node)!=null?j.ctas:j:j;var k=[];j&&j.forEach(function(a){k.push({content:a.content,url:a.url,type:"button"})});j=(j=a)!=null?(j=j.node)!=null?j.trigger_type:j:j;j=j?b("PageAutomationTrigger")[j]:null;if(!h||!j)return;d=(d=a)!=null?(d=d.node)!=null?d.automated_checkout_steps:d:d;var l=null;d&&d.intro_message!==""&&d.question_messages.length>0&&d.question_messages[0]!==""&&d.thank_you_message!==""?l={introMessage:d.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(d.question_messages),thankYouMessage:d.thank_you_message}:l=q();c=(c=a)!=null?(c=c.node)!=null?c.reengagement_events_data:c:c;var m=null;c&&c.reengagement_messages.length>0&&c.reengagement_rules_values.logical_or_rules.length>0?m=b("PagesMarketingAutomationUtils").getPagesMarketingAutomationReengagementDataOutput(c):m=r();a=(c=a)!=null?(c=c.node)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;a&&b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(a);b("PagesMarketingAutomationActions").updateState(h,l,m,e?{id:e,url:f,type:i,class_name:"EntBusinessMessageWithItems"}:null,k,i,j,g);if(d==null?void 0:d.reminder_message){b("PagesMarketingAutomationActions").updateQuestionnaireReminderMessage((c=d==null?void 0:d.reminder_message)!=null?c:"")}if(d==null?void 0:d.privacy_url){b("PagesMarketingAutomationActions").updateQuestionnairePrivacyPolicyURL((a=d==null?void 0:d.privacy_url)!=null?a:"")}if(d==null?void 0:d.stop_question_message){b("PagesMarketingAutomationActions").updateQuestionnaireStopQuestionsMessage((h=d==null?void 0:d.stop_question_message)!=null?h:"")}if(d==null?void 0:d.summary_message){b("PagesMarketingAutomationActions").updateQuestionnaireSummaryMessage((l=d==null?void 0:d.summary_message)!=null?l:"")}b("PagesMarketingAutomationStore").isIntakeFormInitialSetupExperience()&&j==="organic_intake_form"&&b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);(j==="automated_checkout"||j==="buyer_information_form")&&b("PagesMarketingAutomationActions").storeState()})};c.fetchAndStoreAwayInfo=function(a){if(a==null)return;b("promiseDone")(t(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesMarketingAutomationContentViewAwayInfoQuery.graphql"),{pageID:a}),function(a){var c=b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a.page.away_time_range);b("PagesMarketingAutomationActions").updateAwayTimeZone(a.page.away_time_zone);b("PagesMarketingAutomationActions").updateAwayTimeRange(c)})};c.fetchAndStoreIsCurrentMenuSetByAPI=function(a){b("promiseDone")(t(b("RelayFBEnvironment"),i!==void 0?i:i=b("PagesMarketingAutomationContentViewIsMenuSetByAPIQuery.graphql"),{pageID:a}),function(a){a=Boolean((a=a)!=null?(a=a.page_messenger_is_persistent_menu_set_by_api_query)!=null?a.is_menu_set_by_api:a:a);b("PagesMarketingAutomationActions").updateIsCurrentMenuSetByAPI(a)})};c.fetchAndStoreIsCurrentIcebreakersSetByAPI=function(){b("promiseDone")(t(b("RelayFBEnvironment"),j!==void 0?j:j=b("PagesMarketingAutomationContentViewIsIcebreakersSetByAPIQuery.graphql"),{}),function(a){a=Boolean((a=a)!=null?(a=a.page_inbox_icebreakers_is_set_by_api_query)!=null?a.is_set_by_api:a:a);b("PagesMarketingAutomationActions").updateIsCurrentIcebreakersSetByAPI(a)})};c.fetchAndStoreIcebreakers=function(a){var c=this;if(a==null)return;b("promiseDone")(t(b("RelayFBEnvironment"),k!==void 0?k:k=b("PagesMarketingAutomationContentViewIcebreakerQuery.graphql"),{pageID:a}),function(a){a=(a=a)!=null?a.page_inbox_icebreakers_query:a;if(a!=null){a=a.map(function(a){var b,c=a.response_media_attachment;c&&(c={id:Number(c.id),url:c.url,type:n(c.type),class_name:c.class_name});var d=a.response_ctas;d&&(d=d.map(function(a){return{content:a.content,url:a.url,type:o(a.type)}}));return{custom_question:(b=a.custom_question)!=null?b:"",saved_response:(b=a.saved_response)!=null?b:"",response_ctas:(b=d)!=null?b:[],response_media_attachment:(d=c)!=null?d:null,should_show_in_menu:(b=a.should_show_in_menu)!=null?b:!1}});b("PagesMarketingAutomationActions").updateIcebreakers(a);a=c.shuffleDemoIcebreakers(a);b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(a)}})};c.fetchAndStoreIntakeFormInfo=function(a){var c=b("PagesMarketingAutomationStore").getAutomationID();if(c==null||a==null)return;b("promiseDone")(t(b("RelayFBEnvironment"),l!==void 0?l:l=b("PagesMarketingAutomationContentViewIntakeFormInfoQuery.graphql"),{pageID:a,automationID:c}),function(a){var c,d;c=(c=a)!=null?(c=c.node)!=null?c.organic_intake_form_steps:c:c;d=a==null?void 0:(d=a.services_intake_form_predefined_questionnaire)==null?void 0:d.predefined_questions;c&&c.intro_message!==""&&c.question_messages.length>0&&c.question_messages[0]!==""&&c.thank_you_message!==""?b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:c.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(c.question_messages),thankYouMessage:c.thank_you_message}):d&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.intro_message,questionMessages:b("PagesMarketingAutomationUtils").buildAutomatedMessagesAnswerType(d.question_messages),thankYouMessage:d.thank_you_message});d=(c=a)!=null?(c=c.node)!=null?(c=c.organic_intake_form_step_list)!=null?c.id:c:c:c;d&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormStepListID(d);b("PagesMarketingAutomationActions").storeIntakeFormInfo((a==null?void 0:(c=a.page)==null?void 0:(d=c.services_vertical_info)==null?void 0:d.eligible_for_intake_form)||!1,(c=a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.prompt_question_enabled)!=null?c:!1,a==null?void 0:(d=a.page)==null?void 0:(c=d.services_vertical_info)==null?void 0:c.qpc_consumer_flow,(a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.stop_question_message)||"",(a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.reminder_message)||"",(a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.privacy_url)||"",{promptQuestionMessage:(d=a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.prompt_question_message)!=null?d:"",promptQuestionStartAnswer:(c=a==null?void 0:(c=a.page)==null?void 0:(d=c.services_quick_lead_gen_setting_info)==null?void 0:d.prompt_question_start_answer)!=null?c:"",promptQuestionStopAnswer:(a=a==null?void 0:(d=a.page)==null?void 0:(c=d.services_quick_lead_gen_setting_info)==null?void 0:c.prompt_question_stop_answer)!=null?a:""})})};c.fetchAndStoreFollowUpMessageInfo=function(a){var c=b("PagesMarketingAutomationStore").getAutomationID();if(c==null||a==null)return;b("promiseDone")(t(b("RelayFBEnvironment"),m!==void 0?m:m=b("PagesMarketingAutomationContentViewFollowUpMessageInfoQuery.graphql"),{pageID:a}),function(a){a=(a=(a=a.page)==null?void 0:a.services_follow_up_message_setting)!=null?a:{};b("PagesMarketingAutomationActions").storeFollowUpMessageInfo(a==null?void 0:a.message_content,a==null?void 0:a.schedule_in_seconds)})};c.shuffleDemoIcebreakers=function(a){var b=[];for(var c=0;c<a.length;c++)a[c].custom_question.trim()!==""&&b.push(c);c=Math.min(u,b.length);return b.slice(0,c)};c.fetchAndStoreAutomationSpecificInfo=function(a,b){a==="away_message"?c.fetchAndStoreAwayInfo(b):a==="icebreaker"?(c.fetchAndStoreIcebreakers(b),c.fetchAndStoreIsCurrentIcebreakersSetByAPI()):a==="custom_questions"?(c.fetchAndStoreIcebreakers(b),c.fetchAndStoreIsCurrentMenuSetByAPI(b),c.fetchAndStoreIsCurrentIcebreakersSetByAPI()):a==="organic_intake_form"?(this.logIntakeFormEvent("services_organic_intake_form_setup_impression",b),c.fetchAndStoreIntakeFormInfo(b)):a==="appointment_follow_up"&&c.fetchAndStoreFollowUpMessageInfo(b)};c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a,d){b("PagesMarketingAutomationStore").getAutomationID()!=null&&((!a||a.automationID==null||a.automationID!==b("PagesMarketingAutomationStore").getAutomationID())&&(c.fetchAndStoreAutomationSpecificInfo(b("PagesMarketingAutomationStore").getAutomationType(),d.pageID),b("PagesMarketingAutomationStore").getIsDefaultAutomation()?c.setupDefaultAutomation(d.pageID):c.fetchAndStoreAutomationData()));a=b("PagesMarketingAutomationStore").getAutomationType();d=b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages();return{welcomeText:a==="automated_checkout"||a==="buyer_information_form"?d.introMessage:b("PagesMarketingAutomationStore").getWelcomeText(),automatedCheckoutMessages:d,organicIntakeFormMessages:b("PagesMarketingAutomationStore").getOrganicIntakeFormMessages(),isWelcomeTextIntialized:b("PagesMarketingAutomationStore").getIsWelcomeTextIntialized(),automationID:b("PagesMarketingAutomationStore").getAutomationID(),attachmentType:b("PagesMarketingAutomationStore").getAttachmentType(),media:b("PagesMarketingAutomationStore").getMedia(),errors:b("PagesMarketingAutomationStore").getErrors(),automationType:a,isEditMode:b("PagesMarketingAutomationStore").getIsEditMode(),ctas:b("PagesMarketingAutomationStore").getCTAs(),isEnabled:a==="away_message"?b("PagesMarketingAutomationStore").getIsCurrentlyAway():b("PagesMarketingAutomationStore").getIsCurrentAutomationEnabled(),isSendDisabled:b("PagesMarketingAutomationStore").getIsSendDisabled(),hasComposerBeenEdited:b("PagesMarketingAutomationStore").getHasComposerBeenEdited(),icebreakers:b("PagesMarketingAutomationStore").getIcebreakers(),initialSelectedSavedReply:b("PagesMarketingAutomationStore").getInitialSelectedSavedReply(),demoIcebreakerIndices:b("PagesMarketingAutomationStore").getDemoIcebreakerIndices(),reengagementData:b("PagesMarketingAutomationStore").getReengagementData(),isEligibleForIntakeForm:b("PagesMarketingAutomationStore").getIsEligibleForIntakeForm(),questionnaireDisqualificationMessage:b("PagesMarketingAutomationStore").getState().questionnaireDisqualificationMessage,questionnaireStopQuestionsMessage:b("PagesMarketingAutomationStore").getState().questionnaireStopQuestionsMessage,questionnaireSummaryMessage:b("PagesMarketingAutomationStore").getState().questionnaireSummaryMessage,questionnaireReminderMessage:b("PagesMarketingAutomationStore").getState().questionnaireReminderMessage,questionnairePrivacyPolicyURL:b("PagesMarketingAutomationStore").getState().questionnairePrivacyPolicyURL,followUpMessageData:b("PagesMarketingAutomationStore").getState().followUpMessageData,enabledPlatforms:b("PagesMarketingAutomationStore").getEnabledPlatforms(),qpcConsumerFlow:b("PagesMarketingAutomationStore").getState().qpcConsumerFlow,selectedSavedReply:b("PagesMarketingAutomationStore").getselectedSavedReply(),shouldShowAdvancedOptions:b("PagesMarketingAutomationStore").getShouldShowAdvancedOptions(),showQPCIcebreakersDisclaimer:b("PagesMarketingAutomationStore").showQPCIcebreakersDisclaimer(),isQPCPromptQuestionEnabled:b("PagesMarketingAutomationStore").getState().isQPCPromptQuestionEnabled,qpcPromptQuestion:b("PagesMarketingAutomationStore").getState().qpcPromptQuestion}};c.logIntakeFormEvent=function(a,c){var d=b("PagesMarketingAutomationStore").getServicesReferrerData(),e=d.referrer;d=d.referrerSurface;b("ServicesEventsLogger").log(c,a,{referrerUIComponent:e,referrerUISurface:d})};function c(c){var d;d=a.call(this,c)||this;d.$2=function(){var a=d.state.automationID;if(a==null)return;b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!0);b("PagesMarketingAutomationActions").updateIsWelcomeTextInitialized(!1);new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("edit_message_click").setActionTag(a).setSessionKey(d.props.pageID).log()};b("PagesMarketingAutomationDispatcher").explicitlyRegisterStores([b("PagesMarketingAutomationStore")]);return d}var d=c.prototype;d.$1=function(){var a=this.state.icebreakers;return this.state.demoIcebreakerIndices.map(function(b){return a[b]})};d.$3=function(){b("PagesMarketingAutomationActions").setIsContentViewInEditMode(!1)};d.render=function(){var a=this.state.automationType;if(!a||this.state.automationID==null)return s.jsx("div",{});return this.state.isEditMode||a==="automated_checkout"||a==="buyer_information_form"?s.jsx(b("PagesMarketingAutomationEditView.react"),{attachmentType:this.state.attachmentType,automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationID:this.state.automationID,automationType:a,ctas:this.state.ctas,demoIcebreakers:this.$1(),enabledPlatforms:this.state.enabledPlatforms,errors:this.state.errors,followUpMessageData:this.state.followUpMessageData,hasComposerBeenEdited:this.state.hasComposerBeenEdited,height:this.props.height,icebreakers:this.state.icebreakers,initialSelectedSavedReply:this.state.initialSelectedSavedReply,isEligibleForIntakeForm:this.state.isEligibleForIntakeForm,isQPCPromptQuestionEnabled:this.state.isQPCPromptQuestionEnabled,isSendDisabled:this.state.isSendDisabled,isWelcomeTextIntialized:this.state.isWelcomeTextIntialized,media:this.state.media,onBack:this.$3,organicIntakeFormMessages:this.state.organicIntakeFormMessages,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,qpcConsumerFlow:this.state.qpcConsumerFlow,qpcPromptQuestion:this.state.qpcPromptQuestion,questionnaireDisqualificationMessage:this.state.questionnaireDisqualificationMessage,questionnairePrivacyPolicyURL:this.state.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.state.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.state.questionnaireStopQuestionsMessage,questionnaireSummaryMessage:this.state.questionnaireSummaryMessage,reengagementData:this.state.reengagementData,selectedSavedReply:this.state.selectedSavedReply,shouldShowAdvancedOptions:this.state.shouldShowAdvancedOptions,showQPCIcebreakersDisclaimer:this.state.showQPCIcebreakersDisclaimer,welcomeText:this.state.welcomeText}):s.jsx(b("PagesMarketingAutomationDetailView.react"),{attachmentType:this.state.attachmentType,automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationType:a,ctas:this.state.ctas,demoIcebreakers:this.$1(),enabledPlatforms:this.state.enabledPlatforms,followUpMessageData:this.state.followUpMessageData,height:this.props.height,isEligibleForIntakeForm:this.state.isEligibleForIntakeForm,isEnabled:this.state.isEnabled,media:this.state.media,menuItems:this.state.icebreakers&&this.state.icebreakers.filter(function(a){return a.custom_question.length>0&&Boolean(a.should_show_in_menu)})||[],onEdit:this.$2,organicIntakeFormMessages:this.state.organicIntakeFormMessages,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.state.reengagementData.reengagementMessages,welcomeText:this.state.welcomeText})};return c}(s.PureComponent);e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesMarketingAutomationContentViewInfoCard.react",["cx","FDSText.react","PagesAutomatedResponsesAwayScheduleDetail.react","React","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return a.showPageSchedule===!0?h.jsx(b("PagesAutomatedResponsesAwayScheduleDetail.react"),{isShown:!!a.showPageSchedule}):h.jsxs("div",{className:"_23gl",children:[h.jsx("div",{className:"_3-95",children:h.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:a.title})}),h.jsxs("div",{children:[h.jsx("div",{className:"_452x",children:h.jsx(b("FDSText.react"),{size:"body1",children:a.body})}),h.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:a.note})]})]})}e.exports=a}),null);
__d("MessengerMenuPreview.react",["cx","fbt","ix","FDSText.react","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.menuItems==null)return;var a=this.props.menuItems.map(function(a,c){return j.jsx("div",{className:"_8f_c",children:j.jsx("div",{className:"_8f_d",children:j.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a.custom_question.length>k?a.custom_question.substr(0,k-3)+"...":a.custom_question})},"text")},"menuitem".concat(c.toString()))});return j.jsxs("div",{className:"_8f_e",children:[j.jsx("div",{children:j.jsx("input",{className:"_8jga",type:"text"})}),j.jsx("div",{children:j.jsx("input",{className:"_8f_h",placeholder:h._("Write a message..."),type:"text"})}),j.jsx("div",{children:a})]})};d.render=function(){var a=this.$1();return j.jsxs("div",{className:"_8f_j",children:[j.jsx(b("Image.react"),{src:i("572864")}),j.jsx("div",{className:"_8f_k",children:j.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),j.jsx("div",{children:a})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesMessengerPreview.react",["cx","fbt","ix","FDSText.react","FluxContainer","Image.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React","ScrollableArea.react","ServicesGetQuoteCTASetupUtils","SUIBusinessTheme","SUIText.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName,l="PagesMessengerPreview";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesReplyComposerStore").getByKey(l)]};c.calculateState=function(){var a=b("PagesReplyComposerStore").getByKey(l).getState();return{supportedMacros:a.supportedMacros}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.$1=function(){b("PagesReplyComposerDispatcher").getByKey(l).explicitlyRegisterStores([b("PagesReplyComposerStore").getByKey(l)]),b("PagesReplyComposerActions").getActionsByKey(l).initializeStoreWithConfig({composerKey:l,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:"",automationType:this.props.automationType})};d.$2=function(){return this.props.ctas&&this.props.ctas.length>0?this.props.ctas.map(function(a,c){return j.jsx("div",{className:"_3eb0",children:j.jsx(b("FDSText.react"),{color:"highlight",overflowWrap:"break-word",size:"body1",children:a.content})},c)}):null};d.$3=function(){if(this.props.attachmentType){var a=this.props.media,c=a&&this.props.attachmentType===a.type?j.jsx(b("Image.react"),{className:"_3eb1",src:a&&a.url}):j.jsx("div",{className:"_6aul",children:j.jsx(b("Image.react"),{src:this.props.attachmentType==="image"?i("481807"):i("493176")})});return j.jsxs("div",{children:[c,a&&this.props.attachmentType==="image"?j.jsxs("div",{children:[j.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",weight:"bold",children:a.title}),j.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",children:a.subtitle})]}):null]})}return null};d.$4=function(a){var c=this.props.ghostTextLocation==="top"?"_3-96 _3-9a":"_3-8y _3-9c";return j.jsx("div",{className:"_8fyf",children:j.jsx(b("SUIText.react"),{color:"disabled",customSizeUseSparingly:"10px",display:"block",margin:c,overflowWrap:"break-word",size:"body3",textAlign:a,theme:b("SUIBusinessTheme"),children:this.props.ghostText})})};d.$5=function(){var a=b("PagesReplyComposerTextUtilities").processMessage(this.props.text,this.state.supportedMacros);return j.jsx("div",{className:"_3ebi",children:j.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a})})};d.$6=function(){return j.jsxs("div",{className:"_6bbd",children:[this.props.ghostTextLocation==="top"?this.$4("center"):null,j.jsxs("div",{style:{display:"flex"},children:[j.jsx(b("Image.react"),{className:"_3ebf",src:this.props.pageProfileUrl}),j.jsxs("div",{className:"_3ecd",children:[this.$5(),this.$3(),this.$2()]})]}),this.props.ghostTextLocation==="bottom"?this.$4("left"):null]})};d.$7=function(){var a=this,c=this.props.questionnaireMessages,d=c==null?void 0:c.questionMessages,e=null,f=null;if(c&&d&&d.length){e=j.jsxs("div",{className:"_6bbd",children:[j.jsxs("div",{style:{display:"flex"},children:[j.jsx(b("Image.react"),{className:"_3ebf",src:this.props.pageProfileUrl}),j.jsxs("div",{className:"_8fyh",children:[!!(c==null?void 0:c.introMessage)&&j.jsx("div",{className:"_3ecd",children:j.jsx("div",{className:"_3ebi",children:j.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:c.introMessage})})}),this.props.qpcPromptQuestion!=null?j.jsx("div",{className:"_3ecd",children:j.jsx("div",{className:"_3ebi",children:j.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:(c=this.props.qpcPromptQuestion)==null?void 0:c.promptQuestionMessage})})}):null]})]}),this.props.qpcPromptQuestion!=null?j.jsx("div",{className:"_8fyg",children:j.jsx(b("FDSText.react"),{color:"white",overflowWrap:"break-word",size:"body2",children:(c=this.props.qpcPromptQuestion)==null?void 0:c.promptQuestionStartAnswer})}):null]},0);f=j.jsx(j.Fragment,{children:d.map(function(c,d){var e=c.answerType;return j.jsxs("div",{className:"_6bbd",children:[j.jsxs("div",{style:{display:"flex"},children:[j.jsx(b("Image.react"),{className:"_3ebf",src:a.props.pageProfileUrl}),j.jsx("div",{className:"_8fyh",children:j.jsx("div",{className:"_3ecd",children:j.jsx("div",{className:"_3ebi",children:j.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:c.message})})})})]}),j.jsx("div",{className:"_8fyg",children:j.jsx(b("FDSText.react"),{color:"white",overflowWrap:"break-word",size:"body2",children:e?k(e):h._("Answer")})})]},d+1)})})}return j.jsxs(j.Fragment,{children:[e,f]})};d.$8=function(){if(this.props.icebreakers==null)return;var a=this.props.icebreakers.map(function(a,c){return j.jsxs("div",{className:"_8bp7",children:[j.jsx("div",{className:"_8bp8",children:j.jsx("div",{className:"_8bp9",children:h._("Ask")})}),j.jsx("div",{className:"_8bpa",children:j.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body3",children:a.custom_question})},"text")]},"icebreaker".concat(c.toString()))});return j.jsx("div",{className:"_8bpb",children:a.map(function(a,b){b=j.jsx("div",{className:"_8bpc"},"separator".concat(b.toString()));return[a,b]})})};d.render=function(){var a=null;switch(this.props.automationType){case"organic_intake_form":case"automated_checkout":a=this.$7();break;case"icebreaker":a=this.$8();break;default:a=this.$6();break}return j.jsxs("div",{className:"_3ebe",children:[j.jsx(b("Image.react"),{src:i("572864")}),j.jsx("div",{className:"_3eb3",children:j.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),j.jsx(b("ScrollableArea.react"),{className:"_3ebd",children:j.jsx("div",{className:"_3ei9",children:a})})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesMessengerCustomQuestionsPreview.react",["FDSButton.react","FlexLayout.react","MessengerMenuPreview.react","PagesManagerInboxFAQConstants","PagesMessengerPreview.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxFAQConstants").FAQ_PREVIEW_TAB_MENU,h=b("PagesManagerInboxFAQConstants").FAQ_PREVIEW_TAB_QUESTIONS,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={previewType:"icebreaker"},c.$1=function(){c.setState({previewType:"icebreaker"})},c.$2=function(){c.setState({previewType:"menu"})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){switch(this.state.previewType){case"icebreaker":return i.jsx(b("PagesMessengerPreview.react"),{attachmentType:null,automationType:"icebreaker",ctas:[],icebreakers:this.props.icebreakers,media:null,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.text});case"menu":return i.jsx(b("MessengerMenuPreview.react"),{menuItems:this.props.menuItems,pageID:this.props.pageID,pageName:this.props.pageName})}};d.render=function(){return i.jsxs(b("FlexLayout.react"),{align:"center",direction:"vertical",children:[this.$3(),i.jsxs(b("FlexLayout.react"),{children:[i.jsx(b("FDSButton.react"),{isDepressed:this.state.previewType==="icebreaker",label:h,onClick:this.$1,roundedCorners:["topLeft","bottomLeft"]}),i.jsx(b("FDSButton.react"),{isDepressed:this.state.previewType==="menu",label:g,onClick:this.$2,roundedCorners:["topRight","bottomRight"]})]})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesMessengerReengagementPreview.react",["cx","ix","FDSText.react","FluxContainer","Image.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React","ScrollableArea.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="PagesMessengerPreview";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesReplyComposerStore").getByKey(j)]};c.calculateState=function(){var a=b("PagesReplyComposerStore").getByKey(j).getState();return{supportedMacros:a.supportedMacros}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1()};d.$1=function(){b("PagesReplyComposerDispatcher").getByKey(j).explicitlyRegisterStores([b("PagesReplyComposerStore").getByKey(j)]),b("PagesReplyComposerActions").getActionsByKey(j).initializeStoreWithConfig({composerKey:j,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!1,pageID:this.props.pageID,placeholderText:""})};d.$2=function(a){return a&&a.length>0?a.map(function(a,c){return i.jsx("div",{className:"_3eb0",children:i.jsx(b("FDSText.react"),{color:"highlight",overflowWrap:"break-word",size:"body1",children:a.content})},c)}):null};d.$3=function(a,c){if(a){var d=c&&a===c.type?i.jsx(b("Image.react"),{className:"_3eb1",src:c&&c.url}):i.jsx("div",{className:"_6aul",children:i.jsx(b("Image.react"),{src:a==="image"?h("481807"):h("493176")})});return i.jsxs("div",{children:[d,c&&a==="image"?i.jsxs("div",{children:[i.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",weight:"bold",children:c.title}),i.jsx(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-9b _3-91",overflowWrap:"break-word",size:"body1",children:c.subtitle})]}):null]})}return null};d.$4=function(a){a=b("PagesReplyComposerTextUtilities").processMessage(a,this.state.supportedMacros);return i.jsx("div",{className:"_3ebi",children:i.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a})})};d.$5=function(){var a=this,c=this.props.reengagementMessages;return c&&c.length>0?c.map(function(c,d){return i.jsx("div",{className:"_6bbd",children:i.jsxs("div",{style:{display:"flex"},children:[i.jsx(b("Image.react"),{className:"_3ebf",src:a.props.pageProfileUrl}),i.jsxs("div",{className:"_3ecd",children:[a.$4(c.messageText),a.$3(c.attachmentType,c.attachment),a.$2(c.ctas)]})]})},d)}):null};d.render=function(){return i.jsxs("div",{className:"_3ebe",children:[i.jsx(b("Image.react"),{src:h("572864")}),i.jsx("div",{className:"_3eb3",children:i.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),i.jsx(b("ScrollableArea.react"),{className:"_3ebd",children:i.jsx("div",{className:"_3ei9",children:this.$5()})})]})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesMarketingAutomationDetailView.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationContentUtils","PagesMarketingAutomationContentViewInfoCard.react","PagesMarketingAutomationEnableDisplay.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","PagesMessengerCustomQuestionsPreview.react","PagesMessengerPreview.react","PagesMessengerReengagementPreview.react","React","SUIBusinessTheme","SUINotice.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=(a=b("PagesMarketingAutomationContentUtils")).getAdminGhostText,k=a.getContentForDetailViewDescription,l=a.getContentForDetailViewGeneralDescription,m=a.getContentForDetailViewTitle,n=a.getContentForDisabledEditButtonNotice,o=a.getContentForNotice,p=a.getTimingContent,q=a.getTimingNote,r=b("PagesMarketingAutomationUtils").shouldShowAdminTextForSmartReply,s=b("PagesMarketingAutomationUtils").shouldShowEditButton,t=b("PagesMarketingAutomationUtils").shouldShowNotice,u=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return a==="appointment_reminder"};d.$2=function(a){if(this.$1(a))return null;var c=a==="away_message"||"icebreaker"?i._("Edit"):i._("Edit Message");a=s(a);if(a)return u.jsx("div",{className:"_6a0n",children:u.jsx(b("FDSButton.react"),{icon:u.jsx(b("Image.react"),{src:g("490984")}),label:c,onClick:this.props.onEdit,size:"large",use:"primary"})});else return u.jsx("div",{className:"_2pio",style:{visibility:"visible"},children:u.jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:"information",children:u.jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:n(this.props.automationType)})})})};d.$3=function(){return u.jsxs("div",{className:"_6a0o",children:[u.jsx("div",{className:"_2pio",style:{visibility:t(this.props.automationType,b("PagesMarketingAutomationStore").getIsDefaultAutomation())?"visible":"hidden"},children:u.jsx(b("SUINotice.react"),{theme:b("SUIBusinessTheme"),type:"information",children:u.jsx(b("FDSText.react"),{size:"body3",weight:"bold",children:o(this.props.automationType)})})}),u.jsx("div",{className:"_2pin",children:u.jsx(b("FDSText.react"),{size:"header2",children:m(this.props.automationType)})}),u.jsx(b("PagesMarketingAutomationEnableDisplay.react"),{automationType:this.props.automationType,enabledPlatforms:this.props.enabledPlatforms,isEnabled:this.props.isEnabled}),u.jsx("div",{className:"_2pip",children:u.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:k(this.props.automationType,this.props.pageName)})}),u.jsx("div",{className:"_452x",children:u.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:l(this.props.automationType,this.props.pageName)})}),u.jsxs("div",{className:"_2phb",children:[u.jsx(b("PagesMarketingAutomationContentViewInfoCard.react"),{body:p(this.props.automationType,this.props.pageName),note:q(this.props.automationType,this.props.pageName),showPageSchedule:this.props.automationType==="away_message",title:i._("Timing")},"title"),this.$2(this.props.automationType)]})]})};d.render=function(){var a,c=this.props.welcomeText;switch(this.props.automationType){case"automated_checkout":c=this.props.automatedCheckoutMessages.introMessage;break;case"appointment_follow_up":c=(a=(a=this.props.followUpMessageData)==null?void 0:a.messageContent)!=null?a:c;break}return u.jsxs("div",{className:"_6a0p",style:{height:this.props.height},children:[u.jsx("div",{className:"_2f4x",children:this.$3()}),u.jsx("div",{className:"_2f4z",children:this.props.automationType==="mbs_reengagement"?u.jsx(b("PagesMessengerReengagementPreview.react"),{pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.props.reengagementMessages}):this.props.automationType==="custom_questions"?u.jsx(b("PagesMessengerCustomQuestionsPreview.react"),{icebreakers:(a=this.props.demoIcebreakers)!=null?a:[],menuItems:(a=this.props.menuItems)!=null?a:[],pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.welcomeText}):u.jsx(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,automationType:this.props.automationType,ctas:this.props.ctas,ghostText:j(this.props.automationType,this.props.pageName),ghostTextLocation:r(this.props.automationType)?"bottom":"top",icebreakers:this.props.demoIcebreakers,media:this.props.media,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,questionnaireMessages:this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm?this.props.organicIntakeFormMessages:null,text:c})})]})};return c}(u.PureComponent);e.exports=c}),null);
__d("ServicesFollowUpMessageSettingsUtils",["ServicesDurationUnit"],(function(a,b,c,d,e,f){"use strict";c=[(a=b("ServicesDurationUnit")).HOURS,a.DAYS,a.WEEKS,a.MONTHS];e.exports={FOLLOW_UP_MESSAGE_DURATION_UNITS:c}}),null);
__d("AppointmentFollowUpMessageEditor.react",["ix","cx","fbt","DateConsts","Image.react","PagesManagerComposerSectionCard.react","PagesMarketingAutomationActions","PagesMarketingAutomationMessageComposer.react","React","ServicesFollowUpMessageSettingsUtils","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=b("React");c=a.PureComponent;var k=b("ServicesFollowUpMessageSettingsUtils").FOLLOW_UP_MESSAGE_DURATION_UNITS,l=b("DateConsts").SEC_PER_YEAR,m=250;d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a,b){d.$1({messageContent:b})},d.$3=function(a,c){d.$1({triggerTimeSecs:c}),b("PagesMarketingAutomationActions").updateIsSendDisabled(c>l)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){var c=a.messageContent;a=a.triggerTimeSecs;var d=this.props.followUpMessageData;if(d==null)return;b("PagesMarketingAutomationActions").setComposerHasBeenEdited();b("PagesMarketingAutomationActions").storeFollowUpMessageInfo((c=c)!=null?c:d.messageContent,(c=a)!=null?c:d.triggerTimeSecs)};d.render=function(){var a=this.props.followUpMessageData;if(a==null)return;var c=a.triggerTimeSecs,d=c>l?{mediaError:null,ctaErrors:[],welcomeTextError:null,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[],errorText:null,timeInputError:i._("Maximum follow-up message schedule time is 12 months")}:null;return j.jsx(b("PagesManagerComposerSectionCard.react"),{body:j.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:"",ctas:null,errors:d,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:!0,media:null,onIndexedTimeChange:this.$3,onMessageChange:this.$2,pageID:this.props.pageID,showPersonalization:!0,showTimeSection:!0,textLimit:m,time:c,timeDurationUnits:k,welcomeText:a.messageContent}),header:i._("Message"),isCollapsible:!1,leftIcon:j.jsx("div",{className:"_6as2 _6as8",children:j.jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Customize the message you send.")})};return c}(c);e.exports=d}),null);
__d("PageSetAwayConfigMutation",["RelayFBEnvironment","RelayModern","PageSetAwayConfigMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageSetAwayConfigMutation.graphql");function a(a,c,d,e){var f={set_page_away_config:{away_time_zone:a,away_hours:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:f,variables:{input:{away_time_zone:a,away_hours:d,page_id:c}},onCompleted:e&&e.onSuccess,onError:e&&e.onFailure})}e.exports={commit:a}}),null);
__d("PageUpdateCustomIcebreakersMutation",["RelayFBEnvironment","RelayModern","PageUpdateCustomIcebreakersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageUpdateCustomIcebreakersMutation.graphql");function a(a,c){var d=a.data.icebreaker_question_answer_pairs.map(function(a){return{custom_question:a.custom_question,saved_response:a.saved_response}});d={page_update_question_answer_pairs:{icebreaker_question_answer_pairs:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:a.data},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesAutomatedQuestionnaireMessageItem.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","PagesMarketingAutomationMessageComposer.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isEditing:!0},c.$1=function(){c.setState({isEditing:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return j.jsxs(j.Fragment,{children:[this.props.title!=null&&this.props.description!=null&&j.jsxs("div",{className:"_3-8- _6_oc",children:[j.jsx(b("FDSText.react"),{size:"header4",weight:"bold",children:this.props.title}),j.jsx("br",{}),j.jsx(b("FDSText.react"),{color:"secondary",size:"body2",children:this.props.description})]}),this.state.isEditing?j.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:this.props.automationID,ctas:null,errors:this.props.errors,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:!0,media:null,onMessageChange:this.props.onIntroMessageChange,pageID:this.props.pageID,showPersonalization:!1,showTimeSection:!1,specialType:this.props.specialType,welcomeText:this.props.content}):j.jsxs("div",{className:"_3-8x _2pi4 _2pi9 _8ej0 _6_oc",children:[j.jsxs("div",{className:"_2pit _8eix",children:['"',this.props.content,'"']}),j.jsx(b("FDSButton.react"),{icon:j.jsx(b("Image.react"),{src:g("490346")}),label:i._("Edit"),onClick:this.$1,size:"medium"})]})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerComposerTopBar.react",["ix","cssVar","cx","fbt","ContextualLayer.react","FDSButton.react","FDSText.react","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");function l(a){var c=k.jsxs("div",{className:"_4zss",style:{borderLeft:"4px solid"+a.color},children:[k.jsx("div",{className:"_75o0",children:a.leftIcon}),k.jsx(b("FDSText.react"),{size:"body3",children:a.text})]});return k.jsx(b("ContextualLayer.react"),{alignment:a.alignment,contextRef:a.contextRef,offsetY:8,position:"below",shown:!0,children:c})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){c.$1=a},c.$4=function(){return c.$1},c.$5=function(a){c.$2=a},c.$6=function(){return c.$2},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=null,c=null,d=null,e="#FA383E",f=k.jsx(b("Image.react"),{className:"_2pih",src:g("494559")});this.props.primaryError!==null&&this.props.primaryError!==void 0?(c=this.props.primaryError,a=this.$4,d="right"):this.props.previewError!==null&&this.props.previewError!==void 0?(c=this.props.previewError,a=this.$6,d="left"):this.props.previewSuccessText!==null&&this.props.previewSuccessText!==void 0&&(c=this.props.previewSuccessText,a=this.$6,d="left",e="#00A400",f=k.jsx(b("Image.react"),{src:g("506114")}));var h=k.jsx("span",{className:"_2phz",children:k.jsx(b("FDSButton.react"),{icon:k.jsx(b("Image.react"),{src:g("492063")}),label:this.props.previewButtonText,onClick:this.props.onPreviewClick,ref:this.$5})});return k.jsxs("div",{className:"_4qd8",children:[k.jsx("span",{className:"_4qd9",children:k.jsx(b("FDSText.react"),{size:"header3",weight:"bold",children:this.props.headerContent})}),k.jsxs("div",{className:"_4qd7",children:[k.jsxs("span",{className:"_2phz",children:[this.props.hidePreviewButton!==!0?h:null,this.props.showCancelButton===!0?k.jsx(b("FDSButton.react"),{isDisabled:this.props.cancelDisabled,label:j._("Cancel"),onClick:this.props.onCancel}):null,this.props.showDeleteButton===!0?k.jsx(b("FDSButton.react"),{icon:k.jsx(b("Image.react"),{src:g("481982")}),isDisabled:this.props.deleteButtonDisabled,label:j._("Delete"),onClick:this.props.onDeleteClick}):null]}),k.jsx("span",{className:"_2phz",children:k.jsx(b("FDSButton.react"),{isDisabled:this.props.sendDisabled,label:this.props.primaryButtonText,onClick:this.props.onPrimaryClick,ref:this.$3,use:"primary"})}),c!==null&&a&&d?k.jsx(l,{alignment:d,color:e,contextRef:a,leftIcon:f,text:c}):null]})]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationCheckoutQuestionComposer.react",["cx","AdsMessengerPartialAutomatedCreationTypes","MessengerDestinationPartialAutomatedCreationSectionQuestions.react","PagesMarketingAutomationActions","React","emptySet"],(function(a,b,c,d,e,f,g){"use strict";var h=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={focusedIndex:0},d.$1=function(a){d.setState({focusedIndex:a})},d.$2=function(a){a=a.map(function(a){var b=a.answers?a.answers.map(function(a){return a.value}):[];return{answers:b,answerType:(b=a.answerType)!=null?b:i.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"}});b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:a,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){return a.map(function(a){return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:a.answers.map(function(a){return{fieldID:"",value:a,nextStep:h.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}})};d.render=function(){return j.jsx("div",{className:"_6_oc",children:j.jsx(b("MessengerDestinationPartialAutomatedCreationSectionQuestions.react"),{account:null,focusedIndex:this.state.focusedIndex,isSkipToEnabled:!1,onAddQuestion:this.props.onAddQuestion,onQuestionItemChange:this.props.onQuestionMessageChange,onRemoveQuestion:this.props.onRemoveQuestion,onSetQuestions:this.$2,pageID:this.props.pageID,questionItems:this.$3(this.props.automatedCheckoutMessages.questionMessages),sectionValidationErrors:b("emptySet"),setFocusedIndex:this.$1,showError:this.props.showError,showPersonalization:!1})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationCreateMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationCreateMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:a.data},updater:function(a,b){b=(b=b)!=null?(b=b.page_create_automation)!=null?(b=b.automation)!=null?b.id:b:b:b;if(b){a=a.get(b);a&&a.setValue(!0,"is_enabled")}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesMarketingAutomationUpdateMutation",["RelayFBEnvironment","RelayModern","PagesMarketingAutomationUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationUpdateMutation.graphql");function a(a,c){var d={page_update_automation:{automation:{id:a.data.id},automated_checkout_step_list:null}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:a.data},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("ServicesQPCFlow",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ICEBREAKERS:"icebreakers",OPT_OUT:"opt_out",NONE:"none"})}),null);
__d("PagesMarketingAutomationEditView.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationTypes","AppointmentFollowUpMessageEditor.react","FBConfirmDialog.react","FBMoreLink.react","FDSButton.react","FDSCancelButton.react","FDSCheckboxInput.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","IcebreakerFreeTextEditor.react","Image.react","MessengerAdsConversionFunnelTypedLogger","PagesAutomatedQuestionnaireMessageItem.react","PagesAutomatedQuestionnairePrivacyPolicyItem.react","PagesAutomatedResponsesAwayTimeRangeEditorRoot.react","PagesContentEditorConstants","PagesCreateSavedResponseMutation","PagesDeleteSavedResponseMutation","PagesEditSavedResponseMutation","PageSetAwayConfigMutation","PagesManagerAction","PagesManagerComposerSectionCard.react","PagesManagerComposerTopBar.react","PagesManagerInboxFAQConstants","PagesManagerInboxLogger","PagesMarketingAutomationActions","PagesMarketingAutomationCheckoutQuestionComposer.react","PagesMarketingAutomationContentUtils","PagesMarketingAutomationContentView.react","PagesMarketingAutomationCreateMutation","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationReengagementMessages.react","PagesMarketingAutomationStore","PagesMarketingAutomationUpdateMutation","PagesMarketingAutomationUtils","PagesMessagingInboxActionLogger","PagesMessengerCustomQuestionsPreview.react","PagesMessengerPreview.react","PagesMessengerReengagementPreview.react","PagesOrganicIntakeFormQuestionComposer.react","PagesQPCPromptQuestionItem.react","PagesQPCQuestionComposer.react","PagesTimeRangeEditorUtilities","PageUpdateCustomIcebreakersMutation","React","ResponsiveBlock.react","SavedResponsesConstants","SavedResponsesUtils","ServicesEventsLogger","ServicesFollowUpMessageSettingMutation","ServicesQPCFlow","WebFunnelLogger","asset","cxMargin","debounce","enumUtils","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("PagesContentEditorConstants").PagesContentEditorMessageComposerSpecialTypes,m=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_CTA_TITLE,n=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_WARN_DESCRIPTION,o=b("PagesManagerInboxFAQConstants").FAQ_MENU_REPLACE_WARN_TITLE,p=(a=b("PagesMarketingAutomationContentUtils")).getAdminGhostText,q=a.getContentForEditHeader,r=a.getContentForIncompatibilityDisclaimerModal,s=a.getContentForModalDetail,t=a.getContentForModalTitle,u=a.getPlacementContent,v=a.getTimingContent,w=a.getTimingNote,x=a.getTitleForIncompatibilityDisclaimerModal,y=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers,z=(c=b("PagesMarketingAutomationUtils")).getAutomatedCheckoutData,A=c.getOrganicIntakeFormData,B=c.getPagesMarketingAutomationReengagementDataInput,C=c.getPlatformStatus,D=c.getShouldShowIGDirectAutomatedResponse,E=c.getTriggerWaitTime,F=c.sendPreview,G=c.shouldShowAdminTextForSmartReply,H=b("React"),I=b("ServicesFollowUpMessageSettingMutation").commitMutationFollowUpMessage;function J(a){return H.jsx(b("FDSModal.react"),{footer:H.jsx(b("FDSModalFooter.react"),{primaryButton:H.jsx(b("FDSButton.react"),{label:i._("Save"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:H.jsx(b("FDSCancelButton.react"),{})}),header:H.jsx(b("FDSModalHeader.react"),{title:i._("Save Away Schedule Changes?")}),isShown:a.isShown,onHide:a.onCancelClick,children:H.jsx(b("FDSSection.react"),{children:H.jsx(b("FDSText.react"),{children:i._("Changes to your away schedule will cause your Page will be away after changes are saved. You can make your Page available at any time in Inbox.")})})})}function K(a){return a.modalPurpose==null?null:H.jsx(b("FDSModal.react"),{footer:H.jsx(b("FDSModalFooter.react"),{primaryButton:H.jsx(b("FDSButton.react"),{label:a.modalPurpose==="CUSTOM_QUESTIONS"?m:i._("Save"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:H.jsx(b("FDSCancelButton.react"),{})}),header:H.jsx(b("FDSModalHeader.react"),{title:t(a.modalPurpose)}),isShown:a.isShown,onHide:a.onCancelClick,children:H.jsx(b("FDSSection.react"),{children:H.jsx(b("FDSText.react"),{children:s(a.modalPurpose)})})})}function L(a){return H.jsx(b("FDSModal.react"),{footer:H.jsx(b("FDSModalFooter.react"),{primaryButton:H.jsx(b("FDSButton.react"),{label:m,onClick:a.onConfirmClick,use:"primary"}),secondaryButton:H.jsx(b("FDSCancelButton.react"),{})}),header:H.jsx(b("FDSModalHeader.react"),{title:o}),isShown:a.isShown,onHide:a.onCancelClick,children:H.jsx(b("FDSSection.react"),{children:H.jsx(b("FDSText.react"),{children:n})})})}function M(a){return H.jsx(b("PagesMarketingAutomationReengagementMessages.react"),{automationID:a.automationID,data:a.data,onAddMessage:a.onAddMessage,onIndexedCTAChange:a.onIndexedCTAChange,onIndexedMediaChange:a.onIndexedMediaChange,onIndexedMediaTypeChange:a.onIndexedMediaTypeChange,onIndexedTimeChange:a.onIndexedTimeChange,onMessageChange:a.onMessageChange,onRemoveMessage:a.onRemoveMessage,onRulesChange:a.onRulesChange,pageID:a.pageID})}function N(a){return H.jsxs(H.Fragment,{children:[P(a.automatedCheckoutMessages)?H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onQuestionnaireDisqualificationMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.questionnaireDisqualificationMessage}),header:i._("Disqualification Message"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8orc",children:H.jsx(b("Image.react"),{src:g("1122037")})}),subtitle:i._("Send people a different message if you disqualify an answer.")}):null,H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesAutomatedQuestionnairePrivacyPolicyItem.react"),{onQuestionnairePrivacyPolicyURLChange:a.onQuestionnairePrivacyPolicyURLChange,placeHolder:b("SavedResponsesConstants").privacyPolicyURL,questionnairePrivacyPolicyURL:a.questionnairePrivacyPolicyURL}),header:i._("Your Privacy Policy URL"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8kmo",children:H.jsx(b("Image.react"),{src:g("502604")})}),subtitle:i._("Since you'll be collecting customer information, we strongly recommend that you include a link to your business' privacy policy.")}),H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireStopQuestionsMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireStopQuestionsMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE}),header:i._("Pause Automated Questions"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8j8x",children:H.jsx(b("Image.react"),{src:g("1122037")})}),subtitle:i._("A \"Pause Questions\" option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next.")})]})}function O(a){var c=b("PagesMarketingAutomationStore").getAutomatedCheckoutStepListID()?"existing_setup":"new_setup";new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_setup_impression").setConversionType("BUYER_INFORMATION").setEventType(a.automationType).setEventSubtype(c).setPageID(a.pageID).log();c=a.automationType==="buyer_information_form"?i._("Introduce the questions you'll ask to collect customers' information for making purchases."):i._("Introduce the questions you'll ask to collect people's information for making purchases.");var d=a.automationType==="buyer_information_form"?i._("Create a form of questions to collect customer information."):i._("Customize the questions you will send in sequence.");return H.jsxs(H.Fragment,{children:[H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onIntroMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.automatedCheckoutMessages.introMessage}),header:i._("Intro"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _6as8",children:H.jsx(b("Image.react"),{src:g("561662")})}),subtitle:c}),H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesMarketingAutomationCheckoutQuestionComposer.react"),{automatedCheckoutMessages:a.automatedCheckoutMessages,onAddQuestion:a.onAddQuestion,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion,pageID:a.pageID,showError:!1}),header:a.automatedCheckoutMessages.questionMessages.length>1?i._("Questions"):i._("Question"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _87a7",children:H.jsx(b("Image.react"),{src:g("598398")})}),subtitle:d}),a.automationType==="automated_checkout"?H.jsxs("div",{children:[H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireReminderMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireReminderMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_REMINDER_MESSAGE}),header:i._("Reminder"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8o9h",children:H.jsx(b("Image.react"),{src:g("537339")})}),subtitle:i._("Send an automated message to people who haven't finished your questions within 24 hours.")}),H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireSummaryMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireSummaryMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_SUMMARY_MESSAGE}),header:i._("Summary"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8o9i",children:H.jsx(b("Image.react"),{src:g("480666")})}),subtitle:i._("Send people a message to go along with a summary of their details.")}),H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:null,hideAttachmentSection:a.shouldHideAttachment,hideCTASection:a.shouldHideCTA,isWelcomeTextIntialized:a.isWelcomeTextInitialized,media:null,onMessageChange:a.onThankYouMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.automatedCheckoutMessages.thankYouMessage}),header:i._("Completion Message"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8o9j",children:H.jsx(b("Image.react"),{src:g("1122023")})}),subtitle:i._("Thank people for their answers and let them know what happens next.")}),H.jsx(b("FBMoreLink.react"),{allowToggle:!0,className:"_8qxd",isCollapsed:!a.shouldShowAdvancedOptions,lessLabel:i._("Hide advanced options"),moreLabel:i._("Show advanced options"),onClick:function(){return b("PagesMarketingAutomationActions").updateShouldShowAdvancedOptions(!a.shouldShowAdvancedOptions)}})]}):null,a.shouldShowAdvancedOptions?N(a):null]})}function P(a){a=a.questionMessages;return a.some(function(a){return a.goToOptions&&a.goToOptions.some(function(a){return a===j.DISQUALIFY_MESSAGE})})}function Q(a){return H.jsxs(H.Fragment,{children:[H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesAutomatedQuestionnairePrivacyPolicyItem.react"),{onQuestionnairePrivacyPolicyURLChange:a.onQuestionnairePrivacyPolicyURLChange,questionnairePrivacyPolicyURL:a.questionnairePrivacyPolicyURL}),header:i._("Privacy Policy (Optional)"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8kmo",children:H.jsx(b("Image.react"),{src:g("482269")})}),subtitle:i._("If you'll be collecting customer information, we strongly recommend you include a link to your business' privacy policy.")}),H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireStopQuestionsMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireStopQuestionsMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE}),header:i._("Confirmation to Pause Questions"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8j8x",children:H.jsx(b("Image.react"),{src:g("681572")})}),subtitle:i._("A \"Pause Questions\" option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next.")})]})}function R(a){var c=a.isCollapsed?i._("Show advanced options"):i._("Hide advanced options"),d=a.isCollapsed?g("510357"):g("537237");return H.jsxs("div",{className:"_8qxd",children:[H.jsx(b("FDSText.react"),{color:"highlight",size:"body1",weight:"bold",children:H.jsx(b("FDSLink.react"),{onClick:a.onClickQPCAdvancedOptionsLink,children:c})}),H.jsx(b("Image.react"),{className:"_8y4f",src:d})]})}function S(a){var c;return H.jsxs(H.Fragment,{children:[H.jsx(c=b("PagesManagerComposerSectionCard.react"),{header:i._("Overview"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _6as7",children:H.jsx(b("Image.react"),{src:g("650922")})}),subtitle:i._("Sent instantly to people who contact your Page for the first time.")}),H.jsx(c,{body:H.jsx("div",{children:H.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.organicIntakeFormMessages.introMessage,errors:a.errors,onIntroMessageChange:a.onIntroMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_WELCOME_MESSAGE})}),header:i._("Intro"),isCollapsible:!1,leftIcon:H.jsxs("div",{className:"_6as2 _8icd",children:[H.jsx(b("Image.react"),{src:g("495272")})," "]}),subtitle:i._("Welcome people to the conversation.")}),H.jsx(c,{body:H.jsx("div",{children:H.jsx(b("PagesQPCPromptQuestionItem.react"),{errors:a.errors,onPromptQuestionChange:a.onPromptQuestionChange,pageID:a.pageID,qpcPromptQuestion:a.qpcPromptQuestion})}),header:i._("Question Prompt"),initialExpanded:a.isQPCPromptQuestionEnabled,isCollapsible:!0,leftIcon:H.jsx("div",{className:"_6as2 _8yxj",children:H.jsx(b("Image.react"),{src:g("813966")})}),onClick:a.onToggleQPCPromptQuestion,subtitle:i._("After your intro, this prompt will be sent so people can choose to either answer your questions or message you directly."),useCollapseToggleSwitch:!0}),H.jsx(c,{body:b("qex")._("1241531")?H.jsx(b("PagesQPCQuestionComposer.react"),{errors:a.errors,messages:a.organicIntakeFormMessages.questionMessages,onAddQuestion:a.onAddQuestion,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion,pageID:a.pageID}):H.jsx(b("PagesOrganicIntakeFormQuestionComposer.react"),{errors:a.errors,messages:a.organicIntakeFormMessages.questionMessages,onAddQuestion:a.oldOnAddQuestion,onQuestionMessageChange:a.oldOnQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion}),header:i._("Questions"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8y4p",children:H.jsx(b("Image.react"),{src:g("598398")})}),subtitle:i._("Ask a sequence of questions to see if people are potential customers. These questions help qualify your leads.")}),H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.questionnaireReminderMessage,errors:a.errors,onIntroMessageChange:a.onQuestionnaireReminderMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_REMINDER_MESSAGE}),header:i._("Reminder"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8j8w",children:H.jsx(b("Image.react"),{src:g("537339")})}),subtitle:i._("Send an automated message to people who haven't finished your questions within 24 hours.")}),H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesAutomatedQuestionnaireMessageItem.react"),{automationID:a.automationID,content:a.organicIntakeFormMessages.thankYouMessage,errors:a.errors,onIntroMessageChange:a.onThankYouMessageChange,pageID:a.pageID,specialType:l.QUESTIONNAIRE_THANK_YOU_MESSAGE}),header:i._("Completion Message"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8y4q",children:H.jsx(b("Image.react"),{src:g("1122023")})}),subtitle:i._("Thank people for their answers and let them know what happens next")}),H.jsx(R,{isCollapsed:!a.shouldShowAdvancedOptions,onClickQPCAdvancedOptionsLink:a.onClickQPCAdvancedOptionsLink}),a.shouldShowAdvancedOptions&&H.jsx(Q,{automationID:a.automationID,errors:a.errors,onQuestionnairePrivacyPolicyURLChange:a.onQuestionnairePrivacyPolicyURLChange,onQuestionnaireStopQuestionsMessageChange:a.onQuestionnaireStopQuestionsMessageChange,pageID:a.pageID,questionnairePrivacyPolicyURL:a.questionnairePrivacyPolicyURL,questionnaireStopQuestionsMessage:a.questionnaireStopQuestionsMessage})]})}function T(a){return H.jsx(b("FBConfirmDialog.react"),{confirmButtonText:i._("Continue"),content:r(a.automationType),onCancel:a.onCancel,onConfirm:a.onConfirm,shown:!0,title:x(a.automationType)})}function U(a){var c;return H.jsxs(H.Fragment,{children:[H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:a.attachmentType,automationID:a.automationID,automationType:"saved_reply",ctas:null,errors:a.errors,hideAttachmentSection:!1,hideCTASection:!0,isWelcomeTextIntialized:a.isWelcomeTextIntialized,media:a.media,messageLabel:i._("Text"),onMessageChange:a.onMessageChange,pageID:a.pageID,placeholderText:i._("Write a message..."),showPersonalization:!0,showTimeSection:!1,textLimit:1e3,videoDisabled:!0,welcomeText:(c=(c=a.selectedSavedReply)==null?void 0:c.message)!=null?c:""}),header:i._("Message"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _6as8",children:H.jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Customize the message you send.")}),H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automationID,ctas:null,errors:a.errors,hideAttachmentSection:!0,hideCTASection:!0,isWelcomeTextIntialized:a.isWelcomeTextIntialized,media:null,messageLabel:i._("Shortcut"),onMessageChange:a.onShortcutChange,pageID:a.pageID,placeholderText:i._("Add a shortcut..."),showPersonalization:!1,showTimeSection:!1,textLimit:80,videoDisabled:!0,welcomeText:(a=(c=a.selectedSavedReply)==null?void 0:c.title)!=null?a:""}),header:i._("Shortcut (Required)"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8nr_",children:H.jsx(b("Image.react"),{src:g("511232")})}),subtitle:i._("Use a shortcut to find this saved reply later and easily insert it into a conversation. Shortcuts must be at least 3 characters.")})]})}d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={saveError:!1,shouldShowErrors:!1,showCustomQuestionsDialog:!1,showComposerErrorsForPreview:!1,isDeleting:!1,isSaving:!1,isSendingPreview:!1,showPreviewSuccessText:!1,showPreviewSendErrors:!1,isMessengerChecked:C(d.props.enabledPlatforms,"MESSENGER"),isIGChecked:C(d.props.enabledPlatforms,"INSTAGRAM_DIRECT"),showAwayTimeRangeDialog:!1,showPlacementUnsetDialog:!1,showQPCDisclaimerDialog:!1},d.$2=function(){d.setState({saveError:!1,shouldShowErrors:!1,isSaving:!1}),b("PagesMarketingAutomationActions").storeState(),b("PagesMarketingAutomationActions").disableIntakeFormSetupExperience(),d.props.automationType==="organic_intake_form"?b("PagesMarketingAutomationActions").updateIsEnabled(!1,"custom_questions"):d.props.automationType==="custom_questions"&&b("PagesMarketingAutomationActions").updateIsEnabled(!1,"organic_intake_form"),d.props.onBack()},d.$3=function(){b("PagesMarketingAutomationActions").updateIsEnabled(!1),d.setState({saveError:!0,shouldShowErrors:!0,isSaving:!1})},d.$4=function(){var a=!0,c="",e=d.props.errors;d.$5();if(e)d.setState({shouldShowErrors:!0}),a=!1,c=e.errorText;else{if(d.state.isMessengerChecked===!1&&d.state.isIGChecked===!1&&D(d.props.enabledPlatforms,d.props.automationType)){d.setState({showPlacementUnsetDialog:!0});return}var f=d.$6();if(f===!1)return;d.setState({isSaving:!0});b("PagesMarketingAutomationActions").updateIsEnabled(!0);b("PagesMarketingAutomationActions").updateWelcomeText(d.props.welcomeText.trim());if(d.props.automationType==="icebreaker")d.$7(d.$2,d.$3);else if(d.props.automationType==="custom_questions"){d.$8();return}else d.props.automationType==="appointment_follow_up"?d.$9(d.$2,d.$3):d.props.automationType==="saved_reply"?d.$10():b("PagesMarketingAutomationStore").getIsDefaultAutomation()?d.$11(d.$2,d.$3):d.$12(d.$2,d.$3)}d.$13(d.props.pageID,d.props.automationID,d.props.automationType,e,a,c)},d.$14=function(){d.setState({showQPCDisclaimerDialog:!0})},d.$5=function(){d.setState({showQPCDisclaimerDialog:!1})},d.$16=function(){d.setState({showCustomQuestionsDialog:!1,isSaving:!1})},d.$15=function(){d.setState({showCustomQuestionsDialog:!1});d.$7(d.$2,d.$3);d.props.icebreakers&&d.props.icebreakers.some(function(a){return a.should_show_in_menu})&&b("PagesMarketingAutomationActions").updateIsCurrentMenuSetByAPI(!1);var a=!0,c="",e=d.props.errors;e&&(d.setState({shouldShowErrors:!0}),a=!1,c=e.errorText);d.$13(d.props.pageID,d.props.automationID,d.props.automationType,e,a,c)},d.$18=function(){var a,c=d.props.initialSelectedSavedReply;a=c==null?void 0:(a=c.image)==null?void 0:a.id;if(c!=null){var e;d.setState({isDeleting:!0});b("PagesDeleteSavedResponseMutation").commit(c.id,function(){d.setState({isDeleting:!1}),d.$17(null)},d.$3);b("PagesMessagingInboxActionLogger").logUpdateSavedReply((e=c==null?void 0:c.message)!=null?e:"","",(e=c==null?void 0:c.title)!=null?e:"","",a,"",null)}},d.$20=function(){new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("cancel_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log(),d.setState({saveError:!1}),b("PagesMarketingAutomationActions").revertState(),d.props.automationType!=="saved_reply"&&d.props.onBack()},d.$22=function(){if(d.props.errors){d.setState({showComposerErrorsForPreview:!0});d.$1=window.setTimeout(function(){d.setState({showComposerErrorsForPreview:!1})},3e3);return}d.setState({isSendingPreview:!0});F(d.props.pageID,d.$23,d.$24);d.props.automationType==="organic_intake_form"&&d.logIntakeFormEvent("services_organic_intake_form_setup_click_preview");new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("preview_in_messenger_click").setActionTag(d.props.automationID).setSessionKey(d.props.pageID).log()},d.$23=function(){d.setState({showPreviewSuccessText:!0}),d.setState({isSendingPreview:!1}),d.setState({showComposerErrorsForPreview:!1}),d.$1=window.setTimeout(function(){d.setState({showPreviewSuccessText:!1})},3e3)},d.$24=function(){d.setState({showPreviewSendErrors:!0}),d.setState({isSendingPreview:!1}),d.setState({showComposerErrorsForPreview:!1}),d.$1=window.setTimeout(function(){d.setState({showPreviewSendErrors:!1})},3e3)},d.$34=function(){d.setState({showAwayTimeRangeDialog:!1,isSaving:!1})},d.$35=function(){var a=b("PagesMarketingAutomationStore").getAwayTimeZone();if(a==null)return;b("PageSetAwayConfigMutation").commit(a,d.props.pageID,JSON.stringify(b("PagesMarketingAutomationStore").getAwayTimeRanges()),{onSuccess:function(){b("PagesMarketingAutomationActions").updateAwayState(!0)},onFailure:function(){}});b("PagesMarketingAutomationStore").getIsDefaultAutomation()?d.$11(d.$2,d.$3):d.$12(d.$2,d.$3);b("PagesManagerInboxLogger").logAutomatedResponsesSaveClicked(d.props.automationType,!1);d.setState({showAwayTimeRangeDialog:!1,isSaving:!1})},d.$36=function(){d.state.showPlacementUnsetDialog?d.setState({showPlacementUnsetDialog:!1,isSaving:!1}):d.state.showAwayTimeRangeDialog?d.setState({showAwayTimeRangeDialog:!1,isSaving:!1}):d.state.showCustomQuestionsDialog&&d.setState({showCustomQuestionsDialog:!1,isSaving:!1})},d.$37=function(){d.state.showPlacementUnsetDialog?d.$38():d.state.showAwayTimeRangeDialog?d.$35():d.state.showCustomQuestionsDialog&&d.$15()},d.$40=function(a,c){if(!d.props.isWelcomeTextIntialized){b("PagesMarketingAutomationActions").updateIsWelcomeTextInitialized(!0);return}return b("PagesMarketingAutomationActions").updateWelcomeText(c)},d.$41=function(a,c){return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:c,questionMessages:d.props.automatedCheckoutMessages.questionMessages,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$42=function(a,c){var e=d.props.automatedCheckoutMessages.questionMessages.slice(),f=a.answers?a.answers.map(function(a){return a.value}):[];e[c]={answers:f,answerType:(c=a.answerType)!=null?c:k.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"};return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:e,thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$43=function(a,c){c=c?c.map(function(a){return a.value}):[];b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages.concat({answers:c,answerType:a,message:"",prefillType:"NONE",replyType:"TEXT"}),thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$44=function(a){b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages.filter(function(b,c){return c!==a}),thankYouMessage:d.props.automatedCheckoutMessages.thankYouMessage})},d.$45=function(a,c){return b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:d.props.automatedCheckoutMessages.introMessage,questionMessages:d.props.automatedCheckoutMessages.questionMessages,thankYouMessage:c})},d.$46=function(a,c){return b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:c,questionMessages:d.props.organicIntakeFormMessages.questionMessages,thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage})},d.$47=function(a,c){var e=d.props.organicIntakeFormMessages.questionMessages.slice();e[a]=c;b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:e,thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage});d.$48()},d.$49=function(a,c){var e=d.props.organicIntakeFormMessages.questionMessages.slice(),f=a.answers?a.answers.map(function(a){return a.value}):[];e[c]={answers:f,answerType:(c=a.answerType)!=null?c:k.CUSTOM,message:a.questionMessage,prefillType:"NONE",replyType:"TEXT"};b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:e,thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage});d.$48()},d.$50=function(){b("PagesMarketingAutomationActions").toggleQPCPromptQuestion(),d.logIntakeFormEvent("services_organic_intake_form_prompt_question_toggle")},d.$52=function(a,c){b("PagesMarketingAutomationActions").updateSavedReply({message:(a=(a=d.props.selectedSavedReply)==null?void 0:a.message)!=null?a:"",title:c})},d.$53=function(a,c){var e;b("PagesMarketingAutomationActions").updateSavedReply({message:c,title:(e=(e=d.props.selectedSavedReply)==null?void 0:e.title)!=null?e:""});d.$40(a,c)},d.$48=b("debounce")(function(){d.logIntakeFormEvent("services_organic_intake_form_setup_edit_question")},2e3,babelHelpers.assertThisInitialized(d)),d.$54=function(){b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages.concat({answers:[],answerType:k.CUSTOM,forceEditMode:!0,message:""}),thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage}),d.logIntakeFormEvent("services_organic_intake_form_setup_add_question")},d.$55=function(a,c){c=c?c.map(function(a){return a.value}):[];b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages.concat({answers:c,answerType:a,forceEditMode:!0,message:"",prefillType:"NONE",replyType:"TEXT"}),thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage});d.logIntakeFormEvent("services_organic_intake_form_setup_add_question")},d.$56=function(a){b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages.filter(function(b,c){return c!==a}),thankYouMessage:d.props.organicIntakeFormMessages.thankYouMessage}),d.logIntakeFormEvent("services_organic_intake_form_setup_remove_question")},d.$57=function(a,c){return b("PagesMarketingAutomationActions").updateOrganicIntakeFormMessages({introMessage:d.props.organicIntakeFormMessages.introMessage,questionMessages:d.props.organicIntakeFormMessages.questionMessages,thankYouMessage:c})},d.$63=function(a){var c,e=d.props.reengagementData.reengagementRules;return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages,reengagementRules:{mainRules:(c=a.mainRules)!=null?c:e.mainRules,andRules:(c=a.andRules)!=null?c:e.andRules,notRules:(c=a.notRules)!=null?c:e.notRules}})},d.$65=function(a,b){return d.$64(a,{message:b})},d.$66=function(a,b){return d.$64(a,{time:b})},d.$67=function(a,c){if(c===null){var e=d.props.reengagementData.reengagementMessages.slice(),f=e[a];e[a]={triggerTimeMin:f.triggerTimeMin,messageText:f.messageText,ctas:f.ctas,attachment:null,attachmentType:null};return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:e,reengagementRules:d.props.reengagementData.reengagementRules})}return d.$64(a,{media:c})},d.$68=function(a,b){return d.$64(a,{mediaType:b})},d.$69=function(a,b){return d.$64(a,{ctas:b})},d.$70=function(){return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages.concat({triggerTimeMin:0,messageText:"",ctas:[],attachment:null,attachmentType:null}),reengagementRules:d.props.reengagementData.reengagementRules})},d.$71=function(a){return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d.props.reengagementData.reengagementMessages.filter(function(b,c){return c!==a}),reengagementRules:d.props.reengagementData.reengagementRules})},d.$72=function(){b("PagesMarketingAutomationActions").updateShouldShowAdvancedOptions(!d.props.shouldShowAdvancedOptions)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){b("PagesManagerAction").setHeaderHeight(0),window.clearTimeout(this.$1)};d.$6=function(){var a=b("PagesMarketingAutomationStore").getAwayTimeZone(),c=b("PagesMarketingAutomationStore").getAwayTimeRanges();if(b("PagesMarketingAutomationStore").getAutomationType()!=="away_message"||a==null||c==null)return!0;c=b("PagesTimeRangeEditorUtilities").getIsRequestTimeInAwayTimeRange(a,c);if(c){this.setState({showAwayTimeRangeDialog:!0});return!1}b("PageSetAwayConfigMutation").commit(a,this.props.pageID,JSON.stringify(b("PagesMarketingAutomationStore").getAwayTimeRanges()),{onSuccess:function(){b("PagesMarketingAutomationActions").updateAwayState(!1)},onFailure:function(){}});return!0};d.$8=function(){b("PagesMarketingAutomationStore").getIsCurrentMenuSetByAPI()&&this.props.icebreakers&&this.props.icebreakers.some(function(a){return a.should_show_in_menu})?this.setState({showCustomQuestionsDialog:!0}):this.$15()};d.$17=function(a){this.setState({saveError:!1,shouldShowErrors:!1,isSaving:!1}),b("SavedResponsesUtils").fetchSavedResponse(this.props.pageID,function(a){b("PagesMarketingAutomationActions").setSavedReplyResponses(a)}),b("PagesMarketingAutomationActions").updateAutomationType("saved_reply"),b("PagesMarketingAutomationActions").updateSelectedSavedReply(a),b("PagesMarketingAutomationActions").storeState()};d.$10=function(){var a=this,c,d=this.props.initialSelectedSavedReply,e=this.props.selectedSavedReply,f=this.props.media&&this.props.media.id!=null?this.props.media.id.toString():null;c=d==null?void 0:(c=d.image)==null?void 0:c.id;if(d!=null){var g;b("PagesEditSavedResponseMutation").commit(d.id,((g=e==null?void 0:e.title)!=null?g:"").trim(),(g=e==null?void 0:e.message)!=null?g:"",f,function(){a.$17(e)},this.$3)}else{b("PagesCreateSavedResponseMutation").commit(this.props.pageID,((g=e==null?void 0:e.title)!=null?g:"").trim(),(g=e==null?void 0:e.message)!=null?g:"",f,null,function(b){if(e!=null){e.id=(b=b==null?void 0:(b=b.page_saved_response_create)==null?void 0:(b=b.new_saved_response)==null?void 0:b.id)!=null?b:""}a.$17(e)},this.$3)}b("PagesMessagingInboxActionLogger").logUpdateSavedReply((g=d==null?void 0:d.message)!=null?g:"",e==null?void 0:e.message,(g=d==null?void 0:d.title)!=null?g:"",e==null?void 0:e.title,c,f,null)};d.$19=function(a,c){c=c?a?"new":"update":"fail";new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_setup_creation").setConversionType("BUYER_INFORMATION").setEventType(this.props.automationType).setEventSubtype(c).setPageID(this.props.pageID).log()};d.$11=function(a,c){var d=this,e={};e.text=this.props.welcomeText.trim();e.trigger_wait_time=E(this.props.automationType);e.trigger_type=this.props.automationType;e.page_id=this.props.pageID;this.props.automationType==="automated_checkout"||this.props.automationType==="buyer_information_form"?e.automated_checkout_data=JSON.stringify(z(!1)):this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm&&(e.is_intake_form_enabled=!0,e.automated_checkout_data=JSON.stringify(A(!1)));this.props.reengagementData&&(e.reengagement_notif_data=B(this.props.reengagementData));this.props.media&&(e.attachment=this.props.media);this.props.ctas&&(e.ctas=this.props.ctas);var f=b("PagesMarketingAutomationStore").getServicesReferrerData(),g=f.referrer;f=f.referrerSurface;e.referrer_ui_component=g;e.referrer_ui_surface=f;b("PagesMarketingAutomationCreateMutation").commit({data:e},{onSuccess:function(c){c=(c=c)!=null?(c=c.page_create_automation)!=null?(c=c.automation)!=null?c.id:c:c:c;(d.props.automationType==="automated_checkout"||d.props.automationType==="buyer_information_form")&&d.$19(!!c,!0);c!=null&&c!==""&&(b("PagesMarketingAutomationActions").setDefaultAutomation(!1),b("PagesMarketingAutomationActions").updateAutomationID(c));a()},onFailure:function(){d.props.automationType==="automated_checkout"&&d.$19(!0,!1),c()}})};d.$12=function(a,c){var d=this,e={};e.id=this.props.automationID;e.text=this.props.welcomeText.trim();D(this.props.enabledPlatforms,this.props.automationType)&&(e.platforms=[],this.state.isMessengerChecked===!0&&e.platforms.push("MESSENGER"),this.state.isIGChecked===!0&&e.platforms.push("INSTAGRAM_DIRECT"));this.props.automationType==="automated_checkout"||this.props.automationType==="buyer_information_form"?e.automated_checkout_data=JSON.stringify(z(!1)):this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm&&(e.is_intake_form_enabled=!0,e.automated_checkout_data=JSON.stringify(A(!1)));this.props.reengagementData&&(e.reengagement_notif_data=B(this.props.reengagementData));this.props.media?e.attachment=this.props.media:e.remove_attachment=!0;this.props.ctas&&(e.ctas=this.props.ctas);var f=b("PagesMarketingAutomationStore").getServicesReferrerData(),g=f.referrer;f=f.referrerSurface;e.referrer_ui_component=g;e.referrer_ui_surface=f;b("PagesMarketingAutomationUpdateMutation").commit({data:e},{onSuccess:function(c){c=(c=c)!=null?(c=c.page_update_automation)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;d.props.automationType==="automated_checkout"&&d.$19(!1,!0);D(d.props.enabledPlatforms,d.props.automationType)&&(e.platforms.length===0&&b("PagesMarketingAutomationActions").updateIsEnabled(!1),b("PagesMarketingAutomationActions").updateEnabledPlatforms(e.platforms));c&&(d.props.automationType==="automated_checkout"?b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(c):d.props.automationType==="organic_intake_form"&&b("PagesMarketingAutomationActions").updateOrganicIntakeFormStepListID(c));a()},onFailure:function(){d.props.automationType==="automated_checkout"&&d.$19(!1,!1),c()}})};d.$7=function(a,c){if(this.props.icebreakers==null)return;var d=this.props.icebreakers.map(function(a){return{custom_question:a.custom_question.trim(),saved_response:a.saved_response,response_ctas:a.response_ctas,response_media_attachment:a.response_media_attachment,should_show_in_menu:(a=a.should_show_in_menu)!=null?a:!1}}).filter(function(a){return a.custom_question!==""});b("PagesMarketingAutomationActions").updateIcebreakerDemoIndices(y(d));b("PagesMarketingAutomationActions").updateIcebreakers(d);d={icebreaker_question_answer_pairs:d};b("PageUpdateCustomIcebreakersMutation").commit({data:d},{onSuccess:a,onFailure:c})};d.$9=function(a,c){var d=b("PagesMarketingAutomationStore").getFollowUpMessageData();if(d==null)return;d={page_id:this.props.pageID,message_content:d.messageContent,schedule_in_seconds:d.triggerTimeSecs};I({input:d,onCompleted:function(b,d){d?c():a()}})};d.$21=function(a,c){b("PagesManagerAction").setHeaderHeight(c)};d.$25=function(){var a=this.state.isSaving?i._("Saving..."):i._("Save"),c=this.state.showComposerErrorsForPreview&&this.props.errors?i._("You must complete all required fields before previewing your message."):null;this.state.showPreviewSendErrors&&(c=i._("Please try previewing your message again."));var d=this.state.shouldShowErrors&&this.props.errors?this.props.errors.errorText:null;this.state.saveError&&(d=i._("Please try saving your message again."));return H.jsx(b("PagesManagerComposerTopBar.react"),{cancelDisabled:!this.props.hasComposerBeenEdited&&this.props.automationType==="automated_checkout",deleteButtonDisabled:this.state.isDeleting,headerContent:q(this.props.automationType,this.props.automationID),hidePreviewButton:this.props.automationType==="icebreaker"||this.props.automationType==="custom_questions"||this.props.automationType==="mbs_reengagement"||this.props.automationType==="saved_reply"||this.props.automationType==="appointment_reminder"||this.props.automationType==="appointment_follow_up",onCancel:this.$20,onDeleteClick:this.$26(),onPreviewClick:this.$22,onPrimaryClick:this.props.showQPCIcebreakersDisclaimer?this.$14:this.$4,previewButtonText:this.state.isSendingPreview?i._("Preview in Messenger..."):i._("Preview in Messenger"),previewError:c,previewSuccessText:this.state.showPreviewSuccessText?i._("A preview of your message has been sent. You can see it in Messenger."):null,primaryButtonText:a,primaryError:d,sendDisabled:!this.props.hasComposerBeenEdited||this.props.isSendDisabled,showCancelButton:this.props.automationType!=="saved_reply",showDeleteButton:this.props.automationType==="saved_reply"&&this.props.initialSelectedSavedReply!==null})};d.$26=function(){switch(this.props.automationType){case"saved_reply":return this.$18;default:return null}};d.$27=function(){return this.props.automationType==="away_message"||this.props.automationType==="instant_reply"||this.props.automationType==="automated_checkout"||this.props.automationType==="buyer_information_form"||this.props.automationType==="organic_intake_form"};d.$28=function(){return this.props.automationType==="away_message"||this.props.automationType==="instant_reply"||this.props.automationType==="automated_checkout"||this.props.automationType==="buyer_information_form"||this.props.automationType==="organic_intake_form"};d.$29=function(){return this.props.automationType==="mbs_reengagement"||this.props.automationType==="appointment_follow_up"};d.$30=function(){return this.props.automationType==="saved_reply"||this.props.automationType==="automated_checkout"||this.props.automationType==="organic_intake_form"||this.props.automationType==="buyer_information_form"};d.$31=function(){if(this.props.automationType==="away_message")return H.jsx(b("PagesAutomatedResponsesAwayTimeRangeEditorRoot.react"),{pageID:this.props.pageID});else if(this.props.automationType==="instant_reply")return null;else if(this.props.automationType==="organic_intake_form"&&b("enumUtils").coerceFromKey(this.props.qpcConsumerFlow,b("ServicesQPCFlow"))===b("ServicesQPCFlow").ICEBREAKERS)return H.jsxs("div",{className:"_452x _89o0",children:[H.jsx(b("FDSText.react"),{color:"secondary",margin:"_3-8x _3-98",size:"body1",children:w(this.props.automationType)}),H.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Frequently Asked Questions")}),H.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:i._("When questions for potential customers is turned on a frequently asked question will be added. When the question below is selected your questions for potential customers will begin in Messenger.")}),H.jsx("div",{className:"_3-8x _2pi4 _2pi9 _8ej0",children:H.jsxs("div",{className:"_2pit _8eix",children:['"',i._("I'm a new customer. How can I find out more about your business?"),'"']})})]});return H.jsx("div",{className:"_452x _89o0 _3-8-",children:H.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:w(this.props.automationType)})})};d.$32=function(){if(this.props.automationType==="automated_checkout")return H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx("div",{className:"_89o0 _3-8-",children:H.jsx(b("FDSText.react"),{color:"secondary",size:"body1",children:i._("You can edit the questions and their order.")})}),header:i._("Overview"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _6as7",children:H.jsx(b("Image.react"),{src:g("650922")})}),subtitle:i._("Send a sequence of messages to gather buyer information when customers want to make a purchase.")});else if(this.props.automationType==="buyer_information_form")return H.jsx(b("PagesManagerComposerSectionCard.react"),{header:i._("Overview"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _6as7",children:H.jsx(b("Image.react"),{src:g("650922")})}),subtitle:i._("Send a form to gather customer's information when they want to make a purchase.")});else return null};d.$33=function(){var a=this,c=function(c){b("PagesMarketingAutomationActions").setComposerHasBeenEdited(),a.setState({isMessengerChecked:c})},d=function(c){b("PagesMarketingAutomationActions").setComposerHasBeenEdited(),a.setState({isIGChecked:c})};return H.jsxs("div",{className:"_8o9f",children:[H.jsx("div",{className:"_8o9e",children:H.jsx(b("FDSCheckboxInput.react"),{label:i._("Messenger"),onChange:c,value:this.state.isMessengerChecked})}),H.jsx("div",{className:"_8o9e",children:H.jsx(b("FDSCheckboxInput.react"),{label:i._("Instagram"),onChange:d,value:this.state.isIGChecked})})]})};d.$39=function(){if(this.state.showPlacementUnsetDialog)return"PLATFORMS";else if(this.state.showAwayTimeRangeDialog)return"AWAY_TIME";else if(this.state.showCustomQuestionsDialog)return"CUSTOM_QUESTIONS";return null};d.$38=function(){b("PagesMarketingAutomationStore").getIsDefaultAutomation()?this.$11(this.$2,this.$3):this.$12(this.$2,this.$3),b("PagesManagerInboxLogger").logAutomatedResponsesDisabled(this.props.automationType),this.setState({showPlacementUnsetDialog:!1,isSaving:!1})};d.$51=function(a){b("PagesMarketingAutomationActions").updateQPCPromptQuestion({promptQuestionMessage:a.promptQuestionMessage,promptQuestionStartAnswer:a.promptQuestionStartAnswer,promptQuestionStopAnswer:a.promptQuestionStopAnswer})};d.$13=function(a,c,d,e,f,g){!e&&d==="organic_intake_form"&&this.logIntakeFormEvent("services_organic_intake_form_setup_save_questionnaire"),new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("save_click").setActionTag(c).addActionPayload("hasNoErrors",f).addActionPayload("errors",g).addActionPayload("automationType",d).setSessionKey(a).markEnd().log(),new(b("WebFunnelLogger"))("PageMarketingAutomationWebFunnelDefinition").setAction("restart_funnel_after_save").setActionTag(c).setSessionKey(a).addActionPayload("automationType",d).markStart().log(),b("PagesManagerInboxLogger").logAutomatedResponsesSaveClicked(d,!f)};d.$58=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireDisqualificationMessage(c)};d.$59=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireStopQuestionsMessage(c)};d.$60=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireSummaryMessage(c)};d.$61=function(a,c){b("PagesMarketingAutomationActions").updateQuestionnaireReminderMessage(c)};d.$62=function(a){b("PagesMarketingAutomationActions").updateQuestionnairePrivacyPolicyURL(a)};d.logIntakeFormEvent=function(a){var c=b("PagesMarketingAutomationStore").getServicesReferrerData(),d=c.referrer;c=c.referrerSurface;b("ServicesEventsLogger").log(this.props.pageID,a,{referrerUIComponent:d,referrerUISurface:c})};d.$64=function(a,c){var d=this.props.reengagementData.reengagementMessages.slice(),e=d[a];d[a]={triggerTimeMin:c.time!=null?c.time/60:e.triggerTimeMin,messageText:(a=c.message)!=null?a:e.messageText,ctas:(a=c.ctas)!=null?a:e.ctas,attachment:(a=c.media)!=null?a:e.attachment,attachmentType:(a=c.mediaType)!=null?a:e.attachmentType};return b("PagesMarketingAutomationActions").updateAutomatedReengagementData({reengagementMessages:d,reengagementRules:this.props.reengagementData.reengagementRules})};d.render=function(){var a=this.props.automationType==="custom_questions",c=null;switch(this.props.automationType){case"organic_intake_form":c=H.jsx(S,{automationID:this.props.automationID,errors:this.state.shouldShowErrors?this.props.errors:null,isQPCPromptQuestionEnabled:this.props.isQPCPromptQuestionEnabled,isWelcomeTextInitialized:this.props.isWelcomeTextIntialized,oldOnAddQuestion:this.$54,oldOnQuestionMessageChange:this.$47,onAddQuestion:this.$55,onClickQPCAdvancedOptionsLink:this.$72,onIntroMessageChange:this.$46,onPromptQuestionChange:this.$51,onQuestionMessageChange:this.$49,onQuestionnairePrivacyPolicyURLChange:this.$62,onQuestionnaireReminderMessageChange:this.$61,onQuestionnaireStopQuestionsMessageChange:this.$59,onRemoveQuestion:this.$56,onThankYouMessageChange:this.$57,onToggleQPCPromptQuestion:this.$50,organicIntakeFormMessages:this.props.organicIntakeFormMessages,pageID:this.props.pageID,qpcPromptQuestion:this.props.qpcPromptQuestion,questionnairePrivacyPolicyURL:this.props.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.props.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.props.questionnaireStopQuestionsMessage,shouldHideAttachment:this.$27(),shouldHideCTA:this.$28(),shouldShowAdvancedOptions:this.props.shouldShowAdvancedOptions});break;case"automated_checkout":case"buyer_information_form":c=H.jsx(O,{automatedCheckoutMessages:this.props.automatedCheckoutMessages,automationID:this.props.automationID,automationType:this.props.automationType,errors:this.state.shouldShowErrors?this.props.errors:null,isWelcomeTextInitialized:this.props.isWelcomeTextIntialized,onAddQuestion:this.$43,onIntroMessageChange:this.$41,onQuestionMessageChange:this.$42,onQuestionnaireDisqualificationMessageChange:this.$58,onQuestionnairePrivacyPolicyURLChange:this.$62,onQuestionnaireReminderMessageChange:this.$61,onQuestionnaireStopQuestionsMessageChange:this.$59,onQuestionnaireSummaryMessageChange:this.$60,onRemoveQuestion:this.$44,onThankYouMessageChange:this.$45,pageID:this.props.pageID,questionnaireDisqualificationMessage:this.props.questionnaireDisqualificationMessage,questionnairePrivacyPolicyURL:this.props.questionnairePrivacyPolicyURL,questionnaireReminderMessage:this.props.questionnaireReminderMessage,questionnaireStopQuestionsMessage:this.props.questionnaireStopQuestionsMessage,questionnaireSummaryMessage:this.props.questionnaireSummaryMessage,shouldHideAttachment:this.$27(),shouldHideCTA:this.$28(),shouldShowAdvancedOptions:this.props.shouldShowAdvancedOptions});break;case"icebreaker":c=H.jsx(b("IcebreakerFreeTextEditor.react"),{icebreakers:this.props.icebreakers||[],isInboxCombinedCustomQuestionTest:!1,pageID:this.props.pageID});break;case"custom_questions":c=H.jsx(b("IcebreakerFreeTextEditor.react"),{icebreakers:this.props.icebreakers||[],isInboxCombinedCustomQuestionTest:!0,pageID:this.props.pageID});break;case"mbs_reengagement":c=H.jsx(M,{automationID:this.props.automationID,data:this.props.reengagementData,onAddMessage:this.$70,onIndexedCTAChange:this.$69,onIndexedMediaChange:this.$67,onIndexedMediaTypeChange:this.$68,onIndexedTimeChange:this.$66,onMessageChange:this.$65,onRemoveMessage:this.$71,onRulesChange:this.$63,pageID:this.props.pageID});break;case"appointment_follow_up":c=H.jsx(b("AppointmentFollowUpMessageEditor.react"),{followUpMessageData:this.props.followUpMessageData,pageID:this.props.pageID});break;case"saved_reply":c=H.jsx(U,{attachmentType:this.props.attachmentType,automationID:this.props.automationID,ctas:this.props.ctas,errors:this.state.shouldShowErrors||this.state.showComposerErrorsForPreview?null:this.props.errors,isWelcomeTextIntialized:this.props.isWelcomeTextIntialized,media:this.props.media,onMessageChange:this.$53,onShortcutChange:this.$52,pageID:this.props.pageID,selectedSavedReply:this.props.selectedSavedReply});break;default:c=H.jsx(b("PagesManagerComposerSectionCard.react"),{body:H.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:this.props.attachmentType,automationID:this.props.automationID,ctas:this.props.ctas,errors:this.state.shouldShowErrors||this.state.showComposerErrorsForPreview?this.props.errors:null,hideAttachmentSection:this.$27(),hideCTASection:this.$28(),isWelcomeTextIntialized:this.props.isWelcomeTextIntialized,media:this.props.media,onMessageChange:this.$40,pageID:this.props.pageID,showPersonalization:!0,showTimeSection:this.$29(),welcomeText:this.props.welcomeText}),header:i._("Message"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _6as8",children:H.jsx(b("Image.react"),{src:g("561662")})}),subtitle:i._("Customize the message you send.")})}var d=this.$29()||this.$30()?null:H.jsx(b("PagesManagerComposerSectionCard.react"),{body:this.$31(),header:i._("Timing"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _6as7",children:H.jsx(b("Image.react"),{src:g("583805")})}),subtitle:v(this.props.automationType,this.props.pageName)}),e=this.$32(),f=D(this.props.enabledPlatforms,this.props.automationType)?H.jsx(b("PagesManagerComposerSectionCard.react"),{body:this.$33(),header:i._("Platform"),isCollapsible:!1,leftIcon:H.jsx("div",{className:"_6as2 _8o9d",children:H.jsx(b("Image.react"),{src:g("532776")})}),subtitle:u(this.props.automationType,this.props.pageName)}):null,h=this.props.welcomeText;if(this.props.automationType==="automated_checkout")h=this.props.automatedCheckoutMessages.introMessage;else if(this.props.automationType==="appointment_follow_up"){var j=b("PagesMarketingAutomationStore").getFollowUpMessageData();h=j?j.messageContent:h}j=null;this.props.automationType==="organic_intake_form"&&this.props.isEligibleForIntakeForm?j=this.props.organicIntakeFormMessages:this.props.automationType==="automated_checkout"&&(j=this.props.automatedCheckoutMessages);return H.jsxs("div",{className:"_6arp",children:[H.jsx(b("ResponsiveBlock.react"),{onResize:this.$21,children:this.$25()}),this.state.showQPCDisclaimerDialog?H.jsx(T,{automationType:this.props.automationType,onCancel:this.$5,onConfirm:this.$4}):null,H.jsxs("div",{className:"_6arq"+(a?"":" _8k88"),style:{height:this.props.height},children:[H.jsxs("div",{className:(a?"":"_6as1")+(a?" _8k87":""),children:[e,f,d,c]}),H.jsx("div",{className:(a?"":"_2f4z")+(a?" _8k86":""),children:this.props.automationType==="mbs_reengagement"?H.jsx(b("PagesMessengerReengagementPreview.react"),{pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,reengagementMessages:this.props.reengagementData.reengagementMessages}):this.props.automationType==="custom_questions"?H.jsx(b("PagesMessengerCustomQuestionsPreview.react"),{icebreakers:(e=this.props.demoIcebreakers)!=null?e:[],menuItems:this.props.icebreakers&&this.props.icebreakers.filter(function(a){return a.custom_question.length>0&&Boolean(a.should_show_in_menu)})||[],pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,text:this.props.welcomeText}):H.jsx(b("PagesMessengerPreview.react"),{attachmentType:this.props.attachmentType,automationType:this.props.automationType,ctas:this.props.ctas,ghostText:p(this.props.automationType,this.props.pageName),ghostTextLocation:G(this.props.automationType)?"bottom":"top",icebreakers:this.props.demoIcebreakers,media:this.props.media,pageID:this.props.pageID,pageName:this.props.pageName,pageProfileUrl:this.props.pageProfileUrl,qpcPromptQuestion:this.props.isQPCPromptQuestionEnabled?this.props.qpcPromptQuestion:null,questionnaireMessages:j,text:h})}),D(this.props.enabledPlatforms,this.props.automationType)?H.jsx(K,{isShown:this.state.showPlacementUnsetDialog||this.state.showAwayTimeRangeDialog||this.state.showCustomQuestionsDialog,modalPurpose:this.$39(),onCancelClick:this.$36,onConfirmClick:this.$37}):null,H.jsx(J,{isShown:this.state.showAwayTimeRangeDialog,onCancelClick:this.$34,onConfirmClick:this.$35}),H.jsx(L,{isShown:this.state.showCustomQuestionsDialog,onCancelClick:this.$16,onConfirmClick:this.$15})]})]})};return c}(H.PureComponent);e.exports=d}),null);
__d("PagesMarketingAutomationEnableDisplay.react",["cx","fbt","FDSText.react","PagesMarketingAutomationUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesMarketingAutomationUtils").getPlatformStatus,j=b("PagesMarketingAutomationUtils").getShouldShowIGDirectAutomatedResponse,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.isEnabled===!0?h._("On"):h._("Off"),c=j(this.props.enabledPlatforms,this.props.automationType),d=!1;this.props.enabledPlatforms!=null&&(this.props.enabledPlatforms.length!==0&&(d=!0));return k.jsxs("div",{className:(!c||d===!1?"_452x":"")+(c&&d===!0?" _8prl":""),children:[k.jsx("span",{className:"_2qy-"+(this.props.isEnabled?"":" _2qy_")+(this.props.isEnabled?" _2qz0":"")}),k.jsx(b("FDSText.react"),{color:"secondary",size:"header2",children:a})]})};d.$2=function(){if(this.props.enabledPlatforms!=null){if(this.props.enabledPlatforms.length===0)return null;var a=this.props.enabledPlatforms,c=i(a,"MESSENGER");a=i(a,"INSTAGRAM_DIRECT");var d=h._("Sent on Instagram and Messenger");a===!0&&c===!1?d=h._("Sent only on Instagram"):a===!1&&c===!0&&(d=h._("Sent only in Messenger"));return k.jsx("div",{children:k.jsx("div",{className:"_8khs",children:k.jsx(b("FDSText.react"),{color:"secondary",size:"body",children:d})})})}return null};d.render=function(){return k.jsxs("div",{children:[this.$1(),j(this.props.enabledPlatforms,this.props.automationType)?this.$2():null]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementMessages.react",["ix","cx","fbt","Image.react","PagesManagerComposerSectionCard.react","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationReengagementRules.react","PagesMarketingAutomationUtils","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("PagesMarketingAutomationUtils").getMaxReengagementMessagesNumber,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.data.reengagementRules,d=this.props.data.reengagementMessages;return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"_6_oc",children:k.jsx(b("PagesManagerComposerSectionCard.react"),{body:k.jsx(b("PagesMarketingAutomationReengagementRules.react"),{andRules:c.andRules,mainRules:c.mainRules,notRules:c.notRules,onRulesChange:this.props.onRulesChange}),header:i._("Rule"),isCollapsible:!1,leftIcon:k.jsx("div",{className:"_6as2 _6as7",children:k.jsx(b("Image.react"),{src:g("585852")})}),subtitle:i._("Customize the conditions for sending your message.")},"reengagementRules")}),k.jsxs("div",{className:"_6_oc",children:[d&&d.length>0?d.map(function(c,e){return k.jsx(b("PagesManagerComposerSectionCard.react"),{body:k.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:c.attachmentType,automationID:a.props.automationID,ctas:c.ctas,errors:null,hideAttachmentSection:!1,hideCTASection:!1,index:e,isWelcomeTextIntialized:!1,media:c.attachment,onIndexedCTAChange:a.props.onIndexedCTAChange,onIndexedMediaChange:a.props.onIndexedMediaChange,onIndexedMediaTypeChange:a.props.onIndexedMediaTypeChange,onIndexedTimeChange:a.props.onIndexedTimeChange,onMessageChange:a.props.onMessageChange,pageID:a.props.pageID,showCTATypes:!0,showPersonalization:!0,showTimeSection:!0,time:c.triggerTimeMin*60,welcomeText:(c=c.messageText)!=null?c:""}),header:i._("Message"),index:e,isCollapsible:!1,isRemoveable:d.length>1,leftIcon:k.jsx("div",{className:"_6as2 _6as8",children:k.jsx(b("Image.react"),{src:g("561662")})}),onRemoveMessage:a.props.onRemoveMessage,subtitle:i._("Customize the message you send.")},"reengagementMessage"+e.toString())}):null,d.length<j()&&k.jsx(b("ShimButton.react"),{className:"_888j _8j0x _3-8y",onClick:this.props.onAddMessage,children:k.jsx("span",{children:i._("+ Add message")})})]})]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementRuleCondition.react",["ix","cx","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FlexLayout.react","Image.react","PagesMarketingAutomationContentUtils","React","XUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesMarketingAutomationContentUtils").getContentForReengagement,j=b("React");function k(a){return a.options.length>0?j.jsx("div",{className:"_2pih",children:j.jsx(b("FDSDropdownSelector.react"),{buttonUse:"default",onChange:a.onChange,value:a.value,children:a.options.map(function(a,c){return j.jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:i(a)},a)})})}):null}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onTypeChange&&c.props.onTypeChange(c.props.index,a)},c.$2=function(a){c.props.onConditionChange&&c.props.onConditionChange(c.props.index,a)},c.$3=function(a){a=a.target.value;c.props.onNameChange(c.props.index,(a=a)!=null?a:"")},c.$4=function(a){c.props.onRemoveRule(c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return j.jsx("div",{className:"_8e8o",children:j.jsxs(b("FlexLayout.react"),{align:"center",className:"_3-95",children:[j.jsx(k,{onChange:this.$1,options:this.props.typeOptions,value:this.props.rule.type}),j.jsx(k,{onChange:this.$2,options:this.props.conditionOptions,value:this.props.rule.condition}),j.jsx("div",{className:"_2pih",children:j.jsx(b("XUITextInput.react"),{onChange:this.$3,value:this.props.rule.name})}),this.props.isRemoveable?j.jsx(b("Image.react"),{className:"_8e8p",onClick:this.$4,src:g("478236")}):null]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesMarketingAutomationReengagementRules.react",["cx","fbt","FDSText.react","Link.react","PagesMarketingAutomationReengagementRuleCondition.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a,b){var d=c.props.mainRules.slice();d[a]=b;return c.props.onRulesChange({mainRules:d})},c.$2=function(){return c.props.onRulesChange({mainRules:c.props.mainRules.concat("")})},c.$3=function(a){return c.props.onRulesChange({mainRules:c.props.mainRules.filter(function(b,c){return c!==a})})},c.$4=function(a,b){var d=c.props.notRules.slice();d[a]=b;return c.props.onRulesChange({notRules:d})},c.$5=function(){return c.props.onRulesChange({notRules:c.props.notRules.concat("")})},c.$6=function(a){return c.props.onRulesChange({notRules:c.props.notRules.filter(function(b,c){return c!==a})})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.mainRules,d=this.props.notRules;return i.jsxs("div",{className:"_6_oc _3-8-",children:[i.jsx("div",{className:"_6-b0 _3-94",children:i.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Flow Progress Events")})}),i.jsx("div",{className:"_6-b0 _3-95",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("Select events for each step in the flow where you want to notify users who drop off.")})}),c&&c.length>0?c.map(function(c,d){return i.jsx(b("PagesMarketingAutomationReengagementRuleCondition.react"),{conditionOptions:["IS"],index:d,isRemoveable:a.props.mainRules.length>1,onNameChange:a.$1,onRemoveRule:a.$3,rule:{type:"APP_EVENT",condition:"IS",name:c},typeOptions:["APP_EVENT"]},"mainRuleCondition"+d.toString())}):null,i.jsx(b("Link.react"),{className:"_6-aw",onClick:this.$2,children:h._("+ Add another progress event")}),i.jsx("div",{className:"_6-b0 _3-94 _3-8x",children:i.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:h._("Flow Complete Events")})}),i.jsx("div",{className:"_6-b0 _3-95",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body3",children:h._("Select what event(s) designate the flow is finished (ex. user completes a form or is no longer eligible). We'll use this to determine when a user shouldn't be notified.")})}),d&&d.length>0?d.map(function(c,d){return i.jsx(b("PagesMarketingAutomationReengagementRuleCondition.react"),{conditionOptions:["IS_NOT"],index:d,isRemoveable:!0,onNameChange:a.$4,onRemoveRule:a.$6,rule:{type:"APP_EVENT",condition:"IS_NOT",name:c},typeOptions:["APP_EVENT"]},"notRuleCondition"+d.toString())}):null,d&&d.length>0?i.jsx(b("Link.react"),{className:"_6-aw",onClick:this.$5,children:h._("+ Add another complete event")}):i.jsx(b("Link.react"),{className:"_6-aw",onClick:this.$5,children:h._("+ Add complete event")})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PageAutomationTriggerCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREET_CUSTOMERS:"greet_customers",FREQUENTLY_ASKED_QUESTIONS:"frequently_asked_questions",COMMON_RESPONSES:"common_responses",CHECKOUT_REQUEST:"checkout_request",FEEDBACK:"feedback",JOB_APPLICATION:"job_application",REENGAGEMENT:"reengagement",APPOINTMENT_MESSAGING:"appointment_messaging"})}),null);
__d("PagesMarketingAutomationStartAutomatedSequenceMutation",["PageAutomationTrigger","RelayFBEnvironment","RelayModern","graphQLEnumAdapter","PagesMarketingAutomationStartAutomatedSequenceMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesMarketingAutomationStartAutomatedSequenceMutation.graphql");function a(a,c){var d=b("graphQLEnumAdapter")(b("PageAutomationTrigger")).valueToName;return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:a.actor_id,recipient_id:a.recipient_id,automated_checkout_data:a.automated_checkout_data,automation_trigger_type:d[a.automation_trigger_type]}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("XPagesDirectionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/get_address/",{page_id:{type:"Int",required:!0}})}),null);
__d("XPagesMessengerPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messenger_preview/",{json:{type:"String",required:!0},page_id:{type:"Int",required:!0},automated_checkout_data:{type:"String"}})}),null);
__d("PagesMarketingAutomationUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerVisualEditorLandingScreenType","AsyncRequest","PageAutomationTriggerCategory","PagesManagerInboxStore","PagesMarketingAutomationActions","PagesMarketingAutomationContentUtils","PagesMarketingAutomationStartAutomatedSequenceMutation","PagesMarketingAutomationStore","RelayFBEnvironment","RelayModern","ServicesURIUtils","XPagesDirectionsController","XPagesMessengerPreviewController","emptyFunction","promiseDone","PagesMarketingAutomationUtilsAutomatedCheckoutQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesMarketingAutomationContentUtils").convertStringToButtonType,l=b("RelayModern").fetchQuery;b("RelayModern").graphql;var m=86400,n=10,o=3,p=3,q=10,r=g._("The URL is invalid");function a(a,c){var d={};d.page_id=c;d.trigger_type=a;d.text=b("PagesMarketingAutomationContentUtils").getDefaultContent(a).toString();d.trigger_wait_time=s(a);d.attachment=b("PagesMarketingAutomationContentUtils").getDefaultAttachment(a);d.ctas=b("PagesMarketingAutomationContentUtils").getDefaultCTAs(a,c);return d}function s(a){switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return"10";case"job_application":return"0";default:return"0"}}function c(a,c,d){var e,f=(e=b("PagesMarketingAutomationStore")).getAutomationType();e={media:e.getMedia(),ctas:e.getCTAs(),text:e.getWelcomeText().trim(),automation_type:f};e=b("XPagesMessengerPreviewController").getURIBuilder().setString("json",JSON.stringify(e)).setInt("page_id",a);f==="automated_checkout"?e.setString("automated_checkout_data",JSON.stringify(C(!0))):f==="organic_intake_form"&&e.setString("automated_checkout_data",JSON.stringify(D(!0)));new(b("AsyncRequest"))().setURI(e.getURI()).setMethod("POST").setHandler(c).setErrorHandler(d).send()}function d(a,c){b("PagesMarketingAutomationStartAutomatedSequenceMutation").commit({actor_id:a,recipient_id:c,automated_checkout_data:JSON.stringify(this.getAutomatedCheckoutData(!1)),automation_trigger_type:b("PagesMarketingAutomationStore").getAutomationType()||"automated_checkout"})}function f(a){switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return"feedback";case"job_application":return"job_application";case"away_message":case"instant_reply":case"organic_intake_form":return"greet_customers";case"smart_reply_contact":case"smart_reply_hours":case"smart_reply_location":case"icebreaker":case"custom_questions":return"frequently_asked_questions";case"automated_checkout":case"buyer_information_form":return"checkout_request";case"mbs_reengagement":return"reengagement";case"appointment_reminder":case"appointment_follow_up":return"appointment_messaging";default:return"common_responses"}}function t(){return b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowAutoResponseRestructure}function u(a){switch(a){case"away_message":case"instant_reply":return"greet_customers";case"organic_intake_form":case"icebreaker":case"custom_questions":case"smart_reply_contact":case"smart_reply_hours":case"smart_reply_location":case"automated_checkout":case"buyer_information_form":return"frequently_asked_questions";case"job_application":return"job_application";case"appointment_reminder":case"appointment_follow_up":case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return"appointment_messaging";case"mbs_reengagement":return"reengagement";default:return"common_responses"}}function v(){var a={};Object.keys(b("PageAutomationTriggerCategory")).forEach(function(b){a[b.toLowerCase()]=[]});return a}function w(a){switch(a){case"positive_recommendation":case"negative_recommendation":case"smart_reply_positive_feedback":case"smart_reply_negative_feedback":return!1;default:return!0}}function x(a){switch(a){case"icebreaker":case"custom_questions":return!b("PagesMarketingAutomationStore").getIsCurrentIcebreakersSetByAPI();default:return!0}}function y(a){var b=[];a.map(function(a){a=a.start-28800;a=a/m;a<1?b.push(g._("Thursday")):a<2?b.push(g._("Friday")):a<3?b.push(g._("Saturday")):a<4?b.push(g._("Sunday")):a<5?b.push(g._("Monday")):a<6?b.push(g._("Tuesday")):a<7&&b.push(g._("Wednesday"))});return b}function z(a,c){if(!c)return!1;switch(a){case"smart_reply_hours":return b("PagesMarketingAutomationStore").getHours().length>0||b("PagesMarketingAutomationStore").getIsAlwaysOpen()||b("PagesMarketingAutomationStore").getIsPermanentlyClosed();case"smart_reply_contact":return b("PagesMarketingAutomationStore").getWebsite()===null&&b("PagesMarketingAutomationStore").getPhoneNumber()===null;case"smart_reply_location":c=b("PagesMarketingAutomationStore").getAddress();return c===null||c==="";default:return!1}}function A(a){a=b("XPagesDirectionsController").getURIBuilder().setInt("page_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){b("PagesMarketingAutomationActions").updateDirectionsURI(a.payload)}).setErrorHandler(b("emptyFunction")).send()}function B(a){if(a==null)return;b("promiseDone")(l(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesMarketingAutomationUtilsAutomatedCheckoutQuery.graphql"),{automationID:a}),function(a){var c;c=(c=a)!=null?(c=c.node)!=null?c.automated_checkout_steps:c:c;if(c&&c.intro_message!==""&&c.question_messages.length>0&&c.question_messages[0]!==""&&c.thank_you_message!==""){c={introMessage:c.intro_message,questionMessages:H(c.question_messages),thankYouMessage:c.thank_you_message};b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages(c)}a=(c=a)!=null?(c=c.node)!=null?(c=c.automated_checkout_step_list)!=null?c.id:c:c:c;a&&b("PagesMarketingAutomationActions").updatedAutomatedCheckoutStepListID(a)})}function C(a){var c,d=(c=b("PagesMarketingAutomationStore")).getAutomatedCheckoutMessages();return b("AdsMessengerPartialAutomatedCreationUtils").getPostData({text:d.introMessage.trim(),media_type:"text",media_content:null},d.questionMessages.map(function(a){var b=a.answers.filter(function(a){return!!a.trim()});return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:b.map(function(a){return{fieldID:"",value:a,nextStep:i.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}}),{text:d.thankYouMessage.trim(),media_type:"text",media_content:null},c.getState().questionnaireDisqualificationMessage,null,c.getState().questionnaireReminderMessage,b("AdsMessengerVisualEditorLandingScreenType").CHECKOUT_AUTOMATION,a,null,c.getState().questionnairePrivacyPolicyURL,!0,c.getState().questionnaireStopQuestionsMessage,null,c.getState().questionnaireSummaryMessage)}function D(a){var c,d=(c=b("PagesMarketingAutomationStore")).getOrganicIntakeFormMessages(),e=d.questionMessages.filter(function(a){return!!a.message.trim()});e=b("AdsMessengerPartialAutomatedCreationUtils").getPostData({text:d.introMessage.trim(),media_type:"text",media_content:null},e.map(function(a){var b=a.answers.filter(function(a){return!!a.trim()});return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:b.map(function(a){return{fieldID:"",value:a,nextStep:i.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}}),{text:d.thankYouMessage.trim(),media_type:"text",media_content:null},"",null,c.getState().questionnaireReminderMessage,b("AdsMessengerVisualEditorLandingScreenType").ORGANIC_INTAKE_FORM,a,null,c.getState().questionnairePrivacyPolicyURL,!0,c.getState().questionnaireStopQuestionsMessage);d=c.getState().qpcPromptQuestion;return babelHelpers["extends"]({},e,{prompt_question_enabled:c.getState().isQPCPromptQuestionEnabled,prompt_question_message:(a=d==null?void 0:d.promptQuestionMessage)!=null?a:"",prompt_question_start_answer:(e=d==null?void 0:d.promptQuestionStartAnswer)!=null?e:"",prompt_question_stop_answer:(c=d==null?void 0:d.promptQuestionStopAnswer)!=null?c:""})}function E(a){return a===""?null:b("ServicesURIUtils").isValidURI(a)?null:r}function F(a){var b=a.reengagementMessages.map(function(a){return{trigger_time_min:a.triggerTimeMin,message_text:a.messageText,ctas:a.ctas,attachment:a.attachment}});a=a.reengagementRules;return{reengagement_messages:b,reengagement_rules_values:{logical_or_rules:a.mainRules,logical_and_rules:a.andRules,logical_not_rules:a.notRules}}}function G(a){var b=a.reengagement_rules_values;a=a.reengagement_messages.map(function(a){var b=a.ctas&&a.ctas.map(function(a){return{content:a.content,url:a.url,type:k((a=a.type)!=null?a:"BUTTON")}});return{triggerTimeMin:a.trigger_time_min,messageText:a.message_text,ctas:(b=b)!=null?b:[],attachment:a.attachment,attachmentType:a.attachment?a.attachment.type:null}});return{reengagementMessages:a,reengagementRules:{mainRules:b.logical_or_rules,andRules:b.logical_and_rules,notRules:b.logical_not_rules}}}function H(a){return a.map(function(a){var b=babelHelpers["extends"]({},a);b.answers=a.answers.slice();b.prefillType!==null&&b.prefillType!=="NONE"?b.answerType=b.prefillType:b.replyType!==null&&b.replyType==="QUICK_REPLIES"?b.answerType=j.MULTIPLE_CHOICE:b.answerType=j.CUSTOM;return b})}function I(a,c){a=(a=a)!=null?a:!1;var d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d!=null){d=((d=d.instagramDirectConfig)==null?void 0:d.igAccountID)!==""}else{var e;d=(e=((e=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT)==null?void 0:e.igAccountID)!==null)!=null?e:!1}e=c==="away_message";c=c==="instant_reply";return d&&a&&(e||c)}function J(a,b){return a==null?!1:a.some(function(a){if(a===b)return!0})}function K(){return n}function L(){return o}function M(){return q}function N(){return p}e.exports={buildAutomatedMessagesAnswerType:H,createDefaultMarketingAutomationData:a,sendPreview:c,startAutomatedSequence:d,mapAutomationToCategory:f,mapNewAutomationToCategory:u,createCategoriesToAutomationsMap:v,shouldShowAdminTextForSmartReply:w,convertHoursToDays:y,getTriggerWaitTime:s,shouldShowAutoResponseRestructure:t,shouldShowNotice:z,shouldShowEditButton:x,fetchDirectionsURI:A,fetchAndStoreAutomatedCheckoutData:B,getAutomatedCheckoutData:C,getOrganicIntakeFormData:D,getQuestionnairePrivacyPolicyURLError:E,getPagesMarketingAutomationReengagementDataInput:F,getPagesMarketingAutomationReengagementDataOutput:G,getMaxQuestionNumber:K,getMaxRecommendedQuestionNumber:L,getMaxAnswerOptionsNumber:M,getMaxReengagementMessagesNumber:N,getShouldShowIGDirectAutomatedResponse:I,getPlatformStatus:J}}),null);
__d("PagesOrganicIntakeFormQuestionComposer.react",["cx","fbt","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","PagesMarketingAutomationUtils","PagesOrganicIntakeFormQuestionItem.react","React","ShimButton.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesMarketingAutomationUtils").getMaxQuestionNumber,j=b("PagesMarketingAutomationUtils").getMaxRecommendedQuestionNumber,k=b("React");function a(a){return k.jsxs("div",{className:"_6_oc",children:[a.messages.length>j()&&k.jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",margin:"_3-8o",children:[k.jsx(b("FDSGuidanceCardHeader.react"),{children:h._("Ask for the Most Important Info")}),k.jsx(b("FDSGuidanceCardContent.react"),{children:k.jsx(b("FDSGuidanceCardContentText.react"),{children:h._("It's best to ask around 3 questions to keep your customers engaged in the conversation.")})})]}),a.messages.map(function(c,d){return k.jsx(b("PagesOrganicIntakeFormQuestionItem.react"),{errors:a.errors,forceEditMode:!0,index:d,isDeleteDisabled:a.messages.length<=1,message:c,onQuestionMessageChange:a.onQuestionMessageChange,onRemoveQuestion:a.onRemoveQuestion},d)}),a.messages.length<i()&&k.jsx(b("ShimButton.react"),{className:"_888j _3-8y",onClick:a.onAddQuestion,children:k.jsx("span",{children:h._("+ Add Question")})})]})}e.exports=a}),null);
__d("PagesOrganicIntakeFormQuestionItem.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationTypes","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSLink.react","FDSText.react","Image.react","PagesMarketingAutomationUtils","React","ServicesGetQuoteCTASetupUtils","ShimButton.react","SUIBusinessTheme","SUITextArea.react","XUIButton.react","XUITextInput.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesMarketingAutomationUtils").getMaxAnswerOptionsNumber,l=b("React"),m=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName,n=200;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isEditMode:!1},c.$1=function(a){var b=babelHelpers["extends"]({},c.props.message);b.message=a;c.props.onQuestionMessageChange(c.props.index,b)},c.$2=function(){c.props.onRemoveQuestion(c.props.index)},c.$3=function(){c.setState({isEditMode:!0})},c.$6=function(){var a=babelHelpers["extends"]({},c.props.message);a.answers=a.answers.concat("");c.props.onQuestionMessageChange(c.props.index,a)},c.$7=function(a){var b=babelHelpers["extends"]({},c.props.message);b.answerType=a;a===j.MULTIPLE_CHOICE&&b.answers.length===0&&(b.answers=b.answers.concat(""));c.props.onQuestionMessageChange(c.props.index,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$4=function(a,b){var c=babelHelpers["extends"]({},this.props.message);c.answers[b]=a;this.props.onQuestionMessageChange(this.props.index,c)};d.$5=function(a){var b=babelHelpers["extends"]({},this.props.message);b.answers.splice(a,1);this.props.onQuestionMessageChange(this.props.index,b)};d.render=function(){var a=this;if(this.state.isEditMode||this.props.forceEditMode===!0){var c=["PHONE","EMAIL","JOB_TITLE","COMPANY_NAME","ZIP_CODE","CITY","STATE","COUNTRY"];c=c.map(function(a,c){return l.jsx(b("FDSDropdownSelectorOption.react"),{value:a,children:m(a)},c)});var d=i._("Choose an answer type"),e=i._("User Information"),f=null;this.props.errors&&(f=this.props.errors.questionnaireErrors.find(function(b){return b&&b.questionNumber===a.props.index}));return l.jsxs("div",{className:"_887r _3-8y _2pi0",children:[l.jsxs("div",{children:[l.jsxs(b("FDSText.react"),{display:"inline",size:"body2",weight:"bold",children:[i._("Question #"),(this.props.index+1).toString()]}),!this.props.isDeleteDisabled&&l.jsx("div",{className:"_8f77",children:l.jsx(b("FDSLink.react"),{onClick:this.$2,children:i._("Remove")})})]}),l.jsx(b("SUITextArea.react"),{disabled:!1,errorMessage:(f=f)==null?void 0:f.error,margin:"_3-8n",maxLength:n,onChange:this.$1,placeholder:i._("Enter the text for your question"),shouldAutoGrow:!0,theme:b("SUIBusinessTheme"),value:this.props.message.message}),l.jsx("div",{className:"_6-b0",children:l.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Question Type")})}),l.jsx("div",{className:"_3-8n",children:l.jsxs(b("FDSDropdownSelector.react"),{onChange:this.$7,placeholder:d,value:this.props.message.answerType,children:[l.jsx(b("FDSDropdownSelectorOption.react"),{value:j.CUSTOM,children:m(j.CUSTOM)}),l.jsx(b("FDSDropdownSelectorOption.react"),{value:j.MULTIPLE_CHOICE,children:m(j.MULTIPLE_CHOICE)}),l.jsx(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:e,children:c})]})}),this.props.message.answerType===j.MULTIPLE_CHOICE&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"_3-95 _3-8z",children:l.jsx(b("FDSText.react"),{size:"body2",weight:"bold",children:i._("Answer Text")})}),this.props.message.answers.map(function(c,d){return l.jsxs("div",{className:"_8eel _3-95",children:[l.jsx(b("XUITextInput.react"),{className:"_8een",maxLength:50,onChange:function(b){return a.$4(b.target.value,d)},placeholder:i._("Enter an option"),value:c}),l.jsx(b("XUIButton.react"),{className:"_8i4h",disabled:a.props.message.answers.length<=1,image:l.jsx(b("Image.react"),{src:g("503835")}),label:"Delete",labelIsHidden:!0,onClick:function(){return a.$5(d)},size:"medium",use:"default"})]},d)}),this.props.message.answers.length<k()&&l.jsx(b("ShimButton.react"),{className:"_8eeo _2pi2 _2pis",onClick:this.$6,children:l.jsx("span",{children:i._("+ Add Option")})})]})]})}return l.jsxs("div",{className:"_8fjg _2ph_ _3-8y",children:[l.jsxs("div",{className:"_8fk3",children:[l.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body2",weight:"bold",children:this.props.message.message}),this.props.message.answerType&&l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:m(this.props.message.answerType)}),l.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body2",children:this.props.message.answers.join(", ")})]}),l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:g("484291")}),label:i._("Edit"),onClick:this.$3})]})};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesQPCPromptQuestionItem.react",["ix","cx","fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","ClickableArea.react","FDSButton.react","FDSCard.react","FDSCardHeader.react","FDSSection.react","FDSText.react","FDSTextArea.react","FDSTextInput.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react","PagesMarketingAutomationStore","React","ServicesEventsLogger","ServicesGetQuoteCTASetupUtils","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("React"),m=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:!0},c.$1=function(){var a=c.state.isCollapsed;c.setState({isCollapsed:!a})},c.$2=function(a){if(c.props.qpcPromptQuestion==null)return;a=babelHelpers["extends"]({},c.props.qpcPromptQuestion,{promptQuestionMessage:a});c.props.onPromptQuestionChange(a);c.logIntakeFormEvent("services_organic_intake_form_prompt_question_edit_message")},c.$3=function(a){if(c.props.qpcPromptQuestion==null)return;a=babelHelpers["extends"]({},c.props.qpcPromptQuestion,{promptQuestionStartAnswer:a});c.props.onPromptQuestionChange(a);c.logIntakeFormEvent("services_organic_intake_form_prompt_question_edit_start_answer")},c.$4=function(a){if(c.props.qpcPromptQuestion==null)return;a=babelHelpers["extends"]({},c.props.qpcPromptQuestion,{promptQuestionStopAnswer:a});c.props.onPromptQuestionChange(a);c.logIntakeFormEvent("services_organic_intake_form_prompt_question_edit_stop_answer")},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.logIntakeFormEvent=function(a){var c=b("PagesMarketingAutomationStore").getServicesReferrerData(),d=c.referrer;c=c.referrerSurface;b("ServicesEventsLogger").log(this.props.pageID,a,{referrerUIComponent:d,referrerUISurface:c})};d.buildPromptQuestionItem=function(a){return{questionMessage:a.promptQuestionMessage,answerType:k.MULTIPLE_CHOICE,answerValidationEnabled:!1,answers:[{fieldID:"",value:a==null?void 0:a.promptQuestionStartAnswer,nextStep:j.NEXT_QUESTION,mediaContent:null},{fieldID:"",value:a==null?void 0:a.promptQuestionStopAnswer,nextStep:j.DISQUALIFY_MESSAGE,mediaContent:null}],optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}};d.render=function(){var a=this.props.qpcPromptQuestion;if(a==null)return null;var c=l.jsxs("span",{className:"_8xlv",children:[l.jsx("span",{className:"_8xlw",children:l.jsx(b("Image.react"),{src:g("486350")})}),l.jsx(b("FDSText.react"),{margin:"_3-9a",size:"header3",children:m(k.MULTIPLE_CHOICE)})]}),d=i._("Text"),e=this.buildPromptQuestionItem(a);return l.jsx("div",{className:"_6_oc",children:l.jsx("div",{className:"_8xii _8xlx",children:l.jsx(b("ClickableArea.react"),{onClick:b("emptyFunction"),children:l.jsx("div",{children:l.jsx(b("FDSCard.react"),{header:l.jsx(b("FDSCardHeader.react"),{button:l.jsx(b("FDSButton.react"),{icon:l.jsx(b("Image.react"),{src:this.state.isCollapsed?g("478817"):g("515078")}),label:"Edit",labelIsHidden:!0,margin:"_3-92",onClick:this.$1,size:"small",use:"flat"},"edit"),title:c}),children:this.state.isCollapsed?l.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react"),{questionIndex:-1,questionItem:e}):l.jsxs(b("FDSSection.react"),{children:[l.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body2",children:d}),l.jsx(b("FDSTextArea.react"),{errorMessage:b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.promptQuestionMessage,!0),label:d,labelIsHidden:!0,maxLength:b("AdsMessengerConstants").WELCOME_MESSAGE_MAX_LENGTH,onChange:this.$2,placeholder:i._("Enter the text for your question"),rows:1,shouldAutoGrow:!0,value:a.promptQuestionMessage}),l.jsxs("div",{className:"_3-8z",children:[l.jsx(b("FDSText.react"),{display:"block",margin:"_3-95",size:"body2",children:i._("Options")}),l.jsx("div",{className:"_3-95",children:l.jsx(b("FDSTextInput.react"),{errorMessage:b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.promptQuestionStartAnswer,!0),label:i._("If a customer selects this option, they'll start receiving your questions."),maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,onChange:this.$3,value:a.promptQuestionStartAnswer})}),l.jsx("div",{children:l.jsx(b("FDSTextInput.react"),{errorMessage:b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.promptQuestionStopAnswer,!0),label:i._("If a customer selects this option, they can send you a message."),maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,onChange:this.$4,value:a.promptQuestionStopAnswer})})]})]})})})})})})};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesQPCQuestionItem.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","ClickableArea.react","FDSButton.react","FDSCard.react","FDSCardFooter.react","FDSCardHeader.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSSection.react","FDSText.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemConditionalStop.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemQuestionText.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","ServicesGetQuoteCTASetupUtils","asset","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,l=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections,m=b("React"),n=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={autoFocus:!1,isQuestionFocused:!1,isCollapsed:c.props.isInitiallyCollapsed,showMoreOptions:!0,visibleGoToOptions:[]},c.$1=function(){var a=c.state.isCollapsed;c.setState({isCollapsed:!a})},c.$2=function(a){var b=a===k.MULTIPLE_CHOICE,d=b?[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""}]:null;b=b?"text":null;a={fieldID:c.props.questionItem.fieldID,questionMessage:c.props.questionItem.questionMessage,answerType:a,answerValidationEnabled:!1,answers:d,optionalQuestionEnabled:!1,optionsFormat:b};c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$9=function(a){a=babelHelpers["extends"]({},c.props.questionItem,{questionMessage:a});c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$4=function(a,b){var d=Object.assign({},c.props.questionItem);if(!d.answers)return;d.answers[b].value=a;c.props.onQuestionItemChange(d,c.props.questionIndex)},c.$3=function(a){var b=Object.assign({},c.props.questionItem);if(!b.answers)return;b.answers=b.answers.filter(function(b,c){return c!==a});c.setState(function(b){var c=[].concat(b.visibleGoToOptions);c.splice(a,1);return babelHelpers["extends"]({},b,{visibleGoToOptions:c})});c.props.onQuestionItemChange(b,c.props.questionIndex)},c.$7=function(){if(!c.props.questionItem.answers)return;var a=c.props.questionItem.answers.concat({fieldID:"",value:"",nextStep:j.NEXT_QUESTION,mediaContent:""});a=babelHelpers["extends"]({},c.props.questionItem,{answers:a});c.setState(function(a){var b=[].concat(a.visibleGoToOptions);b.push(!1);return babelHelpers["extends"]({},a,{autoFocus:!0,visibleGoToOptions:b})});c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$8=function(){c.props.onRemoveQuestion(c.props.questionIndex)},c.$8=function(){c.$1(),c.props.onRemoveQuestion(c.props.questionIndex)},c.$10=function(){c.setState({isQuestionFocused:!0})},c.$11=function(){c.setState({isQuestionFocused:!1})},c.$6=function(a,b){var d=Object.assign({},c.props.questionItem);if(!d.answers)return;d.answers[a].nextStep=b;c.props.onQuestionItemChange(d,c.props.questionIndex)},c.$5=function(a){var b=c.state.visibleGoToOptions;b=b.slice();b[a]=!b[a];c.$6(a,b[a]?j.DISQUALIFY_MESSAGE:j.NEXT_QUESTION);c.setState({visibleGoToOptions:b})},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,b){if(b.visibleGoToOptions.length!==0)return babelHelpers["extends"]({},b);a=a.questionItem.answers?a.questionItem.answers.map(function(a){return a.nextStep!==j.NEXT_QUESTION}):[];return babelHelpers["extends"]({},b,{visibleGoToOptions:a})};var d=c.prototype;d.getQuestionTypeSelector=function(){var a=["PHONE","EMAIL","JOB_TITLE","COMPANY_NAME","ZIP_CODE","CITY","STATE","COUNTRY"];a=a.map(function(a,c){return m.jsx(b("FDSDropdownSelectorOption.react"),{icon:m.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:a}),value:a,children:m.jsx("span",{className:"_3-9a",children:n(a)})},c)});var c=i._("Choose an answer type"),d=i._("User Information"),e=this.props.questionItem.answerType||!this.props.showError?null:i._("Choose an answer type");return m.jsxs("div",{children:[m.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Question Type")}),m.jsxs(b("FDSDropdownSelector.react"),{errorMessage:e,maxHeight:380,onChange:this.$2,placeholder:c,value:this.props.questionItem.answerType,children:[m.jsxs(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:i._("Custom Questions"),children:[m.jsx(b("FDSDropdownSelectorOption.react"),{icon:m.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:k.CUSTOM}),value:k.CUSTOM,children:m.jsx("span",{className:"_3-9a",children:n(k.CUSTOM)})}),m.jsx(b("FDSDropdownSelectorOption.react"),{icon:m.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:k.MULTIPLE_CHOICE}),value:k.MULTIPLE_CHOICE,children:m.jsx("span",{className:"_3-9a",children:n(k.MULTIPLE_CHOICE)})})]}),m.jsx(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:d,children:a})]})]})};d.getMultipleChoices=function(){var a=this;return!this.props.questionItem.answers?null:this.props.questionItem.answers.map(function(c,d){var e=a.props.questionItem.answers!=null&&a.props.questionItem.answers.length>2;return m.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemConditionalStop.react"),{answer:c,autoFocus:a.state.autoFocus,index:d,isSkipToEnabled:!1,onAnswerRemove:a.$3,onAnswersChange:a.$4,onGoToOptionClick:a.$5,onNextStepChange:a.$6,shouldShowRemoveOption:e,showError:a.props.showError,visibleGoToOptions:a.state.visibleGoToOptions},d)})};d.getMultipleChoiceAddOption=function(){return this.props.questionItem.answers&&this.props.questionItem.answers.length>=b("AdsMessengerPartialAutomatedCreationUtils").getMaxOptionNumber()?null:m.jsx(b("FDSButton.react"),{label:i._("+ Add Option"),onClick:this.$7})};d.getMultipleChoiceSection=function(){if(this.props.questionItem.answerType!==k.MULTIPLE_CHOICE)return null;else return m.jsxs("div",{className:"_3-8x",children:[m.jsx(b("FDSText.react"),{display:"block",margin:"_3-94",size:"body3",children:i._("Options")}),this.getMultipleChoices(),this.getMultipleChoiceAddOption()]})};d.getRemoveLink=function(){return m.jsx(b("FDSButton.react"),{icon:m.jsx(b("Image.react"),{src:g("483825")}),label:i._("Remove"),onClick:this.$8})};d.render=function(){var a=this.props.questionItem.answerType?n(this.props.questionItem.answerType):"";a=m.jsxs("span",{className:"_8xlv",children:[m.jsx("span",{className:"_8xlw",children:m.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:this.props.questionItem.answerType})}),m.jsx(b("FDSText.react"),{margin:"_3-9a",size:"header3",children:a})]});var c=l.QUESTIONS+"-"+this.props.questionIndex;return m.jsx("div",{className:"_8xii _8xlx",id:c,children:m.jsx(b("ClickableArea.react"),{onClick:this.props.onClick,children:m.jsx("div",{children:m.jsx(b("FDSCard.react"),{footer:!this.state.isCollapsed&&this.props.questionCount>1?m.jsx(b("FDSCardFooter.react"),{primaryButton:this.getRemoveLink()}):null,header:m.jsx(b("FDSCardHeader.react"),{button:m.jsx(b("FDSButton.react"),{icon:m.jsx(b("Image.react"),{src:this.state.isCollapsed?g("478817"):g("515078")}),label:"Edit",labelIsHidden:!0,margin:"_3-92",onClick:this.$1,size:"small",use:"flat"},"edit"),title:a}),children:this.state.isCollapsed?m.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemCollapsed.react"),{questionIndex:this.props.questionIndex,questionItem:this.props.questionItem}):m.jsxs(b("FDSSection.react"),{children:[this.getQuestionTypeSelector(),m.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionItemQuestionText.react"),{isFocused:this.props.isFocused,isQuestionFocused:this.state.isQuestionFocused,onBlur:this.$11,onFocus:this.$10,onQuestionTextChange:this.$9,onToolItemClicked:b("emptyFunction"),pageID:this.props.pageID,questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,questionItemID:c,showError:this.props.showError,showPersonalization:!1}),this.getMultipleChoiceSection()]})})})})})};return c}(m.PureComponent);e.exports=a}),null);
__d("PagesQPCQuestionTypeDropdown.react",["ix","fbt","AdsMessengerPartialAutomatedCreationTypes","FDSDropdownMenu.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","ServicesGetQuoteCTASetupUtils","asset","curry"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("React"),k=b("ServicesGetQuoteCTASetupUtils").getAnswerTypeName;function l(a,c){return{type:"item",label:k(c),icon:j.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:c}),onClick:function(){return a(c)}}}function m(a,b){return{type:"item",label:k(b),onClick:function(){return a(b)}}}function n(a,b){a=b.label;var c=b.icon;b=b.items;return{type:"submenu",label:a,icon:c,items:b}}function a(a){var c=b("curry")(l,a.onClick),d=b("curry")(m,a.onClick);a=b("curry")(n,a.onClick);return j.jsx(b("FDSDropdownMenu.react"),{buttonIcon:j.jsx(b("Image.react"),{src:g("483768")}),items:[{type:"group",label:h._("Custom Questions"),items:[c(i.CUSTOM),c(i.MULTIPLE_CHOICE)]},{type:"group",label:h._("User Information"),items:[c("PHONE"),c("EMAIL"),c("JOB_TITLE"),c("COMPANY_NAME"),a({icon:j.jsx(b("Image.react"),{src:g("481941")}),label:h._("Address"),items:[d("ZIP_CODE"),d("CITY"),d("STATE"),d("COUNTRY")]})]}],label:h._("Add Question"),maxHeight:360})}e.exports=a}),null);
__d("PagesQPCQuestionComposer.react",["cx","fbt","AdsMessengerPartialAutomatedCreationTypes","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","PagesMarketingAutomationUtils","PagesQPCQuestionItem.react","PagesQPCQuestionTypeDropdown.react","React","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,k=b("PagesMarketingAutomationUtils").getMaxQuestionNumber,l=b("PagesMarketingAutomationUtils").getMaxRecommendedQuestionNumber,m=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=a===j.MULTIPLE_CHOICE;b=b?[{fieldID:"",value:"",nextStep:i.NEXT_QUESTION,mediaContent:""},{fieldID:"",value:"",nextStep:i.NEXT_QUESTION,mediaContent:""}]:null;c.props.onAddQuestion(a,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props.messages.map(function(a){return{questionMessage:a.message,answerType:a.answerType,answerValidationEnabled:!1,answers:a.answers.map(function(a){return{fieldID:"",value:a,nextStep:i.NEXT_QUESTION,mediaContent:null}}),optionalQuestionEnabled:!1,optionsFormat:"text",fieldID:""}});return m.jsxs("div",{className:"_6_oc",children:[this.props.messages.length>l()&&m.jsxs(b("FDSGuidanceCard.react"),{category:"active-feedback",margin:"_3-8o",children:[m.jsx(b("FDSGuidanceCardHeader.react"),{children:h._("Ask for the Most Important Info")}),m.jsx(b("FDSGuidanceCardContent.react"),{children:m.jsx(b("FDSGuidanceCardContentText.react"),{children:h._("It's best to ask around 3 questions to keep your customers engaged in the conversation.")})})]}),c.map(function(d,e){var f;return m.jsx(b("PagesQPCQuestionItem.react"),{goToOptionsEnabled:!1,isFocused:!1,isInitiallyCollapsed:!((f=a.props.messages[e])==null?void 0:f.forceEditMode),onClick:b("emptyFunction"),onQuestionItemChange:a.props.onQuestionMessageChange,onRemoveQuestion:a.props.onRemoveQuestion,pageID:a.props.pageID,questionCount:c==null?0:c.length,questionIndex:e,questionItem:d,showError:a.props.errors!=null,showRichFormat:!1},e)}),this.props.messages.length<k()&&m.jsx("div",{className:"_8xii",children:m.jsx(b("PagesQPCQuestionTypeDropdown.react"),{onClick:this.$1})})]})};return c}(m.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","BIZInboxClientLogger","IGMessageDataMutateAction","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAction","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxUnifiedThreadlistUtil","URI","ads-lib-urllib","getUniqueValuesForStringArray","shallowArrayEqual"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,k=1,l=1440;a=function(a,c,d,e,f,g){d!==a&&b("PagesManagerInboxFilterAction").changeFolder(f,g!=null?g:b("PageCommItemFolder").TODO,a),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxFilterAction").changeType(f,a),b("PagesManagerInboxAction").setNavMode(c),b("BIZInboxClientLogger").logPlatformClick(f,d,a,e,c)};c=function(a,c,d,e,f){b("PagesManagerInboxFilterAction").changeActiveUTLFolder(a),d!==a&&b("PagesManagerInboxFilterAction").changeFolder(f,b("PageCommItemFolder").TODO,a),a!=="ALL"?b("PagesManagerInboxFilterAction").changePlatform(a,f):b("PagesManagerInboxFilterAction").changeType(f,"MESSENGER"),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxAction").setNavMode(c),b("BIZInboxClientLogger").logPlatformClick(f,d,a,e,c)};d=function a(b){var c=b;Array.isArray(b)?c=b.map(a):b===Object(b)&&(c={},Object.keys(b).forEach(function(d){return c[d]=a(b[d])}));return c};var m=function(a,c,d,e,f,g,j,k){var l={mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:k.errorText,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]},m=!1;a=a.trim();a||(l.welcomeTextError=k.welcomeTextError,m=!0);if(c&&c.length>0){var n=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaLabelError:a:a:a,o=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaURLError:a:a:a,p=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[1])!=null?a.ctaURLError:a:a:a;c.forEach(function(a,c){var d=null,e=null,f=a.content&&a.content.toString().trim();!f&&n&&(d=n,m=!0);f=a.url;!f?o&&(e=o,m=!0):a.type==="button"&&(!b("ads-lib-urllib").isUrl(f)||!(h||(h=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(f)))&&p&&(e=p,m=!0);a={buttonNumber:c,ctaLabelError:d,ctaURLError:e};l.ctaErrors.push(a)})}if(e==="image")if(!d)l.mediaError=k.mediaError,l.imageTitleError=k.imageTitleError,m=!0;else{a=d.title&&d.title.trim();(d.type!=="image"||!d.url)&&(l.mediaError=k.mediaError,m=!0);!a&&((c=k)!=null?c.imageTitleError:c)&&(l.imageTitleError=k.imageTitleError,m=!0)}e==="video"&&(!d||!d.url||d.type!=="video")&&(l.mediaError=k.mediaError,m=!0);if(f){f.introMessage.trim()||(l.questionnaireWelcomeTextError=k.questionnaireWelcomeTextError,m=!0);f.thankYouMessage.trim()||(l.questionnaireThanksTextError=k.questionnaireThanksTextError,m=!0);(!g||!g.trim())&&(l.questionnaireStopQuestionsError=k.questionnaireStopQuestionsError,m=!0);(!j||!j.trim())&&(l.questionnaireReminderError=k.questionnaireReminderError,m=!0);a=!1;f.questionMessages.forEach(function(b,c){b.message.trim()&&(a=!0);if(b.answerType===i.MULTIPLE_CHOICE){b=b.answers.filter(function(a){return a.trim().length});if(b.length<2){c={questionNumber:c,error:(b=k.questionnaireErrors[1])==null?void 0:b.error};l.questionnaireErrors.push(c);m=!0}}});if(!a){e={questionNumber:0,error:(c=k.questionnaireErrors[0])==null?void 0:c.error};l.questionnaireErrors.push(e);m=!0}}if(!m)return null;l.errorText=k.errorText;return l};f=function(a,c){var d=null,e=a.reengagementMessages;for(var f=0;f<e.length;f++){var h=e[f];d=m(h.messageText,h.ctas,h.attachment,h.attachmentType,null,null,null,c);d===null&&(h.triggerTimeMin>l||h.triggerTimeMin<k)&&(d=n(g._("Message must include a valid send time.")));if(d!==null)break}h=a.reengagementRules;c=h.mainRules.concat(h.andRules).concat(h.notRules);f=b("getUniqueValuesForStringArray")(c);d===null&&(h.mainRules.length<1||!b("shallowArrayEqual")(c,f))&&(d=n(g._("Rule must include valid events.")));return d};var n=function(a){return{mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:a,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]}},o=function(a,c,d){a!==b("PageCommItemFolder").INSTAGRAM_THREADS&&a!==b("PageCommItemFolder").MESSENGER_THREADS&&(c==="INSTAGRAM_DIRECT"||j())&&b("IGMessageDataMutateAction").forceFetchInbox(d,20,b("PageCommItemFolder").TODO,!1,!1,null,!1)};e.exports={changeInboxTab:a,changeSelectedUTLFolder:c,clone:d,getErrorSpecsForComposer:m,getErrorSpecsForReengagement:f,setDefaultIGDirectFolder:o}}),null);
__d("PagesMarketingAutomationStore",["fbt","AdsMessengerPartialAutomatedCreationTypes","PagesManagerInboxUtils","PagesMarketingAutomationActions","PagesMarketingAutomationContentView.react","FluxReduceStore","PagesMarketingAutomationDispatcher","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;var h=b("PagesManagerInboxUtils").getErrorSpecsForComposer,i=b("PagesManagerInboxUtils").getErrorSpecsForReengagement,j=b("PagesMarketingAutomationActions").types,k=b("PagesMarketingAutomationContentView.react").shuffleDemoIcebreakers;c={welcomeText:"",automatedCheckoutMessages:{introMessage:"",questionMessages:[{answers:[],answerType:a.CUSTOM,message:"",prefillType:"NONE",replyType:"TEXT"}],thankYouMessage:""},organicIntakeFormMessages:{introMessage:"",questionMessages:[{answers:[],answerType:a.CUSTOM,message:"",prefillType:"NONE",replyType:"TEXT"}],thankYouMessage:""},isWelcomeTextIntialized:!1,attachmentType:null,media:{id:null,url:null},ctas:[],storedState:null,automatedSequenceDialogSeeAll:!1,recentAutomationThreadFBID:null,shouldShowAutomationToast:!1,automationID:null,automationType:null,isDefaultAutomation:!1,isEditMode:!1,isSendDisabled:!1,hasComposerBeenEdited:!1,phoneNumber:null,website:null,address:null,hours:[],isAlwaysOpen:!1,isPermanentlyClosed:!1,directionsURI:null,awayTimeRanges:null,awayTimeZone:null,isAway:null,automatedCheckoutStepListID:null,organicIntakeFormStepListID:null,icebreakers:[],demoIcebreakerIndices:[],isCurrentMenuSetByAPI:!1,isCurrentIcebreakersSetByAPI:!1,reengagementData:{reengagementMessages:{triggerTimeMin:0,messageText:"",ctas:null,attachment:null,attachmentType:null},reengagementRules:{mainRules:[],andRules:[],notRules:[]}},isEligibleForIntakeForm:!1,isIntakeFormInitialSetupExperience:!1,questionnaireDisqualificationMessage:"",questionnaireStopQuestionsMessage:"",questionnaireSummaryMessage:"",questionnaireReminderMessage:"",questionnairePrivacyPolicyURL:"",followUpMessageData:null,enabledPlatforms:[],qpcConsumerFlow:null,savedReplies:[],selectedSavedReply:null,servicesReferrerData:{servicesReferrer:null,servicesReferrerSurface:"inbox"},shouldShowAdvancedOptions:!1,automationEnabledStatuses:b("immutable").Map(),isQPCPromptQuestionEnabled:!1,qpcPromptQuestion:null};var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record(c));d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new l()};d.reduce=function(a,c){var d;switch(c.type){case j.STORE_STATE:d=a.set("storedState",{welcomeText:a.welcomeText,automatedCheckoutMessages:a.automatedCheckoutMessages,organicIntakeFormMessages:a.organicIntakeFormMessages,reengagementData:a.reengagementData,icebreakers:a.icebreakers,attachmentType:a.attachmentType,media:a.media,ctas:a.ctas,awayTimeRanges:a.awayTimeRanges,awayTimeZone:a.awayTimeZone,selectedSavedReply:a.selectedSavedReply,followUpMessageData:a.followUpMessageData,isQPCPromptQuestionEnabled:a.isQPCPromptQuestionEnabled,qpcPromptQuestion:a.qpcPromptQuestion});return d.set("hasComposerBeenEdited",!1);case j.REVERT_STATE:var e=a.storedState;if(e){d=a.set("welcomeText",e.welcomeText);d=d.set("automatedCheckoutMessages",e.automatedCheckoutMessages);d=d.set("organicIntakeFormMessages",e.organicIntakeFormMessages);d=d.set("attachmentType",e.attachmentType);d=d.set("media",e.media);d=d.set("ctas",e.ctas);d=d.set("hasComposerBeenEdited",!1);d=d.set("isWelcomeTextIntialized",!1);d=d.set("awayTimeRanges",e.awayTimeRanges);d=d.set("awayTimeZone",e.awayTimeZone);d=d.set("demoIcebreakerIndices",k(e.icebreakers));d=d.set("icebreakers",e.icebreakers);d=d.set("reengagementData",e.reengagementData);d=d.set("selectedSavedReply",e.selectedSavedReply);d=d.set("followUpMessageData",e.followUpMessageData);d=d.set("isQPCPromptQuestionEnabled",e.isQPCPromptQuestionEnabled);d=d.set("qpcPromptQuestion",e.qpcPromptQuestion);return d}return a;case j.SET_DEFAULT_AUTOMATION:return a.set("isDefaultAutomation",c.isDefaultAutomation);case j.UPDATE_AUTOMATION_TYPE:d=a;c.automationType==="saved_reply"&&(d=a.set("isEditMode",!0));return d.set("automationType",c.automationType).set("selectedSavedReply",null);case j.UPDATE_IS_WELCOME_TEXT_INITIALIZED:return a.set("isWelcomeTextIntialized",c.isWelcomeTextIntialized);case j.UPDATE_AUTOMATION_ID:return a.set("automationID",c.automationID);case j.UPDATE_WELCOME_TEXT:d=a.set("welcomeText",c.welcomeText);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_CHECKOUT_MESSAGES:d=a.set("automatedCheckoutMessages",c.automatedCheckoutMessages);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_CHECKOUT_STEP_LIST_ID:return a.set("automatedCheckoutStepListID",c.automatedCheckoutStepListID);case j.UPDATE_ENABLED_PLATFORMS:return a.set("enabledPlatforms",c.enabledPlatforms);case j.UPDATE_MESSENGER_REENGAGEMENT_NOTIF_DATA:d=a.set("reengagementData",c.reengagementData);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_ORGANIC_INTAKE_FORM_MESSAGES:d=a.set("organicIntakeFormMessages",c.organicIntakeFormMessages);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_ORGANIC_INTAKE_FORM_STEP_LIST_ID:return a.set("organicIntakeFormStepListID",c.organicIntakeFormStepListID);case j.UPDATE_ATTACHMENT_TYPE:d=a.set("attachmentType",c.attachmentType);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_AUTOMATED_SEQUENCE_DIALOG_SEE_ALL:return a.set("automatedSequenceDialogSeeAll",c.automatedSequenceDialogSeeAll);case j.UPDATE_RECENT_AUTOMATION_THREAD_FBID:return a.set("recentAutomationThreadFBID",c.recentAutomationThreadFBID);case j.UPDATE_SHOULD_SHOW_AUTOMATION_TOAST:return a.set("shouldShowAutomationToast",c.shouldShowAutomationToast);case j.UPDATE_MEDIA:d=a.set("media",c.media);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_STATE:d=a.set("welcomeText",c.welcomeText);d=d.set("automatedCheckoutMessages",c.automatedCheckoutMessages);d=d.set("reengagementData",c.reengagementData);d=d.set("attachmentType",c.attachmentType);d=d.set("media",c.media);d=d.set("ctas",c.ctas);d=d.set("automationType",c.automationType);d=d.set("enabledPlatforms",c.enabledPlatforms);return d;case j.UPDATE_CTAS:d=a.set("ctas",c.ctas);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_ENABLED:return a.set("automationEnabledStatuses",a.automationEnabledStatuses.set(c.automationType?c.automationType:b("nullthrows")(a.automationType),c.isEnabled));case j.UPDATE_SEND_DISABLED:return a.set("isSendDisabled",c.isSendDisabled);case j.COMPOSER_HAS_BEEN_EDITED:return a.set("hasComposerBeenEdited",!0);case j.UPDATE_CONTENT_VIEW_MODE:return a.set("isEditMode",c.isEditMode);case j.UPDATE_ICEBREAKERS:d=a.set("icebreakers",c.icebreakers);return d.set("hasComposerBeenEdited",!0);case j.UPDATE_DEMO_ICEBREAKER_INDICES:return a.set("demoIcebreakerIndices",c.demoIcebreakerIndices);case j.UPDATE_IS_CURRENT_MENU_SET_BY_API:return a.set("isCurrentMenuSetByAPI",c.isCurrentMenuSetByAPI);case j.UPDATE_IS_CURRENT_ICEBREAKERS_SET_BY_API:return a.set("isCurrentIcebreakersSetByAPI",c.isCurrentIcebreakersSetByAPI);case j.STORE_CONTACT:d=a.set("phoneNumber",c.phoneNumber);d=d.set("website",c.website);return d;case j.STORE_ADDRESS:return a.set("address",c.address);case j.STORE_HOURS:d=a.set("hours",c.hours);d=d.set("isAlwaysOpen",c.isAlwaysOpen);d=d.set("isPermanentlyClosed",c.isPermanentlyClosed);return d;case j.STORE_DIRECTIONS_URI:return a.set("directionsURI",c.directionsURI);case j.STORE_AWAY_TIME_RANGES:d=a.set("hasComposerBeenEdited",!0);return d.set("awayTimeRanges",c.awayTimeRanges);case j.STORE_AWAY_TIME_ZONE:d=a.set("hasComposerBeenEdited",!0);return d.set("awayTimeZone",c.awayTimeZone);case j.STORE_IS_AWAY:return a.set("isAway",c.isAway);case j.STORE_INTAKE_FORM_INFO:return a.set("isEligibleForIntakeForm",c.isEligibleForIntakeForm).set("isQPCPromptQuestionEnabled",c.isQPCPromptQuestionEnabled).set("qpcConsumerFlow",c.qpcConsumerFlow).set("questionnaireStopQuestionsMessage",c.questionnaireStopQuestionsMessage).set("questionnaireReminderMessage",c.questionnaireReminderMessage).set("questionnairePrivacyPolicyURL",c.questionnairePrivacyPolicyURL).set("qpcPromptQuestion",c.qpcPromptQuestion);case j.USE_SETUP_INTAKE_FORM_EXPERIENCE:return a.set("hasComposerBeenEdited",!0).set("isIntakeFormInitialSetupExperience",!0).set("isWelcomeTextIntialized",!1);case j.DISABLE_SETUP_INTAKE_FORM_EXPERIENCE:return a.set("isIntakeFormInitialSetupExperience",!1);case j.UPDATE_QUESTIONNAIRE_DISQUALIFICATION_MESSAGE:return a.set("questionnaireDisqualificationMessage",c.questionnaireDisqualificationMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_STOP_QUESTIONS_MESSAGE:return a.set("questionnaireStopQuestionsMessage",c.questionnaireStopQuestionsMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_SUMMARY_MESSAGE:return a.set("questionnaireSummaryMessage",c.questionnaireSummaryMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_REMINDER_MESSAGE:return a.set("questionnaireReminderMessage",c.questionnaireReminderMessage).set("hasComposerBeenEdited",!0);case j.UPDATE_QUESTIONNAIRE_PRIVACY_POLICY_URL:return a.set("questionnairePrivacyPolicyURL",c.questionnairePrivacyPolicyURL).set("hasComposerBeenEdited",!0);case j.STORE_FOLLOW_UP_MESSAGE_INFO:return a.set("followUpMessageData",{messageContent:c.messageContent,triggerTimeSecs:c.triggerTimeSecs});case j.SET_SAVED_REPLIES:return a.set("savedReplies",c.savedReplies);case j.SELECTED_SAVED_REPLY:d=c.selectedSavedReply&&c.selectedSavedReply.image?{url:(e=c.selectedSavedReply)==null?void 0:(d=e.image)==null?void 0:d.url,id:parseInt((e=(e=c.selectedSavedReply)==null?void 0:(d=e.image)==null?void 0:d.id)!=null?e:"",10),type:"image",class_name:""}:null;e=c.selectedSavedReply&&c.selectedSavedReply.image?"image":null;return a.set("selectedSavedReply",c.selectedSavedReply).set("media",d).set("attachmentType",e).set("automationID",(e=(d=c.selectedSavedReply)==null?void 0:d.id)!=null?e:"0");case j.SET_SERVICES_REFERRER_DATA:return a.set("servicesReferrerData",c.servicesReferrerData);case j.UPDATE_SAVED_REPLY:d=Object.assign({},a.selectedSavedReply,{message:c.updateSavedReply.message!=null?c.updateSavedReply.message:(d=a.selectedSavedReply)==null?void 0:d.message,title:c.updateSavedReply.title!=null?c.updateSavedReply.title:(e=a.selectedSavedReply)==null?void 0:e.title});return a.set("selectedSavedReply",d);case j.UPDATE_SHOULD_SHOW_ADVANCED_OPTIONS:return a.set("shouldShowAdvancedOptions",c.shouldShowAdvancedOptions);case j.UPDATE_AUTOMATION_ENABLED_STATUSES:return a.set("automationEnabledStatuses",c.automationEnabledStatuses);case j.TOGGLE_QPC_PROMPT_QUESTION:return a.set("isQPCPromptQuestionEnabled",!a.isQPCPromptQuestionEnabled).set("hasComposerBeenEdited",!0);case j.UPDATE_QPC_PROMPT_QUESTION:return a.set("qpcPromptQuestion",c.qpcPromptQuestion).set("hasComposerBeenEdited",!0);default:return a}};d.getWelcomeText=function(){return this.getState().welcomeText};d.getAutomatedCheckoutMessages=function(){return this.getState().automatedCheckoutMessages};d.getAutomatedCheckoutStepListID=function(){return this.getState().automatedCheckoutStepListID};d.getAutomatedSequenceDialogSeeAll=function(){return this.getState().automatedSequenceDialogSeeAll};d.getRecentAutomationThreadFBID=function(){return this.getState().recentAutomationThreadFBID};d.getShouldShowAutomationToast=function(){return this.getState().shouldShowAutomationToast};d.getOrganicIntakeFormMessages=function(){return this.getState().organicIntakeFormMessages};d.getOrganicIntakeFormStepListID=function(){return this.getState().organicIntakeFormStepListID};d.getReengagementData=function(){return this.getState().reengagementData};d.getAddress=function(){return this.getState().address};d.getIsCurrentlyAway=function(){return!!this.getState().isAway};d.getAwayTimeZone=function(){return this.getState().awayTimeZone};d.getAwayTimeRanges=function(){return this.getState().awayTimeRanges};d.getDirectionsURI=function(){return this.getState().directionsURI||""};d.getPhoneNumber=function(){return this.getState().phoneNumber};d.getWebsite=function(){return this.getState().website};d.getHours=function(){return this.getState().hours};d.getIcebreakers=function(){return this.getState().icebreakers||[]};d.getDemoIcebreakerIndices=function(){return this.getState().demoIcebreakerIndices||[]};d.getIsCurrentMenuSetByAPI=function(){return this.getState().isCurrentMenuSetByAPI||!1};d.getIsCurrentIcebreakersSetByAPI=function(){return this.getState().isCurrentIcebreakersSetByAPI||!1};d.getIsAlwaysOpen=function(){return this.getState().isAlwaysOpen};d.getIsPermanentlyClosed=function(){return this.getState().isPermanentlyClosed};d.getIsEditMode=function(){return this.getState().isEditMode};d.getIsDefaultAutomation=function(){return this.getState().isDefaultAutomation};d.getIsCurrentAutomationEnabled=function(){return this.getIsEnabledForAutomationType(this.getState().automationType)};d.getIsEnabledForAutomationType=function(a){return a==null?!1:this.getState().automationEnabledStatuses.get(a,!1)};d.getIsSendDisabled=function(){return this.getState().isSendDisabled};d.getHasComposerBeenEdited=function(){return this.getState().hasComposerBeenEdited};d.getAutomationID=function(){return this.getState().automationID};d.getAutomationType=function(){return this.getState().automationType};d.getAttachmentType=function(){return this.getState().attachmentType};d.getMedia=function(){return this.getState().media};d.getCTAs=function(){return this.getState().ctas};d.getIsWelcomeTextIntialized=function(){return this.getState().isWelcomeTextIntialized};d.getIsEligibleForIntakeForm=function(){return this.getState().isEligibleForIntakeForm};d.isIntakeFormInitialSetupExperience=function(){return this.getState().isIntakeFormInitialSetupExperience};d.getFollowUpMessageData=function(){return this.getState().followUpMessageData};d.getEnabledPlatforms=function(){return this.getState().enabledPlatforms};d.getSavedReplyResponses=function(){return this.getState().savedReplies};d.getselectedSavedReply=function(){return this.getState().selectedSavedReply};d.getServicesReferrerData=function(){return this.getState().servicesReferrerData};d.getInitialSelectedSavedReply=function(){var a;return(a=this.getState().storedState)==null?void 0:a.selectedSavedReply};d.getShouldShowAdvancedOptions=function(){return this.getState().shouldShowAdvancedOptions};d.hasInitializedEnabledStatuses=function(){return!this.getState().automationEnabledStatuses.isEmpty()};d.showQPCIcebreakersDisclaimer=function(){var a=this.getState().automationType;return this.getState().automationEnabledStatuses.get("organic_intake_form")&&a==="custom_questions"||this.getState().automationEnabledStatuses.get("custom_questions")&&a==="organic_intake_form"};d.getErrors=function(){var a=g._("Please enter a message.");a={mediaError:g._("Add an image or remove the attachment."),ctaErrors:[{buttonNumber:0,ctaLabelError:g._("Buttons must include text."),ctaURLError:g._("Buttons must include a website URL.")},{buttonNumber:0,ctaLabelError:null,ctaURLError:g._("Buttons must include a valid website URL.")}],welcomeTextError:g._("Automated responses must include text."),errorText:g._("Complete all required fields before saving your message."),questionnaireWelcomeTextError:a,questionnaireThanksTextError:a,questionnaireStopQuestionsError:a,questionnaireReminderError:a,questionnaireErrors:[{questionNumber:0,error:g._("Please add at least one question.")},{questionNumber:0,error:g._("Please add at least 2 answer options.")}]};return this.getState().automationType==="mbs_reengagement"&&this.getState().reengagementData?i(this.getState().reengagementData,a):h(this.getState().welcomeText,this.getState().ctas,this.getState().media,this.getState().attachmentType,this.getState().automationType==="organic_intake_form"&&this.getState().isEligibleForIntakeForm?this.getState().organicIntakeFormMessages:null,this.getState().questionnaireStopQuestionsMessage,this.getState().questionnaireReminderMessage,a)};return c}(b("FluxReduceStore"));d.__moduleID=e.id;e.exports=new d(b("PagesMarketingAutomationDispatcher"))}),null);
__d("SavedResponsesAutomatedSequenceStep.react",["ix","cx","fbt","AdsMessengerPartialAutomatedCreationUtils","FDSSection.react","FDSText.react","Image.react","MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react","React","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.question?this.props.question&&this.props.question.answerType?b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(this.props.question.answerType):"":i._("Completion Message"),c=this.props.question?j.jsx(b("MessengerDestinationPartialAutomatedCreationLeadGenQuestionTypeIcon.react"),{questionType:this.props.question.answerType}):j.jsx(b("Image.react"),{src:g("1122016")}),d=this.props.question?this.props.question.message:this.props.completionMessage;c=j.jsxs("span",{className:"_8xlv",children:[j.jsx("span",{className:"_8xlw",children:c}),j.jsx(b("FDSText.react"),{margin:"_3-9a",size:"body2",weight:"bold",children:a})]});return j.jsxs("div",{className:"_8xii _8xlx",children:[c,j.jsx(b("FDSSection.react"),{children:j.jsx(b("FDSText.react"),{margin:"_3-9a",size:"body1",children:d})})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("SavedResponsesAutomatedSequenceStepList.react",["React","SavedResponsesAutomatedSequenceStep.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.render=function(){var a=this;return g.jsx(g.Fragment,{children:this.props.questionMessages.map(function(c,d){return g.jsx(b("SavedResponsesAutomatedSequenceStep.react"),{pageID:a.props.pageID,question:c},d)})})};return c}(g.PureComponent);e.exports=a}),null);
__d("SavedResponsesAutomatedSequenceDialog.react",["cx","fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FluxContainer","MessengerAdsConversionFunnelTypedLogger","PagesMarketingAutomationActions","PagesMarketingAutomationMessageComposer.react","PagesMarketingAutomationStore","PagesMarketingAutomationUtils","React","SavedResponsesAutomatedSequenceStep.react","SavedResponsesAutomatedSequenceStepList.react","SavedResponsesConstants","SavedResponsesUtils","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="start",k="dismiss";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("PagesMarketingAutomationActions").updateAutomatedCheckoutMessages({introMessage:c,questionMessages:d.state.automatedCheckoutMessages.questionMessages,thankYouMessage:d.state.automatedCheckoutMessages.thankYouMessage})},d.$2=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_trigger_click").setConversionType("BUYER_INFORMATION").setEventType(d.state.automationType).setEventSubtype(k).setPageID(d.props.pageID).log(),d.props.onHide(),b("PagesMarketingAutomationActions").updateAutomatedSequenceDialogSeeAll(!1)},d.$4=function(){b("PagesMarketingAutomationUtils").startAutomatedSequence(d.props.pageID,d.props.recipientID),new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_trigger_click").setConversionType("BUYER_INFORMATION").setEventType(d.state.automationType).setEventSubtype(j).setPageID(d.props.pageID).log(),b("PagesMarketingAutomationActions").updateRecentAutomationThreadFBID(d.props.recipientID),b("PagesMarketingAutomationActions").updateShouldShowAutomationToast(!0),d.props.onHide(),b("PagesMarketingAutomationActions").updateAutomatedSequenceDialogSeeAll(!1)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(){return{automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),automationType:b("PagesMarketingAutomationStore").getAutomationType(),seeAll:b("PagesMarketingAutomationStore").getAutomatedSequenceDialogSeeAll()}};var d=c.prototype;d.$3=function(){b("PagesMarketingAutomationActions").updateAutomatedSequenceDialogSeeAll(!0)};d.render=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_trigger_impression").setConversionType("BUYER_INFORMATION").setEventType(this.state.automationType).setPageID(this.props.pageID).log();return i.jsx(b("FDSModal.react"),{footer:i.jsx(n,{automationType:this.state.automationType,onHide:this.$2,startSequence:this.$4}),header:this.state.automationType==="buyer_information_form"?i.jsx(b("FDSModalHeader.react"),{title:h._("Customer Information Form")}):i.jsx(b("FDSModalHeader.react"),{title:h._("Start Buyer Information Sequence")}),isShown:!0,onHide:this.$2,width:b("SavedResponsesConstants").automatedSequenceDialogWidth,children:i.jsx(b("ScrollableArea.react"),{maxHeight:b("SavedResponsesConstants").dialogMaxScrollableHeight,children:i.jsxs("div",{className:"_8p88",children:[i.jsx(l,{automatedCheckoutID:this.props.automatedCheckoutID,automatedCheckoutMessages:this.state.automatedCheckoutMessages,onIntroMessageChange:this.$1,pageID:this.props.pageID}),i.jsx(m,{automatedCheckoutMessages:this.state.automatedCheckoutMessages,automationType:this.state.automationType,expanded:this.state.seeAll,pageID:this.props.pageID,seeAll:this.$3})]})})})};return c}(i.PureComponent);function l(a){return i.jsxs(b("FDSSection.react"),{children:[i.jsx(b("FDSText.react"),{size:"body1",weight:"bold",children:h._("Intro")}),i.jsx(b("PagesMarketingAutomationMessageComposer.react"),{attachmentType:null,automationID:a.automatedCheckoutID,ctas:null,errors:null,hideAttachmentSection:!0,hideCTASection:!0,inDialog:!0,isWelcomeTextIntialized:!0,media:null,onMessageChange:a.onIntroMessageChange,pageID:a.pageID,showPersonalization:!1,showTimeSection:!1,welcomeText:a.automatedCheckoutMessages.introMessage})]})}function m(a){return a.expanded?i.jsxs(b("FDSSection.react"),{children:[i.jsx(b("SavedResponsesAutomatedSequenceStepList.react"),{pageID:a.pageID,questionMessages:a.automatedCheckoutMessages.questionMessages}),i.jsx(b("SavedResponsesAutomatedSequenceStep.react"),{completionMessage:a.automatedCheckoutMessages.thankYouMessage,pageID:a.pageID}),i.jsx("a",{className:"_8p87",onClick:b("SavedResponsesUtils").editAutomatedCheckout,role:"presentation",children:a.automationType==="buyer_information_form"?h._("Edit Form"):h._("Edit Sequence")})]}):i.jsx(b("FDSSection.react"),{children:i.jsxs("div",{className:"_8p86",children:[i.jsx(b("FDSText.react"),{color:"disabled",size:"body1",children:h._("1 of {step count}",[h._param("step count",a.automatedCheckoutMessages.questionMessages.length+2)])}),i.jsx("a",{className:"_8p87",onClick:a.seeAll,role:"presentation",children:h._("See All")})]})})}function n(a){return i.jsx(b("FDSModalFooter.react"),{primaryButton:i.jsx(b("FDSButton.react"),{label:a.automationType==="buyer_information_form"?h._("Send Form"):h._("Start Sequence"),onClick:a.startSequence,use:"primary"}),secondaryButton:i.jsx(b("FDSButton.react"),{label:h._("Cancel"),onClick:a.onHide})})}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesEnableMessengerMutation",["RelayFBEnvironment","RelayModern","PagesEnableMessengerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesEnableMessengerMutation.graphql");function a(a,c,d,e){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{page_id:a,actor_id:a,is_enabled:c}},onCompleted:d,onError:e})}e.exports={commit:a}}),null);
__d("PagesManagerAdminSearchSource",["AbstractSearchSource","CurrentUser","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$PagesManagerAdminSearchSource1=[],b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.cacheData=function(a){this.$PagesManagerAdminSearchSource1=a};d.hasCachedData=function(){return this.$PagesManagerAdminSearchSource1.length>0};d.searchImpl=function(a,c,d){var e=[],f=this.$PagesManagerAdminSearchSource1;if(a){var g=a.toLowerCase();f=this.$PagesManagerAdminSearchSource1.filter(function(a){return a.name.toLowerCase().startsWith(g)})}var h;f.map(function(a){if(d&&d.placeCurrentAdminOnTop&&a.id===b("CurrentUser").getID()){var c;h=new(b("SearchableEntry"))({title:a.name,uniqueID:a.id,photo:(c=a.profile_picture)!=null?c.uri:c});return}e.push(new(b("SearchableEntry"))({title:a.name,uniqueID:a.id,photo:(c=a.profile_picture)!=null?c.uri:c}))});f=e.sort(function(a,b){return a.getTitle().localeCompare(b.getTitle())});h&&f.unshift(h);c(f,a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("CreatorStudioInboxMessengerRankedUsersActionTypes",["PagesManagerActionType","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:""});c=babelHelpers["extends"]({},a,b("PagesManagerActionType"));e.exports=c}),null);
__d("CreatorStudioInboxMessengerRankedUsersAction",["CreatorStudioInboxMessengerRankedUsersActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={fetchCreatorStudioInboxMessengerRankedUsersData:function(){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA})},setCreatorStudioInboxMessengerRankedUsersData:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a,data:c})},refreshCreatorStudioInboxMessengerRankedUsersData:function(a){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a})},deleteCreatorStudioInboxMessengerRankedUser:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,pageID:a,userID:c})},setCreatorStudioInboxMessengerRankedUsersError:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR,pageID:a,error:c})}};e.exports=a}),null);
__d("PagesManagerInboxListAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setInboxListResponseData:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.SET_RESPONSE_DATA,isReady:a})},itemFolderChange:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.ITEM_FOLDER_CHANGE,ids:a,newFolder:c,oldFolder:d})},removeMutatedItem:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_ITEM_FOLDER_CHANGE,ids:a})},banStatusChange:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.BAN_STATUS_CHANGE,isBanned:c,userName:a})},removeBanNotice:function(){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.REMOVE_BAN_NOTICE})}};e.exports=a}),null);
__d("XMessagingSetPreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/preferences/",{send_on_enter:{type:"Bool",defaultValue:!1}})}),null);
__d("PagesManagerMessagesInterface",["Animation","Arbiter","AsyncRequest","CreatorStudioInboxMessengerRankedUsersAction","MercuryIDs","MercuryThreadActions","MessagingTag","PageCommItemFolder","PageCommItemStatus","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","XMessagingSetPreferencesController","ge"],(function(a,b,c,d,e,f){"use strict";var g="PagesManagerMessagesInterface";a={applyIfVisibleOnPage:function(a,c){a=b("ge")(a);a&&c(a)},changeThreadSpamStatus:function(a,c,d,e){d?b("MercuryThreadActions").getForFBID(a).markSpam(c,"PagesManagerInterface"):b("MercuryThreadActions").getForFBID(a).unmarkSpam(c,"PagesManagerInterface"),b("PagesManagerInboxListAction").itemFolderChange([c],d?b("PageCommItemStatus").SPAM:e,d?e:b("PageCommItemStatus").SPAM),b("PagesManagerAction").viewListItem(null)},changeThreadArchivedStatus:function(a,c,d,e){d?b("MercuryThreadActions").getForFBID(a).archive(c,g):b("MercuryThreadActions").getForFBID(a).unarchive(c,g)},changeThreadReadStatus:function(a,c,d){d?b("MercuryThreadActions").getForFBID(a).markRead(c,g):b("MercuryThreadActions").getForFBID(a).markUnread(c,g)},markThreadAsSpam:function(a,c,d,e,f,h,i,j){if(h===b("MessagingTag").OTHER||i)return;c.forEach(function(c){b("MercuryThreadActions").getForFBID(a).markSpam(c,g)});this._updateMercuryPayload(a,c,e,f,j!==!0);j&&c.forEach(function(c){c=b("MercuryIDs").getUserIDFromThreadID(c);c&&b("CreatorStudioInboxMessengerRankedUsersAction").deleteCreatorStudioInboxMessengerRankedUser(a,c)})},unmarkThreadAsSpam:function(a,c,d,e){c.forEach(function(c){b("MercuryThreadActions").getForFBID(a).unmarkSpam(c,g)}),this._updateMercuryPayload(a,c,d,e)},markThreadAsFollowUp:function(a,c,d,e,f,h){d=e?b("PageCommItemStatus").FOLLOW_UP:b("PageCommItemStatus").TODO;var i=!0;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").TODO&&(i=!1);e?b("MercuryThreadActions").getForFBID(a).markPageFollowUp(c,g):b("MercuryThreadActions").getForFBID(a).unmarkPageFollowUp(c,g);this._updateMercuryPayload(a,[c],d,f,h?!1:i)},changeThreadFolderToInbox:function(a,c,d,e,f){switch(e.toUpperCase()){case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:f?b("MercuryThreadActions").getForFBID(a).changeFolder(c,b("MessagingTag").INBOX):b("MercuryThreadActions").getForFBID(a).unarchive(c,g);this._updateMercuryPayload(a,[c],b("PageCommItemStatus").TODO,e);break;case b("PageCommItemStatus").FOLLOW_UP:this.markThreadAsFollowUp(a,c,d,!1,b("PageCommItemStatus").FOLLOW_UP);break;case b("PageCommItemStatus").SPAM:this.unmarkThreadAsSpam(a,[c],b("PageCommItemStatus").TODO,b("PageCommItemStatus").SPAM);default:return}},changeThreadFolderToDone:function(a,c,d,e){b("MercuryThreadActions").getForFBID(a).archive(c,g);this._updateMercuryPayload(a,[c],b("PageCommItemStatus").DONE,d,e!==!0);if(e){d=b("MercuryIDs").getUserIDFromThreadID(c);d&&b("CreatorStudioInboxMessengerRankedUsersAction").deleteCreatorStudioInboxMessengerRankedUser(a,d)}},changeThreadFolderToBackground:function(a,c,d){b("MercuryThreadActions").getForFBID(a).changeFolder(c,b("MessagingTag").PAGE_BACKGROUND),this._updateMercuryPayload(a,[c],b("PageCommItemStatus").DONE,d)},markThreadAsDeleted:function(a,c,d,e){d!=null&&(a=d);b("MercuryThreadActions").getForFBID(a)["delete"](c,g);d=b("MercuryIDs").getUserIDFromThreadID(c);d&&e&&b("CreatorStudioInboxMessengerRankedUsersAction").deleteCreatorStudioInboxMessengerRankedUser(a,d)},_updateMercuryPayload:function(a,c,d,e,f){f===void 0&&(f=!0),b("MercuryThreadActions").getForFBID(a).updateCommStatus(c,d),b("PagesManagerInboxListAction").itemFolderChange(c,d,e),f&&b("PagesManagerAction").viewListItem(null)},hideElement:function(a){new(b("Animation"))(a).to("opacity",0).duration(150).hide().go()},notifyUpdateCompleted:function(){b("Arbiter").inform("PagesManagerLayout/refreshSection",{section:"messages"})},updateUnreadCount:function(a){b("Arbiter").inform("pagesManagerMessaging/messageUnreadCountUpdated",{metricCount:a}),b("Arbiter").inform("PagesManagerLayout/updateCount",{count:a,section:"messages"}),b("Arbiter").inform("PagesManagerLayout/updateCount",{count:a,section:"messages",subsection:"inbox"})},updatePreferences:function(a){a=b("XMessagingSetPreferencesController").getURIBuilder().setBool("send_on_enter",a.sendOnEnter).getURI();new(b("AsyncRequest"))(a).send()}};e.exports=a}),null);
__d("BulkSelectionThreadAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SELECT:"select",UNSELECT:"unselect"})}),null);
__d("BusinessInboxBulkAdminAssignmentActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_admin_assignment_action_click");e.exports=a}),null);
__d("BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_admin_assignment_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkDeleteActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_delete_action_click");e.exports=a}),null);
__d("BusinessInboxBulkDeleteDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_delete_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkLabelActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_label_action_click");e.exports=a}),null);
__d("BusinessInboxBulkLabelDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_label_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_mark_as_unread_action_click");e.exports=a}),null);
__d("BusinessInboxBulkMoveToFolderActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_move_to_folder_action_click");e.exports=a}),null);
__d("BusinessInboxBulkReplyActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_reply_action_click");e.exports=a}),null);
__d("BusinessInboxBulkReplyDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_reply_dialog_submit");e.exports=a}),null);
__d("BusinessInboxNuxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_nux_impression");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_click");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_impression");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxUpdateValueFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_update_value");e.exports=a}),null);
__d("PagesManagerBulkActionLogger",["BusinessInboxBulkAdminAssignmentActionClickFalcoEvent","BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent","BusinessInboxBulkDeleteActionClickFalcoEvent","BusinessInboxBulkDeleteDialogSubmitFalcoEvent","BusinessInboxBulkLabelActionClickFalcoEvent","BusinessInboxBulkLabelDialogSubmitFalcoEvent","BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent","BusinessInboxBulkMoveToFolderActionClickFalcoEvent","BusinessInboxBulkReplyActionClickFalcoEvent","BusinessInboxBulkReplyDialogSubmitFalcoEvent","BusinessInboxNuxImpressionFalcoEvent","BusinessInboxThreadCheckboxClickFalcoEvent","BusinessInboxThreadCheckboxImpressionFalcoEvent","BusinessInboxThreadCheckboxUpdateValueFalcoEvent","CurrentUser","PagesManagerInboxLogger","PagesManagerInboxStore","PagesMessagingInboxActionsTypedLogger","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=b("PagesManagerInboxStore").getConfig().pageID}var c=a.prototype;c.$2=function(){return{logged_in_user_id:b("CurrentUser").getID(),page_id:this.$1,inbox_platform:"unified_threads",logged_in_user_type:"facebook",event_location:"unknown"}};c.logLabelActionClick=function(a){var c=this.$2();b("BusinessInboxBulkLabelActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logReplyActionClick=function(a){var c=this.$2();b("BusinessInboxBulkReplyActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logDeleteActionClick=function(a){var c=this.$2();b("BusinessInboxBulkDeleteActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMarkAsUnreadActionClick=function(a){var c=this.$2();b("BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logAdminAssignmentActionClick=function(a){var c=this.$2();b("BusinessInboxBulkAdminAssignmentActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMoveToFolderActionClick=function(a){var c=this.$2();b("BusinessInboxBulkMoveToFolderActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logSelectionCheckboxClick=function(a){var c=this.$2();b("BusinessInboxThreadCheckboxClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logThreadCheckboxSelect=function(a){var c=this.$2();b("BusinessInboxThreadCheckboxUpdateValueFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logThreadCheckboxImpression=function(){var a=this.$2();b("BusinessInboxThreadCheckboxImpressionFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{event_data:{}})})};c.logNuxImpression=function(){var a=this.$2();b("BusinessInboxNuxImpressionFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{event_data:{nux_id:Number(b("SimpleNUXMessageTypes").PAGES_INBOX_BULK_ACTIONS),tag:"bulk_actions"}})})};c.logAdminAssignmentDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logDeleteDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkDeleteDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logReplyDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkReplyDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logLabelDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkLabelDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMarkedAsUnreadThreads=function(a){var c=new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform("MESSENGER").setInboxAction("mark_as_unread").addToExtraData("page_id",this.$1).addToExtraData("is_bulk_action","1");a.forEach(function(a){return c.log()})};c.logDeletedThreads=function(a){var c=new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform("MESSENGER").setInboxAction("delete_thread").addToExtraData("is_bulk_action","1");a.forEach(function(a){return c.log()})};c.logThreadsAssignedToAdmin=function(a){var c=this;a.forEach(function(a){b("PagesManagerInboxLogger").logAdminAssignmentAction(c.$1,"assign","bulk_actions")})};return a}();e.exports=new a()}),null);
__d("PagesManagerBulkActionsDetailSection.react",["cx","fbt","BulkSelectionThreadAction","LeftRight.react","PagesManagerAction","PagesManagerBulkActionLogger","React","Text.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.selectedThreads;a=a.height;function d(){b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:b("BulkSelectionThreadAction").UNSELECT}}),b("PagesManagerAction").clearBulkSelection()}return i.jsxs(i.Fragment,{children:[i.jsxs(b("LeftRight.react"),{className:"_2pif _2pik",children:[i.jsx("div",{}),i.jsx("div",{className:"_8iwy _8iwz",onClick:d,role:"button",tabIndex:"0"})]}),i.jsx("div",{className:"_3qn7 _61-1 _3qng","data-testid":void 0,style:{height:a},children:i.jsx("div",{className:"_8j4v",children:h._({"*":"{Number of conversations} conversations selected","_1":"{Number of conversations} conversation selected"},[h._param("Number of conversations",i.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:c})),h._plural(c)])})})]})}e.exports=a}),null);
__d("PagesManagerResizeListener",["EventEmitter"],(function(a,b,c,d,e,f){e.exports=new(b("EventEmitter"))()}),null);
__d("PagesManagerListDetailLayout.react",["cx","Arbiter","BusinessInboxBizKitUtil","GeoSpinner.react","Grid.react","JSResource","Layout.react","PagesManagerAction","PagesManagerBulkActionsDetailSection.react","PagesManagerInboxCometUtil","PagesManagerResizeListener","React","ReactDOM","ResizeListener","SubscriptionsHandler","Vector","XUICard.react","lazyLoadComponent","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("BusinessInboxBizKitUtil").isBizKitBeta,i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("BizKitInboxLayout.react").__setRef("PagesManagerListDetailLayout.react")),k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=b("Grid.react").GridItem,n=200;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.recalculateHeight=function(){var a=b("Vector").getViewportDimensions().y-b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(e)).getBoundingClientRect().top;!e.props.fullScreen?(a-=30,a-=2):a-=1;a=Math.max(n,a);e.setState({height:a});h()===!0?b("PagesManagerAction").setLayoutHeight(a-85):b("PagesManagerAction").setLayoutHeight(a);a=e.props.fullScreen?0:8;e.setState({top:a})};e.state={top:0,height:n};return e}var d=c.prototype;d.componentDidMount=function(){var a=this;this.recalculateHeight();this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe("reflow",function(){return b("setImmediate")(a.recalculateHeight)}),b("ResizeListener").add(function(){return a.recalculateHeight()}),b("PagesManagerResizeListener").addListener("change",function(){return a.recalculateHeight()}))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.showDetailViewContainer=function(){return i.jsxs(b("Layout.react"),{className:"_5n4i",style:{height:this.state.height},children:[i.jsxs(l,{className:"_6skv",children:[i.jsx("div",{className:this.props.headerClassName,children:this.props.headerSection}),i.jsx("div",{className:this.props.detailClassName,children:this.props.detailSection})]}),i.jsx(k,{className:this.props.contextCardClassName,children:this.props.contextCardSection})]})};d.showCometDetailViewContainer=function(){return i.jsxs("div",{children:[i.jsx("div",{className:this.props.headerClassName,children:this.props.headerSection}),i.jsxs(b("Layout.react"),{className:"_5n4i",style:{height:this.state.height},children:[i.jsx(l,{className:"_6skv",children:i.jsx("div",{className:this.props.detailClassName,children:this.props.detailSection})}),i.jsx(k,{className:this.props.contextCardClassName,children:this.props.contextCardSection})]})]})};d.render=function(){var a,c=this.state.height,d=this.state.top,e=[];this.props.navigationSection&&e.push(i.jsx(m,{className:this.props.navigationSectionClassName,children:this.props.navigationSection},"navigationSection"));this.props.listSection&&e.push(i.jsx(m,{className:this.props.listClassName,"data-testID":"list_view",children:this.props.listSection},"listSection"));a=(a=this.props.selectedThreads)!=null?a:0;e.push(i.jsx(m,{className:"_3q3y",children:a===0?b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?this.showCometDetailViewContainer():this.showDetailViewContainer():i.jsx(b("PagesManagerBulkActionsDetailSection.react"),{height:this.state.height,selectedThreads:a})},"0"));return h()===!0?i.jsx(i.Suspense,{fallback:i.jsx(b("GeoSpinner.react"),{center:!0}),children:i.jsx(j,{contextCardClassName:"_2evq",contextCardSection:this.props.contextCardSection,detailClassName:"_2evr",detailSection:this.props.detailSection,fullScreen:!0,headerClassName:"_2evs",headerSection:this.props.headerSection,isMessaging:this.props.isMessaging,listClassName:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&this.state.navMode==="messages"?"_1-9p":this.props.listClassName,listSection:this.props.listSection,navigationSection:this.props.navigationSection,navigationSectionClassName:"_6idi",selectedThreads:a})}):i.jsx(b("XUICard.react"),{className:this.props.fullScreen?"_4sno":"",style:{height:c},children:i.jsx("div",{className:"_10ua",style:{top:d},children:i.jsx(b("Grid.react"),{alignv:"top",className:"_10ue",cols:e.length,children:e})})})};return c}(i.PureComponent);e.exports=a}),null);
__d("BizEmailMarketingNux.react",["fbt","FDSText.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="page_inbox_marketing_email_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNavNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(i)),d.setState({shouldShowNavNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2(i));return a};d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.render=function(){return h.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,customwidth:240,offsetX:0,onCloseButtonClick:this.$3,position:"right",shown:this.state.shouldShowNavNUX,width:"custom",children:h.jsx(b("FDSText.react"),{color:"white",size:"body3",children:g._("Now you can send customized marketing emails to your email subscribers.")})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingMessagelistDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("XPagesBanUserStatusFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/admin/ban_user/status/",{page_id:{type:"FBID",required:!0},user_id:{type:"FBID",required:!0}})}),null);
__d("PagesManagerMessagingMessagelistAction",["AsyncRequest","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesBanUserStatusFetchController"],(function(a,b,c,d,e,f){var g=b("PagesManagerMessagingActionType").LIST,h=new Map(),i={updateMessagelist:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADED,pageID:a,threadID:c,data:d})},setHotLikeEnd:function(){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.END})},setHotLikeStart:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.START,preview:a})},contentSearchSelectedIndex:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.CONTENT_SEARCH_SELECTED_INDEX,contentSearchSelectedIndex:a})},setIsLoading:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADING,isLoading:a})},setIsLoadingMore:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOAD_MORE,isLoadingMore:a})},setScrollAreaHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT,height:a})},setAppointmentBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentScheduleBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentStatusBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},updateThread:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD,pageID:a,threadID:c})},setIsContextCardHidden:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN,pageID:a,isHidden:c})},updateIsUserBanned:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").BAN.UPDATE,pageID:a,userID:c,isBanned:d})},_getBanningMapKey:function(a,b){return a+"_"+b},fetchIsUserBanned:function(a,c){var d=this._getBanningMapKey(a,c);if(h.has(d)&&h.get(d))return;var e=b("XPagesBanUserStatusFetchController").getURIBuilder().setFBID("page_id",a).setFBID("user_id",c).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){i.updateIsUserBanned(a,c,b.payload)}).send();h.set(d,!0)},resetIsUserBanned:function(a,b){h.set(this._getBanningMapKey(a,b),!1)}};e.exports=i}),null);
__d("XPagesContextCardSetIsHiddenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/customer/context_card/set_is_hidden/",{})}),null);
__d("PagesManagerMessagingMessagelistStore",["ActorURI","AsyncRequest","FluxStore","MercuryThreadlistConstants","MessengerState.bs","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesContextCardSetIsHiddenController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerMessagingMessagelistDispatcher"))||this;c.$PagesManagerMessagingMessagelistStore1="";c.$PagesManagerMessagingMessagelistStore2=!1;c.$PagesManagerMessagingMessagelistStore3=!1;c.$PagesManagerMessagingMessagelistStore4=!1;c.$PagesManagerMessagingMessagelistStore6=[];c.$PagesManagerMessagingMessagelistStore7=0;c.$PagesManagerMessagingMessagelistStore9=new Map();c.$PagesManagerMessagingMessagelistStore10=0;c.$PagesManagerMessagingMessagelistStore11=0;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerMessagingActionType").LIST.LOADED:this.$PagesManagerMessagingMessagelistStore12(a);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=a.isLoading;this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=a.isLoadingMore;this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT:var c=a.height;c!==this.$PagesManagerMessagingMessagelistStore7&&(this.$PagesManagerMessagingMessagelistStore7=c,this.__emitChange());break;case b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT:this.$PagesManagerMessagingMessagelistStore10=a.appointmentBannerHeight;this.__emitChange();break;case b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore13(a.pageID,a.isHidden);this.__emitChange();break;case b("PagesManagerMessagingActionType").HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=!1;this.$PagesManagerMessagingMessagelistStore5=null;break;case b("PagesManagerMessagingActionType").HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=!0;this.$PagesManagerMessagingMessagelistStore5=a.preview;this.__emitChange();break;case b("PagesManagerMessagingActionType").BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore14(a.pageID,a.userID,a.isBanned);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.CONTENT_SEARCH_SELECTED_INDEX:this.$PagesManagerMessagingMessagelistStore11=a.contentSearchSelectedIndex;this.__emitChange();break;default:return}};d.$PagesManagerMessagingMessagelistStore12=function(a){this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore1=a.threadID,this.$PagesManagerMessagingMessagelistStore6=a.data.messages};d.isLoading=function(){return this.$PagesManagerMessagingMessagelistStore2};d.isLoadingMore=function(){return this.$PagesManagerMessagingMessagelistStore3};d.getMessagelist=function(a,c){if(c!=this.$PagesManagerMessagingMessagelistStore1)return b("MessengerState.bs").getThreadMessagesRangeNow(a,c,0,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_MESSAGES_COUNT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore5){a=this.$PagesManagerMessagingMessagelistStore6.slice();this.$PagesManagerMessagingMessagelistStore5&&a.push(this.$PagesManagerMessagingMessagelistStore5);return a}return this.$PagesManagerMessagingMessagelistStore6};d.getScrollHeight=function(){return this.$PagesManagerMessagingMessagelistStore7};d.isCardHidden=function(){return this.$PagesManagerMessagingMessagelistStore8===void 0||this.$PagesManagerMessagingMessagelistStore8===null?null:this.$PagesManagerMessagingMessagelistStore8};d.getAppointmentBannerHeight=function(){return this.$PagesManagerMessagingMessagelistStore10};d.$PagesManagerMessagingMessagelistStore13=function(a,c){this.$PagesManagerMessagingMessagelistStore8=c;a=b("ActorURI").create(b("XPagesContextCardSetIsHiddenController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setData({is_hidden:c}).setMethod("POST").send()};d.$PagesManagerMessagingMessagelistStore15=function(a,b){return a+"_"+b};d.getIsUserBanned=function(a,b){return this.$PagesManagerMessagingMessagelistStore9.get(this.$PagesManagerMessagingMessagelistStore15(a,b))};d.$PagesManagerMessagingMessagelistStore14=function(a,b,c){this.$PagesManagerMessagingMessagelistStore9.set(this.$PagesManagerMessagingMessagelistStore15(a,b),c)};d.getContentSearchSelectedIndex=function(){return this.$PagesManagerMessagingMessagelistStore11};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerContentSearchContainer.react",["cx","fbt","FluxContainer","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerMessagingMessagelistAction","PagesManagerMessagingMessagelistStore","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=40;function k(a){return i.jsx("div",{className:"_6o3q",children:a.totalCount===0?h._("No matched messages for \"{query_name}\"",[h._param("query_name",l(a.query,j))]):h._("{selected_index} of {total_count} matched messages for \"{query_name}\"",[h._param("selected_index",a.contentSearchSelectedIndex+1),h._param("total_count",a.totalCount),h._param("query_name",l(a.query,j))])})}function l(a,b){return a.length>b?a.slice(0,b)+"...":a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(d.state.contentSearchSelectedIndex-1)},d.$2=function(){b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(d.state.contentSearchSelectedIndex+1)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerMessagingMessagelistStore")]};c.calculateState=function(a){return{contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};var d=c.prototype;d.$3=function(){b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem()};d.render=function(){var a=h._("Previous result"),c=h._("Next result"),d=h._("Clear search");return i.jsxs("div",{className:"_6o3r",children:[i.jsx(b("XUIButton.react"),{"aria-label":a,className:"_6o3s",disabled:this.state.contentSearchSelectedIndex>=this.props.totalCount-1,label:"",onClick:this.$2,role:"button",tabIndex:0,title:a,type:"primary"}),i.jsx(b("XUIButton.react"),{"aria-label":c,className:"_6o3t",disabled:this.state.contentSearchSelectedIndex===0,label:"",onClick:this.$1,role:"button",tabIndex:0,title:c,type:"primary"}),this.props.query?i.jsx(k,{contentSearchSelectedIndex:this.state.contentSearchSelectedIndex,query:this.props.query,totalCount:this.props.totalCount}):null,i.jsx(b("XUIButton.react"),{"aria-label":d,className:"_6o3u",label:"",onClick:this.$3,role:"button",tabIndex:0,title:d,type:"primary"})]})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("CreatorStudioInboxMessengerRankedUsersDataTypes",["ImmutableRecordWithV4Types","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=a({rankedUsers:[]}),h=function(a){a=a.rankedUsers;return g({rankedUsers:a})};c=function(a){a=a==null?void 0:(a=a.messenger_ranked_users)==null?void 0:a.edges;if(a==null)return h({rankedUsers:b("immutable").List()});a=b("filterNulls")(a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}));return h({rankedUsers:b("immutable").List(a)})};e.exports={createCreatorStudioInboxMessengerRankedUsersData:h,createCreatorStudioInboxMessengerRankedUsersDataFromRawData:c}}),null);
__d("CreatorStudioInboxMessengerRankedUsersStore",["CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersActionTypes","CreatorStudioInboxMessengerRankedUsersDataTypes","FluxLoadObjectStore","MercuryIDs","MessengerState.re","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","immutable","promiseDone","setImmediate","CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersData,i=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersDataFromRawData,j=b("RelayModern").fetchQuery;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.__isLoading=!0;return c}var d=c.prototype;d.getRankedUserMercuryThreadPayloadList=function(a){var c=this.getRankedUserIDs(a),d=[];c.forEach(function(c){c=b("MercuryIDs").getThreadIDFromUserID(c);c=b("MessengerState.re").getThreadMetaNow(a,c);c&&d.push(c)});return d};d.getRankedUserMercuryThreadPayloadListForAdmin=function(a,c){a=this.getRankedUserMercuryThreadPayloadList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c==="NONE"?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c!=null&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};d.getRankedUserIDs=function(a){a=this.get(a);a=a.getValue();var b=[];a&&(b=a.rankedUsers.toArray());return b};d.isLoading=function(){return this.__isLoading};d.__getActionTypes=function(){var a;return[this.getActionTypeStartLoad(),(a=b("CreatorStudioInboxMessengerRankedUsersActionTypes")).FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR]};d.reduce=function(a,c){var d=this;switch(c.type){case b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.data);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;b("setImmediate")(function(){d.__load(c.pageID)});return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:var e=this.get(c.pageID);e=e.getValue();var f=[];if(e){e=e.rankedUsers.toArray();f=e.filter(function(a){return a!==c.userID})}e=h({rankedUsers:b("immutable").List(f)});return this.__handleOne(a,c.pageID,e);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.error);case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:f=c.activeFolderFilter===b("PageCommItemFolder").PRIORITY&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER";e=c.activeTypeFilter==="MESSENGER"&&b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").PRIORITY;(f||e)&&b("setImmediate")(function(){d.__load(c.pageID)});return a;default:return a}};d.__load=function(a){b("CreatorStudioInboxMessengerRankedUsersAction").fetchCreatorStudioInboxMessengerRankedUsersData();if(a==null){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,new Error("Null ID"));return}b("promiseDone")(l(a),function(c){try{c=i(c);b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersData(a,c)}catch(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)}},function(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;function l(a){a={pageID:a};return j(b("RelayFBEnvironment"),k,a)}e.exports=new a()}),null);
__d("MediaManagerInboxLogUtils",["MediaManagerFbPagePickerStore","MediaManagerInboxUtils","MediaManagerTypedLogger"],(function(a,b,c,d,e,f){var g=b("MediaManagerInboxUtils").InboxTabType;function h(a,c){c=c;c==null&&(c=new(b("MediaManagerTypedLogger"))());c=c.setEvent(a).setEventSource("inbox_tab").setSelectedSinglePageID(b("MediaManagerFbPagePickerStore").selectedSinglePageID()).setSelectedTab(g());c.log()}function a(a,c,d,e){var f=new(b("MediaManagerTypedLogger"))();c!==null&&(f=f.setPlatformRowID(String(c)));d!=null&&(f=f.setInboxPlatform(d));e!=null&&(f=f.setEventData(e));h(a,f)}function c(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"MESSAGE";case"FACEBOOK":case"INSTAGRAM":return"COMMENT";default:return null}}function d(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"THREAD";case"FACEBOOK":case"INSTAGRAM":return"POST";default:return null}}e.exports={getMediaManagerNotificationType:c,getMediaManagerPlatformRowType:d,mediaManagerInboxLoggingEvent:a}}),null);
__d("MediaManagerInboxContext.react",["FacebookAppIDs","MediaManagerInboxLogUtils","PageCommItemActionType","PageCommItemStatus","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerInboxLogUtils").getMediaManagerNotificationType,h=b("MediaManagerInboxLogUtils").getMediaManagerPlatformRowType,i=b("MediaManagerInboxLogUtils").mediaManagerInboxLoggingEvent;a=b("React");var j=(c={},c[(d=b("PageCommItemStatus")).DELETED]="mark_deleted",c[d.DONE]="mark_done",c[d.FOLLOW_UP]="mark_follow_up",c[d.TODO]="mark_todo",c[d.SPAM]="mark_spam",c),k=(f={},f[b("PageCommItemActionType").MARK_READ]="mark_read",f[b("PageCommItemActionType").MARK_UNREAD]="mark_unread",f);d={appID:b("FacebookAppIDs").MEDIA_MANAGER,logClickPlatform:function(a,b){i("click_platform",null,a,{filter:b})},logClickRow:function(a,b){i("click_row",a,b)},logMarkReadStatusActions:function(a,b,c,d,e){i(k[d],a,b,{filter:c,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:e!=null?e.toString():""})},logMarkStatusActions:function(a,b,c,d,e){i(j[e],a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowImpression:function(a,b,c,d){i("row_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowPreviewImpression:function(a,b,c,d){i("row_preview_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logSendMessageToTargetUser:function(a,b,c,d){i("send_message_to_target_user",a,b,{filter:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})},logSendStickerToTargetUser:function(a,b,c,d,e){i("send_sticker_to_target_user",a,b,{filter:e,inbox_messenger_send_sticker_id:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})},logClickMessageCta:function(a,b,c,d,e){i("fb_comms_tip_cta_clicked",a,b,{filter:e,notification_type:b||"",platform_row_type:c||"",rowIndex:d!=null?d.toString():""})}};f=a.createContext({appID:null,logClickPlatform:c=b("emptyFunction"),logClickRow:c,logMarkReadStatusActions:c,logMarkStatusActions:c,logRowImpression:c,logRowPreviewImpression:c,logSendMessageToTargetUser:c,logSendStickerToTargetUser:c,logClickMessageCta:c});e.exports={MediaManagerInboxContext:f,MediaManagerInboxContextValue:d}}),null);
__d("MediaManagerFBCommsDetailView.react",["cx","AYMTClientSideLogging","FlexLayout.react","FlexLayoutItem.react","Layout.react","LayoutFillColumn.react","LineClamp.react","MediaManagerInboxContext.react","PageCommItemFolder","React","SUIButton.react","SUICard.react","SUIText.react","URI","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){if(this.props.item!=null&&this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")){this.context.logRowPreviewImpression(this.props.item.node.id,"MEDIA_MANAGER_FB_COMMS",this.props.mediaManagerInboxRowIndex,b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS);var a=this.props.item.node;a.tipName!=null&&a.channelID!=null&&a.tipName!==""&&b("AYMTClientSideLogging").logImpression(a.id,a.channelID)}};d.$1=function(a,c){var d=this;return function(){d.context.logClickMessageCta(d.props.item.node.id,"MEDIA_MANAGER_FB_COMMS","FB_COMMS_AYMT",d.props.mediaManagerInboxRowIndex,b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS);var e=d.props.item.node;e.tipName!=null&&e.channelID!=null&&e.tipName!==""&&b("AYMTClientSideLogging").logClick(e.id,e.channelID);c?(h||(h=b("URI"))).go(a):(h||(h=b("URI"))).goURIOnNewWindow(a)}};d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;return i.jsx(b("Layout.react"),{style:{height:this.props.height},children:i.jsx(b("LayoutFillColumn.react"),{className:"_8ax6",children:i.jsx(b("SUICard.react"),{margin:"_3-8u _3-8z",children:i.jsxs(b("FlexLayout.react"),{className:"_8v_x",direction:"vertical",children:[i.jsxs(b("FlexLayout.react"),{className:"_8v_y",direction:"vertical",children:[i.jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!0,lines:2,children:i.jsx(b("SUIText.react"),{color:"primary",margin:"_3-95",size:"body1",weight:"bold",children:a.title})}),i.jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!0,lines:5,children:i.jsx(b("SUIText.react"),{color:"primary",size:"body2",children:a.body})})]}),i.jsx(b("FlexLayoutItem.react"),{align:"end",children:i.jsx(b("SUIButton.react"),{label:a.cta.label,onClick:this.$1(a.cta.action,a.cta.shouldLoadInSameWindow),use:"confirm"})})]})})})})};return c}(i.PureComponent);c.contextType=a;e.exports=c}),null);
__d("MediaManagerInboxFBCommsActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};c=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};d=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,pageID:a,messagesObject:c})};f=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,pageID:a,error:c})};var h=function(a,c,d){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN,pageID:a,message:c,clickedTime:d})},i=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT,pageID:a})},j=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT_FINISHED,pageID:a,badgeCount:c})},k=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT_ERROR,pageID:a,error:c})},l=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_DECREMENT_BADGE_COUNT,pageID:a})};e.exports={loadFBCommsMessages:a,loadMoreFBCommsMessages:c,loadFBCommsMessagesFinished:d,loadFBCommsMessagesError:f,setFBCommsMessageSeen:h,loadFBCommsBadgeCount:i,loadFBCommsBadgeCountFinished:j,loadFBCommsBadgeCountError:k,decrementFBCommsBadgeCount:l}}),null);
__d("MediaManagerFBCommsStore",["fbt","FluxLoadObjectStore","MediaManagerActionTypes","MediaManagerInboxFBCommsActions","MediaManagerInboxLogUtils","PagesManagerDispatcher","RelayFBEnvironment","RelayModern","immutable","promiseDone","MediaManagerFBCommsStoreQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("MediaManagerActionTypes").MediaManagerActionTypes,j=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesError,k=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesFinished,l=b("MediaManagerInboxLogUtils").mediaManagerInboxLoggingEvent,m=b("RelayModern").fetchQuery;b("RelayModern").graphql;var n=h!==void 0?h:h=b("MediaManagerFBCommsStoreQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,i.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN]};d.reduce=function(a,b){var c;switch(b.type){case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES:c=(c=a.get(b.pageID))==null?void 0:c.getValue();(c==null||c.hasNextPage)&&this.__load(b.pageID);return a;case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED:l("fb_comms_tips_loaded",null,"MEDIA_MANAGER_FB_COMMS",{num_tips:b.messagesObject.messages.size.toString()});return this.__handleOne(a,b.pageID,b.messagesObject);case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR:return this.__handleOne(a,b.pageID,b.error);case i.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN:c=a.get(b.pageID);if(c.hasValue()){c=c.getValue();if(c!=null){var d=c.messages;d=d.find(function(a){return a.node.id===b.message.node.id});d.node.clickedTime=b.clickedTime;return this.__handleOne(a,b.pageID,c)}}return a;default:return a}};d.__load=function(a){var c=this.get(a).getValue(),d=c!=null?c.endCursor:null;l("fb_comms_load_tips",null,"MEDIA_MANAGER_FB_COMMS",{end_cursor:d!=null?d:""});b("promiseDone")(m(b("RelayFBEnvironment"),n,{page_id:String(a),after:d}),function(d){var e;e=(e=d.viewer)==null?void 0:(e=e.inbox_fb_comms_rows)==null?void 0:e.nodes;var f={endCursor:null,hasNextPage:!1,messages:b("immutable").List()};if(e!=null){var h;h=(h=d.viewer)==null?void 0:(h=h.inbox_fb_comms_rows)==null?void 0:(h=h.page_info)==null?void 0:h.end_cursor;d=(d=(d=d.viewer)==null?void 0:(d=d.inbox_fb_comms_rows)==null?void 0:(d=d.page_info)==null?void 0:d.has_next_page)!=null?d:!1;var i=null,j=null,l=null,m=null,n=null,o=null,p=null,q=!1,r=null,s=null;e=e.reduce(function(b,c){if(c.__typename==="InboxAYMTRow"){var d=c.content;i=d==null?void 0:d.id;j=d==null?void 0:d.tip_name;l=d==null?void 0:d.channel_id;m=d==null?void 0:d.title;n=d==null?void 0:d.body;o=d==null?void 0:d.button_label;p=d==null?void 0:d.button_uri;q=!!(d==null?void 0:d.should_load_uri_in_same_window);r=d==null?void 0:d.validation_timestamp;s=d==null?void 0:d.clicked_timestamp}else if(c.__typename==="InboxNotifRow"){d=c.ent_notif;i=d==null?void 0:d.id;j="";m=d==null?void 0:(c=d.body)==null?void 0:c.text;n="";o=g._("See More");p=d==null?void 0:d.url;r=d==null?void 0:d.notif_sent_time;s=d==null?void 0:d.first_read_time}if(i==null||j==null||m==null||n==null||o==null||p==null||r==null)return b;b.push({node:{id:i,pageID:a,tipName:j,channelID:l,title:m,body:n,cta:{label:o,action:p,shouldLoadInSameWindow:q},validationTime:r,clickedTime:s,productType:"MONETIZATION"}});return b},[]);f={endCursor:h,hasNextPage:d,messages:c!=null?c.messages.concat(e):b("immutable").List(e)}}k(a,f)},function(b){var c=b.getErrorDescriptionString();l("fb_comms_tips_loading_error",null,"MEDIA_MANAGER_FB_COMMS",{page_id:a,error:c!=null?c:""});j(a,b)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("MediaManagerFBCommsDetailViewContainer.react",["FluxContainer","MediaManagerFBCommsDetailView.react","MediaManagerFBCommsStore","PagesManagerInboxStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("MediaManagerFBCommsStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getMailboxID("MEDIA_MANAGER_FB_COMMS");a=b("MediaManagerFBCommsStore").get(a);a=a.hasValue()?a.getValueEnforcing().messages:b("immutable").List();return{messages:a}};var d=c.prototype;d.render=function(){var a=this;if(this.state.messages==null||this.props.viewingItem==null)return null;var c=this.state.messages.find(function(b){return b.node.id===a.props.viewingItem});return g.jsx(b("MediaManagerFBCommsDetailView.react"),{height:this.props.height,item:c,mediaManagerInboxRowIndex:this.props.mediaManagerInboxRowIndex})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxPriorityTabStore",["FluxReduceStore","ImmutableRecordWithV4Types","MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=b("MediaManagerActionTypes").MediaManagerActionTypes,h=a({onViewingItemPriorityType:"NONE"});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return h()};c.reduce=function(a,b){switch(b.type){case g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM:return a.set("onViewingItemPriorityType",b.priorityType);default:return a}};c.getOnViewingPriorityRowType=function(){return this.getState().get("onViewingItemPriorityType")};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerDispatcher"))}),null);
__d("PagesManagerInboxDetailLoading.react",["CenteredContainer.react","React","SUIPagesManagerTheme","SUISpinner.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx("div",{style:{backgroundColor:this.props.backgroundColor,height:this.props.height},children:g.jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:g.jsx(b("SUISpinner.react"),{theme:b("SUIPagesManagerTheme")})})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MediaManagerInboxFocusCommentStore",["FluxStore","PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$MediaManagerInboxFocusCommentStore1="";c.$MediaManagerInboxFocusCommentStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerActionType").LIST.VIEW:a.postID&&(this.$MediaManagerInboxFocusCommentStore1=a.postID,this.$MediaManagerInboxFocusCommentStore2=a.focusCommentID,this.__emitChange());break}};d.get=function(a){if(a!=null&&this.$MediaManagerInboxFocusCommentStore1===a)return this.$MediaManagerInboxFocusCommentStore2;else{this.$MediaManagerInboxFocusCommentStore1="";this.$MediaManagerInboxFocusCommentStore2=null;return null}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxDetailView.react",["cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","MNCommerceDialogContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxStore","React","ResponsiveBlock.react","ScrollableArea.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={composerHeight:0,headerHeight:0},c.$4=function(a,b){c.setState({composerHeight:b})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentDidUpdate=function(a,b){this.props.token!==a.token&&this.$2();if(this.state.composerHeight!==b.composerHeight||this.state.headerHeight!==b.headerHeight||this.props.height!==a.height){b=this.props.onScrollHeightChange;b&&b(this.$3())}};d.$2=function(){if(this.$1){var a=this.$1.getArea();a&&a.scrollToBottom()}};d.$3=function(){return Math.max(this.props.height-this.state.headerHeight-this.state.composerHeight,0)};d.$5=function(){if(b("PagesManagerInboxFilterStore").getActiveType()!=="INSTAGRAM")return!1;if(b("PagesManagerInboxStore").getBusinessInboxAppConfig()!=null){var a;return Boolean((a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:(a=a.instagramConfig)==null?void 0:a.shouldShowIGRevampComments)}return b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM.shouldShowIGRevampComments};d.$6=function(){var a=this;if(this.props.useCustomScrollableArea)return h.jsx("div",{style:{height:this.$3(this.state.headerHeight,this.state.composerHeight)},children:this.props.content});else if(this.props.shouldShowRevampCommentDesign===!0||this.$5())return h.jsx(b("ScrollableArea.react"),{className:"_7-21",height:this.$3(this.state.headerHeight,this.state.composerHeight),ref:function(b){return a.$1=b},shadow:!1,children:this.props.content});else return h.jsx(b("ScrollableArea.react"),{className:"_2pw6",height:this.$3(this.state.headerHeight,this.state.composerHeight),ref:function(b){return a.$1=b},shadow:!1,children:h.jsx(b("CenteredContainer.react"),{children:this.props.content})})};d.$7=function(){return this.props.commPlatform==="MESSENGER"?h.jsx(b("MNCommerceDialogContainer.react"),{}):null};d.render=function(){if(this.$5())return h.jsxs(b("Layout.react"),{style:{height:this.props.height},children:[h.jsxs(b("LayoutFillColumn.react"),{className:b("joinClasses")(this.props.className,"_8ax6"),children:[this.props.searchView,this.$6(),h.jsx(b("ResponsiveBlock.react"),{className:"_5n4j",onResize:this.$4,children:this.props.composer})]}),h.jsx(b("LayoutColumn.react"),{className:"_8ax1",children:this.props.contextCard})]});else return h.jsxs("div",{className:b("joinClasses")(this.props.className,"_5n4i"),style:{height:this.props.height},children:[this.props.searchView,this.$6(),this.$7(),h.jsx(b("ResponsiveBlock.react"),{className:"_5n4j",onResize:this.$4,style:{paddingBottom:this.props.paddingBottom},children:this.props.composer})]})};return c}(h.PureComponent);a.defaultProps={onScrollHeightChange:function(){},useCustomScrollableArea:!1};e.exports=a}),null);
__d("PagesManagerInboxDetailViewContainer.react",["PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","RelayModern","UserActivity","PagesManagerInboxDetailViewContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){this.$2()};d.$2=function(){var a=this;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a.$4(),a.$3())}))};d.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};d.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){return h.jsx(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:this.props.item.comm_platform,commType:this.props.item.comm_type,token:this.props.item.id}))};return c}(h.PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxDetailViewContainer_item.graphql")})}),null);
__d("PagesManagerInboxFacebookPost.react",["DOMContainer.react","PagesManagerInboxLogger","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("PagesManagerInboxLogger").itemRendered(this.props.commItemID)};d.render=function(){return g.jsx(b("DOMContainer.react"),{children:this.props.post})};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFacebookPostComposer.react",["cx","CenteredContainer.react","DOMContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{children:h.jsx(b("CenteredContainer.react"),{className:"_2y_2",fullHeight:!0,horizontal:!1,vertical:!0,children:h.jsx(b("DOMContainer.react"),{children:this.props.composer})})})};return c}(h.PureComponent);e.exports=a}),null);
__d("XPagesManagerInboxFacebookPostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/fb_post/",{})}),null);
__d("PagesManagerInboxFacebookPostStore",["invariant","ActorURI","AsyncRequest","FluxStore","LoadObject","MediaManagerUtils","PagesManagerDispatcher","PagesManagerInboxActionType","XPagesManagerInboxFacebookPostController"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxFacebookPostStore1=new Map();return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerInboxActionType").FACEBOOK_POST.LOADED:this.$PagesManagerInboxFacebookPostStore1.set(a.data.itemID,b("LoadObject").withValue(a.data));this.__emitChange();break}};d.get=function(a,c,d,e){this.$PagesManagerInboxFacebookPostStore1.has(a)||(this.$PagesManagerInboxFacebookPostStore1.set(a,b("LoadObject").loading()),this.$PagesManagerInboxFacebookPostStore2(a,c,d));c=this.$PagesManagerInboxFacebookPostStore1.get(a);c||g(0,693);e&&this.$PagesManagerInboxFacebookPostStore1["delete"](a);return c};d.$PagesManagerInboxFacebookPostStore2=function(a,c,d){var e=b("XPagesManagerInboxFacebookPostController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData((e={item_id:a,feedback_source:b("MediaManagerUtils").isMediaManagerApp()?71:63,focus_comment_id:b("MediaManagerUtils").isMediaManagerApp()?d:null},e[b("ActorURI").PARAMETER_ACTOR]=c,e)).send()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxFacebookPostContainer.react",["FeedbackReactionTypeNames","FluxContainer","MediaManagerInboxFocusCommentStore","PagesManagerInboxAction","PagesManagerInboxDetailLoading.react","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxFacebookPost.react","PagesManagerInboxFacebookPostComposer.react","PagesManagerInboxFacebookPostStore","PagesManagerInboxLogger","PagesMessagingPerfTypedLogger","React","RelayModern","UFIDispatcherBase","nullthrows","PagesManagerInboxFacebookPostContainer_commItem.graphql","PagesManagerInboxFacebookPostContainer_story.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React"),j="CENTRALUPDATES_SAVED_COMMENT",k="PageCommItemPart";a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFacebookPostStore"),b("MediaManagerInboxFocusCommentStore")]};c.calculateState=function(a,c){a=c.commItem.id;var d=a?b("MediaManagerInboxFocusCommentStore").get(a):null,e=c.commItem.__typename===k||d!==null;return{post:b("PagesManagerInboxFacebookPostStore").get(b("nullthrows")(a),c.pageID,d,e)}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("UFIDispatcherBase").register(function(c){switch(c.type){case"add_comment_submit_new":c.replyCommentID||(a.$4(),b("PagesManagerInboxAction").comment());break;case j:b("PagesManagerInboxLogger").logSendComment("FACEBOOK",a.props.pageID,a.convertCommentIDtoCommentFBID(c.commentID),c.ftentidentifier);break;case"comment_change_reaction_success":b("PagesManagerInboxLogger").logCommentReaction("FACEBOOK",a.props.pageID,c.fbid,c.ftentidentifier,b("FeedbackReactionTypeNames")[c.reactionType]);break}});this.$3=!1};d.componentDidUpdate=function(a,b){a=b.post.getValue();b=a&&a.itemID;a=this.state.post.getValue();a=a&&a.itemID;if(b!==a){this.$4();return}!this.state.post.isLoadingOrEmpty()&&!this.$3&&(this.$5(),this.$3=!0)};d.componentWillUnmount=function(){this.$1&&b("UFIDispatcherBase").unregister(this.$1)};d.$5=function(){var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);a.setEventName("page_post_render_complete_event").setPlatform("FACEBOOK").log()};d.convertCommentIDtoCommentFBID=function(a){var b=a.toString().indexOf("_")+1;return a.toString().substring(b)};d.$4=function(){var a=this.$2;a&&(a.scrollToBottom&&a.scrollToBottom())};d.$6=function(){var a=this.state.post.getValueEnforcing(),c=this.props.commItem.id;return i.jsx(b("PagesManagerInboxFacebookPost.react"),{commItemID:b("nullthrows")(c),post:a.element})};d.$7=function(){var a=this.state.post.getValue();return this.state.post.isLoading()||!a?i.jsx("div",{}):i.jsx(b("PagesManagerInboxFacebookPostComposer.react"),{composer:a.composer})};d.render=function(){var a=this,c=this.props.commItem.__typename===k;return this.state.post.isLoading()||this.state.post.isEmpty()?i.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):i.jsx(b("PagesManagerInboxDetailViewContainer.react"),{componentRef:function(b){a.$2=b},composer:this.$7(),content:this.$6(),height:this.props.height,item:this.props.commItem,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowRevampCommentDesign:c})};return c}(i.PureComponent);e.exports=a(b("FluxContainer").create(c,{withProps:!0}),{commItem:g!==void 0?g:g=b("PagesManagerInboxFacebookPostContainer_commItem.graphql"),story:h!==void 0?h:h=b("PagesManagerInboxFacebookPostContainer_story.graphql")})}),null);
__d("PagesManagerInboxIGCommentAction",["PagesManagerDispatcher","PagesManagerInboxActionType"],(function(a,b,c,d,e,f){"use strict";a={deleteReply:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY,parentCommentID:a})},reply:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerInboxActionType").IG_COMMENT.REPLY,parentCommentID:a})}};e.exports=a}),null);
__d("PagesManagerInboxInstagramCommentDeleteMutation",["PagesManagerInboxIGCommentAction","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentDeleteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxInstagramCommentDeleteMutation.graphql");function a(a,c){var d=function(c,d){c=c.get(a.instagram_media_id);if(!c)return;var e=h.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");c=h.getConnection(c,"PagesManagerInboxInstagramCommentsContainer_ig_comments");e&&h.deleteNode(e,a.instagram_comment_id);c&&h.deleteNode(c,a.instagram_comment_id);c=d==null?void 0:(e=d.instagram_comment_delete)==null?void 0:e.parent_instagram_comment_id;c!=null&&b("PagesManagerInboxIGCommentAction").deleteReply(c)};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_comment_id:a.instagram_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({MESSAGE:{SET:"message/set",LINK_REPLY:"message/link_reply",CLEAR:"message/clear"}});e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerActions",["PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";a={setMessage:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET,message:a})},linkReply:function(a){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.LINK_REPLY,replyMetadata:a})},clearMessage:function(){b("PagesManagerDispatcher").dispatch({actionType:b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR})}};e.exports=a}),null);
__d("PagesManagerInboxInstagramUserPhotoContainer.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_2q1j"+(this.props.shape==="circle"?" _kpb":"");return h.jsx(b("Image.react"),{className:a,height:this.props.imageSize,src:this.props.imageURI,width:this.props.imageSize})};return c}(h.PureComponent);a.defaultProps={shape:"square"};e.exports=a}),null);
__d("PagesManagerInboxInstagramCommentRow.react",["cx","fbt","ContextualDialogArrow","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramUserPhotoContainer.react","PopoverMenu.react","React","ReactXUIMenu","TextWithEntities.react","Timestamp.react","XUICard.react","XUIDotsButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("ReactXUIMenu").Item;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.props.commentID===null||d.props.commentID===void 0)return;b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:d.props.pageID,instagram_comment_id:d.props.commentID,instagram_media_id:d.props.igMediaID})},d.$4=function(){if(d.props.igUsername===null||d.props.igUsername===void 0||d.props.commentID===null)return;b("PagesManagerInboxInstagramPostComposerActions").linkReply({username:d.props.igUsername,parent_comment_id:d.props.commentID})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=i.jsx(b("ReactXUIMenu"),{children:i.jsx(j,{onClick:this.$2,children:h._("Delete")})});return i.jsx(b("PopoverMenu.react"),{alignv:"middle",layerBehaviors:[b("ContextualDialogArrow")],menu:a,children:i.jsx(b("XUIDotsButton.react"),{className:"_88me",size:"medium",tooltip:h._("Options")})})};d.$3=function(){return i.jsxs("div",{className:"_88mf",children:[i.jsx("div",{className:"_88mg",children:i.jsx(b("Timestamp.react"),{minimize:!0,time:Number(this.props.creationTime),useLargerTimeUnits:!0})}),this.props.likeCount!==void 0&&this.props.likeCount!==null&&this.props.likeCount>0&&i.jsx("div",{className:"_88ml",children:h._({"*":"{like count} likes","_1":"{like count} like"},[h._param("like count",this.props.likeCount),h._plural(this.props.likeCount)])}),i.jsx(b("Link.react"),{className:"_88mm",onClick:this.$4,children:h._("Reply")})]})};d.render=function(){return i.jsx(b("XUICard.react"),{className:"_88mn","data-testid":void 0,children:i.jsxs(b("Layout.react"),{className:"_88mo",children:[i.jsx(b("LayoutColumn.react"),{children:i.jsx("div",{className:"_8b8t",children:i.jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:this.props.profilePictureURI,shape:"circle"})})}),i.jsxs(b("LayoutColumn.react"),{className:"_8ax9",children:[i.jsxs(b("XUIText.react"),{className:"_8b8s",children:[i.jsx("span",{className:"_88mq",children:this.props.igUsername}),i.jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})]}),this.$3()]}),i.jsx(b("LayoutFillColumn.react"),{children:this.$1()})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxIGCommentStore",["FluxStore","PagesManagerDispatcher","PagesManagerInboxActionType"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxIGCommentStore1=new Map();c.$PagesManagerInboxIGCommentStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerInboxActionType").IG_COMMENT.REPLY:this.updateStore(a);this.__emitChange();break;case b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY:this.updateStore(a);this.__emitChange();break}};d.updateStore=function(a){var c,d=this.$PagesManagerInboxIGCommentStore1.get(a.parentCommentID);c=(c=d==null?void 0:d.numRepliesLoaded)!=null?c:0;d=(d=d==null?void 0:d.numRepliesShowing)!=null?d:0;var e={};switch(a.type){case b("PagesManagerInboxActionType").IG_COMMENT.REPLY:e={numRepliesLoaded:c+1,numRepliesShowing:d+1};break;case b("PagesManagerInboxActionType").IG_COMMENT.DELETE_REPLY:e={numRepliesLoaded:c-1,numRepliesShowing:d-1};break}this.setReplyInfo(a.parentCommentID,e);this.setUpdatedCommentID(a.parentCommentID)};d.getReplyInfo=function(a){return this.$PagesManagerInboxIGCommentStore1.get(a)};d.setReplyInfo=function(a,b){this.$PagesManagerInboxIGCommentStore1.set(a,b)};d.getUpdatedCommentID=function(){return this.$PagesManagerInboxIGCommentStore2};d.setUpdatedCommentID=function(a){this.$PagesManagerInboxIGCommentStore2=a};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxInstagramRepliesContainer.react",["cx","fbt","PagesManagerInboxIGCommentStore","PagesManagerInboxInstagramCommentRow.react","React","RelayModern","XUIButton.react","XUICard.react","PagesManagerInboxInstagramRepliesContainer_item.graphql","PagesManagerInboxInstagramRepliesContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=3;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={numRepliesShowing:c.props.numRepliesShowingInitially},c.$1=function(){var a;a=(a=(a=c.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:(a=a.edges)==null?void 0:a.length)!=null?a:0;c.state.numRepliesShowing<a?c.setState({numRepliesShowing:a}):c.$2()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxIGCommentStore").getReplyInfo(this.props.parentCommentID);if(a==null){a=((a=this.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:a.edges)||[];b("PagesManagerInboxIGCommentStore").setReplyInfo(this.props.parentCommentID,{numRepliesLoaded:a.length,numRepliesShowing:0})}};d.componentDidUpdate=function(){var a;a=(a=(a=this.props.item)==null?void 0:(a=a.instagram_replies)==null?void 0:(a=a.edges)==null?void 0:a.length)!=null?a:0;var c=b("PagesManagerInboxIGCommentStore").getReplyInfo(this.props.parentCommentID);c!=null&&b("PagesManagerInboxIGCommentStore").setReplyInfo(this.props.parentCommentID,{numRepliesLoaded:a,numRepliesShowing:this.state.numRepliesShowing})};d.$2=function(){this.$3()?this.$4():this.$5()};d.$3=function(){return this.props.relay.hasMore()};d.$4=function(){var a=this;this.props.relay.loadMore(l,function(){var b;b=(b=(b=a.props.item)==null?void 0:(b=b.instagram_replies)==null?void 0:(b=b.edges)==null?void 0:b.length)!=null?b:0;a.setState({numRepliesShowing:b})})};d.$5=function(){this.setState({numRepliesShowing:0})};d.render=function(){var a=this,c,d;c=((c=this.props.item)==null?void 0:c.reply_count)||0;d=((d=this.props.item)==null?void 0:(d=d.instagram_replies)==null?void 0:d.edges)||[];if(c===0)return null;d=this.state.numRepliesShowing>0?d.slice(-this.state.numRepliesShowing).map(function(c){var d;return k.jsx(b("PagesManagerInboxInstagramCommentRow.react"),{commentID:(d=c.node)==null?void 0:d.id,creationTime:(d=c.node)==null?void 0:d.creation_time,igMediaID:a.props.igMediaID,igUsername:(d=c.node)==null?void 0:(d=d.instagram_actor)==null?void 0:d.username,likeCount:(d=c.node)==null?void 0:d.like_count,message:(d=c.node)==null?void 0:d.text,pageID:a.props.pageID,profilePhotoSize:a.props.profilePhotoSize,profilePictureURI:(d=c.node)==null?void 0:(d=d.instagram_actor)==null?void 0:(d=d.profile_picture_24)==null?void 0:d.uri},(d=c.node)==null?void 0:d.id)}):null;if(this.state.numRepliesShowing<c){c=c-this.state.numRepliesShowing;c=h._("View replies ({reply count})",[h._param("reply count",c)])}else c=h._("Hide replies");return k.jsx(b("XUICard.react"),{className:"_8e5p",children:k.jsxs("div",{className:"_8e3n",children:[k.jsx(b("XUIButton.react"),{className:"_8e3o",image:k.jsx("div",{className:"_8e3p"}),label:c,onClick:this.$1,use:"default"}),d]})})};return c}(k.PureComponent);e.exports=a(c,{item:i!==void 0?i:i=b("PagesManagerInboxInstagramRepliesContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.item)==null?void 0:a.instagram_replies},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,instagramCommentID:a.item.id}},query:j!==void 0?j:j=b("PagesManagerInboxInstagramRepliesContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramRepliesFluxContainer.react",["FluxContainer","PagesManagerInboxIGCommentStore","PagesManagerInboxInstagramRepliesContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxInstagramRepliesFluxContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;var i=3,j=g!==void 0?g:g=b("PagesManagerInboxInstagramRepliesFluxContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxIGCommentStore")]};c.calculateState=function(a,c){var d=b("PagesManagerInboxIGCommentStore").getUpdatedCommentID(),e=b("PagesManagerInboxIGCommentStore").getReplyInfo(c.parentCommentID),f={numRepliesToLoad:Math.min(c.replyCount,i),numRepliesToShow:0};if(e==null||c.parentCommentID!==d){return(c=a)!=null?c:f}return{numRepliesToLoad:e.numRepliesLoaded,numRepliesToShow:e.numRepliesShowing}};var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:j,render:function(c){c.error;c=c.props;return c?h.jsx(b("PagesManagerInboxInstagramRepliesContainer.react"),{igMediaID:a.props.igMediaID,item:c.item,numRepliesShowingInitially:a.state.numRepliesToShow,pageID:a.props.pageID,parentCommentID:a.props.parentCommentID,profilePhotoSize:a.props.profilePhotoSize}):null},variables:{count:this.state.numRepliesToLoad,instagramCommentID:this.props.parentCommentID}})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxInstagramCommentRowContainer.react",["PagesManagerInboxInstagramCommentRow.react","PagesManagerInboxInstagramRepliesFluxContainer.react","React","RelayModern","PagesManagerInboxInstagramCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.item.id||"",d=this.props.item.reply_count||0;return h.jsxs("div",{children:[h.jsx(b("PagesManagerInboxInstagramCommentRow.react"),{commentID:this.props.item.id,creationTime:this.props.item.creation_time,igMediaID:this.props.igMediaID,igUsername:(a=this.props.item.instagram_actor)==null?void 0:a.username,likeCount:this.props.item.like_count,message:this.props.item.text,pageID:this.props.pageID,profilePhotoSize:i,profilePictureURI:(a=this.props.item.instagram_actor)==null?void 0:(a=a.profile_picture_24)==null?void 0:a.uri}),h.jsx(b("PagesManagerInboxInstagramRepliesFluxContainer.react"),{igMediaID:this.props.igMediaID,pageID:this.props.pageID,parentCommentID:c,profilePhotoSize:i,replyCount:d})]})};return c}(h.PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxInstagramCommentRowContainer_item.graphql")})}),null);
__d("PagesManagerInboxInstagramCommentsContainer.react",["cx","fbt","List.react","PagesManagerInboxInstagramCommentRowContainer.react","PagesManagerInboxLogger","React","RelayModern","XUIButton.react","PagesManagerInboxInstagramCommentsContainer_igPost.graphql","PagesManagerInboxInstagramCommentsContainer_item.graphql","PagesManagerInboxInstagramCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var m=10;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.relay.loadMore(m)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.item.id||"";b("PagesManagerInboxLogger").itemRendered(a);this.props.onInitialLoad&&this.props.onInitialLoad()};d.$2=function(){return this.props.relay.hasMore()};d.$3=function(){return!this.$2()?null:l.jsx("div",{className:"_8b4-",children:l.jsx(b("XUIButton.react"),{className:"_8ax7",image:l.jsx("div",{className:"_8ax8"}),label:h._("View more comments"),onClick:this.$1,use:"default"})})};d.render=function(){var a=this,c;c=((c=this.props.igPost.ig_comments)==null?void 0:c.edges)||[];var d=this.props.igPost.id||"";return l.jsxs("div",{"data-testid":void 0,children:[this.$3(),l.jsx(b("List.react"),{children:c.map(function(c){return c.node!==null&&c.node!==void 0&&c.node.id!==null&&c.node.id!==void 0?l.jsx(b("PagesManagerInboxInstagramCommentRowContainer.react"),{igMediaID:d,item:c.node,pageID:a.props.pageID},c.node.id):null})})]})};return c}(l.PureComponent);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramCommentsContainer_igPost.graphql"),item:j!==void 0?j:j=b("PagesManagerInboxInstagramCommentsContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return a==null?void 0:(a=a.igPost)==null?void 0:a.ig_comments},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:k!==void 0?k:k=b("PagesManagerInboxInstagramCommentsContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxCommentContextCardSectionLayout.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsxs("div",{className:"_7-22",children:[this.props.title,this.props.children]})};return b}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostCarouselDots.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=[];for(var b=0;b<this.props.length;b++)a.push(h.jsx("td",{children:h.jsx("div",{className:"_2nqj"+(b===this.props.index?" _2nqk":"")})},b.toString()));return h.jsx("table",{className:this.props.className,children:h.jsx("tbody",{children:h.jsx("tr",{children:a})})})};return b}(h.Component);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostPhotoContainer.react",["ix","cx","CenteredContainer.react","Image.react","PagesManagerInboxInstagramPostCarouselDots.react","React","RelayModern","fbglyph","PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$2=function(){b.setState({selectedMediaIndex:b.state.selectedMediaIndex+1})};b.$3=function(){b.setState({selectedMediaIndex:b.state.selectedMediaIndex-1})};b.$4=function(){b.$1&&(b.props.onImageInitialLoad&&b.props.onImageInitialLoad(),b.$1=!1)};b.state={selectedMediaIndex:0};b.$1=!0;return b}var d=c.prototype;d.render=function(){var a,c;c=(c=this.props.igPost)!=null?(c=c.child_medias)!=null?(c=c[this.state.selectedMediaIndex])!=null?(c=c.image)!=null?c.uri:c:c:c:c;a=(a=this.props.igPost)!=null?(a=a.image)!=null?a.uri:a:a;var d=j.jsx(b("Image.react"),{className:"_2v6z _2v6-",onClick:this.$2,src:g("114597")}),e=j.jsx(b("Image.react"),{className:"_2v6z _2v6_",onClick:this.$3,src:g("114587")});return j.jsxs("div",{className:"_2v70",children:[j.jsx(b("Image.react"),{height:this.props.imageSize,onLoad:this.$4,src:this.props.igPost.has_multiple_media===!0?c:a,width:this.props.imageSize}),this.props.igPost.has_multiple_media===!0&&this.state.selectedMediaIndex>0?e:null,this.props.igPost.has_multiple_media===!0&&this.state.selectedMediaIndex<this.props.igPost.child_medias.length-1?d:null,this.props.igPost.has_multiple_media===!0&&j.jsx(b("CenteredContainer.react"),{className:"_2qws",children:j.jsx(b("PagesManagerInboxInstagramPostCarouselDots.react"),{index:this.state.selectedMediaIndex,length:this.props.igPost.child_medias.length})})]})};return c}(j.Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostPhotoContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramContextCard.react",["cx","fbt","PagesManagerInboxCommentContextCardSectionLayout.react","PagesManagerInboxInstagramPostPhotoContainer.react","React","RelayModern","ScrollableArea.react","TextWithEntities.react","XUIText.react","formatDate","PagesManagerInboxInstagramContextCard_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k="Instagram User",l=236,m=1e3;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showPublishedDate=function(){if(this.props.igPost.creation_time!=null){var a=b("formatDate")(new Date(this.props.igPost.creation_time*m),{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return j.jsx("div",{className:"_8axa",children:a.replace(/\,[^,]+$/,"")})}else return null};d.render=function(){var a,c,d;a=(a=(a=this.props.igPost)==null?void 0:(a=a.instagram_actor)==null?void 0:a.username)!=null?a:k;c=(c=this.props.igPost)==null?void 0:c.caption_text;d=((d=this.props.igPost)==null?void 0:d.caption_text)?j.jsxs(b("XUIText.react"),{children:[j.jsx("span",{className:"_8axb",children:a}),j.jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:c})]}):null;return j.jsx("div",{children:j.jsxs(b("ScrollableArea.react"),{height:this.props.height,children:[j.jsx("div",{className:"_8axc",children:j.jsx("div",{className:"_8axd",children:j.jsx(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:l})})}),j.jsx(b("PagesManagerInboxCommentContextCardSectionLayout.react"),{children:j.jsxs("div",{className:"_8axe",children:[j.jsxs("div",{className:"_8b8w",children:[j.jsx("div",{className:"_8axf",children:h._({"*":"{number} likes","_1":"1 like"},[h._plural((a=this.props.igPost)==null?void 0:a.like_count,"number")])}),this.showPublishedDate()]}),d]})})]})})};return c}(j.PureComponent);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramContextCard_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentRow.react",["cx","fbt","Layout.react","Link.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","TextWithEntities.react","Timestamp.react","Tooltip","XUICard.react","XUIText.react","formatDate","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=600;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){if(c.props.igUser===null||c.props.igUser===void 0||c.props.commentID===null)return;c.props.onReplyComment({username:c.props.igUser.username,parent_comment_id:c.props.commentID})},c.$2=function(){if(c.props.commentID===null||c.props.commentID===void 0)return;c.props.onDeleteComment(c.props.commentID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){return!this.props.showActions?null:i.jsxs("div",{className:"_3i54",children:[i.jsx(b("Link.react"),{onClick:this.$2,children:i.jsx("div",babelHelpers["extends"]({className:"_3ybh"},b("Tooltip").propsFor(h._("Delete")),{"data-tooltip-delay":l}))}),i.jsx(b("Link.react"),{onClick:this.$3,children:i.jsx("div",babelHelpers["extends"]({className:"_3ybi"},b("Tooltip").propsFor(h._("Reply")),{"data-tooltip-delay":l}))})]})};d.render=function(){var a;a=(a=this.props.igUser)!=null?(a=a.profile_picture_24)!=null?a.uri:a:a;return i.jsx(b("XUICard.react"),{className:b("joinClasses")(this.props.showActions?"_3i4z":"",this.props.className),"data-testid":void 0,children:i.jsxs(b("Layout.react"),{className:"_3i4-",children:[i.jsx(j,{children:i.jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageSize:this.props.profilePhotoSize,imageURI:a,shape:"circle"})}),i.jsx(k,{children:i.jsx("div",{className:"_3i4_",children:i.jsxs(b("XUIText.react"),{children:[i.jsx("span",{className:"_3i53",children:this.props.igUser&&this.props.igUser.username}),i.jsx(b("TextWithEntities.react"),{renderEmoji:!0,text:this.props.message})]})})}),i.jsxs(j,{children:[this.$1(),i.jsx("div",{className:"_3i55",children:i.jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.creationTime,"M j"),time:Number(this.props.creationTime)})})]})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostCaptionContainer.react",["PagesManagerInboxInstagramPostCommentRow.react","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return!this.props.igPost.caption_text?null:h.jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{className:this.props.className,creationTime:this.props.igPost.creation_time,igUser:this.props.igPost.instagram_actor,message:this.props.igPost.caption_text,onDeleteComment:b("emptyFunction"),onReplyComment:b("emptyFunction"),profilePhotoSize:i,showActions:!1})};return c}(h.Component);e.exports=a(c,{igPost:g!==void 0?g:g=b("PagesManagerInboxInstagramPostCaptionContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostCommentRowContainer.react",["PagesManagerInboxInstagramCommentDeleteMutation","PagesManagerInboxInstagramPostCommentRow.react","PagesManagerInboxInstagramPostComposerActions","React","RelayModern","PagesManagerInboxInstagramPostCommentRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=24;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PagesManagerInboxInstagramCommentDeleteMutation").commit({actor_id:d.props.pageID,instagram_comment_id:a,instagram_media_id:d.props.instagram_media_id})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").linkReply(a)};d.render=function(){var a=this,c;c=((c=this.props.item)!=null?c.replies:c)||[];c=c.map(function(c){return h.jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{commentID:c.id,creationTime:c.creation_time,igUser:c.instagram_actor,message:c.text,onDeleteComment:a.$1,onReplyComment:a.$2,profilePhotoSize:i,showActions:!0})});return h.jsxs("div",{children:[h.jsx(b("PagesManagerInboxInstagramPostCommentRow.react"),{commentID:this.props.item.id,creationTime:this.props.item.creation_time,igUser:this.props.item.instagram_actor,message:this.props.item.text,onDeleteComment:this.$1,onReplyComment:this.$2,profilePhotoSize:i,showActions:!0}),c]})};return c}(h.PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxInstagramPostCommentRowContainer_item.graphql")})}),null);
__d("PagesManagerPageCommItemEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerInboxInstagramPostCommentsContainer.react",["cx","fbt","Link.react","List.react","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentRowContainer.react","PagesManagerInboxInstagramPostCaptionContainer.react","PagesManagerInboxInstagramPostCommentRowContainer.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerPageCommItemEditSubscriptionHandler","React","RelayModern","emptyFunction","PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql","PagesManagerInboxInstagramPostCommentsContainer_item.graphql","PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var m=10;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){d.props.relay.loadMore(m,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){return a.props.relay.refetchConnection(a.props.igPost.instagram_comments.edges.length,b("emptyFunction"))});b("PagesManagerInboxLogger").itemRendered(this.props.item.id)};d.componentWillUnmount=function(){this.$1&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.$2=function(){return this.props.relay.hasMore()};d.$3=function(){return!this.$2()?null:l.jsx("div",{className:"_13ze",children:l.jsx(b("Link.react"),{className:"_2nye",onClick:this.$4,children:h._("Load more comments")})})};d.render=function(){var a=this,c=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return l.jsxs("div",{children:[l.jsx(b("PagesManagerInboxInstagramPostCaptionContainer.react"),{className:(this.$2()?"_3-96":"")+(this.$2()?"":" _3-95"),igPost:this.props.igPost}),this.$3(),l.jsx(b("List.react"),{children:c.shouldShowIGRevampComments?this.props.igPost.instagram_comments.edges.map(function(c){return l.jsx(b("PagesManagerInboxInstagramCommentRowContainer.react"),{igMediaID:a.props.igPost.id,item:c.node,pageID:a.props.pageID},c.node.id)}):this.props.igPost.instagram_comments.edges.map(function(c){return l.jsx(b("PagesManagerInboxInstagramPostCommentRowContainer.react"),{instagram_media_id:a.props.igPost.id,item:c.node,pageID:a.props.pageID},c.node.id)})})]})};return c}(l.Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostCommentsContainer_igPost.graphql"),item:j!==void 0?j:j=b("PagesManagerInboxInstagramPostCommentsContainer_item.graphql")},{direction:"backward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.igPost)!=null?a.instagram_comments:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,instagramMediaID:a.igPost.id}},query:k!==void 0?k:k=b("PagesManagerInboxInstagramPostCommentsContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxInstagramCommentCreateMutation",["ClientIDs","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramCommentCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxInstagramCommentCreateMutation.graphql");function a(a,c){var d=function(b){var c=b.get(a.instagram_media.id);if(!c)return;var d=h.getConnection(c,"PagesManagerInboxInstagramPostCommentsContainer_instagram_comments");c=h.getConnection(c,"PagesManagerInboxInstagramCommentsContainer_ig_comments");b=b.getRootField("instagram_comment_create");if(!b)return;b=b.getLinkedRecord("instagram_media_comment_edge");d&&b&&h.insertEdgeAfter(d,b);c&&b&&h.insertEdgeAfter(c,b)},e=function(){var c=a.instagram_media.instagram_actor;return{instagram_comment_create:{instagram_media_comment_edge:{node:{id:b("ClientIDs").getNewClientID(),creation_time:Math.round(Date.now()/1e3),text:a.text,instagram_actor:{id:c.id,username:c.username,profile_picture:{uri:c.profile_picture_24.uri}}}}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposer.react",["cx","fbt","CenteredContainer.react","Layout.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","ShimButton.react","XUITextInput.react","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=32;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){if(a.comment!==this.props.comment&&a.comment!==""){var c=this.$1;c&&b("setImmediate")(function(){return c.focusInput()})}};d.render=function(){var a=this,c;c=(c=this.props.igUser)!=null?(c=c.profile_picture_32)!=null?c.uri:c:c;return i.jsxs(b("Layout.react"),{className:"_1fn3",children:[i.jsx(j,{className:"_1fn4",children:i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:i.jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:c,imageSize:l})})}),i.jsx(k,{children:i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:i.jsx(b("XUITextInput.react"),{className:"_1fn5",ref:function(b){return a.$1=b},onChange:this.props.onCommentChange,onEnter:this.props.handleComment,placeholder:h._("Add a comment..."),value:this.props.comment})})}),i.jsx(j,{children:i.jsx("div",{className:"_45d7",children:i.jsx("div",{className:"_45d8"})})}),i.jsx(j,{children:this.$2()})]})};d.$2=function(){var a=this.props.comment==="",c=i.jsx("div",{className:"_1fn8"+(a?" _45df":"")+(a?"":" _45dg")});a||(c=i.jsx(b("ShimButton.react"),{onClick:this.props.handleComment,children:c}));return i.jsx(b("CenteredContainer.react"),{className:a?"":"_45d5",fullHeight:!0,horizontal:!1,vertical:!0,children:c})};return c}(i.Component);e.exports=a}),null);
__d("PagesManagerInboxInstagramPostComposerStore.react",["FluxStore","PagesManagerDispatcher","PagesManagerInboxInstagramPostComposerActionTypes"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxInstagramPostComposerStore1="";c.$PagesManagerInboxInstagramPostComposerStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.actionType){case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.SET:this.$PagesManagerInboxInstagramPostComposerStore3(a.message);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.LINK_REPLY:this.$PagesManagerInboxInstagramPostComposerStore4(a.replyMetadata.username);this.$PagesManagerInboxInstagramPostComposerStore5(a.replyMetadata.parent_comment_id);this.__emitChange();break;case b("PagesManagerInboxInstagramPostComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerInboxInstagramPostComposerStore1="";this.$PagesManagerInboxInstagramPostComposerStore5(null);this.__emitChange();break}};d.getMessage=function(){return this.$PagesManagerInboxInstagramPostComposerStore1};d.$PagesManagerInboxInstagramPostComposerStore3=function(a){this.$PagesManagerInboxInstagramPostComposerStore1=a};d.getParentCommentID=function(){return this.$PagesManagerInboxInstagramPostComposerStore2};d.$PagesManagerInboxInstagramPostComposerStore5=function(a){this.$PagesManagerInboxInstagramPostComposerStore2=a};d.$PagesManagerInboxInstagramPostComposerStore4=function(a){this.$PagesManagerInboxInstagramPostComposerStore1="@".concat(a).concat(" ")};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxInstagramReplyCreateMutation",["PagesManagerInboxIGCommentAction","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxInstagramReplyCreateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=g!==void 0?g:g=b("PagesManagerInboxInstagramReplyCreateMutation.graphql");function a(a,c){var d=function(a,c){var d;d=(d=c.instagram_reply_create)==null?void 0:(d=d.instagram_reply)==null?void 0:d.id;c=(c=c.instagram_reply_create)==null?void 0:(c=c.instagram_reply)==null?void 0:c.parent_comment_id;if(!d||!c)return;d=a.get(d);var e=a.get(c);if(!d||!e)return;e=i.getConnection(e,"PagesManagerInboxInstagramRepliesContainer_instagram_replies");if(!e)return;a=i.createEdge(a,e,d,"InstagramCommentInstagramRepliesEdge");e&&a&&i.insertEdgeAfter(e,a);b("PagesManagerInboxIGCommentAction").reply(c)},e=function(){var b=a.instagram_media.instagram_actor;return{instagram_reply_create:{instagram_reply:{id:a.actor_id,text:a.text,creation_time:Math.round(Date.now()/1e3),like_count:0,instagram_actor:{id:b.id,username:b.username,profile_picture:{uri:b.profile_picture_24.uri}}}}}};return h(b("RelayFBEnvironment"),{mutation:j,optimisticResponse:e,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.actor_id,instagram_media_id:a.instagram_media.id,text:a.text,parent_comment_id:a.parent_comment_id}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxInstagramPostComposerContainer.react",["FluxContainer","PagesManagerInboxAction","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentCreateMutation","PagesManagerInboxInstagramPostComposer.react","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxInstagramPostComposerStore.react","PagesManagerInboxInstagramReplyCreateMutation","PagesManagerInboxLogger","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxInstagramPostComposerContainer_igPost.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={comment:"",parent_comment_id:null},d.$1=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];!!d.state.parent_comment_id&&!!a.shouldShowIGRevampComments?b("PagesManagerInboxInstagramReplyCreateMutation").commit({actor_id:d.props.pageID,instagram_media:d.props.igPost,text:d.state.comment,parent_comment_id:d.state.parent_comment_id}):b("PagesManagerInboxInstagramCommentCreateMutation").commit({actor_id:d.props.pageID,instagram_media:d.props.igPost,text:d.state.comment});b("PagesManagerInboxInstagramPostComposerActions").clearMessage();b("PagesManagerInboxAction").comment();b("PagesManagerInboxLogger").logSendComment("INSTAGRAM",d.props.pageID);d.props.onCreateComment()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxInstagramPostComposerStore.react")]};c.calculateState=function(a){return{comment:b("PagesManagerInboxInstagramPostComposerStore.react").getMessage(),parent_comment_id:b("PagesManagerInboxInstagramPostComposerStore.react").getParentCommentID()}};var d=c.prototype;d.render=function(){return h.jsx(b("PagesManagerInboxInstagramPostComposer.react"),{comment:this.state.comment,handleComment:this.$1,igUser:this.props.igPost.instagram_actor,onCommentChange:c.$2})};return c}(h.PureComponent);c.$2=function(a){b("PagesManagerInboxInstagramPostComposerActions").setMessage(a.target.value)};e.exports=a(b("FluxContainer").create(c),{igPost:g!==void 0?g:g=b("PagesManagerInboxInstagramPostComposerContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostSummaryContainer.react",["cx","fbt","CenteredContainer.react","React","RelayModern","PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_2p4t",children:[j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4w",children:j.jsx("div",{className:"_u84"})}),j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4x",children:this.props.igPost.like_sentence.text}),this.$1()]})};d.$1=function(){var a=this.props.igPost.comment_count;return!a?null:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,className:"_2p4y",children:h._({"*":"{number} comments","_1":"1 comment"},[h._plural(a,"number")])})};return c}(j.Component);e.exports=a(c,{igPost:i!==void 0?i:i=b("PagesManagerInboxInstagramPostSummaryContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostPhotoCardContainer.react",["cx","ImageBlock.react","PagesManagerInboxInstagramPostPhotoContainer.react","PagesManagerInboxInstagramPostSummaryContainer.react","PagesManagerInboxInstagramUserPhotoContainer.react","React","RelayModern","Timestamp.react","XUICard.react","XUICardSection.react","formatDate","PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=476,k=32;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=(a=this.props.igPost)!=null?(a=a.instagram_actor)!=null?(a=a.profile_picture_32)!=null?a.uri:a:a:a;return i.jsxs(b("XUICard.react"),{className:"_4cye",children:[i.jsxs(b("XUICardSection.react"),{children:[i.jsxs(b("ImageBlock.react"),{spacing:"medium",children:[i.jsx("div",{className:"_4cyf",children:i.jsx(b("PagesManagerInboxInstagramUserPhotoContainer.react"),{imageURI:a,imageSize:k})}),i.jsxs("div",{className:"_4cyg",children:[i.jsx("div",{className:"_4cyh",children:this.props.igPost.instagram_actor.username}),i.jsx("div",{className:"_4cyi",children:i.jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})})]})]}),i.jsx("div",{className:"_4cyk",children:i.jsx(b("PagesManagerInboxInstagramPostPhotoContainer.react"),{igPost:this.props.igPost,imageSize:j,onImageInitialLoad:this.props.onImageInitialLoad})})]}),i.jsx(b("XUICardSection.react"),{background:"light-wash",children:i.jsx(b("PagesManagerInboxInstagramPostSummaryContainer.react"),{igPost:this.props.igPost})})]})};return c}(i.Component);e.exports=a(c,{igPost:h!==void 0?h:h=b("PagesManagerInboxInstagramPostPhotoCardContainer_igPost.graphql")})}),null);
__d("PagesManagerInboxInstagramPostContainer.react",["cx","PagesManagerInboxDetailViewContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxInstagramCommentsContainer.react","PagesManagerInboxInstagramContextCard.react","PagesManagerInboxInstagramPostCommentsContainer.react","PagesManagerInboxInstagramPostComposerContainer.react","PagesManagerInboxInstagramPostPhotoCardContainer.react","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxInstagramPostContainer_igPost.graphql","PagesManagerInboxInstagramPostContainer_item.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$5=function(){var a=c.$1;a&&a.scrollToBottom&&a.scrollToBottom()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;return j.jsx(b("PagesManagerInboxDetailViewContainer.react"),{componentRef:function(b){a.$1=b},composer:this.$2(),content:this.$3(),contextCard:k.shouldShowIGRevampComments?this.$4():null,height:this.props.height,item:this.props.item,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID})};d.$3=function(){if(k.shouldShowIGRevampComments)return j.jsx(b("PagesManagerInboxInstagramCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,onInitialLoad:this.$5,pageID:this.props.mailboxID});else return j.jsxs("div",{className:"_hbt","data-testid":void 0,children:[j.jsx(b("PagesManagerInboxInstagramPostPhotoCardContainer.react"),{igPost:this.props.igPost,onImageInitialLoad:this.$5}),j.jsx(b("PagesManagerInboxInstagramPostCommentsContainer.react"),{igPost:this.props.igPost,item:this.props.item,pageID:this.props.mailboxID})]})};d.$2=function(){return j.jsx(b("PagesManagerInboxInstagramPostComposerContainer.react"),{igPost:this.props.igPost,onCreateComment:this.$5,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,ref:"composer"})};d.$4=function(){return j.jsx(b("PagesManagerInboxInstagramContextCard.react"),{height:this.props.height,igPost:this.props.igPost})};return c}(j.PureComponent);e.exports=a(c,{igPost:h!==void 0?h:h=b("PagesManagerInboxInstagramPostContainer_igPost.graphql"),item:i!==void 0?i:i=b("PagesManagerInboxInstagramPostContainer_item.graphql")})}),null);
__d("AbstractPagesManagerListStore",["invariant","FluxStore","PagesManagerActionType","nullthrows"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.__hasMoreItem=new Map();b.__isLoading=!1;b.__areThreadsFetchedUpdated=!1;return b}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(a);break;case b("PagesManagerActionType").LIST.FETCHED:case b("PagesManagerActionType").LIST.UPDATED:this.__areThreadsFetchedUpdated=!0;this.__emitChange();break;case b("PagesManagerActionType").LIST.LOADING:this.__isLoading=!0;this.__emitChange();break;case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:case b("PagesManagerActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG:case b("PagesManagerActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG:this.__handleNavigationUnitChange(a);break;default:return}};d.__handleListFetch=function(a){g(0,2593)};d.__handleNavigationUnitChange=function(a){g(0,2594)};d.hasMoreItem=function(a){return this.__hasMoreItem.has(a)?b("nullthrows")(this.__hasMoreItem.get(a)):!1};d.getItemList=function(a,b){g(0,2595)};d.isLoading=function(){return this.__isLoading};d.areThreadsFetchedUpdated=function(){return this.__areThreadsFetchedUpdated};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("PagesManagerInboxListStore",["AbstractPagesManagerListStore","MediaManagerActionTypes","MercuryPageOrderedThreadlist","MercuryThreadlistConstants","MessengerState.bs","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerMessagingNavigationUnitKey"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.__isLoading=!0;return c}var d=c.prototype;d.__onDispatch=function(c){this.__areThreadsFetchedUpdated=!1;switch(c.type){case b("PagesManagerActionType").LIST.SET_RESPONSE_DATA:this.__isLoading=!c.isReady;this.__emitChange();break;case b("PagesManagerActionType").LIST.ITEM_FOLDER_CHANGE:this.$PagesManagerInboxListStore7(c.ids,c.newFolder,c.oldFolder);this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_ITEM_FOLDER_CHANGE:this.$PagesManagerInboxListStore1&&this.$PagesManagerInboxListStore1.id===c.ids[0]&&(this.$PagesManagerInboxListStore1=null);this.__emitChange();break;case b("PagesManagerActionType").LIST.BAN_STATUS_CHANGE:this.$PagesManagerInboxListStore5=c.isBanned;this.$PagesManagerInboxListStore4=c.userName;this.__emitChange();break;case b("PagesManagerActionType").LIST.REMOVE_BAN_NOTICE:this.$PagesManagerInboxListStore5=null;this.$PagesManagerInboxListStore4=null;this.__emitChange();break;case b("PagesManagerActionType").LIST.FETCH:this.__handleListFetch(c);break;case g.MEDIA_MANAGER_INBOX_LIST_ROW_IMPRESSION:this.$PagesManagerInboxListStore6=c.rowIndex;break;default:a.prototype.__onDispatch.call(this,c)}};d.getLastMutatedItem=function(){return this.$PagesManagerInboxListStore1};d.getMediaManagerInboxListRowIndex=function(){return this.$PagesManagerInboxListStore6};d.hasMutatedItem=function(){return this.$PagesManagerInboxListStore2};d.getUserName=function(){return this.$PagesManagerInboxListStore4};d.getIsUserBanned=function(){return this.$PagesManagerInboxListStore5};d.$PagesManagerInboxListStore7=function(a,b,c){this.$PagesManagerInboxListStore1={id:a[0],oldFolder:c,newFolder:b},this.$PagesManagerInboxListStore2=!0};d.__handleListFetch=function(a){var c=a.pageID,d=a.offset;a=a.limit;this.__isLoading=!0;var e=this.$PagesManagerInboxListStore8(c,d+a);e?this.$PagesManagerInboxListStore9(this.hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder())):this.$PagesManagerInboxListStore10(c,d,a);this.__emitChange()};d.$PagesManagerInboxListStore8=function(a,c){a=b("MercuryPageOrderedThreadlist").getForFBID(a);var d=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),e=a.hasLoadedThreadlist(d,b("PagesManagerInboxFilterStore").getActiveFilter());e=d===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED?e&&a.hasLoadedThreadlist(b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,b("PagesManagerInboxFilterStore").getActiveFilter()):e;a=a.getThreadCount(d,b("PagesManagerInboxFilterStore").getActiveFilter())>=c;return e||a};d.$PagesManagerInboxListStore10=function(a,c,d){var e=this,f=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),g=b("PagesManagerInboxFilterStore").getActiveFilter(),h=b("MercuryPageOrderedThreadlist").getForFBID(a);h.getFilteredThreadlist(c,d+1,f,g,function(i){if(f===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED)h.getFilteredThreadlist(c,d+1,b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,g,function(f){f=i.concat(f);var c=f.length>d;e.$PagesManagerInboxListStore3=b("MessengerState.bs").getMultiThreadMeta(a,f,function(a){e.$PagesManagerInboxListStore9(c)},null)});else{var j=i.length>d;e.$PagesManagerInboxListStore3=b("MessengerState.bs").getMultiThreadMeta(a,i,function(a){e.$PagesManagerInboxListStore9(j)},null)}})};d.$PagesManagerInboxListStore11=function(a){a=b("MercuryPageOrderedThreadlist").getForFBID(a);var c=b("PagesManagerInboxFilterStore").getActiveMessageFolder(),d=b("PagesManagerInboxFilterStore").getActiveFilter();if(c===b("PagesManagerMessagingNavigationUnitKey").FOLDERS.ARCHIVED){a.getThreadlistOrderMap(c,d).addResources(a.getThreadlistOrderMap(b("PagesManagerMessagingNavigationUnitKey").FOLDERS.PAGE_BACKGROUND,d).getAllResources());return a.getAvailableThreadlistNow(c,d)}else return a.getAvailableThreadlistNow(c,d)};d.$PagesManagerInboxListStore9=function(a){this.__isLoading=!1,this.__hasMoreItem.set(b("PagesManagerInboxFilterStore").getActiveFolder(),a),this.__dispatcher.isDispatching()||this.__dispatcher.dispatch({type:b("PagesManagerActionType").LIST.FETCHED})};d.getItemList=function(a){var c=this.$PagesManagerInboxListStore11(a),d=b("PagesManagerInboxFilterStore").getActiveMessageFolder();d=this.hasMoreItem(d)&&c.length>0?c.slice(0,c.length-1):c;var e=[];d.forEach(function(c){c=b("MessengerState.bs").getThreadMetaNow(a,c);c&&e.push(c)});return e};d.getItemsForAdmin=function(a,c){a=this.getItemList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c==="NONE"?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};d.getThreadSubscription=function(){return this.$PagesManagerInboxListStore3};d.__handleNavigationUnitChange=function(a){b("PagesManagerDispatcher").waitFor([b("PagesManagerInboxFilterStore").getDispatchToken()]);if(!b("PagesManagerInboxMercuryUtil").shouldUseMercury())return;this.__handleListFetch({pageID:a.pageID,offset:0,limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT})};return c}(b("AbstractPagesManagerListStore"));e.exports=new a()}),null);
__d("NotificationPermalinkTimeSpentFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("notification_permalink_time_spent");e.exports=a}),null);
__d("PageAdminRepliedFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("page_admin_replied");e.exports=a}),null);
__d("MBNotifLoggingUtils",["NotificationPermalinkTimeSpentFalcoEvent","PageAdminRepliedFalcoEvent","URI"],(function(a,b,c,d,e,f){"use strict";var g,h={_getNotifData:function(a){a=a.getQueryData();var b=Number(a.notif_id);a=String(a.notif_t);return a!=="page_message"&&a!=="page_message_reminder"||!Boolean(b)?null:{notif_id:b,notif_t:a}},getAdminReplyType:function(a){var b;switch(a){case"photo":case"text_plus_photo":b="text_with_attachments";break;case"sticker":b="sticker_or_like";break;case"text":default:b="text_only";break}return b},logAdminReply:function(a){var c=(g||(g=b("URI"))).getRequestURI(),d=h._getNotifData(c);if(d==null)return;b("PageAdminRepliedFalcoEvent").log(function(){return{notif_type:d.notif_t,notif_id:d.notif_id,action_sub_type:a}})},logNavTargetExit:function(a,c,d){d=d!=null?d:(g||(g=b("URI"))).getRequestURI();var e=h._getNotifData(d);if(e==null)return;b("NotificationPermalinkTimeSpentFalcoEvent").log(function(){return{duration_ms:Date.now()-c,exit_event:a,notif_id:e.notif_id,notif_type:e.notif_t}})}};e.exports=h}),null);
__d("PagesManagerInboxMessengerDetailView.react",["MediaManagerInboxContext.react","MercuryIDs","PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","UserActivity","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var g=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")&&this.context.logRowPreviewImpression(b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),"MESSENGER",this.props.mediaManagerInboxRowIndex,this.props.selectedFolder),this.$2()};d.$2=function(){var a=this;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a.$4(),a.$3())}))};d.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};d.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){return g.jsx(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:"MESSENGER",commType:"FB_MESSAGE",token:this.props.threadID}))};return c}(g.PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxComposerStateReasonType",[],(function(a,b,c,d,e,f){"use strict";e.exports={DISABLE_LEFT_GROUP:"DISABLE_LEFT_GROUP",ENABLE_NOT_GROUP:"ENABLE_NOT_GROUP",ENABLE_IN_GROUP:"ENABLE_IN_GROUP"}}),null);
__d("PagesManagerDisableComposerView.react",["cx","fbt","PagesManagerInboxComposerStateReasonType","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.composerStateReason===b("PagesManagerInboxComposerStateReasonType").DISABLE_LEFT_GROUP)return i.jsx("div",{children:i.jsx("span",{className:"_73d5",children:h._("You can't send messages to this group because you're no longer a participant.")})});else return i.jsx("div",{children:i.jsx("span",{className:"_73d5",children:h._("You can't send messages. Message composer has been disabled.")})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ATTACHMENT:{ALL_COMPLETE:"",ATTACH_CACHED:"",ATTACH_COMPLETE:"",ATTACH_START:"",CANCEL:"",DETACH:"",DETACH_ALL:""},AUTOMATED_CHECKOUT:{SET_AUTOMATED_CHECKOUT_ID:""},MESSAGE:{CLEAR:"",SET:""},PARTICIPANT:{SET:""},SAVED_REPLIES:{LOADING:"",SET:"",SET_REPLIES:"",SET_TOKENS:"",SET_UPSELL_NUX:"",SET_UPSELL_TOAST:""},SHARE_UPLOADER:{READY:"",CLEAR:""},UPLOADER:{READY:""},COMPOSER_STATE_REASON:""});e.exports=a}),null);
__d("PagesManagerMessagingComposerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("PagesManagerMessagingComposerActions",["PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={clearMessage:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR})},clearShareLinkUploader:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR})},completeAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE})},completeAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE,attachment:a})},detachAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL})},detachAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH,uploadID:a})},fileUploaderReady:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY,uploader:a})},setAutomatedCheckoutId:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID,automatedCheckoutID:a})},setIsSavedRepliesLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING,isLoading:a})},setMessage:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET,message:a})},setParticipant:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET,participant:a})},setSavedReplies:function(a,c){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET,replies:a,tokens:c})},setSavedReplyResponses:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES,replies:a})},setSavedReplyTokens:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS,tokens:a})},setShouldShowSavedReplyUpsellToast:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST,shouldShowSavedReplyUpsellToast:a})},setShouldShowSavedReplyUpsellNUX:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX,shouldShowSavedReplyUpsellNUX:a})},setShareLinkUploader:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY,uploader:a})},startAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START,files:a})},setComposerStateReason:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON,composerStateReason:a})}};e.exports=a}),null);
__d("XWECMessagingAttachmentUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/upload/",{request_user_id:{type:"Int"}})}),null);
__d("PagesManagerMessagingComposerStore",["FluxStore","MercuryConfig","PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher","PagesMessagingConfig","SavedResponsesUtils","URI","XWECMessagingAttachmentUploadController"],(function(a,b,c,d,e,f){"use strict";var g;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$PagesManagerMessagingComposerStore1=new Map();b.$PagesManagerMessagingComposerStore3=null;b.$PagesManagerMessagingComposerStore4=!1;b.$PagesManagerMessagingComposerStore5="";b.$PagesManagerMessagingComposerStore6=null;b.$PagesManagerMessagingComposerStore7=!1;b.$PagesManagerMessagingComposerStore8=!1;b.$PagesManagerMessagingComposerStore9=[];b.$PagesManagerMessagingComposerStore10={};b.$PagesManagerMessagingComposerStore11="";b.$PagesManagerMessagingComposerStore12=null;b.$PagesManagerMessagingComposerStore13=null;return b}var d=c.prototype;d.getAllAttachmentsMeta=function(){var a=this.$PagesManagerMessagingComposerStore14(),b=[];for(var c=this.$PagesManagerMessagingComposerStore1.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;(f.id&&a.indexOf(f.id)!==-1||f.isUploading)&&b.push(f)}return b};d.getAttachedAttachmentIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAttachments():[]};d.getAttachedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getImageFiles():[]};d.getAttachedAnimatedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAnimatedImageFiles():[]};d.getAttachedVideoIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getVideoFiles():[]};d.getAttachedAudioFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAudioFiles():[]};d.getAttachedFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getFiles():[]};d.getAutomatedCheckoutId=function(){return this.$PagesManagerMessagingComposerStore2};d.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore3};d.getIsAttachmentUploading=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.isUploading():!1};d.getMessage=function(){return this.$PagesManagerMessagingComposerStore5};d.getQuickReplyMode=function(){return b("PagesMessagingConfig").sendOnEnter};d.getShouldShowSavedReplyUpsellNUX=function(){return this.$PagesManagerMessagingComposerStore7};d.getShouldShowSavedReplyUpsellToast=function(){return this.$PagesManagerMessagingComposerStore8};d.getParticipant=function(){return this.$PagesManagerMessagingComposerStore6};d.getSavedReplyResponses=function(){return this.$PagesManagerMessagingComposerStore9};d.getSavedReplyTokens=function(){return this.$PagesManagerMessagingComposerStore10};d.getMatchingShortcut=function(){return this.$PagesManagerMessagingComposerStore11};d.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore12)return this.$PagesManagerMessagingComposerStore12.getAttachData()};d.getUploadActionFromUserID=function(a,c){if(!c)return null;return a==="WEC"?b("XWECMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",c).getURI().toString():new(g||(g=b("URI")))(b("MercuryConfig").upload_url).addQueryData("request_user_id",c).toString()};d.$PagesManagerMessagingComposerStore15=function(a,b){this.$PagesManagerMessagingComposerStore1.set(b.upload_id,{id:"",isUploading:!0,name:b.metadata.filename,type:b.metadata.filetype,uploadID:b.upload_id})};d.$PagesManagerMessagingComposerStore16=function(a){var b=this;a.map(function(a){b.$PagesManagerMessagingComposerStore1.set(a.upload_id,{id:"",isUploading:!0,name:a.metadata.name,type:a.metadata.type,uploadID:a.upload_id})})};d.$PagesManagerMessagingComposerStore17=function(){this.$PagesManagerMessagingComposerStore5="",this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore18=function(a){this.$PagesManagerMessagingComposerStore1.has(a)&&this.$PagesManagerMessagingComposerStore1["delete"](a)};d.$PagesManagerMessagingComposerStore19=function(){this.$PagesManagerMessagingComposerStore12&&this.$PagesManagerMessagingComposerStore12.clear()};d.$PagesManagerMessagingComposerStore20=function(a){var b;this.$PagesManagerMessagingComposerStore1.has(a.upload_id)&&(b=this.$PagesManagerMessagingComposerStore1.get(a.upload_id),b.id=this.$PagesManagerMessagingComposerStore21(a),b.isUploading=!1,this.$PagesManagerMessagingComposerStore1.set(a.upload_id,b))};d.$PagesManagerMessagingComposerStore14=function(){if(!this.$PagesManagerMessagingComposerStore3)return[];var a=this.$PagesManagerMessagingComposerStore3;return[].concat(a.getAttachments(),a.getImageFiles(),a.getAnimatedImageFiles(),a.getVideoFiles(),a.getAudioFiles(),a.getFiles())};d.$PagesManagerMessagingComposerStore21=function(a){return a.metadata.image_id||a.metadata.gif_id||a.metadata.video_id||a.metadata.audio_id||a.metadata.file_id};d.__onDispatch=function(a){switch(a.actionType){case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore22();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore20(a.attachment);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore16(a.files);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore23(a.uploadID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore24();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID:this.$PagesManagerMessagingComposerStore25(a.automatedCheckoutID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore17();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET:this.$PagesManagerMessagingComposerStore26(a.message);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore27(a.participant);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore28(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES:this.$PagesManagerMessagingComposerStore29(a.replies);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS:this.$PagesManagerMessagingComposerStore30(a.tokens);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX:this.$PagesManagerMessagingComposerStore31(a.shouldShowSavedReplyUpsellNUX);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST:this.$PagesManagerMessagingComposerStore32(a.shouldShowSavedReplyUpsellToast);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore33(a.uploader);break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore19();break;case b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY:this.$PagesManagerMessagingComposerStore34(a.uploader);this.$PagesManagerMessagingComposerStore35();break;case b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON:this.$PagesManagerMessagingComposerStore13=a.composerStateReason;this.__emitChange();break}};d.$PagesManagerMessagingComposerStore24=function(){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeAttachments(),this.$PagesManagerMessagingComposerStore1.clear())};d.$PagesManagerMessagingComposerStore23=function(a){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeOneAttachment(a),this.$PagesManagerMessagingComposerStore18(a))};d.$PagesManagerMessagingComposerStore22=function(){var a=this;this.$PagesManagerMessagingComposerStore1.forEach(function(b,c){b.isUploading&&a.$PagesManagerMessagingComposerStore1["delete"](b.uploadID)})};d.$PagesManagerMessagingComposerStore25=function(a){this.$PagesManagerMessagingComposerStore2=a};d.$PagesManagerMessagingComposerStore34=function(a){this.$PagesManagerMessagingComposerStore3=a};d.$PagesManagerMessagingComposerStore28=function(a){this.$PagesManagerMessagingComposerStore4=a};d.$PagesManagerMessagingComposerStore26=function(a){this.$PagesManagerMessagingComposerStore5=a,a.length>=3&&b("SavedResponsesUtils").checkHasMatchingShortcut(a,this.$PagesManagerMessagingComposerStore9)?this.$PagesManagerMessagingComposerStore11=a.toLowerCase():this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore27=function(a){this.$PagesManagerMessagingComposerStore6=a};d.$PagesManagerMessagingComposerStore29=function(a){this.$PagesManagerMessagingComposerStore9=a};d.$PagesManagerMessagingComposerStore30=function(a){var b=Object.keys(this.$PagesManagerMessagingComposerStore10).length;this.$PagesManagerMessagingComposerStore10=a;b===0&&this.$PagesManagerMessagingComposerStore9!==null&&this.$PagesManagerMessagingComposerStore29(this.$PagesManagerMessagingComposerStore9)};d.$PagesManagerMessagingComposerStore31=function(a){this.$PagesManagerMessagingComposerStore7=a};d.$PagesManagerMessagingComposerStore32=function(a){this.$PagesManagerMessagingComposerStore8=a};d.$PagesManagerMessagingComposerStore33=function(a){this.$PagesManagerMessagingComposerStore12=a};d.$PagesManagerMessagingComposerStore35=function(){var a=this.$PagesManagerMessagingComposerStore3;a&&a.subscribe("cached-file-added",this.$PagesManagerMessagingComposerStore15.bind(this))};d.getComposerStateReason=function(){return this.$PagesManagerMessagingComposerStore13};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingComposerDispatcher"))}),null);
__d("GraphQLSubscribeModes",[],(function(a,b,c,d,e,f){"use strict";a={SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"};e.exports=a}),null);
__d("GraphQLMutationDataHandler",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a={getMutationType:function(a){!!a&&Object.keys(a).length===1||g(0,3445);return Object.keys(a)[0]}};e.exports=a}),null);
__d("GraphQLSubscriptionTracker",[],(function(a,b,c,d,e,f){"use strict";var g={};a={trackSubscription:function(a,b){g[b]=a},getSubscription:function(a){return g[a]},removeSubscription:function(a){delete g[a]}};e.exports=a}),null);
__d("RelayGraphQLSubscriptionNetworkLayer",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h;a={injectGraphQLSubscriber:function(a){h=a},sendSubscribeRequest:function(a){h||g(0,1910),h.sendSubscribeRequest(a)}};e.exports=a}),null);
__d("RQLSubscription",["invariant","GraphQLMutationDataHandler","GraphQLSubscribeModes","GraphQLSubscriptionTracker","RelayGraphQLSubscriptionNetworkLayer"],(function(a,b,c,d,e,f,g){"use strict";a={sendSubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").SUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},sendUnsubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").UNSUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},handleSubscriptionPayload:function(a){var c=b("GraphQLMutationDataHandler").getMutationType(a);a[c]||g(0,5237);var d="client_subscription_id"in a[c];if(!d)return;d=a[c].client_subscription_id;d||g(0,5238);c=b("GraphQLSubscriptionTracker").getSubscription(d);c&&c.handlePayload(a)}};e.exports=a}),null);
__d("RelayGraphQLSubscriber",["Promise","GraphQLSubscribeModes","GraphQLSubscriptionsTypedLogger","RelayRTIUtils","RQLSubscription","SkywalkerManager","nullthrows","react-relay-deprecated/classic/query/RelayQuery","react-relay-deprecated/classic/route/RelayMetaRoute","react-relay-deprecated/classic/traversal/flattenRelayQuery","react-relay-deprecated/classic/traversal/printRelayQuery"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRTIUtils").getTopicAndTransformContext_DEPRECATED,h={},i="155160167952447";function a(a){return{sendSubscribeRequest:function(c){var d=this,e,f=this._prepareData(c);c.mode===b("GraphQLSubscribeModes").SUBSCRIBE?e=g(a,f.queryText,f.queryID,f.queryParams,f.topic).then(function(a){var b=a.topic;a=a.transformContext;f.topic=b;a.appID=i;return d._subscribe(f,a)}):c.mode===b("GraphQLSubscribeModes").UNSUBSCRIBE?e=this._unsubscribe(f):e=b("Promise").reject("invalid mode");e["catch"](function(a){return!1})},_prepareData:function(a){var c={input:JSON.stringify(babelHelpers["extends"]({},a.params,{client_subscription_id:a.clientSubscriptionID}))},d=b("react-relay-deprecated/classic/query/RelayQuery").Subscription.create(a.subscription,b("react-relay-deprecated/classic/route/RelayMetaRoute").get("$GraphQLSubscriber"),c),e=b("react-relay-deprecated/classic/traversal/printRelayQuery")(b("nullthrows")(b("react-relay-deprecated/classic/traversal/flattenRelayQuery")(d))).text;return{queryText:e,queryID:a.subscriptionQueryID!=null?Number(a.subscriptionQueryID):null,queryParams:c,topic:a.topic!=null?String(a.topic):null,tokenKey:JSON.stringify({params:a.params,text:e}),logger:new(b("GraphQLSubscriptionsTypedLogger"))().setSubscriptionCall(d.getCall().name).setQueryParams(c)}},_subscribe:function(a,c){var d=a.topic,e=a.tokenKey,f=a.logger;return new(b("Promise"))(function(a){var g={context:{transformContext:JSON.stringify(c)}};h[e]=b("SkywalkerManager").subscribe(b("nullthrows")(d),function(a){a=JSON.parse(a.payload);f.setEvent("receivepayload").log();b("RQLSubscription").handleSubscriptionPayload(a)},g);f.setEvent("client_subscribe").log();a()})},_unsubscribe:function(a){var c=a.tokenKey,d=a.logger;return new(b("Promise"))(function(a){h[c].unsubscribe(),delete h[c],d.setEvent("client_unsubscribe").log(),a()})}}}e.exports=a}),null);
__d("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2239139299490883"};b.getQueryID=function(){return"476383886201370"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1687920431245100"};b.getQueryID=function(){return"184933352139512"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesMessengerAppointmentActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MESSENGER_APPOINTMENT_TOGGLE_DIALOG:null});e.exports=a}),null);
__d("ServicesMessengerAppointmentActions",["ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG;a={toggleDialog:function(a,c,d,e,f){b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{additionalLoggingData:c,onUpdateCompleted:f,referrerData:d,shouldShowDialog:a,startTime:e}})}};e.exports=a}),null);
__d("ServicesMessengerAppointmentStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes","emptyFunction","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG,h={referrerUIComponent:"composer",referrerUISurface:"message"},i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({additionalLoggingData:null,onUpdateCompleted:null,referrerData:null,shouldShowDialog:!1,startTime:null}));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new i()};d.reduce=function(a,b){var c=b.type;b=b.payload;switch(c){case g:return a.set("shouldShowDialog",b.shouldShowDialog).set("additionalLoggingData",b.additionalLoggingData).set("referrerData",b.referrerData).set("startTime",b.startTime).set("onUpdateCompleted",b.onUpdateCompleted);default:return a}};d.getShouldShowDialog=function(){var a;return(a=this.getState().shouldShowDialog)!=null?a:!1};d.getAdditionalLoggingData=function(){return this.getState().additionalLoggingData};d.getReferrerData=function(){var a;return(a=this.getState().referrerData)!=null?a:h};d.getStartTime=function(){return this.getState().startTime};d.getOnUpdateCompleted=function(){var a;return(a=this.getState().onUpdateCompleted)!=null?a:b("emptyFunction")};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dlite/skywalker_topic/",{})}),null);
__d("PagesManagerInboxComposerCreateAppointmentButton.react",["cx","fbt","ChannelManager","CurrentUser","DateConsts","FluxContainer","Instant","Link.react","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ReactDOM","RelayGraphQLSubscriptionNetworkLayer","RelayGraphQLSubscriber","ServicesEventsLogger","ServicesAppointmentBadgeSubscription","ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation","ServicesAppointmentComposerBadgeQueryWebGraphQLQuery","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesMessengerAppointmentActions","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesMessengerAppointmentNUXActions","ServicesMessengerAppointmentNUXStore","ServicesMessengerAppointmentStore","WebGraphQL","XDliteGraphQLSkywalkerController","XUIAmbientNUX.react","emptyFunction","promiseDone","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";b("ChannelManager");var i=b("React"),j={referrerUIComponent:"composer",referrerUISurface:"message"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.composerBadgeSubscription=null,d.$1=!1,d.handleClick=function(){d.state.showComposerBadge&&b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation"))({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),page_id:d.props.pageID,user_id:d.props.recipientID}})),d.handleToggleDialog(!0),d.setState({showComposerBadge:!1})},d.handleToggleDialog=function(a){b("ServicesMessengerAppointmentActions").toggleDialog(a,null,j,d.$2(),d.$3)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesMessengerAppointmentNUXStore"),b("ServicesMessengerAppointmentStore")]};c.calculateState=function(a){if(!a)return{additionalLoggingData:null,dialogShown:!1,onUpdateCompleted:b("emptyFunction"),referrerData:j,showComposerBadge:!1,showComposerNUX:!1,startTime:null,timeMentioned:null,timezoneID:b("ServicesDateTimeUtils").getDefaultTimezoneID()};var c=b("ServicesMessengerAppointmentNUXStore").getState();return babelHelpers["extends"]({},a,{additionalLoggingData:b("ServicesMessengerAppointmentStore").getAdditionalLoggingData(),dialogShown:b("ServicesMessengerAppointmentStore").getShouldShowDialog(),onUpdateCompleted:b("ServicesMessengerAppointmentStore").getOnUpdateCompleted(),referrerData:b("ServicesMessengerAppointmentStore").getReferrerData(),showComposerNUX:c.showComposerNUX,startTime:b("ServicesMessengerAppointmentStore").getStartTime()})};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesMessengerAppointmentNUXActions").loadNUXEligibility(),this.log("booking_admin_composer_icon_impression"),b("RelayGraphQLSubscriptionNetworkLayer").injectGraphQLSubscriber(b("RelayGraphQLSubscriber")(b("XDliteGraphQLSkywalkerController").getURIBuilder().getURI())),this.initShowComposerBadge(),this.subscribeToShowComposerBadge(),this.$1=!0};d.componentWillUnmount=function(){this.composerBadgeSubscription&&(this.composerBadgeSubscription=null),this.$1=!1};d.componentDidUpdate=function(a,b){!b.showComposerBadge&&this.state.showComposerBadge&&this.log("booking_admin_thread_intent_composer_badging_impression")};d.log=function(a){b("ServicesEventsLogger").log(this.props.pageID,a,this.state.referrerData,{customer_id:this.props.recipientID,custom_session_id:b("uuid")()})};d.initShowComposerBadge=function(){var a=this;b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery"))({page_id:this.props.pageID,user_id:this.props.recipientID})),function(c){if(!c)return;c=((c=c)!=null?(c=c.page)!=null?c.services_vertical_info:c:c)||{};var d=c.messenger_appointment_intent_data||{},e=c.time_zone_name;if(!a.$1)return;a.setState({showComposerBadge:!!c.should_show_composer_badge,timeMentioned:d.time_mentioned||null,timezoneID:b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(e)})},function(a){})};d.subscribeToShowComposerBadge=function(){var a=this;this.composerBadgeSubscription=b("ServicesAppointmentBadgeSubscription").subscribe({page_id:this.props.pageID,user_id:this.props.recipientID},function(b){b=((b=b)!=null?b.services_appointment_badge_subscribe:b)||{};if(!a.$1)return;a.setState({showComposerBadge:!!b.should_show_badge,timeMentioned:b.timestamp||null})})};d.$3=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.$2=function(){var a=this.state.timeMentioned;return a&&!(a<b("Instant").now()-b("DateConsts").SEC_PER_WEEK*2)?b("ServicesDateTimeUtils").getClosestDateWithSameTime(a,this.state.timezoneID):null};d.renderCreateAppointmentDialog=function(){var a=this,c=this.state.dialogShown;return!c?null:i.jsx(b("ServicesAppointmentDialogRoot.react"),{additionalLoggingData:this.state.additionalLoggingData,causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,jobSearchSurface:"messenger",onToggle:this.handleToggleDialog,onUpdateCompleted:this.state.onUpdateCompleted,pageID:this.props.pageID,referrerData:this.state.referrerData,showMessengerButton:!1,shown:this.state.dialogShown,startTime:this.state.startTime,userID:this.props.recipientID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.renderComposerNUX=function(){if(!this.button)return null;var a=this.state.showComposerNUX;a&&b("ServicesMessengerAppointmentNUXActions").showNUX(5292);return i.jsx(b("XUIAmbientNUX.react"),{alignment:"right",context:b("ReactDOM").findDOMNode(this.button),shown:a,onCloseButtonClick:function(){return b("ServicesMessengerAppointmentNUXActions").closeNUX(5292)},position:"above",width:"normal",children:h._("Create an appointment from any conversation so customers can get automatic reminders")})};d.render=function(){var a=this,c=h._("Create appointment");return i.jsxs("div",{children:[i.jsxs(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.handleClick,ref:function(b){return a.button=b},children:[i.jsx("div",{className:this.state.showComposerBadge?"_4on2":""}),i.jsx("i",{className:"_2em5"})]}),this.renderComposerNUX(),this.renderCreateAppointmentDialog()]})};return c}(i.Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxReturnToSendNUX.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="www_return_to_send_message_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowReturnToSendNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowReturnToSendNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.render=function(){var a=g._("Press the Return\/Enter key to send messages.");return h.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"above",shown:this.state.shouldShowReturnToSendNUX,width:"normal",children:a})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentListItem.react",["cx","ix","Image.react","React","XUICloseButton.react","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(){return c.props.onDetach(c.props.uploadID)};return c}var d=c.prototype;d.$2=function(){if(this.props.type.startsWith("image"))return h("94995");else if(this.props.type.startsWith("video"))return h("94998");else if(this.props.type.startsWith("audio"))return h("94984");else if(this.props.type.startsWith("text"))return h("94997");return h("94992")};d.$3=function(){return i.jsx(b("XUICloseButton.react"),{className:"_2uia",onClick:this.$1})};d.$4=function(){return i.jsx("span",{className:"_2uib",children:this.props.isUploading?i.jsx(b("XUISpinner.react"),{size:"large"}):i.jsx(b("Image.react"),{src:this.$2(),alt:this.props.type})})};d.$5=function(){return i.jsx("span",{className:"_2uic",children:this.props.name})};d.render=function(){return i.jsxs("li",{className:"clearfix _2uid",children:[i.jsx("span",{className:"_kqe _kqf",children:this.$4()}),i.jsx("span",{className:"_kqe _kqh",children:this.$5()}),i.jsx("span",{className:"_kqe _kqi",children:this.$3()})]})};return c}(i.Component);a.propTypes={attachmentID:(c=b("prop-types")).string,isUploading:c.bool,key:c.string,name:c.string,onDetach:c.func,type:c.string,uploadID:c.string};e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentList.react",["cx","PagesManagerMessagingComposerAttachmentListItem.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return h.jsx(b("PagesManagerMessagingComposerAttachmentListItem.react"),{isUploading:a.isUploading,name:a.name,onDetach:this.props.onDetach,type:a.type,uploadID:a.uploadID},a.uploadID)};d.render=function(){return this.props.attachments.length>0?h.jsx("ul",{className:"_27ru",children:this.props.attachments.map(this.$1,this)}):null};return c}(h.Component);a.propTypes={attachments:b("prop-types").array.isRequired,onDetach:b("prop-types").func.isRequired};a.defaultProps={attachments:[]};e.exports=a}),null);
__d("PagesManagerInboxSavedRepliesUpsellNUXContainer.react",["fbt","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerMessagingComposerStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="page_inbox_saved_reply_upsell_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){d.setState({shouldShowNUX:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[i])},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a,c){return{shouldShowNUX:b("PagesManagerMessagingComposerStore").getShouldShowSavedReplyUpsellNUX()}};var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[i]);return a};d.render=function(){var a=g._("Manage and send all your saved replies from this menu.");return h.jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$2,position:"above",shown:this.state.shouldShowNUX&&this.$1(),children:a})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxSavedReplyNewUINuxContainer.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="page_inbox_saved_reply_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$2=function(){d.setState({shouldShowNux:!1}),b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[i])},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[i]);return a};d.render=function(){var a=this.props.haveUsedSavedReplies?g._("New! Add shortcuts for your saved replies to send messages more quickly."):g._("Create saved replies to send common responses more quickly.");return h.jsx(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.props.contextRef,onCloseButtonClick:this.$2,position:"above",shown:this.state.shouldShowNux,children:a})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesEmptyState.react",["cx","fbt","FDSButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("We offer two shipping options..."),k=h._("Can you provide your order confirmation number so we can..."),l=h._("Here's more info about our upcoming event...");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.$1=function(a){return i.jsx("div",{className:"_7t00",children:a})};d.render=function(){return i.jsxs("div",{className:"_22rs",children:[i.jsxs("div",{className:"_7t01",children:[this.$1(j),this.$1(k),this.$1(l)]}),i.jsx("div",{children:h._("Save replies to frequently asked questions so you can respond more quickly to messages later.")}),i.jsx("div",{className:"_7t02",children:i.jsx(b("FDSButton.react"),{label:h._("Create Saved Reply"),onClick:this.props.onCreateNewReply,size:"large",use:"primary"})})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingAutomatedSequenceListItem.react",["ix","cx","fbt","FDSText.react","FluxContainer","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesMarketingAutomationStore","React","SavedResponsesConstants","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.props.onMouseEnter(c.state.message)},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(){return{automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),automationType:b("PagesMarketingAutomationStore").getAutomationType(),message:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages().introMessage}};var d=c.prototype;d.$1=function(){return this.state.automatedCheckoutMessages&&this.state.automatedCheckoutMessages.introMessage?this.state.automatedCheckoutMessages.introMessage:""};d.$2=function(){return this.state.automationType==="buyer_information_form"?j.jsxs("div",{className:"_40g7",children:[j.jsxs(b("FDSText.react"),{weight:"bold",children:[i._("Customer Information")," "]}),j.jsx(b("FDSText.react"),{color:"disabled",children:i._("Form")})]}):j.jsxs("div",{className:"_40g7",children:[j.jsxs(b("FDSText.react"),{weight:"bold",children:[i._("Buyer Information")," "]}),j.jsx(b("FDSText.react"),{color:"disabled",children:i._("Sequence")})]})};d.$4=function(){var a=i._("Edit");return j.jsx(b("LayoutColumn.react"),{className:"_7t98",children:j.jsx(b("Tooltip.react"),{tooltip:a,children:j.jsx(b("Image.react"),{className:"_7r85",onClick:this.props.onAutomatedSequenceEditClick,src:g("484291")})})})};d.render=function(){if(this.state.automatedCheckoutMessages)return j.jsx("li",{className:"_2ph_ _40g6",children:j.jsxs(b("Layout.react"),{children:[j.jsxs(b("LayoutFillColumn.react"),{onClick:this.props.onAutomatedSequenceSelected,onMouseEnter:this.$3,ref:b("SavedResponsesConstants").automatedSequenceItemRef,children:[this.$2(),this.$1()]}),this.props.isSavedReplyNewUI?this.$4():null]})})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/duplication/",{})}),null);
__d("PagesManagerMessagingSavedRepliesListItem.react",["ix","cx","fbt","ActorURI","AsyncRequest","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","SavedResponsesConstants","SavedResponsesImage.react","SavedResponsesTokensUtils","SavedResponsesUtils","Tooltip.react","XPagesSavedResponsesImageDuplicationController","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=53,l=53;a=function(a){babelHelpers.inheritsLoose(c,a);c.getDerivedStateFromProps=function(a,c){return{message:b("SavedResponsesTokensUtils").prepareforSend(a.reply.message,a.tokens),isProcessing:c.isProcessing}};function c(c){var d;d=a.call(this,c)||this;d.state={message:"",isProcessing:!1};d.mounted=!1;d.$3=function(){if(d.state.isProcessing)return;if(!d.props.reply.image){d.props.onClick(d.props.reply,d.state.message,null,d.props.searchTerm);return}var a=d.props.reply.image.id;d.setState({isProcessing:!0});var c=b("XPagesSavedResponsesImageDuplicationController").getURIBuilder().getURI();c=b("ActorURI").create(c,d.props.pageID);new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({image_id:a}).setHandler(function(a){a=b("SavedResponsesUtils").generateImageMetadata(""+a.payload.duplicatedImageID);d.props.onClick(d.props.reply,d.state.message,a,d.props.searchTerm);d.mounted&&d.setState({isProcessing:!1})}).send()};d.$4=function(){d.props.onEditClick(d.props.reply)};d.$5=function(){d.props.onDeleteClick(d.props.reply)};d.$6=function(){d.props.onMouseEnter(d.state.message)};return d}var d=c.prototype;d.componentDidMount=function(){this.mounted=!0};d.componentWillUnmount=function(){this.mounted=!1};d.$1=function(){if(this.props.reply.image){var a=this.props.reply.image.id;return j.jsx(b("SavedResponsesImage.react"),{className:"_3-9b _1pnc",displayClassName:"_1pnc",height:k,imageID:a,loadingClassName:"_1pnc",pageID:this.props.pageID,shouldShowCloseButton:!1,width:l})}};d.$2=function(){if(this.props.reply&&this.props.reply.title!=="")return j.jsx("h4",{className:"_40g7",children:this.props.reply.title})};d.$7=function(){var a=i._("Edit"),c=i._("Delete");return j.jsxs(b("LayoutColumn.react"),{className:"_7t98",children:[j.jsx(b("Tooltip.react"),{tooltip:a,children:j.jsx(b("Image.react"),{className:"_7r85",onClick:this.$4,src:g("484291")})}),j.jsx(b("Tooltip.react"),{tooltip:c,children:j.jsx(b("Image.react"),{className:"_7r85",onClick:this.$5,src:g("524061")})})]})};d.render=function(){return j.jsx("li",{className:b("joinClasses")("_2ph_ _40g6"+(this.state.isProcessing?" _84qn":""),this.props.className),children:j.jsxs(b("Layout.react"),{children:[j.jsxs(b("LayoutFillColumn.react"),{onClick:this.$3,onMouseEnter:this.$6,onMouseLeave:this.props.onMouseLeave,ref:b("SavedResponsesConstants").replyItemRef,children:[this.$2(),this.state.message]}),j.jsx(b("LayoutColumn.react"),{className:"_8frq",children:this.$1()}),this.props.isSavedReplyNewUI?this.$7():null]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesList.react",["ix","cx","fbt","Image.react","Link.react","PagesManagerMessagingAutomatedSequenceListItem.react","PagesManagerMessagingSavedRepliesListItem.react","React","SavedResponsesUtils","ScrollableArea.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$8=function(a,c){return j.jsx(b("PagesManagerMessagingSavedRepliesListItem.react"),{className:d.$1(a)?"":"hidden_elem",isSavedReplyNewUI:d.props.isSavedReplyNewUI,onClick:d.props.onReplySelected,onDeleteClick:d.props.onDeleteClick,onEditClick:d.props.onEditClick,onMouseEnter:d.props.onReplyMouseEnter,onMouseLeave:d.props.onReplyMouseLeave,pageID:d.props.pageID,reply:a,searchTerm:d.props.filter,tokens:d.props.tokens},c)};return d}var d=c.prototype;d.$1=function(a){var b=this.props.filter.toLowerCase();return b===""&&this.props.matchingShortcut!==""?a.title!==null&&a.title!==void 0&&a.title.toLowerCase().indexOf(this.props.matchingShortcut)===0:a.message.toLowerCase().indexOf(b)!==-1||(a.title||"").toLowerCase().indexOf(b)!==-1};d.$2=function(){if(this.props.filter!==""){var a=this.props.filter.toLowerCase();return!this.props.replies.some(function(b){return(b.title||"").toLowerCase().indexOf(a)!==-1||b.message.toLowerCase().indexOf(a)!==-1})}return!1};d.$3=function(){return j.jsx(b("Link.react"),{className:"_22rv",onClick:this.props.onCreateNewReply,children:i._("Create Saved Reply")})};d.$4=function(){return j.jsx("div",{className:"_2ph_ _22ru",children:j.jsx("p",{children:this.$3()})})};d.$5=function(){return j.jsx("div",{children:j.jsx("div",{className:"_2ph_ _22rp",children:j.jsx(b("XUISpinner.react"),{size:"large"})})})};d.$6=function(){var a=b("SavedResponsesUtils").sortSavedResponses(this.props.replies,this.props.sortingKey);return j.jsx(b("ScrollableArea.react"),{fade:!0,height:300,shadow:!1,children:j.jsxs("ul",{className:"_22rt",children:[this.$7(),a.map(this.$8,this),j.jsx("li",{className:"_2ph_ _22rs",children:this.props.isSavedReplyNewUI?null:this.$4()}),j.jsx("li",{className:"_22rs",children:this.props.isSavedReplyNewUI&&this.$2()?j.jsxs("div",{className:"_81z3",children:[j.jsx(b("Image.react"),{className:"_3-90",src:g("952401")}),i._("No results found")]}):null})]})})};d.$7=function(){if(this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return j.jsx(b("PagesManagerMessagingAutomatedSequenceListItem.react"),{isSavedReplyNewUI:this.props.isSavedReplyNewUI,onAutomatedSequenceEditClick:b("SavedResponsesUtils").editAutomatedCheckout,onAutomatedSequenceSelected:this.props.onAutomatedSequenceSelected,onMouseEnter:this.props.onReplyMouseEnter,pageID:this.props.pageID,searchTerm:this.props.filter,tokens:this.props.tokens})};d.render=function(){return j.jsxs("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.replies.length===0?" _22rs":""),children:[this.props.isLoading?this.$5():null,this.$6()]})};return c}(j.PureComponent);e.exports=a}),null);
__d("SavedReplyDeleteReplyConfirmationModal.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{isDisabled:a.isDeleting,label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:h.jsx(b("FDSModalHeader.react"),{title:g._("Delete Saved Reply?")}),isShown:a.shown,label:"Delete Saved Reply Modal",onHide:a.onHide,width:400,children:h.jsx(b("FDSSection.react"),{children:g._("You won't be able to send this saved reply later.")})})}e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesFlyout.react",["cx","fbt","ix","Layout.react","Image.react","LeftFillRightFitLayout.react","LeftRight.react","Link.react","PagesDeleteSavedResponseMutation","PagesManagerMessagingComposerActions","PagesManagerMessagingSavedRepliesEmptyState.react","PagesManagerMessagingSavedRepliesList.react","PagesMessagingInboxActionLogger","React","SavedReplyDeleteReplyConfirmationModal.react","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.MOST_USED,responseToEdit:null,responseToDelete:null,searchQuery:"",savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,showDeleteModal:!1,isDeleting:!1},d.$1=function(a){d.setState({activeSortingOptionKey:a}),b("PagesMessagingInboxActionLogger").logSavedReplySortClicked(a)},d.$2=function(a){a=a.target.value;d.setState({searchQuery:a})},d.$3=function(){d.setState({searchQuery:""})},d.$4=function(){d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$5=function(){d.setState({savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})},d.$6=function(a){d.setState({responseToEdit:a,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.EDIT})},d.$7=function(){var a,c=d.state.responseToDelete;if(c==null)return;d.setState({isDeleting:!0});b("PagesDeleteSavedResponseMutation").commit(c.id,function(){d.$8(),d.props.onFetchReplies(),d.setState({isDeleting:!1})},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(c.message,null,(a=c.title)!=null?a:"",null,(a=c)!=null?(a=a.image)!=null?a.id:a:a,null,null)},d.$9=function(a){a&&d.props.onFetchReplies(),d.props.upsellSpecificData?(b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellNUX(!0),b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellToast(!0),d.props.resetFlyoutTrigger()):d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$8=function(){d.setState({responseToDelete:null,showDeleteModal:!1})},d.$10=function(a){d.setState({responseToDelete:a,showDeleteModal:!0})},d.$11=function(){d.props.onReplyMouseLeave(),d.props.toggleFlyout(),d.props.openAutomatedSequenceDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$12=function(){return l.jsx("div",{className:"_2ph_ _2gcu"+(this.props.isSavedReplyNewUI?"":" _7r86"),children:l.jsxs(b("LeftRight.react"),{children:[l.jsx("h3",{className:"_ht4",children:h._("Saved Replies")}),this.props.isSavedReplyNewUI?this.props.replies.length===0?null:l.jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.$4,children:h._("Create")}):l.jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.props.onManageReplies,children:h._("Manage Replies")})]})})};d.$13=function(){return!this.props.isLoading&&this.props.replies.length===0&&this.props.isSavedReplyNewUI?l.jsx(b("PagesManagerMessagingSavedRepliesEmptyState.react"),{onCreateNewReply:this.$4}):l.jsx(b("PagesManagerMessagingSavedRepliesList.react"),{automatedCheckoutID:this.props.automatedCheckoutID,filter:this.state.searchQuery,isLoading:this.props.isLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onAutomatedSequenceSelected:this.$11,onCreateNewReply:this.props.onCreateNewReply,onDeleteClick:this.$10,onEditClick:this.$6,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens})};d.$14=function(){if(this.props.isLoading||this.props.replies.length===0&&this.props.isSavedReplyNewUI)return null;var a="inputField";return l.jsxs(b("Layout.react"),{className:"_2ph_ _ht5",children:[l.jsx(j,{children:l.jsx(b("Image.react"),{className:"_ht8",src:i("27278")})}),l.jsx(k,{children:l.jsx(b("XUITextInput.react"),{className:"_ht9",onChange:this.$2,placeholder:h._("Search saved replies"),ref:a,value:this.state.searchQuery})}),l.jsx(j,{children:l.jsx(b("XUICloseButton.react"),{className:(this.state.searchQuery.length===0?"hidden_elem":"")+" _hta",onClick:this.$3,size:"small"})})]})};d.render=function(){this.props.upsellSavedRepliesFlyout&&this.$5();switch(this.state.savedResponsesManageViewType){case b("SavedResponsesConstants").editPanelViewMode.LIST:return l.jsxs("div",{className:"_2gcs",children:[this.$12(),l.jsxs(b("LeftFillRightFitLayout.react"),{children:[this.$14(),l.jsx(b("SavedResponsesOrderingMenu.react"),{activeSortingOptionKey:this.state.activeSortingOptionKey,className:"_2gct",onSortingKeyChanged:this.$1})]}),this.$13(),l.jsx(b("SavedReplyDeleteReplyConfirmationModal.react"),{isDeleting:this.state.isDeleting,onConfirm:this.$7,onHide:this.$8,shown:this.state.showDeleteModal})]});case b("SavedResponsesConstants").editPanelViewMode.EDIT:case b("SavedResponsesConstants").editPanelViewMode.CREATE:case b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return l.jsx(b("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,isSavedReplyNewUI:this.props.isSavedReplyNewUI,onClose:b("emptyFunction"),onEditDone:this.$9,onEnterPersonalizeView:this.$5,overrideRelayEnvironmentWithID:this.props.overrideRelayEnvironmentWithID,pageID:this.props.pageID,shouldOverrideRelayEnvironment:this.props.shouldOverrideRelayEnvironment,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,supportedMacros:this.props.tokens,upsellSpecificData:this.props.upsellSpecificData})}};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesButton.react",["cx","fbt","BIZInboxClientLogger","Link.react","PagesEventObserver","PagesManagerInboxSavedRepliesUpsellNUXContainer.react","PagesManagerInboxSavedReplyNewUINuxContainer.react","PagesManagerMessagingSavedRepliesFlyout.react","React","SavedResponsesAutomatedSequenceDialog.react","SavedResponsesConstants","SavedResponsesManagePanel.react","XUIContextualDialog.react","XUIDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,isAutomatedSequenceDialogVisible:!1,isFlyoutVisible:!1,isManageDialogVisible:!1,upsellSavedRepliesFlyout:!1},d.$2=function(){d.setState({isAutomatedSequenceDialogVisible:!1})},d.$3=function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!d.state.isFlyoutVisible}),d.props.onSavedReplyButtonClick(),d.$4()},d.$5=function(){d.props.onFetchReplies(),d.setState({isManageDialogVisible:!1})},d.$6=function(){window.setTimeout(function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!1}),d.setState({isFlyoutVisible:!1})},0)},d.$7=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$8=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$9=function(){d.setState({isAutomatedSequenceDialogVisible:!0})},d.$10=function(a,c,e,f){d.props.onReplySelected(a,c,e,f),d.setState({isFlyoutVisible:!1}),b("BIZInboxClientLogger").logSavedReplyClick(d.props.pageID,d.props.commPlatform,a.id,c)},d.$4=function(){d.setState(function(a,b){return{isFlyoutVisible:!a.isFlyoutVisible}})},d.$11=function(){d.setState({isFlyoutVisible:!1,upsellSavedRepliesFlyout:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){!this.state.isFlyoutVisible&&a.upsellSpecificData!==this.props.upsellSpecificData&&this.$1()};d.$1=function(){this.setState({isFlyoutVisible:!0,upsellSavedRepliesFlyout:!0})};d.$12=function(){if(this.state.isAutomatedSequenceDialogVisible&&this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return i.jsx(b("SavedResponsesAutomatedSequenceDialog.react"),{automatedCheckoutID:this.props.automatedCheckoutID,onHide:this.$2,pageID:this.props.pageID,recipientID:this.props.recipientID,ref:b("SavedResponsesConstants").automatedSequenceDialogRef})};d.$13=function(){var a=this;if(this.state.isFlyoutVisible)return i.jsx(b("XUIContextualDialog.react"),{alignment:"right",className:"_ht1",contextRef:function(){return a.refs.icon},hasActionableContext:!0,hideOnEscape:!1,onBlur:this.$6,position:Boolean(this.props.isInModal)?"left":"above",ref:b("SavedResponsesConstants").flyoutDialogRef,shown:this.state.isFlyoutVisible,width:this.props.isSavedReplyNewUI?b("SavedResponsesConstants").managementDialogWidth:b("SavedResponsesConstants").flyoutDialogWidth,children:i.jsx(b("PagesManagerMessagingSavedRepliesFlyout.react"),{automatedCheckoutID:this.props.automatedCheckoutID,isLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onCreateNewReply:this.$7,onFetchReplies:this.props.onFetchReplies,onManageReplies:this.$8,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.$10,openAutomatedSequenceDialog:this.$9,overrideRelayEnvironmentWithID:this.props.overrideRelayEnvironmentWithID,pageID:this.props.pageID,replies:this.props.replies,resetFlyoutTrigger:this.$11,shouldOverrideRelayEnvironment:this.props.shouldOverrideRelayEnvironment,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,toggleFlyout:this.$4,tokens:this.props.tokens,upsellSavedRepliesFlyout:this.state.upsellSavedRepliesFlyout,upsellSpecificData:this.props.upsellSpecificData})})};d.$14=function(){if(this.state.isManageDialogVisible)return i.jsx(b("XUIDialog.react"),{layerHideOnBlur:!1,ref:b("SavedResponsesConstants").managementDialogRef,shown:this.state.isManageDialogVisible,width:b("SavedResponsesConstants").managementDialogWidth,children:i.jsx(b("SavedResponsesManagePanel.react"),{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$5,otherUserID:this.props.recipientID,overrideRelayEnvironmentWithID:this.props.overrideRelayEnvironmentWithID,pageID:this.props.pageID,shouldOverrideRelayEnvironment:this.props.shouldOverrideRelayEnvironment})})};d.render=function(){var a=this,c=h._("Insert saved reply"),d="icon",e=this.props.isSavedRepliesLoading===!0||this.props.replies.length>2;return i.jsxs("div",{children:[i.jsx(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_hsy","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.$3,children:i.jsx("div",{className:(this.props.matchingShortcut===""?"_ht0":"")+(this.props.matchingShortcut!==""?" _7tab":""),ref:d})}),this.props.isSavedReplyNewUI?i.jsx(b("PagesManagerInboxSavedReplyNewUINuxContainer.react"),{contextRef:function(){return a.refs.icon},haveUsedSavedReplies:e}):null,i.jsx(b("PagesManagerInboxSavedRepliesUpsellNUXContainer.react"),{contextRef:function(){return a.refs.icon}}),this.$12(),this.$13(),this.$14()]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesMessengerHotLikeGlyphIcon.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_43_3"})};return b}(h.Component);e.exports=a}),null);
__d("PagesManagerMessagingComposerView.react",["ix","cssVar","cx","fbt","EditorState","Image.react","JSResource","MercuryDragDropPrompt.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeButton.react","OrderDetailsAdminButton.react","PagesEventObserver","PagesInterfaceSmartCompose.react","PagesManagerInboxComposerCreateAppointmentButton.react","PagesManagerInboxComposerSendAvailabilityButton.react","PagesManagerInboxProductPickerButton.react","PagesManagerInboxReturnToSendNUX.react","PagesManagerLogger","PagesManagerMessagingComposerAttachmentList.react","PagesManagerMessagingSavedRepliesButton.react","PagesMessageSuggestedResponseHandler","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesMessengerFileUploader.react","PagesMessengerHotLikeGlyphIcon.react","PagesMessengerSuggestedResponseView.react","PagesMessengerTextInput.react","QE2Logger","React","SavedResponsesUtils","Tooltip.react","TooltipData","UFIStickerButton.react","XUIButton.react","fbglyph","lazyLoadComponent","prop-types","Grid.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(){};b("Grid.react").GridItem;var l=b("lazyLoadComponent")(b("JSResource")("CommerceInvoiceAdminButton.react").__setRef("PagesManagerMessagingComposerView.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={isAttachmentsButtonVisible:!0,isSavedRepliesButtonVisible:!0,isSavedRepliesShortcutButtonVisible:!1,isStickerButtonVisible:!0,placeholder:"",editorState:b("EditorState").createEmpty()};d.getContextRef=function(){return d.$2};d.$7=function(a){a.preventDefault();a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_send_message",d.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_start").log();d.props.onSend(a)};d.$11=function(){var a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_send_message",d.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_start").log();d.props.onSend(a);a=b("EditorState").createEmpty();d.setEditorState(a)};d.setEditorState=function(a){d.setState({editorState:a})};d.$16=function(a){d.setState({placeholder:a})};d.$17=function(){d.setState({placeholder:""})};d.$19=function(){b("PagesMessagingInboxActionLogger").logSavedReplyButtonClicked(d.props.commPlatform,d.props.matchingShortcut)};d.$18=function(a,c,e,f){d.setState({placeholder:""});d.props.onReplySelected(c,e);b("PagesEventObserver").notify("saved_replies_apply_reply",d.props.userID);b("SavedResponsesUtils").notifySavedResponseApplied(a);b("PagesMessagingInboxActionLogger").logApplySavedReply(d.props.commPlatform,d.props.matchingShortcut,f,a.message,(c=a.title)!=null?c:"",e!==null,d.props.recipientID)};d.$1=!1;babelHelpers.assertThisInitialized(d).setEditorState=d.setEditorState.bind(babelHelpers.assertThisInitialized(d));return d}var d=c.prototype;d.componentDidUpdate=function(a,b){this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$1&&(this.props.onInitialRender(),this.$1=!0),a&&a.message!==this.props.message&&this.props.shouldUseSmartComposeTextInput!==!0&&this.refs.textInput.updateHeight()};d.UNSAFE_componentWillMount=function(){this.$3(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$3(a,this.state)};d.$3=function(a){var b=a.attachments.length,c=a.message.length;c=c<1&&b<1;b=this.props.supportMultiAttachments||b<1;this.setState({isAttachmentsButtonVisible:b,isSavedRepliesButtonVisible:c||a.isSavedReplyNewUI,isStickerButtonVisible:c})};d.$4=function(){return this.props.canAttachFiles};d.$5=function(){return this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible};d.$6=function(){return this.props.canUseStickers&&this.state.isStickerButtonVisible};d.$8=function(){if(!this.$4())return null;var a=j._("Attach a file");return k.jsx("div",babelHelpers["extends"]({className:"_4dvy"+(this.state.isAttachmentsButtonVisible?"":" hidden_elem")},b("TooltipData").propsFor(a),{children:k.jsx(b("PagesMessengerFileUploader.react"),{actionURI:this.props.uploaderActionURI,iconSize:"large",supportMulti:this.props.supportMultiAttachments,onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:"fileUploader"})}))};d.$9=function(){return!this.props.canAttachFiles?null:k.jsx(b("PagesManagerMessagingComposerAttachmentList.react"),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:"attachmentList"})};d.$10=function(){if(this.props.canUseHotLike&&this.props.threadID&&this.props.message.length<1&&this.props.attachments.length<1){var a=this.props.threadID;return k.jsx("span",{className:"_1z9h",children:k.jsx(b("MessengerHotLikeButton.react"),{CustomRenderer:this.props.isInboxDetailView?b("PagesMessengerHotLikeGlyphIcon.react"):void 0,customColor:this.props.isInboxDetailView?void 0:"#0084ff",disabled:!this.props.threadID,location:b("MercuryShareAttachmentRenderLocations").PAGES_INBOX,sendSticker:this.props.onStickerSelected,renderSize:24,threadID:a})})}return null};d.$12=function(){var a=this.state.placeholder||(this.props.commPlatform==="WEC"?j._("Type a message..."):j._("Write a reply...")),c="textInput";if(this.props.shouldUseSmartComposeTextInput&&this.props.commPlatform==="MESSENGER")return k.jsx("div",{className:"_4dv-",children:k.jsx(b("PagesInterfaceSmartCompose.react"),{editorState:this.state.editorState,handleReturn:this.$11,onChange:this.props.onInputSmartComposeChange,setEditorState:this.setEditorState,threadID:this.props.threadID})});else return k.jsx("div",{className:"_4dv-",children:k.jsx(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?this.$7:null,placeholder:a,ref:c,value:this.props.message})})};d.$13=function(){return k.jsx("div",{className:"_6fk",ref:"linkPreview"})};d.$14=function(){return k.jsx("div",{className:"_4dw0",children:k.jsx(b("Image.react"),{className:"_1cjc",src:this.props.persona&&this.props.persona.profilePicUrl?this.props.persona.profilePicUrl:this.props.participant.image_src})})};d.$15=function(){return!this.$5()||!this.props.recipientID?null:k.jsx("span",{className:"_4dw1",children:k.jsx(b("PagesManagerMessagingSavedRepliesButton.react"),{automatedCheckoutID:this.props.automatedCheckoutID,commPlatform:this.props.commPlatform,isSavedRepliesLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$16,onReplyMouseLeave:this.$17,onReplySelected:this.$18,onSavedReplyButtonClick:this.$19,pageID:this.props.userID,recipientID:this.props.recipientID,replies:this.props.savedReplyResponses,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,showTooltip:!0,tokens:this.props.savedReplyTokens,upsellSpecificData:this.props.upsellSpecificData})})};d.$20=function(a){b("PagesMessagingInboxActionLogger").logSendButtonClicked(this.props.commPlatform,this.props.matchingShortcut,this.props.isQuickReplyMode),this.props.shouldUseSmartComposeTextInput?this.$11():this.$7(a)};d.$21=function(){var a=this,c=j._("Send"),d=this.props.message.length<1&&this.props.attachments.length<1;return k.jsx("div",{className:"_4dw3"+(d?" hidden_elem":""),"data-testid":void 0,children:k.jsx(b("XUIButton.react"),{disabled:this.props.isSendBlocked,label:c,onClick:function(b){return a.$20(b)},use:"confirm"})})};d.$22=function(){if(!this.$6())return null;var a=j._("Post a sticker");return k.jsx("span",{className:"_4dw4",children:k.jsx(b("UFIStickerButton.react"),{onStickerSelected:this.props.onStickerSelected,children:k.jsx("div",{alt:a,className:"_3fhi"})})})};d.$23=function(){return!this.props.canCreateAppointment||!this.props.recipientID?null:k.jsx("span",{className:"_43nn",children:k.jsx(b("PagesManagerInboxComposerCreateAppointmentButton.react"),{creatorInfo:this.props.creatorInfo,pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.getSendAvailabilityButton=function(){return!this.props.canSendAvailability||!this.props.recipientID?null:k.jsx("span",{className:"_43nn",children:k.jsx(b("PagesManagerInboxComposerSendAvailabilityButton.react"),{pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.$24=function(){if(!this.props.shouldShowCommerceInvoiceButton||this.props.commPlatform!=="MESSENGER"||this.props.recipientID==null)return null;if(this.props.isEligibleForOrderDetailsInComposer){b("QE2Logger").logExposureForPage("www_order_details_composer_entry_point",this.props.userID);if(this.props.shouldShowOrderDetailsInComposer){var a;return k.jsx("div",{className:"_3w8o",children:k.jsx(b("OrderDetailsAdminButton.react"),{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,userID:(a=this.props.recipientID)!=null?a:""})})}}return k.jsx(k.Suspense,{fallback:null,children:k.jsx("div",{className:"_3w8o",children:k.jsx(l,{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,recipientID:this.props.recipientID,shouldShowBonusTracker:this.props.shouldShowBonusTracker,shouldShowCommerceInvoiceSimplifiedFlow:this.props.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldShowPaymentOnboarding:this.props.shouldShowPaymentOnboarding,shouldShowPUX:this.props.shouldShowCommerceInvoiceButtonPUX,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowShippingNUX:this.props.shouldShowInvoiceShippingNUX,shouldUseKbankOnboarding:this.props.shouldUseKbankOnboarding})})})};d.$25=function(){return k.jsx(b("PagesMessengerSuggestedResponseView.react"),{onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline,suggestedResponseHandler:this.props.suggestedResponseHandler})};d.render=function(){var a=this;if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return k.jsx("div",{className:"__1d"});else if(this.props.isBlocked){new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("composer_blocked_with_warning").log();return k.jsxs("div",{className:"_50wh",children:[j._("Your Page is no longer able to send messages to this person."),k.jsx(b("Tooltip.react"),{tooltip:j._("A Page may be unable to send messages to someone if they are no longer on Facebook, if they pose a security risk, or if they have chosen not to receive messages."),children:k.jsx("a",{href:"https://www.facebook.com/help/307375982614147",children:k.jsx(b("Image.react"),{src:g("126341"),style:{verticalAlign:"-2px"}})})})]})}return k.jsxs("div",{className:"__1d","data-testid":void 0,children:[k.jsx(b("MercuryDragDropPrompt.react"),{}),k.jsxs("div",{className:"_4dw9",children:[this.$14(),this.$12(),k.jsxs("div",{className:"_3-8o _4dwa",children:[k.jsx(m,{classProps:this.props}),this.$24(),this.$8(),this.$22(),this.$15(),this.$23(),this.getSendAvailabilityButton(),k.jsx("span",{ref:function(b){a.$2=b},children:this.$10()}),this.$21(),k.jsx(b("PagesManagerInboxReturnToSendNUX.react"),{contextRef:this.getContextRef})]})]}),k.jsxs("div",{className:"_6fl",children:[this.$25(),this.$13()]}),this.$9()]})};return c}(k.PureComponent);c.propTypes={attachments:(d=b("prop-types")).array,canAttachFiles:d.bool,canCreateAppointment:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,isQuickReplyMode:d.bool,isSavedRepliesLoading:d.bool,isSendBlocked:d.bool,message:d.string.isRequired,onAttachmentDetach:d.func,onFetchReplies:d.func.isRequired,onFileUploaderSubmit:d.func,onFileUploaderMounted:d.func,onFileUploadFinished:d.func,onFocus:d.func,onInitialRender:d.func,onInputChange:d.func,onSend:d.func,onStickerSelected:d.func,onSuggestedResponseAccept:d.func,onSuggestedResponseDecline:d.func,participant:d.object,recipientID:d.string,savedReplies:d.object,shouldShowBonusTracker:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,suggestedResponseHandler:d.instanceOf(b("PagesMessageSuggestedResponseHandler")),uploaderActionURI:d.string,userID:d.string};c.defaultProps={attachments:[],canAttachFiles:!0,canCreateAppointment:!1,canUseHotLike:!0,canUseSavedReplies:!0,canUseStickers:!0,isSendBlocked:!1,maxLength:null,onAttachmentDetach:a,onFileUploaderMounted:a,onFileUploaderSubmit:a,onFileUploadFinished:a,onInputChange:a,onSend:a,onStickerSelected:a,onSuggestedResponseAccept:a,shouldShowBonusTracker:!1,shouldShowCommerceInvoiceButton:!1,shouldShowCommerceInvoiceButtonNUX:!1,shouldShowCommerceInvoiceButtonPUX:!1,shouldShowInvoiceShippingNUX:!1,shouldShowPaymentOnboarding:!1,shouldShowConfirmPayment:!1,shouldShowRequestPayment:!1,shouldUseKbankOnboarding:!1};function m(a){return!a.classProps.shouldShowProductPickerInComposer||a.classProps.commPlatform!=="MESSENGER"||a.classProps.recipientID==null?null:k.jsx("span",{className:"_8ii8",children:k.jsx(b("PagesManagerInboxProductPickerButton.react"),{pageID:a.classProps.userID,recipientID:a.classProps.recipientID})})}e.exports=c}),null);
__d("PagesManagerMessagingNUXActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RESET_STEP:"",SET_IS_VISIBLE:"",SET_ROOT_ELEMENT:"",SET_STEP:"",SET_SHOULD_SHOW_BANNER:"",SET_SHOULD_SHOW_CONTEXT_CARD_STEP:"",SET_DEPENDENCY_READY:{COMPOSER:"",CONTEXT_CARD:"",THREADLIST:""}});e.exports=a}),null);
__d("PagesManagerMessagingNUXDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingNUXActions",["PagesManagerMessagingNUXActionTypes","PagesManagerMessagingNUXDispatcher"],(function(a,b,c,d,e,f){"use strict";a={resetStep:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").RESET_STEP})},setComposerReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.COMPOSER})},setContextCardReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.CONTEXT_CARD})},setThreadlistReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.THREADLIST})},setIsVisible:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_IS_VISIBLE,isVisible:a})},setRootElement:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_ROOT_ELEMENT,rootElement:a})},setStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_STEP,step:a})},setShouldShowBanner:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_BANNER,shouldShow:a})},setShouldShowContextCardStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:a})}};e.exports=a}),null);
__d("XPagesMessagingBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/message/isblocked/",{recipient_id:{type:"String",required:!0}})}),null);
__d("PagesManagerMessagingComposerContainer.react",["invariant","ActorURI","AsyncRequest","BIZInboxClientLogger","DragDropTarget","FluxContainer","MBNotifLoggingUtils","MediaManagerInboxContext.react","MercuryIDs","MercuryLocalIDs","MercuryMessageObject","MercuryThreadIDMap","MercuryTriodeSourceUtil","MessengerConstants","MessengerParticipants.bs","PagesCommsInboxTypedLogger","PagesEventObserver","PagesManagerDisableComposerView.react","PagesManagerInboxComposerStateReasonType","PagesManagerInboxLogger","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerDispatcher","PagesManagerMessagingComposerStore","PagesManagerMessagingComposerView.react","PagesManagerMessagingNUXActions","PagesMarketingAutomationActions","PagesMarketingAutomationUtils","PagesMessagingConfig","PagesMessagingPerfTypedLogger","PagesMessengerShareLinkUploader","React","ReactDOM","SavedResponsesUtils","SubscriptionsHandler","TypingDetectorController","URI","XPagesMessagingBlockController","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a,c){var d=a?a.isShareLinkUploading:!1,e=a?a.isBlocked:!1;return{attachments:b("PagesManagerMessagingComposerStore").getAllAttachmentsMeta(),automatedCheckoutID:b("PagesManagerMessagingComposerStore").getAutomatedCheckoutId(),isAttachmentUploading:b("PagesManagerMessagingComposerStore").getIsAttachmentUploading(),isSavedReplyResponsesLoading:a?a.isSavedReplyResponsesLoading:!1,isSavedReplyTokensLoading:a?a.isSavedReplyTokensLoading:!1,isQuickReplyMode:b("PagesManagerMessagingComposerStore").getQuickReplyMode(),isShareLinkUploading:d,message:b("PagesManagerMessagingComposerStore").getMessage(),participant:b("PagesManagerMessagingComposerStore").getParticipant(),savedReplyTokens:b("PagesManagerMessagingComposerStore").getSavedReplyTokens(),savedReplyResponses:b("PagesManagerMessagingComposerStore").getSavedReplyResponses(),matchingShortcut:b("PagesManagerMessagingComposerStore").getMatchingShortcut(),supportMultiAttachments:c.commPlatform!=="WEC",uploaderActionURI:b("PagesManagerMessagingComposerStore").getUploadActionFromUserID(c.commPlatform,c.userID),isBlocked:e,composerStateReason:b("PagesManagerMessagingComposerStore").getComposerStateReason()}};function c(c){var d;d=a.call(this,c)||this;d.$6=!1;d.$10=function(a){d.$4&&d.$4.destroy(),d.$4=null,d.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&a&&(d.$4=new(b("TypingDetectorController"))(d.props.thread,b("MercuryIDs").getUserIDFromThreadID(d.props.threadID),a,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),null,b("MercuryThreadIDMap").getForFBID(d.props.userID).getServerIDFromClientIDNow(d.props.threadID),function(){return d.state.message},d.props.userID))};d.__onSendMessageHandleException=function(a){try{d.__onSendMessage(a)}catch(a){new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_exception").setExceptionMessage(a.message).setStack(a.stack).log()}};b("PagesManagerMessagingComposerDispatcher").explicitlyRegisterStores([b("PagesManagerMessagingComposerStore")]);d.$3=new(h||(h=b("URI")))(window.location.href);return d}var d=c.prototype;d.componentDidMount=function(){b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader(),this.$5(this.props.userID),this.$6=!0,this.__fetchSavedReplyTokens(),this.__fetchSavedReplies()};d.componentDidUpdate=function(a){this.props.recipientID&&this.props.threadID&&(!a.recipientID||!a.threadID)&&(b("PagesManagerMessagingNUXActions").setComposerReady(),this.props.onInitialRender&&this.props.onInitialRender()),this.props.recipientID!==null&&this.props.recipientID!==a.recipientID&&(this.__fetchSavedReplyTokens(),this.isRecipientBlocked(this.props.recipientID))};d.UNSAFE_componentWillReceiveProps=function(a){this.$7(a),a.threadID!==this.props.threadID&&(b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader()),a.userID!==this.props.userID&&this.$5(a.userID)};d.UNSAFE_componentWillUpdate=function(a,b){this.props.onMessageOrAttachmentUpdate&&(b.attachments.length!==this.state.attachments.length||b.message!==this.state.message)&&this.props.onMessageOrAttachmentUpdate()};d.componentWillUnmount=function(){this.__subscriptions&&this.__subscriptions.release(),this.$4&&this.$4.destroy(),this.$6=!1};d.UNSAFE_componentWillMount=function(){this.$7(this.props),this.__subscriptions=new(b("SubscriptionsHandler"))()};d.$8=function(a){this.__subscriptions.addSubscriptions(a.subscribe("one-upload-completed",this.__onFileUploaderOneUploadComplete.bind(this)))};d.$9=function(){var a=this,c=new(b("PagesMessengerShareLinkUploader"))(b("ReactDOM").findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,b("emptyFunction"),b("emptyFunction"),this.props.userID);this.__subscriptions.addSubscriptions(c.subscribe("link-detected",function(){if(!a.$6)return;a.setState({isShareLinkUploading:!0});a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}),c.subscribe("share-loaded",function(){if(!a.$6)return;a.setState({isShareLinkUploading:!1})}),c.subscribe("closed",function(){if(!a.$6)return;a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}));b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnURLDropCallback(function(a){return c.loadShare(a)}));b("PagesManagerMessagingComposerActions").setShareLinkUploader(c)};d.__fetchSavedReplyTokens=function(){var a=this;if(this.state.isSavedReplyTokensLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyTokensLoading:!0});b("SavedResponsesUtils").fetchSavedResponseTokens(this.props.userID,this.props.recipientID,null,"MESSENGER",function(c){a.$6&&a.setState({isSavedReplyTokensLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyTokens(c)})};d.__fetchSavedReplies=function(){var a=this;if(this.state.isSavedReplyResponsesLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyResponsesLoading:!0});b("SavedResponsesUtils").fetchSavedResponse(this.props.userID,function(c){a.$6&&a.setState({isSavedReplyResponsesLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyResponses(c)});b("SavedResponsesUtils").fetchCheckoutForSavedResponse(this.props.userID,function(a,c){b("PagesManagerMessagingComposerActions").setAutomatedCheckoutId(a),b("PagesMarketingAutomationUtils").fetchAndStoreAutomatedCheckoutData(a),b("PagesMarketingAutomationActions").updateAutomationType(c)})};d.$7=function(a){a=a.userID;a||g(0,3793);this.$2=b("MercuryMessageObject").getForFBID(a)};d.$5=function(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);b("MessengerParticipants.bs").get(a,function(a){b("PagesManagerMessagingComposerActions").setParticipant(a)})};d.isSendBlocked=function(){return this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===""&&this.state.attachments.length<1?!0:!1};d.isRecipientBlocked=function(a){a=b("ActorURI").create(b("XPagesMessagingBlockController").getURIBuilder().setString("recipient_id",a).getURI(),this.props.userID);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload;if(!this.$6)return;this.setState({isBlocked:a});return}.bind(this)).send()};d.__onAttachmentDetach=function(a){b("PagesManagerMessagingComposerActions").detachAttachment(a)};d.__onFileUploaderMounted=function(a){this.$8(a),b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnFilesDropCallback(this.$11.bind(this))),b("PagesManagerMessagingComposerActions").fileUploaderReady(a)};d.__onFileUploaderOneUploadComplete=function(a,c){b("PagesManagerMessagingComposerActions").completeAttachment(c)};d.__onFileUploaderSubmit=function(a,c){b("PagesManagerMessagingComposerActions").startAttachment(c.files),this.refs.composer&&this.refs.composer.refs.textInput&&this.refs.composer.refs.textInput.refs.input&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onFileUploadFinished=function(a){a==="all-uploads-completed"&&b("PagesManagerMessagingComposerActions").completeAllAttachments()};d.__onInputValueChange=function(a){b("PagesManagerMessagingComposerActions").setMessage(a.target.value)};d.__onInputValueChangeSmartCompose=function(a){b("PagesManagerMessagingComposerActions").setMessage(a)};d.__onReplySelected=function(a,c){var d=b("PagesManagerMessagingComposerStore").getFileUploader();b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").setMessage(a);c&&d&&d.addCachedAttachments([c]);this.refs.composer&&this.refs.composer.refs.textInput&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onSendMessage=function(a){var c=this.state.message;b("PagesManagerInboxLogger").logSendMessage("MESSENGER",this.props.userID,this.state.isQuickReplyMode);this.context&&this.context.logSendMessageToTargetUser!==b("emptyFunction")&&this.context.logSendMessageToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.selectedFolder);var d=b("PagesManagerMessagingComposerStore").getAttachedAttachmentIds(),e=b("PagesManagerMessagingComposerStore").getAttachedImageIds(),f=b("PagesManagerMessagingComposerStore").getAttachedAnimatedImageIds(),g=b("PagesManagerMessagingComposerStore").getAttachedVideoIds(),h=b("PagesManagerMessagingComposerStore").getAttachedAudioFilesIds(),i=b("PagesManagerMessagingComposerStore").getAttachedFilesIds(),j=b("PagesManagerMessagingComposerStore").getShareLink(),k=this.$2.constructUserGeneratedMessageObject(c,"source:page_unified_inbox",this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!c&&!d.length&&!h.length&&!e.length&&!i.length&&!f.length&&!g.length&&!j)return;c="text";j&&(k.has_attachment=!0,k.shareable_attachment=j,c="xma");d.length>0&&(k.has_attachment=!0,k.raw_attachments=d);e.length>0&&(k.image_ids=e,k.has_attachment=!0,c="photos");f.length>0&&(k.gif_ids=f,k.has_attachment=!0,c="gif");g.length>0&&(k.video_ids=g,k.has_attachment=!0,c="video");h.length>0&&(k.audio_ids=h,k.has_attachment=!0,c="audio");i.length>0&&(k.file_ids=i,k.has_attachment=!0,c="files");b("PagesEventObserver").logData_DEPRECATED({page_id:this.props.userID,event_name:"messages_dialog_send",thread_id:this.props.threadElementID},null);k.offline_threading_id=b("MercuryLocalIDs").generateOfflineThreadingID(k.timestamp);this.props.messageActions.send(k);j=k.has_attachment?"text_with_attachments":"text_only";b("MBNotifLoggingUtils").logAdminReply(j);if(k.thread_id&&k.thread_id.split(":")&&k.thread_id.split(":").length===2){d=k.thread_id.split(":")[1];new(b("PagesCommsInboxTypedLogger"))().setFunnel("page_send_to_user").setCustomerID(d).setMessageID(k.offline_threading_id).setEvent("tapped_send").setClientTime(k.timestamp).setMessagingPlatform("messenger").setPageID(this.props.userID).log()}b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").clearMessage();b("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$4&&this.$4.resetState();this.props.onSendMessage&&this.props.onSendMessage();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("messages_send_message_js_end").setPerfTime(Date.now()-a).log();b("BIZInboxClientLogger").logMessageSend(this.props.userID,"MESSENGER",this.props.threadID,c)};d.__onStickerSelected=function(a){this.context&&this.context.logSendStickerToTargetUser!==b("emptyFunction")&&this.context.logSendStickerToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,a,this.props.selectedFolder);var c=this.$2.constructUserGeneratedMessageObject("","source:titan:web",this.props.threadID,null,this.props.creatorInfo);c.has_attachment=!0;c.sticker_id=a;this.props.messageActions.send(c);b("BIZInboxClientLogger").logMessageSend(this.props.userID,"MESSENGER",this.props.threadID,"sticker");b("PagesManagerMessagingComposerActions").clearMessage();b("MBNotifLoggingUtils").logAdminReply("sticker_or_like")};d.$11=function(a){this.refs.composer&&this.refs.composer.refs.fileUploader&&this.refs.composer.refs.fileUploader.addFiles(a)};d.render=function(){var a=this;if(this.props.shouldArchiveInboxForProfessionalProfile)return i.jsx(b("PagesManagerDisableComposerView.react"),{composerStateReason:this.state.composerStateReason});if(this.props.commPlatform==="WEC")if(this.state.composerStateReason!==null)return this.state.composerStateReason===b("PagesManagerInboxComposerStateReasonType").DISABLE_LEFT_GROUP?i.jsx(b("PagesManagerDisableComposerView.react"),{composerStateReason:this.state.composerStateReason}):i.jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return a.$9()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$10,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer"}));else return null;return this.props.commPlatform==="INSTAGRAM_DIRECT"?null:i.jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSavedReplyNewUI:this.props.isSavedReplyNewUI,isSendBlocked:this.isSendBlocked(),matchingShortcut:this.state.matchingShortcut,onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onInitialRender:function(){return a.$9()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$10,onInputSmartComposeChange:this.__onInputValueChangeSmartCompose,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer",threadID:this.props.threadID}))};return c}(i.Component);c.contextType=a;c.propTypes={accessToken:(d=b("prop-types")).string,canAttachFiles:d.bool,canCreateAppointment:d.bool,canSendAvailability:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,creatorInfo:d.object,isEligibleForOrderDetailsInComposer:d.bool,maxLength:d.number,onInitialRender:d.func,onMessageOrAttachmentUpdate:d.func,shouldShowBonusTracker:d.bool,shouldShowCommerceInvoiceButton:d.bool,shouldShowCommerceInvoiceButtonPUX:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowProductPickerInComposer:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,shouldShowCommerceInvoiceSimplifiedFlow:d.bool,shouldShowOrderDetailsInComposer:d.bool,shouldUseSmartComposeTextInput:d.bool,shouldUseKbankOnboarding:d.bool,thread:d.object,threadElementID:d.string,threadID:d.string,userID:d.string};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PageManagerInboxMessageLoadIndicator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.$1=function(a){var b=h.jsxs("div",{className:"_1vrr",children:[h.jsx("div",{className:"_31m8"}),h.jsx("div",{className:"_31ma"}),h.jsx("div",{className:"_31mb"}),h.jsx("div",{className:"_31mc"}),h.jsx("div",{className:"_31me"}),h.jsx("div",{className:"_31mf"}),h.jsx("div",{className:"_31mg"}),h.jsx("div",{className:"_31mh"}),h.jsx("div",{className:"_31mi"}),h.jsx("div",{className:"_31mj"}),h.jsx("div",{className:"_31mk"}),h.jsx("div",{className:"_31ml"}),h.jsx("div",{className:"_31mm"}),h.jsx("div",{className:"_31mn"}),h.jsx("div",{className:"_31mo"}),h.jsx("div",{className:"_31mp"}),h.jsx("div",{className:"_31mq"})]}),c=[];for(var d=0;d<a;d++)c.push(h.cloneElement(b,{key:"loading"+d}));return h.jsx("div",{className:"_1vrs",children:c})};c.render=function(){var a=Math.floor(this.props.height/130);return h.jsx("div",{className:"_31m6",style:{height:this.props.height},children:h.jsx("div",{className:"_31m7",style:{height:130*a},children:this.$1(a)})})};return b}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingMessageDateBreak.react",["cx","CenteredContainer.react","MessengerDateBreak.re","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerDateBreak.re").make,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("CenteredContainer.react"),{vertical:!1,children:i.jsx(h,{className:"_1wpi",date:this.props.date})})};return c}(i.Component);e.exports=a}),null);
__d("PagesManagerMessagingMessageGroup.react",["MessengerMessageGroup.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("MessengerMessageGroup.react"),babelHelpers["extends"]({},this.props))};return c}(g.Component);e.exports=a}),null);
__d("PagesManagerWECMessage.react",["cssVar","cx","fbt","EmojiLikeUtils","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageDeliveryState","MercuryMessageError.react","MercuryTimestamp","MessengerAttachmentAttribution.re","MessengerAttachmentRenderer","MessengerBubble.react","MessengerDecorator","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerVideoAutoplayStore","React","SubscriptionsHandler","TooltipData","emptyFunction","getViewportDimensions","ifRequired","immutable","joinClasses","messengerRTLClasses","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerAttachmentAttribution.re").make,k=b("React");function l(a){switch(a){case b("MercuryMessageDeliveryState").SENDING:return i._("Sending");case b("MercuryMessageDeliveryState").SENT:return i._("Sent");case b("MercuryMessageDeliveryState").DELIVERED:return i._("Delivered");case b("MercuryMessageDeliveryState").ERROR:return i._("This message didn't send. Check your internet connection and click to try again.")}return null}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isVisible:!1,plainText:!1,shown:{}},c.$9=function(a){c.messageBody=a},c.$12=function(a,b){c.setState(function(c){return c={shown:c.shown},c[a]=b,c})},c.$7=function(){c.props.onSelect(c.props.message.message_id)},b)||babelHelpers.assertThisInitialized(c)}c.calculateState=function(a){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||b("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var d=c.prototype;d.componentDidMount=function(){this.$2()};d.shouldComponentUpdate=function(a,c){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!b("immutable").is(a.readReceipts,this.props.readReceipts)||!b("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||c.isVisible!==this.state.isVisible||!b("shallowEqual")(c.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$2=function(){var a=this;this.setState(c.calculateState(this.props));var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("MessengerVideoAutoplayStore").addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=d};d.$3=function(){var a=this.props,b=a.isFromViewer;a=a.showDeliveryState;if(b&&!a)return k.jsx("span",{className:"_7qwh",children:k.jsx("svg",{height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#4FC3F7"})})})};d.$4=function(a){return a.every(function(a){return!a||!b("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};d.$5=function(){return this.props.message.attachments.length===1&&b("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};d.$6=function(a,c){if(n(this.props.message))return null;c=[];var d=b("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$7,onUnwrap:null,pageID:this.props.pageID});if(!d||!d.length)return null;var e=this.$4(d);if(a){var f=d.some(function(a){return!!a&&b("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});this.$5()&&(d=[k.jsxs("span",{children:[d[0],k.jsx(j,{attachment:new(b("ImmutableObject"))(this.props.message.attachments[0])})]},"AttachmentWithAttribution")]);d=e?k.jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses").apply(void 0,["_3zvs"+(f?" _2-x3":"")].concat(c)),children:d})):d.map(function(b){return b&&k.cloneElement(b,a)})}e=b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);f=k.jsx("div",{className:"_3058 _15gf"+(e?" _3duc":""),children:d},"renderedAttachments");return f};d.$8=function(a,c){var d=this.props.message,e=b("immutable").List(b("MessengerAttachmentRenderer").getAttachmentsInsideBubble(d,this.props.onAttachmentLoad)),f=d.ranges;if(d.is_filtered_content)return k.jsx("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix",children:b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(d)});var g=d.body&&!b("EmojiLikeUtils").isEmojiLike(d);return g||!e.isEmpty()?k.jsx(b("MessengerBubble.react"),{attachments:e,body:d.body,bodyRef:this.$9,className:"_3058 _ui9"+(d.isSelected?" _3xsz":""),customColor:this.props.isFromViewer?this.props.customColor:"",customLike:d.customLike,excludeAfterDecorators:c,isFromViewer:this.props.isFromViewer,isHovered:this.state.shown[d.message_id],isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,isShowingOriginal:this.state.plainText,message:d,metaRanges:d.meta_ranges,onReplyToMessage:this.props.onReplyToMessage,participants:this.props.participants,plainText:this.state.plainText,ranges:f,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,thread:this.props.thread,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:d.thread_id,tooltip:a,wecFirstMessage:this.props.wecFirstMessage}):null};d.$10=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState)return null;var a=b("MessengerMessage.bs").getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(a===b("MercuryMessageDeliveryState").UNKNOWN)return null;var c=l(a);return k.jsxs("span",{"aria-label":c,className:"_7qwi",title:c,children:[a===b("MercuryMessageDeliveryState").SENDING?k.jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M9.75 7.713H8.244V5.359a.5.5 0 0 0-.5-.5H7.65a.5.5 0 0 0-.5.5v2.947a.5.5 0 0 0 .5.5h.094l.003-.001.003.002h2a.5.5 0 0 0 .5-.5v-.094a.5.5 0 0 0-.5-.5zm0-5.263h-3.5c-1.82 0-3.3 1.48-3.3 3.3v3.5c0 1.82 1.48 3.3 3.3 3.3h3.5c1.82 0 3.3-1.48 3.3-3.3v-3.5c0-1.82-1.48-3.3-3.3-3.3zm2 6.8a2 2 0 0 1-2 2h-3.5a2 2 0 0 1-2-2v-3.5a2 2 0 0 1 2-2h3.5a2 2 0 0 1 2 2v3.5z",fill:"#859479"})}):null,a===b("MercuryMessageDeliveryState").SENT?k.jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M10.91 3.316l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null,a===b("MercuryMessageDeliveryState").DELIVERED?k.jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null]})};d.$11=function(){var a=this.props.message;return!b("MessengerMessage.bs").hasError(a)?null:k.jsx(b("MercuryMessageError.react"),{authorFBID:this.props.authorFBID,className:"_3058 _2ygi",message:a})};d.render=function(){var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]);e=b("TooltipData").propsFor(e,m(d));var f=[],g=[],h=this.props.message,j=d||!1,l=this.props.scrollToRepliedMessage;h&&!this.props.hideBeforeDecorator&&(b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(h)&&f.push(a.render(h,j,{scrollToRepliedMessage:l}))}),b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(h)&&g.push(a.getAdditionalClassNames())}));var n=this.$8(e,!1),o=this.$6(e,null);o&&(n=this.$8(e,!0));return k.jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7"),b("messengerRTLClasses")(a.body)].concat(g)),isFromViewer:d,message:a,onShowMenu:this.$12,children:[f,n,o,this.$11(),this.$10(),this.$3()]})};return c}(k.Component);a.defaultProps={onAttachmentLoad:b("emptyFunction"),threadCustomColor:"#0084ff"};function m(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)?"above":a?"right":"left"}function n(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.subattachments)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"&&a.attachments[0].share.subattachments.length===0}}e.exports=a}),null);
__d("PagesManagerWECMessageGroup.react",["cx","MercuryIDs","MessengerParticipants.bs","PagesManagerWECMessage.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={participants:i(c.props)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.calculateState=function(a){return{participants:i(a)}};d.$1=function(){var a=this,c=this.props.messages.size,d=[],e=this.props.messages.last();e.has_attachment===!0&&(e.video_ids||e.image_ids)&&(e.body=null);this.props.messages.forEach(function(e,f,g){var i=e.message_id===a.props.activeMessageID,j=b("MercuryIDs").getUserIDFromParticipantID(a.props.author),k=a.props.onAttachmentLoad,l=e===a.props.messages.first();d.push(h.jsx(b("PagesManagerWECMessage.react"),{authorFBID:j===null?void 0:j,customColor:"",deliveryTimestamp:a.props.deliveryTimestamp,isActive:i,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,message:e,nextTimestamp:a.$2(g,c,f),onAttachmentLoad:k,onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,pageID:a.props.pageID,participants:a.state.participants,readReceipts:a.props.readReceipts,ref:e.message_id,showDeliveryState:e.timestamp>a.props.lastReadTimestamp,threadCustomColor:"",wecFirstMessage:l},e.message_id))});return d};d.$2=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};d.render=function(){return h.jsx("div",{children:h.jsx("div",{className:"_1t_p clearfix",children:h.jsx("div",{className:"_41ud _38-y",children:this.$1()})})})};return c}(h.PureComponent);function i(a){var c=b("MercuryIDs").getParticipantIDFromFromThreadID(a.messages.first().thread_id);return b("immutable").Map().withMutations(function(d){a.readReceipts.forEach(function(a,c){d.set(c,b("MessengerParticipants.bs").getNow(c))}),d.set(c,b("MessengerParticipants.bs").getNow(c))})}e.exports=a}),null);
__d("PagesManagerMessagingMessageList.react",["cx","BIZInboxClientLogger","ChatTypingIndicatorsWrapper.bs","DOM","Event","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerCollapsedLogMessageGroup.react","MessengerDeliveryReceipt.bs","MessengerLogMessage.react","MessengerSpinner.react","MessengerTypingIndicatorReact.re","PageManagerInboxMessageLoadIndicator.react","PagesManagerMessagingMessageDateBreak.react","PagesManagerMessagingMessageGroup.react","PagesManagerWECMessageGroup.react","React","ReactDOM","ScrollableArea.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ChatTypingIndicatorsWrapper.bs").jsComponent,i=b("MessengerTypingIndicatorReact.re").component,j=b("React");a="WEC_message_view";c=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.$1=!0;b.prevScrollTop=0;b.prevScrollHeight=0;return b}var d=c.prototype;d.componentDidMount=function(){this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),b("BIZInboxClientLogger").logMessageListRenderView(this.props.pageID,this.props.commPlatform,this.props.threadID)};d.componentDidUpdate=function(a){var b=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,c=a.messagelist.last()&&a.messagelist.last().thread_fbid;a.messagelist.size===0&&this.props.messagelist.size!==0||b!==c||a.threadID!==this.props.threadID||a.footerChildren!==this.props.footerChildren?(this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),this.$2()):this.props.messagelist.size!==a.messagelist.size&&(this.$3(this.prevScrollHeight,this.prevScrollTop),this.$2())};d.$3=function(a,b){if(!this.refs.scrollableArea)return;var c=this.refs.scrollableArea.getArea();a=c.getScrollHeight()-a+b;c.setScrollTop(a,!1)};d.$4=function(){if(!this.refs.scrollableArea)return;var a=this.refs.scrollableArea.getArea(),b=this.prevScrollTop,c=this.prevScrollHeight;this.$5();a.isScrolledToTop()?(this.$6(),this.props.fetchEarlierMessages()):a.isScrolledToBottom()?this.$7():(a.getScrollTop()===b&&a.getScrollHeight()!==c&&this.$3(c,b),this.$6())};d.$7=function(){this.$1||(this.$1=!0)};d.$6=function(){this.$1&&(this.$1=!1)};d.$5=function(){var a=this.refs.scrollableArea;this.prevScrollHeight=a?a.getArea().getScrollHeight():0;this.prevScrollTop=a?a.getArea().getScrollTop():0};d.$8=function(a){var b=this;return function(){if(b.props.threadID!==a)return;b.$1&&(b.refs.scrollableArea&&b.refs.scrollableArea.getArea()&&b.refs.scrollableArea.getArea().scrollToBottom())}};d.$2=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){a.props.threadID===d&&a.$1&&(a.refs.scrollableArea&&a.refs.scrollableArea.getArea()&&a.refs.scrollableArea.getArea().scrollToBottom()),e.remove()})})};d.$9=function(){return j.jsx(b("PageManagerInboxMessageLoadIndicator.react"),{height:this.props.scrollHeight})};d.$10=function(){return!this.props.isLoadingMore?null:j.jsx("div",{className:"_2k8v",children:j.jsx(b("MessengerSpinner.react"),{})})};d.$11=function(){var a=this;if(this.props.messagelist.size===0)throw new Error("Empty message list");return j.jsxs("div",{className:"clearfix _1ej0 _2mpc",children:[j.jsx(b("MessageList.react"),{DateBreak:b("PagesManagerMessagingMessageDateBreak.react"),deliveryTimestamp:this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,this.props.threadID):0,isCanonical:!0,isPageMessage:!0,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),LogMessage:b("MessengerLogMessage.react"),MessageGroup:this.props.commPlatform==="WEC"?b("PagesManagerWECMessageGroup.react"):b("PagesManagerMessagingMessageGroup.react"),onAttachmentLoad:this.$8(this.props.threadID),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),j.jsx(h,{indicatorClass:i,indicatorsWillShow:function(){},indicatorsDidShow:function(){a.$1&&a.refs.scrollableArea&&a.refs.scrollableArea.getArea().scrollToBottom()},rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID})]})};d.render=function(){var a=this;return this.props.initLoading?this.$9():j.jsxs("div",{className:this.props.commPlatform==="WEC"?"_66_6":"","data-testid":void 0,children:[j.jsxs(b("ScrollableArea.react"),{className:"_11y7",fade:!1,height:this.props.scrollHeight,onScroll:b("debounce")(function(){return a.$4()},500),ref:"scrollableArea",shadow:!1,children:[this.$10(),j.jsx("div",{className:"_14y3",children:this.props.threadID?this.$11():j.jsx("div",{})}),this.props.footerChildrenSpacer]}),this.props.footerChildren]})};return c}(j.Component);e.exports=c}),null);
__d("PagesManagerOmniMActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PAGES_MANAGER_OMNI_M_INIT:null,PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY:null,PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME:null,PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS:null,PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA:null,PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO:null,PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT:null,PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL:null});e.exports=a}),null);
__d("PagesManagerOmniMStore",["FluxReduceStore","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({conversionData:null,isEligibleForAdminMSuggestion:!1,pageID:null,showSuggestionBar:!1,startTime:null,suggestions:null,threadFBID:null,partnerAppLogo:null,messageID:null,shouldShowEyebrowTextForBusinessSticker:!1,suggestionSpacerHeight:null,upsellSpecificData:null,senderID:null}));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new q()};c.reduce=function(a,b){var c=b.payload;switch(b.type){case g:return a.set("threadFBID",c.threadFBID).set("pageID",c.pageID);case i:return a.set("isEligibleForAdminMSuggestion",c.isEligibleForAdminMSuggestion);case m:return a.set("showSuggestionBar",c.showSuggestionBar);case o:return a.set("suggestions",c.suggestions).set("messageID",c.messageID).set("senderID",c.senderID);case k:return a.set("startTime",c.startTime);case h:return a.set("conversionData",c.conversionData);case j:return a.set("partnerAppLogo",c.partnerAppLogo);case l:return a.set("shouldShowEyebrowTextForBusinessSticker",c.shouldShowEyebrowTextForBusinessSticker);case n:return a.set("suggestionSpacerHeight",c.height);case p:return a.set("upsellSpecificData",c.upsellSpecificData);default:return a}};c.getIsDifferentThread=function(a,b){var c=this.getState();return a!==c.threadFBID||b!==c.pageID};c.getShowSuggestionBar=function(){var a=this.getState();return a.isEligibleForAdminMSuggestion&&a.showSuggestionBar};c.getSuggestions=function(){return this.getState().suggestions};c.getMessageID=function(){return this.getState().messageID};c.getSenderID=function(){return this.getState().senderID};c.getQuickScheduleStartTime=function(){return this.getState().startTime};c.getConversionData=function(){return this.getState().conversionData};c.getPartnerAppLogo=function(){return this.getState().partnerAppLogo};c.getShouldShowEyebrowTextForBusinessSticker=function(){return this.getState().shouldShowEyebrowTextForBusinessSticker};c.getSuggestionSpacerHeight=function(){return this.getState().suggestionSpacerHeight};c.getTriggerSavedRepliesUpsell=function(){return this.getState().upsellSpecificData};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerOmniMSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1633243126804880"};b.getQueryID=function(){return"243928156353631"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMessengerAdConfirmConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/confirm_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},conversion_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessengerAdDismissConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/dismiss_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},mid:{type:"String",required:!0},sender_id:{type:"FBID",required:!0},suggestion_type:{type:"String"}})}),null);
__d("PagesManagerOmniMActions",["ActorURI","AsyncRequest","MercuryMessageActions","MercuryMessageObject","MercuryTriodeSourceUtil","PagesEventObserver","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","PagesManagerOmniMStore","PagesManagerOmniMSuggestionQueryWebGraphQLQuery","WebGraphQL","XMessengerAdConfirmConversionSuggestionController","XMessengerAdDismissConversionSuggestionController"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q={init:function(a,c){b("PagesManagerOmniMStore").getIsDifferentThread(a,c)&&(q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g,payload:{threadFBID:a,pageID:c}}));return b("WebGraphQL").exec(new(b("PagesManagerOmniMSuggestionQueryWebGraphQLQuery"))({page_id:c})).then(function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};a=a.isEligibleForAdminMSuggestionWWW;b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:i,payload:{isEligibleForAdminMSuggestion:a||!1}})},function(a){var d;d=(d=a)!=null?(d=d.errors)!=null?(d=d[0])!=null?d.description:d:d:d;a=(a=a)!=null?(a=a.errors)!=null?(a=a[0])!=null?a.message:a:a:a;b("PagesEventObserver").notify("booking_admin_intent_suggestion_bar_init_error",c,{description:d,message:a})})},dismissSuggestionBar:function(){q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!1}})},setShouldShowBusinessStickerEyebrowText:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:l,payload:{shouldShowEyebrowTextForBusinessSticker:a}})},showSuggestionBar:function(a,c,d,e){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!0}}),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:a,messageID:d,senderID:e}}),c&&b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:j,payload:{partnerAppLogo:c}})},setQuickScheduleStartTime:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:k,payload:{startTime:a}})},setMessengerConversionData:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:h,payload:{conversionData:a}})},setSuggestionSpacerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:n,payload:{height:a}})},triggerSavedRepliesUpsell:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:p,payload:{upsellSpecificData:a}})},messengerConversionQPConfirmOrder:function(a,c){c=b("XMessengerAdConfirmConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setEnum("conversion_type","CONFIRM_ORDER").getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).send()},clearMessengerConversionSuggestion:function(a,c,d,e,f,g){if(e===null||f===null)return;a=b("XMessengerAdDismissConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setString("suggestion_type",d).setString("mid",e).setFBID("sender_id",f).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){g&&g()}).send()},_clearAllData:function(){q.setQuickScheduleStartTime(null),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:null}})},sendMessageWithSuggestedReply:function(a,c,d,e,f){var g=new(b("MercuryMessageObject"))(c);a=a==="suggested_reply_business_sticker"?g.constructStickerMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e):g.constructCTAConfirmationMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e);new(b("MercuryMessageActions"))(c).send(a,f)}};e.exports=q}),null);
__d("ServicesAdminMOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_REMINDER:"add_reminder",CREATE_APPOINTMENT_DIRECT:"create_appointment_direct",CREATE_APPOINTMENT_DIFFERENT_TIME:"create_appointment_different_time",SCHEDULE_APPOINTMENT:"schedule_appointment",SEND_AVAILABILITY:"send_availability",TIMESTAMP_OPTIONS:"timestamp_options",MESSENGER_DETECTED_CONVERSION:"messenger_detected_conversion",SUGGESTED_REPLY_LOCATION:"suggested_reply_location",SUGGESTED_REPLY_USER_FAQ:"suggested_reply_user_faq",SUGGESTED_REPLY_USER_FAQ_SAVED_REPLY:"suggested_reply_user_faq_saved_reply",SUGGESTED_REPLY_BUSINESS_STICKER:"suggested_reply_business_sticker"})}),null);
__d("PagesManagerOmniMUtils",["fbt","ServicesAdminMOptions","ServicesDateTimeUtils","formatDate"],(function(a,b,c,d,e,f,g){"use strict";var h={isValidOmniMSuggestionType:function(a){return!a||!Object.values(b("ServicesAdminMOptions")).includes(a)?!1:a==="create_appointment_direct"||a==="create_appointment_different_time"||a==="send_availability"||a==="schedule_appointment"||a==="suggested_reply_location"||a==="suggested_reply_user_faq"||a==="suggested_reply_user_faq_saved_reply"||a==="messenger_detected_conversion"||a==="suggested_reply_business_sticker"},isMessengerQuickBannerType:function(a){return Object.keys(a).length===1&&Object.prototype.hasOwnProperty.call(a,"messenger_detected_conversion")},filterValidOmniMSuggestions:function(a){return Object.keys(a).filter(function(a){return h.isValidOmniMSuggestionType(a)}).reduce(function(b,c){b[c]=a[c];return b},{})},getFallbackSuggestions:function(){var a={};a.schedule_appointment=g._("Schedule Appointment");return a},replaceCreateAppointmentDirectText:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;c=b("ServicesDateTimeUtils").getRelativeDayTimeText(c);var d=c.relativeDayText;c=c.startTimeText;d=g._("Schedule: {relative-day} at {start-time}",[g._param("relative-day",d),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a},replaceCreateAppointmentDirectTextForInlineMessage:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;var d={withinWeek:"l",thisYear:"F d",future:"F d, Y"},e=b("ServicesDateTimeUtils").getRelativeDayText(c,b("ServicesDateTimeUtils").getDefaultTimezoneID(),!1);d=b("formatDate")(c,d);c=b("formatDate")(c,"g:i A");d=e==null?g._("on {date} at {start-time}",[g._param("date",d),g._param("start-time",c)]):g._("{relative-day} at {start-time}",[g._param("relative-day",e),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a}};e.exports=h}),null);
__d("XMessengerAdShouldShowEyebrowTextForBusinessStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/should_show_eyebrow_text_for_business_sticker/",{})}),null);
__d("PagesManagerInboxMessengerContainer.react",["cx","AsyncRequest","BootloadOnRender.react","ChatAppointmentUtil","ErrorBoundary.react","FluxContainer","ImmutableObject","Instant","JSResource","LazyComponent.react","MBNotifLoggingUtils","MercuryIDs","MercuryMessageStore","MercuryPageMessageActions","MercuryServerPayloadPreprocessor","MercuryWECMessageActions","MessengerConfig","MessengerHotLikePreviewEvents","MessengerMessageTransformer.bs","MessengerReadReceipt.bs","MessengerState.bs","PagesManagerContentSearchContainer.react","PagesManagerInboxAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxMessengerDetailView.react","PagesManagerMessagingComposerContainer.react","PagesManagerMessagingMessageList.react","PagesManagerMessagingMessagelistAction","PagesManagerMessagingMessagelistStore","PagesManagerOmniMActions","PagesManagerOmniMStore","PagesManagerOmniMUtils","PagesMessagingPerfTypedLogger","QE2Logger","React","SubscriptionsHandler","XMessengerAdShouldShowEyebrowTextForBusinessStickerController","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=5,j="services_thread_intent_improvement",k=4e3,l=0,m=0,n="inbox";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c)||this;e.$8=function(){e.state.isLoadingMore||e.getMessageStore().fetchMoreMessages()&&(b("PagesManagerMessagingMessagelistAction").setIsLoading(!1),b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!0))};e.$3=!1;e.$4=Date.now();e.$5=!1;b("PagesManagerOmniMActions").init(c.threadFBID,c.pageID);return e}c.getStores=function(){return[b("PagesManagerMessagingMessagelistStore"),b("PagesManagerOmniMStore")]};c.calculateState=function(a,c){a=[];var d=c.threadFBID,e=null,f=null,g=null,h=!1,i=null,j=null,k=null;d=b("MercuryIDs").getThreadIDFromUserID(d);a=b("PagesManagerMessagingMessagelistStore").getMessagelist(c.pageID,d);e=b("MessengerState.bs").getThreadMetaNow(c.pageID,d);f=b("PagesManagerOmniMStore").getQuickScheduleStartTime();g=b("PagesManagerOmniMStore").getSuggestions();k=b("PagesManagerOmniMStore").getMessageID();h=b("PagesManagerOmniMStore").getShowSuggestionBar()&&!!g&&Object.keys(g).length>0&&(!!f||Object.prototype.hasOwnProperty.call(g,"suggested_reply_location")||Object.prototype.hasOwnProperty.call(g,"suggested_reply_user_faq")||Object.prototype.hasOwnProperty.call(g,"suggested_reply_user_faq_saved_reply")||Object.prototype.hasOwnProperty.call(g,"messenger_detected_conversion")||Object.prototype.hasOwnProperty.call(g,"suggested_reply_business_sticker"));i=b("PagesManagerOmniMStore").getConversionData();j=b("PagesManagerOmniMStore").getPartnerAppLogo();return{conversionData:i,isLoadingMore:b("PagesManagerMessagingMessagelistStore").isLoadingMore(),messagelist:a,scrollHeight:b("PagesManagerMessagingMessagelistStore").getScrollHeight(),showSuggestionBar:h,startTime:f,suggestions:g,thread:e,contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex(),partnerAppLogo:j,messageID:k,senderID:b("PagesManagerOmniMStore").getSenderID(),shouldShowEyebrowTextForBusinessSticker:(c=b("PagesManagerOmniMStore").getShouldShowEyebrowTextForBusinessSticker())!=null?c:!1,suggestionSpacerHeight:(d=b("PagesManagerOmniMStore").getSuggestionSpacerHeight())!=null?d:0,upsellSpecificData:b("PagesManagerOmniMStore").getTriggerSavedRepliesUpsell()}};var d=c.prototype;d.componentDidMount=function(){var a=this.props.threadFBID;a&&this.$6(b("MercuryIDs").getThreadIDFromUserID(a));this.$4=Date.now();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setThreadID(a).setPlatform("MESSENGER").setEventName("messages_messagelist_load_start").setThreadOffset(0).log()};d.componentWillUnmount=function(){this.$2&&this.$2.destroy(),this.$1&&this.$1.release(),b("PagesManagerOmniMActions").dismissSuggestionBar(),this.$7("inbox")};d.UNSAFE_componentWillReceiveProps=function(a){a=a.threadFBID;var c=this.props.threadFBID;a&&a!==c&&(this.$6(b("MercuryIDs").getThreadIDFromUserID(a)),this.$7("thread"))};d.$7=function(a){if(this.$5)return;b("MBNotifLoggingUtils").logNavTargetExit(a,this.$4);this.$5=!0};d.getMessageStore=function(){return this.$2};d.$9=function(a){b("PagesManagerMessagingMessagelistAction").setScrollAreaHeight(a)};d.$10=function(a){if(this.props.activeCommPlatform!=="MESSENGER")return;var c=this.$11(a);if(!c){b("PagesManagerOmniMActions").dismissSuggestionBar();return}var d=c.conversionData,e=c.startTime,f=c.suggestions,g=c.partnerAppLogo,h=c.messageID;c=c.senderID;if(f&&Object.keys(f).length>0){if(this.$12(a)){a=b("XMessengerAdShouldShowEyebrowTextForBusinessStickerController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){b("PagesManagerOmniMActions").setShouldShowBusinessStickerEyebrowText(a.payload.shouldShowEyebrowTextForBusinessSticker)}).send()}else b("PagesManagerOmniMActions").setShouldShowBusinessStickerEyebrowText(!1);b("PagesManagerOmniMActions").setQuickScheduleStartTime(e);b("PagesManagerOmniMActions").setMessengerConversionData(d);b("PagesManagerOmniMActions").showSuggestionBar(f,g,h,c)}else b("PagesManagerOmniMActions").dismissSuggestionBar()};d.$6=function(a){var c=this;this.$2&&this.$2.destroy();this.$1&&this.$1.release();this.$2=new(b("MercuryMessageStore"))(a,b("MessengerConfig").MessageLoadCount,this.props.pageID);var d=b("PagesManagerMessagingMessagelistStore").getMessagelist(this.props.pageID,a);d.length===0&&(b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!1),b("PagesManagerMessagingMessagelistAction").setIsLoading(!0));this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(this.$2.subscribe(function(d){c.$3||(c.$3=!0,new(b("PagesMessagingPerfTypedLogger"))().setPageID(c.props.pageID).setThreadID(a).setPlatform("MESSENGER").setEventName("messages_messagelist_load_end").setPerfTime(Date.now()-c.$4).log()),b("PagesManagerMessagingMessagelistAction").setIsLoading(!1),b("PagesManagerMessagingMessagelistAction").setIsLoadingMore(!1),b("PagesManagerMessagingMessagelistAction").updateMessagelist(c.props.pageID,a,d),b("PagesManagerInboxLogger").itemRendered(c.props.threadFBID),c.$10(d)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").START,function(c,d){a===d&&b("PagesManagerMessagingMessagelistAction").setHotLikeStart(c)}),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP,function(c){a===c&&b("PagesManagerMessagingMessagelistAction").setHotLikeEnd()}))};d.$13=function(a,c,d){d=b("MessengerReadReceipt.bs").getSeenTimestamps(d,a);var e=new Set(d.keys());return d.withMutations(function(a){b("immutable").Seq(c).reverse().forEach(function(b){if(e.size===0)return!1;if(!e.has(b.author))return!0;a.update(b.author,function(a){return!a||a.watermark<=b.timestamp?{watermark:b.timestamp,action:b.timestamp}:a});e["delete"](b.author);return!0})})};d.$12=function(a){a=a.messages;if(!a||a.length===0)return!1;a=a[a.length-1].meta_ranges;if(!a||a.length===0)return!1;a=b("ChatAppointmentUtil").parseJSON(a[0].data.m_suggestion_data);return a&&Object.prototype.hasOwnProperty.call(a,"suggested_reply_business_sticker")};d.$11=function(a){a=a.messages;if(!a||a.length===0)return null;var c=this.state.messagelist.length===0;for(var d=a.length-1;d>=0;d--){var e=a[d];if(d>=a.length-1||c&&d>=a.length-i||e.is_unread){var f=e.meta_ranges;if(!f||f.length===0)continue;f=f[0].data;var g=b("ChatAppointmentUtil").parseJSON(f.m_suggestion_data);if(!g)continue;var h=f.partner_app_logo_url;g=b("PagesManagerOmniMUtils").filterValidOmniMSuggestions(g);if(Object.keys(g).length===0)continue;var k=f.start_time;!Object.prototype.hasOwnProperty.call(g,"suggested_reply_location")&&!Object.prototype.hasOwnProperty.call(g,"suggested_reply_user_faq")&&!Object.prototype.hasOwnProperty.call(g,"suggested_reply_user_faq_saved_reply")&&!Object.prototype.hasOwnProperty.call(g,"messenger_detected_conversion")&&!Object.prototype.hasOwnProperty.call(g,"suggested_reply_business_sticker")&&(!k||k<=b("Instant").now()&&!h?g=b("PagesManagerOmniMUtils").getFallbackSuggestions():(b("QE2Logger").logExposureForPage(j,this.props.pageID),g=b("PagesManagerOmniMUtils").replaceCreateAppointmentDirectText(g,k)));f=b("ChatAppointmentUtil").parseJSON(f.conversion_data);if(Object.prototype.hasOwnProperty.call(g,"messenger_detected_conversion")&&!f)continue;var l=e.message_id;e=b("MercuryIDs").getUserIDFromParticipantID(e.author);return{conversionData:f,startTime:k,suggestions:g,partnerAppLogo:h,messageID:l,senderID:e}}else break}return null};d.$14=function(){if(b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"){var a;a=b("nullthrows")((a=this.props.inThreadSearchResults)!=null?(a=a.messenger_messages_search)!=null?(a=a.results)!=null?a.edges:a:a:a).length;var c=b("PagesManagerInboxFilterStore").getSearchTerm();return h.jsx(b("PagesManagerContentSearchContainer.react"),{query:c,totalCount:a})}return null};d.render=function(){var a=this.props.threadFBID;a=a!==null?b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a)):null;var c=this.state.thread;c=c!==void 0&&c!==null?c.unread_count===0:!1;return h.jsx(b("PagesManagerInboxMessengerDetailView.react"),{className:"_9h3",composer:this.$15(),content:this.$16(),height:this.props.height,isRead:c,mediaManagerInboxRowIndex:this.props.mediaManagerInboxRowIndex,onScrollHeightChange:this.$9,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,searchView:this.$14(),selectedFolder:this.props.selectedFolder,threadID:b("nullthrows")(a),useCustomScrollableArea:!0})};d.$16=function(){var a=this,c=this.props.threadFBID,d=c?b("MercuryIDs").getThreadIDFromUserID(c):null,e=this.state.messagelist;if(d===null)return null;else{var f=null,g=null;if(this.state.showSuggestionBar){var i=!!this.state.suggestions&&b("PagesManagerOmniMUtils").isMessengerQuickBannerType(this.state.suggestions);if(i&&((i=this.state.conversionData)==null?void 0:i.is_eligible)!==!0)f=h.jsx("div",{});else{i=!!this.state.suggestions&&Object.prototype.hasOwnProperty.call(this.state.suggestions,"suggested_reply_business_sticker");f=h.jsx("div",{style:{marginTop:this.state.suggestionSpacerHeight+"px"},children:h.jsx("div",{className:(i&&!this.state.shouldShowEyebrowTextForBusinessSticker?"_8gxk":"")+(i&&this.state.shouldShowEyebrowTextForBusinessSticker?" _8gxm":"")+(i?"":" _1i7g")})})}g=h.jsx(b("BootloadOnRender.react"),{component:h.jsx(b("LazyComponent.react"),{conversionData:this.state.conversionData,messageID:this.state.messageID,pageID:this.props.pageID,partnerAppLogo:this.state.partnerAppLogo,recipientID:c,senderID:this.state.senderID,shouldShowEyebrowTextForBusinessSticker:this.state.shouldShowEyebrowTextForBusinessSticker,startTime:this.state.startTime,suggestions:this.state.suggestions,threadID:d}),loader:b("JSResource")("PagesManagerMessagingMSuggestionView.react").__setRef("PagesManagerInboxMessengerContainer.react"),placeholder:h.jsx("div",{})})}this.props.activeCommPlatform==="WEC"&&(e=this.state.messagelist.map(function(c){var d,e="fbid:"+a.props.pageID;if(((d=c.attachments[0])==null?void 0:(d=d.share)==null?void 0:d.style_list[0])==="wec_message"&&e!==c.author&&c.attachments!=null&&c.attachments.length>0&&c.attachments[0].share!=null&&((d=c.attachments[0])==null?void 0:d.share.target)!=null){e=c.attachments[0].share.target.sender_wec_number;d=(d=c.attachments[0])==null?void 0:(d=d.share)==null?void 0:(d=d.target)==null?void 0:d.sender_wec_number_fbid;return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{author:d!=null?d:"fbid:"+e}))}return c}));if(b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"){var j,k=this.state.contentSearchSelectedIndex;i=b("nullthrows")((i=this.props.messageContextResults)!=null?(i=i.messenger_message_context)!=null?(i=i.messages)!=null?i.nodes:i:i:i);var o=b("nullthrows")((j=this.props.inThreadSearchResults)!=null?(j=j.messenger_messages_search)!=null?(j=j.results)!=null?(j=j.edges)!=null?(j=j[k])!=null?(j=j.node)!=null?j.message_id:j:j:j:j:j:j);j=i.map(function(a){return b("nullthrows")((a=a)!=null?a.message_id:a)});var p={folder:n,other_user_fbid:c,thread_fbid:d,thread_id:d};c=i.map(function(c){return b("MessengerMessageTransformer.bs").transformMessage(d,c,p,a.props.pageID)});b("MercuryServerPayloadPreprocessor").getForFBID(this.props.pageID).handleUpdate({actions:c,payload_source:"server_search"});e=b("MessengerState.bs").getMessagesFromIDs(this.props.pageID,j.reverse()).map(function(c){if(c&&c.message_id===o){var d,e=b("nullthrows")((d=a.props.inThreadSearchResults)!=null?(d=d.messenger_messages_search)!=null?(d=d.results)!=null?(d=d.edges)!=null?(d=d[k])!=null?(d=d.content_search_result_context)!=null?d.match_ranges:d:d:d:d:d:d);if(e.length!==m){d=Object.keys(e[l]).map(function(a){return{offset:e[l].offset,length:e[l].length,entity:{url:""},className:"__in"}});return new(b("ImmutableObject"))(babelHelpers["extends"]({},c,{ranges:c.ranges?c.ranges.concat(d):d}))}}return c})}return e.length===0?null:h.jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.pageID,children:function(c){return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesManagerMessagingMessageList.react"),{commPlatform:a.props.activeCommPlatform,deliveryReceipts:b("MessengerState.bs").deliveryReceipts(c),fetchEarlierMessages:a.$8,footerChildren:g,footerChildrenSpacer:f,initLoading:!1,isLoadingMore:a.state.isLoadingMore,isPreventScroll:!1,messagelist:b("immutable").List(e),pageID:a.props.pageID,readReceipts:a.$13(d,a.state.messagelist,b("MessengerState.bs").readReceiptsPerThread(c)),scrollHeight:a.state.scrollHeight,threadID:d})})}})}};d.$15=function(){var a,c=this.props.threadFBID;c=c?b("MercuryIDs").getThreadIDFromUserID(c):null;var d=this.props.config.platformConfigs[this.props.activeCommPlatform];a=(a=(a=this.props.config.platformConfigs.MESSENGER)==null?void 0:a.shouldShowNewSavedReplyInIG)!=null?a:!1;var e=null;switch(this.props.activeCommPlatform){case"WEC":e=b("MercuryWECMessageActions").getForFBID(this.props.pageID);break;default:e=b("MercuryPageMessageActions").getForFBID(this.props.pageID)}if(e!=null){var f;return h.jsx(b("PagesManagerMessagingComposerContainer.react"),{accessToken:this.props.config.pageAccessToken,canAttachFiles:d.canAttachFiles,canCreateAppointment:d.ShouldShowPMAAdminComposer,canSendAvailability:d.ShouldShowLDPPMAAdminComposer,canUseHotLike:d.canUseHotLike,canUseSavedReplies:d.canUseSavedReplies,canUseStickers:d.canUseStickers,commPlatform:this.props.activeCommPlatform,creatorInfo:this.props.config.creatorInfo,defaultCurrency:this.props.config.defaultCurrency,isEligibleForOrderDetailsInComposer:d.isEligibleForOrderDetailsInComposer,isInboxDetailView:!0,isSavedReplyNewUI:(f=d.shouldShowNewSavedReply)!=null?f:!1,maxLength:this.props.activeCommPlatform==="WEC"?k:null,mediaManagerInboxRowIndex:this.props.mediaManagerInboxRowIndex,messageActions:e,onSendMessage:b("PagesManagerInboxAction").comment,persona:this.props.activeCommPlatform==="MESSENGER"?this.props.config.messengerAdminPersona:null,recipientID:this.props.threadFBID,selectedFolder:this.props.selectedFolder,shouldArchiveInboxForProfessionalProfile:this.props.config.shouldArchiveInboxForProfessionalProfile,shouldShowBonusTracker:this.props.config.shouldShowBonusTracker,shouldShowCommerceInvoiceButton:d.shouldShowCommerceInvoiceButton,shouldShowCommerceInvoiceButtonPUX:d.shouldShowCommerceInvoiceButtonPUX,shouldShowCommerceInvoiceSimplifiedFlow:d.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:d.shouldShowConfirmPayment,shouldShowInvoiceShippingNUX:d.shouldShowInvoiceShippingNUX,shouldShowOrderDetailsInComposer:d.shouldShowOrderDetailsInComposer,shouldShowPaymentOnboarding:d.shouldShowPaymentOnboarding,shouldShowProductPickerInComposer:!!d.shouldShowProductPickerInComposer,shouldShowRequestPayment:d.shouldShowRequestPayment,shouldShowSavedReplyInIG:a,shouldUseKbankOnboarding:d.shouldUseKbankOnboarding,shouldUseSmartComposeTextInput:!!d.shouldUseSmartComposeTextInput,thread:this.state.thread,threadElementID:c,threadID:c,upsellSpecificData:this.state.upsellSpecificData,userID:this.props.pageID})}};return c}(h.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxMessageBasicContainer.react",["FluxContainer","JSResource","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxMessengerContainer.react","PagesManagerInboxStore","React","RelayModern","lazyLoadComponent","PagesManagerInboxMessageBasicContainer_messageThread.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=b("lazyLoadComponent")(b("JSResource")("PageManagerInboxInThreadContentSearchRelayResults.react").__setRef("PagesManagerInboxMessageBasicContainer.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig(),activeType:b("PagesManagerInboxFilterStore").getActiveType(),mediaManagerInboxRowIndex:b("PagesManagerInboxListStore").getMediaManagerInboxListRowIndex(),selectedFolder:b("PagesManagerInboxFilterStore").getActiveFolder()}};var d=c.prototype;d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.state.activeType);return b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"?h.jsx(h.Suspense,{fallback:null,children:h.jsx(i,{activeCommPlatform:this.state.activeType,commSourceID:this.props.commSourceID,config:this.state.config,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:a,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm()})}):h.jsx(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:this.state.activeType,config:this.state.config,height:this.props.height,mediaManagerInboxRowIndex:this.state.mediaManagerInboxRowIndex,paddingBottom:this.props.paddingBottom,pageID:a,selectedFolder:this.state.selectedFolder,threadFBID:this.props.commSourceID})};return c}(h.Component);e.exports=a(b("FluxContainer").create(c),{messageThread:g!==void 0?g:g=b("PagesManagerInboxMessageBasicContainer_messageThread.graphql")})}),null);
__d("MediaManagerInboxCustomTabUtils",["MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerUtils").isMediaManagerApp;a=function(a){return(a==="MEDIA_MANAGER_PRIORITY"||a==="MEDIA_MANAGER_FB_COMMS")&&g()};c=function(a){var b=a.row_type;switch(b){case"TOP_MESSAGES":return a.top_message_content.top_message_thread_id;case"TOP_COMMENTS":return a.top_comment_content.id;default:return""}};d=function(a){var b=a==null?void 0:a.row_type;switch(b){case"TOP_MESSAGES":return a==null?void 0:(b=a.top_message_content)==null?void 0:b.top_message_thread_id;case"TOP_COMMENTS":return a==null?void 0:(b=a.top_comment_content)==null?void 0:(b=b.parent_item)==null?void 0:b.id;case"TOP_FB_COMMS":return a==null?void 0:(b=a.content)==null?void 0:b.id;default:return null}};f=function(a){a=a==null?void 0:a.row_type;return a};var h=function(){return b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType()==="TOP_MESSAGES"},i=function(a){switch(a){case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return"ALL";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:return"TOP_COMMENTS";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:return"TOP_MESSAGES";default:return"ALL"}};e.exports={shouldRenderMessengerPreviewHeader:h,shouldShowMediaManagerCustomTab:a,getPriorityTabGraphQLFilter:i,getPriorityRowKey:c,getPriorityTabItemID:d,getPriorityTabItemRowType:f}}),null);
__d("PagesManagerInboxQueryUtilCommItemRenderTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CONTEXT:"CONTEXT",INFO:"INFO",HEADER:"HEADER"})}),null);
__d("PagesManagerInboxQueryUtil",["invariant","FBIDCheck","MediaManagerInboxCustomTabUtils","MediaManagerInboxFocusCommentStore","MercuryIDs","PagesManagerInboxFacebookPostStore","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerInboxQueryRenderer.react","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PagesManagerInboxQueryUtilMessengerQuery.graphql","PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemQuery.graphql","PagesManagerInboxQueryUtilInstagramQuery.graphql","PagesManagerInboxQueryUtilFacebookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=b("React");b("RelayModern").graphql;a={renderWithMessengerThreadQuery:function(a,c,d){return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:h!==void 0?h:h=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:d,variables:{threadToken:[c,a].join("_")}})},renderWithCommItemQuery:function(a,c,d,e){var f=b("PagesManagerInboxFilterStore").getIsSearchActive(),h=!1;if(f)if(b("FBIDCheck").isUser_deprecated(a))h=!0;else{var m=b("MercuryIDs").getThreadIDFromThreadFBID(b("nullthrows")(a));m=b("PagesManagerMessagingMessagelistStore").getMessagelist(c,m);m.length>0&&(h=!0)}if((b("PagesManagerInboxMercuryUtil").shouldUseMercury()||b("MediaManagerInboxCustomTabUtils").shouldRenderMessengerPreviewHeader())&&(!f||h)){m="";switch(e){case b("PagesManagerInboxQueryUtilCommItemRenderTypes").CONTEXT:m=i!==void 0?i:i=b("PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO:m=j!==void 0?j:j=b("PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER:m=k!==void 0?k:k=b("PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql");break}return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m,render:function(a){var b,c=a.error;a=a.props;b=(b=a)!=null?(b=b.page)!=null?b.page_comm_item_for_message_thread:b:b;if(a&&!c)return d({error:c,props:a},b);!c&&!a||g(0,4573);return d({error:c,props:a},null)},variables:{messageThreadID:a,pageID:c}})}return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:l!==void 0?l:l=b("PagesManagerInboxQueryUtilCommItemQuery.graphql"),render:function(a){var b=a.error;a=a.props;if(a&&!b)return d({error:b,props:a},a.commItem);!b&&!a||g(0,4573);return d({error:b,props:a},null)},variables:{commItemID:a}})},renderWithPlatformPostThreadQuery:function(a,c,d,e,f,h){switch(d){case"INSTAGRAM":return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m!==void 0?m:m=b("PagesManagerInboxQueryUtilInstagramQuery.graphql"),render:h,variables:{commItemID:a,igPostID:c}});case"FACEBOOK":d=a?b("MediaManagerInboxFocusCommentStore").get(a):null;b("PagesManagerInboxFacebookPostStore").get(a,e,d,!0);return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:n!==void 0?n:n=b("PagesManagerInboxQueryUtilFacebookQuery.graphql"),render:h,variables:{commItemID:a,targetID:f}});case"MESSENGER":case"WEC":case"INSTAGRAM_DIRECT":return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:o!==void 0?o:o=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:h,variables:{threadToken:[e,c].join("_")}});default:g(0,13808,a)}}};e.exports=a}),null);
__d("PagesMessageThreadImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_message_thread_impression");e.exports=a}),null);
__d("PagesManagerInboxDetailRoot.react",["PagesEventObserver","PagesManagerInboxDetailLoading.react","PagesManagerInboxFacebookPostContainer.react","PagesManagerInboxInstagramPostContainer.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","PagesMessageThreadImpressionFalcoEvent","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderQueryResults=function(a){var c=a.error;a=a.props;d.props.mailboxID&&(b("PagesEventObserver").notify("messages_view_thread",d.props.mailboxID,{mailboxID:d.props.mailboxID,section:d.props.commPlatform,target_id:d.props.targetID}),b("PagesMessageThreadImpressionFalcoEvent").log(function(){return{event_location:"page__inbox",page_id:d.props.mailboxID,referrer:null,event_data:{mailbox_id:d.props.mailboxID,thread_id:d.props.commItemID,section:d.props.commPlatform}}}));switch(d.props.commPlatform){case"INSTAGRAM":d.$1(a,c);if(a&&!c)return g.jsx(b("PagesManagerInboxInstagramPostContainer.react"),babelHelpers["extends"]({},d.props,a));break;case"FACEBOOK":d.$1(a,c);if(a&&!c){var e=Date.now();return g.jsx(b("PagesManagerInboxFacebookPostContainer.react"),babelHelpers["extends"]({height:d.props.height,loadStartTime:e,paddingBottom:d.props.paddingBottom,pageID:d.props.mailboxID},a))}break;case"MESSENGER":case"WEC":d.$1(a,c);if(a&&!c)return g.jsx(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:d.props.commSourceID,height:d.props.height,paddingBottom:d.props.paddingBottom,pageID:d.props.mailboxID},a));break}return g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){a&&!c?b("PagesManagerInboxLogger").itemDetailsLoaded(this.props.commItemID,this.props.commPlatform):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItemDetails(this.props.commItemID,this.props.commPlatform)};d.render=function(){var a=this.props,c=a.commPlatform,d=a.commItemID,e=a.commSourceID,f=a.mailboxID;a=a.targetID;return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,e,c,f,a,this.onRenderQueryResults)};return c}(g.Component);e.exports=a}),null);
__d("PagesManagerInboxCommItemBasicInfoContainer.react",["ErrorBoundary.react","PagesManagerInboxDetailRoot.react","PagesManagerInboxLogger","React","RelayModern","nullthrows","PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesManagerInboxDetailRoot.react"),{commItemID:(a=b("nullthrows"))(this.props.commItem.id),commPlatform:a(this.props.commItem.comm_platform),commSourceID:a(this.props.commItem.comm_source_id),height:this.props.height,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,targetID:a(this.props.commItem.target_id)})})};return c}(h.PureComponent);e.exports=a(c,{commItem:g!==void 0?g:g=b("PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql")})}),null);
__d("PagesManagerInboxCommItemBasicInfoRoot.react",["ErrorBoundary.react","MediaManagerInboxContext.react","PagesManagerInboxCommItemBasicInfoContainer.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var g=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderDetailView=function(a,c){var e=a.error;a=a.props;d.$1(a,e);return a&&!e&&c?g.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:g.jsx(b("PagesManagerInboxCommItemBasicInfoContainer.react"),babelHelpers["extends"]({commItem:c,height:d.props.height,mailboxID:d.props.mailboxID,paddingBottom:d.props.paddingBottom},a))}):g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&(this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")&&this.context.logRowPreviewImpression(this.props.listItemKey,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.commItemFolder),b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey))};d.render=function(){return!this.props.listItemKey?this.props.isListLoading?g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView,b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO)};return c}(g.PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxMessengerRoot.react",["ErrorBoundary.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderDetailView=function(a){var c=a.error;a=a.props;d.$1(a,c);return a&&!c?g.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:g.jsx(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:d.props.listItemKey,height:d.props.height,mailboxID:d.props.mailboxID,paddingBottom:d.props.paddingBottom},a))}):g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};d.render=function(){return!this.props.listItemKey?this.props.isListLoading?g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithMessengerThreadQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView)};return c}(g.PureComponent);e.exports=a}),null);
__d("PageManagerInboxMessageContextRelayResults.react",["FluxContainer","PagesManagerInboxDetailLoading.react","PagesManagerInboxMessengerContainer.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PageManagerInboxMessageContextRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingMessagelistStore")]};c.calculateState=function(a){return{contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};var d=c.prototype;d.render=function(){var a=this,c;c=b("nullthrows")((c=this.props.inThreadSearchResults)!=null?(c=c.messenger_messages_search)!=null?(c=c.results)!=null?(c=c.edges)!=null?(c=c[this.state.contentSearchSelectedIndex])!=null?(c=c.node)!=null?c.message_id:c:c:c:c:c:c);return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxMessageContextRelayResultsQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?h.jsx(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:a.props.activeCommPlatform,config:a.props.config,height:a.props.height,inThreadSearchResults:a.props.inThreadSearchResults,messageContextResults:c,threadFBID:a.props.threadFBID,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID}):h.jsx(b("PagesManagerInboxDetailLoading.react"),{height:a.props.height})},variables:{message_identifier:{message_id:c,thread_fbid:this.props.threadFBID}}})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PageManagerInboxInThreadContentSearchRelayResults.react",["PageManagerInboxMessageContextRelayResults.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?h.jsx(b("PageManagerInboxMessageContextRelayResults.react"),{activeCommPlatform:a.props.activeCommPlatform,threadFBID:a.props.commSourceID,config:a.props.config,height:a.props.height,inThreadSearchResults:c,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,searchTerm:a.props.searchTerm}):h.jsx(b("PagesManagerInboxDetailLoading.react"),{height:a.props.height})},variables:{query_params_int:{query:this.props.searchTerm,thread_fbid:this.props.commSourceID}}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNewMessageBasicContainer.react",["FluxContainer","PageManagerInboxInThreadContentSearchRelayResults.react","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxMessengerContainer.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig(),activeType:b("PagesManagerInboxFilterStore").getActiveType(),selectedFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),mediaManagerInboxRowIndex:b("PagesManagerInboxListStore").getMediaManagerInboxListRowIndex()}};var d=c.prototype;d.render=function(){return b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"?g.jsx(b("PageManagerInboxInThreadContentSearchRelayResults.react"),{activeCommPlatform:this.state.activeType,commSourceID:this.props.commSourceID,config:this.state.config,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm()}):g.jsx(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:this.state.activeType,config:this.state.config,height:this.props.height,mediaManagerInboxRowIndex:this.state.mediaManagerInboxRowIndex,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,selectedFolder:this.state.selectedFolder,threadFBID:this.props.commSourceID})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxNewMessengerRoot.react",["ErrorBoundary.react","PagesManagerInboxLogger","PagesManagerInboxNewMessageBasicContainer.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.listItemKey!==null&&this.props.listItemKey!==void 0&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};d.render=function(){return this.props.listItemKey===null||this.props.listItemKey===void 0||this.props.listItemKey===0?null:g.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:g.jsx(b("PagesManagerInboxNewMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:this.props.listItemKey,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID},this.props))})};return c}(g.PureComponent);e.exports=a}),null);
__d("ServicesClientsTabMainView.react",["CRMClientsMainView.react","CustomLabelUtils","PagesManagerCustomLabelsActions","PagesManagerCustomLabelsStore","React","RelayFBEnvironment","RelayModern","immutable","promiseDone","ServicesClientsTabMainViewLabelsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CustomLabelUtils").mergeContactAndCustomerLabels,i=b("PagesManagerCustomLabelsActions").PagesManagerCustomLabelsActions,j=b("React"),k=b("RelayModern").fetchQuery;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){if(b("PagesManagerCustomLabelsStore").isInitialized())return;b("promiseDone")(k(b("RelayFBEnvironment"),g!==void 0?g:g=b("ServicesClientsTabMainViewLabelsQuery.graphql"),{pageID:this.props.pageID}),function(a){var c;c=((c=a.page.custom_tags)==null?void 0:c.edges)||[];a=((a=a.page.custom_labels)==null?void 0:a.edges)||[];a=h(a,c);c=a.map(function(a){var b,c,d;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.name;a=((d=a.node)==null?void 0:d.label_color)||((d=a.node)==null?void 0:d.color);if(c!=null&&b!=null&&a!=null)return[c,{name:c,id:b,color:a}]});a=b("immutable").Map(c.filter(Boolean)||[]);i.initStore(a)})};d.render=function(){return j.jsx(b("CRMClientsMainView.react"),{contactID:this.props.contactID,pageID:this.props.pageID,height:this.props.height})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxDetailContainer.react",["BusinessCRMConfigStore","BusinessInboxBizKitUtil","CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","JSResource","MediaManagerFBCommsDetailViewContainer.react","MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageCommItemFolder","PagesManagerInboxCommItemBasicInfoRoot.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxMessengerRoot.react","PagesManagerInboxNewMessengerRoot.react","PagesManagerInboxStore","PagesManagerStore","React","ServicesClientsTabMainView.react","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("BusinessInboxBizKitUtil").bizKitDetailHeight,h=b("MediaManagerUtils").isMediaManagerApp,i=b("React"),j=(a=b("lazyLoadComponent"))((c=b("JSResource"))("UnifiedInboxIGMessageDetailRootContainer.react").__setRef("PagesManagerInboxDetailContainer.react")),k=a(c("BizEmailMarketingViewContainer.react").__setRef("PagesManagerInboxDetailContainer.react")),l=a(c("PagesMarketingAutomationContentView.react").__setRef("PagesManagerInboxDetailContainer.react")),m=a(c("PagesManagerInboxLeadEmailContainer.react").__setRef("PagesManagerInboxDetailContainer.react"));d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore"),b("PagesManagerInboxStore"),b("MediaManagerInboxPriorityTabStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(a){var c=b("PagesManagerInboxFilterStore").getActiveType(),d=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getHeaderHeight(),e=!1,f=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(f!=null){e=Boolean((f=f.messengerConfig)==null?void 0:f.notUseMessengerStateForMessageList)}else e=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.notUseMessengerStateForMessageList;f=b("PagesManagerInboxListStore").isLoading();a=(a==null?void 0:a.commItemFolder)===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();a&&(f=b("CreatorStudioInboxMessengerRankedUsersStore").isLoading());return{commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),commPlatform:c,isListLoading:f,height:d<0?0:d,viewingListItem:b("PagesManagerStore").getViewingListItem(),heightWithoutHeader:b("PagesManagerStore").getLayoutHeight(),mediaManagerInboxRowIndex:b("PagesManagerInboxListStore").getMediaManagerInboxListRowIndex(),mediaManagerInboxPriorityTabRowType:b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType(),navMode:b("PagesManagerInboxStore").getCurrentNavMode(),notUseMessengerStateForMessageList:e}};var d=c.prototype;d.render=function(){var a,c=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform);switch(this.state.navMode){case"automated_responses":return i.jsx(i.Suspense,{fallback:i.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.state.height}),children:i.jsx(l,{height:this.state.height,pageID:c,pageName:this.props.pageName!==void 0?this.props.pageName:"",pageProfileUrl:this.props.pageProfilePicURI})});case"email_campaign":return i.jsx(i.Suspense,{fallback:i.jsx(b("PagesManagerInboxDetailLoading.react"),{backgroundColor:"white",height:this.state.heightWithoutHeader}),children:i.jsx(k,{height:this.state.heightWithoutHeader,pageID:c})});case"contacts":a=(a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:a.crmConfig;return i.jsx(i.Suspense,{fallback:i.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.state.heightWithoutHeader}),children:i.jsx(b("BusinessCRMConfigStore").Container,{initialState:{config:a},children:i.jsx(b("ServicesClientsTabMainView.react"),{height:this.state.heightWithoutHeader,pageID:c})})});case"lead_email":return i.jsx(i.Suspense,{fallback:i.jsx(b("PagesManagerInboxDetailLoading.react"),{backgroundColor:"white",height:this.state.heightWithoutHeader}),children:i.jsx(m,{height:this.state.height,pageID:c,threadID:this.state.viewingListItem})});default:if(this.state.commPlatform==="INSTAGRAM_DIRECT")return i.jsx(i.Suspense,{fallback:i.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.state.height}),children:i.jsx(j,{height:g(this.state.height),mailboxID:c,paddingBottom:this.props.paddingBottom,viewingItemToken:this.state.viewingListItem})});else if(this.state.commPlatform==="MESSENGER"||this.state.mediaManagerInboxPriorityTabRowType==="TOP_MESSAGES")return this.state.notUseMessengerStateForMessageList?i.jsx(b("PagesManagerInboxMessengerRoot.react"),{commItemFolder:this.state.commItemFolder,height:this.state.height,isListLoading:this.state.isListLoading,listItemKey:this.state.viewingListItem,mailboxID:c,paddingBottom:this.props.paddingBottom}):i.jsx(b("PagesManagerInboxNewMessengerRoot.react"),{commItemFolder:this.state.commItemFolder,height:this.state.height,isListLoading:this.state.isListLoading,listItemKey:this.state.viewingListItem,mailboxID:c,paddingBottom:this.props.paddingBottom});else if((this.state.commPlatform==="MEDIA_MANAGER_FB_COMMS"||this.state.mediaManagerInboxPriorityTabRowType==="TOP_FB_COMMS")&&h())return i.jsx(i.Suspense,{fallback:i.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.state.height}),children:i.jsx(b("MediaManagerFBCommsDetailViewContainer.react"),{height:this.state.height,mediaManagerInboxRowIndex:this.state.mediaManagerInboxRowIndex,viewingItem:this.state.viewingListItem})});return i.jsx(b("PagesManagerInboxCommItemBasicInfoRoot.react"),{commItemFolder:this.state.commItemFolder,commPlatform:this.state.commPlatform,height:this.state.height,isListLoading:this.state.isListLoading,listItemKey:this.state.viewingListItem,mailboxID:c,mediaManagerInboxRowIndex:this.state.mediaManagerInboxRowIndex,paddingBottom:this.props.paddingBottom})}};return c}(i.PureComponent);e.exports=b("FluxContainer").create(d)}),null);
__d("PageCommItemReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemReadEditMutation.graphql");function a(a,c){var d=a.ids.map(function(a){return{id:a,is_read:!0}});d={page_comm_item_mark_as_read:{page_comm_items:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemStatusEditMutation",["PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemStatusEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemStatusEditMutation.graphql");function a(a,c){var d=function(c){var d=c.get(a.actor_id);if(!d)return;a.ids.forEach(function(e){var f=c.get(e);if(!f)return;f.setValue(a.status,"comm_status");var g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.oldValue,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});g&&h.deleteNode(g,e);g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.status,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){e=h.createEdge(c,g,f,"PageCommItemsEdge");h.insertEdgeAfter(g,e)}})},e=function(){a.isViewing&&b("PagesManagerAction").clearViewListItem(),c&&c.onSuccess()};a.isUndo||b("PagesManagerInboxListAction").itemFolderChange(a.ids,a.status,a.oldValue);return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:a.isUndo?void 0:d,updater:d,variables:{input:{actor_id:a.actor_id,ids:a.ids,reminder_time:a.reminderTime,status:a.status}},onCompleted:e,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemUnreadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemUnreadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemUnreadEditMutation.graphql");function a(a,c){var d=function(){var b=a.ids.map(function(a){return{id:a,is_read:!1}});return{page_comm_item_mark_as_unread:{page_comm_items:b}}}();return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxActionContainer.react",["BIZInboxClientLogger","CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","MediaManagerInboxContext.react","MediaManagerUtils","MercuryIDs","MessagingTag","PageCommItemActionType","PageCommItemFolder","PageCommItemReadEditMutation","PageCommItemStatus","PageCommItemStatusEditMutation","PageCommItemStatusUtil","PageCommItemUnreadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxActionContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var h=b("React");c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("PagesManagerInboxLogger").itemStatusChanged(b("nullthrows")(d.props.item.id),d.props.item.comm_type,a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(b("nullthrows")(d.props.item.id),d.props.item.comm_type,a,d.state.commItemFolder);b("BIZInboxClientLogger").logFolderUpdate(d.state.pageID,d.state.commPlatform,d.state.commItemFolder,a);var e=d.state.pageID;b("PagesManagerInboxMercuryUtil").shouldUseMercury()?d.$2(d.props.item,a):e!=null&&b("PageCommItemStatusEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:e,isViewing:d.state.viewingItem===d.props.item.id,oldValue:d.props.item.comm_status,reminderTime:c,status:a});d.context&&d.context.logMarkStatusActions!==b("emptyFunction")&&d.context.logMarkStatusActions(b("nullthrows")(d.props.item.id),d.state.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$3=function(a){var c=d.state.pageID;if(c!=null){var e=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id));a===b("PageCommItemActionType").MARK_READ?(b("PagesManagerMessagesInterface").changeThreadReadStatus(c,e,!0),b("PageCommItemReadEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:c})):a===b("PageCommItemActionType").MARK_UNREAD&&(b("PagesManagerMessagesInterface").changeThreadReadStatus(c,e,!1),b("PageCommItemUnreadEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:c}));e=d.state.commItemFolder===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();e&&b("CreatorStudioInboxMessengerRankedUsersAction").refreshCreatorStudioInboxMessengerRankedUsersData(c)}d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&(a===b("PageCommItemActionType").MARK_READ||a===b("PageCommItemActionType").MARK_UNREAD)&&d.context.logMarkReadStatusActions(b("nullthrows")(d.props.item.id),d.state.commPlatform,d.state.commItemFolder,a,d.props.mediaManagerInboxRowIndex)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(a,c){c=b("PagesManagerInboxFilterStore").getActiveType();var d=null,e=[],f=!1,g=!1,h=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(h!=null){var i;d=(i=h.pageConfig)==null?void 0:i.pageID;f=Boolean((i=h.messengerConfig)==null?void 0:i.showDeleteConversationButton);g=Boolean((i=h.messengerConfig)==null?void 0:i.isBackgroundFolderEnabled)}else{h=b("PagesManagerInboxStore").getConfig();d=h.pageID;f=h.platformConfigs.MESSENGER;g=h.platformConfigs.MESSENGER.isBackgroundFolderEnabled}f=f&&c==="MESSENGER";i=c==="MESSENGER"?b("PagesManagerInboxFilterStore").getActiveOwner().id:null;if(d!=null){h=(a==null?void 0:a.commItemFolder)===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();h?e=b("CreatorStudioInboxMessengerRankedUsersStore").getRankedUserMercuryThreadPayloadListForAdmin(d,i).filter(function(a){return a.thread_fbid===b("PagesManagerStore").getViewingListItem()}):e=b("PagesManagerInboxListStore").getItemsForAdmin(d,i).filter(function(a){return a.thread_fbid===b("PagesManagerStore").getViewingListItem()})}return{pageID:d,viewingItem:b("PagesManagerStore").getViewingListItem(),commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowDeleteButton:f,commPlatform:c,viewingThreadItem:e,backgroundFolderEnabled:g}};var d=c.prototype;d.$2=function(a,c){var d=a.thread_id,e=a.thread_fbid,f=null;this.state.commPlatform==="WEC"&&(f=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform));a.thread_id===void 0&&(d=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(this.props.item.target_id)),e=b("nullthrows")(this.props.item.target_id));var g=this.state.commItemFolder===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();switch(c){case b("PageCommItemStatus").DONE:this.state.backgroundFolderEnabled?b("PagesManagerMessagesInterface").changeThreadFolderToBackground(b("nullthrows")(this.state.pageID),d,a.comm_status):this.state.pageID!=null&&b("PagesManagerMessagesInterface").changeThreadFolderToDone(this.state.pageID,d,a.comm_status,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").TODO:this.state.pageID!=null&&b("PagesManagerMessagesInterface").changeThreadFolderToInbox(this.state.pageID,d,e,a.comm_status,this.state.backgroundFolderEnabled);break;case b("PageCommItemStatus").FOLLOW_UP:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsFollowUp(this.state.pageID,d,e,!0,a.comm_status,g);break;case b("PageCommItemStatus").SPAM:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsSpam(this.state.pageID,[d],b("MessagingTag").OTHER,b("PageCommItemStatus").SPAM,a.comm_status,a.folder,a.is_archived,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").DELETED:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsDeleted(this.state.pageID,d,f,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;default:break}this.state.pageID!=null&&b("PagesManagerMessagingThreadlistAction").updateThreadlist(this.state.pageID)};d.render=function(){var a=this.props,c=a.ChildActionClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildActionClass"]);return h.jsx(c,babelHelpers["extends"]({},a,{actionParam:b("PageCommItemStatusUtil").getActionParam(this.state.commPlatform,this.state.commItemFolder,this.state.shouldShowDeleteButton,this.state.viewingThreadItem[0]),onReadStatusChange:this.$3,onStatusChange:this.$1,userID:(c=this)!=null?(c=c.props)!=null?(c=c.item)!=null?(c=c.page_customer)!=null?c.user_id:c:c:c:c}))};return c}(h.PureComponent);d.contextType=a;f=b("FluxContainer").create(d,{withProps:!0});e.exports={PagesManagerInboxActionContainerInner:f,PagesManagerInboxActionContainer:c(f,{item:g!==void 0?g:g=b("PagesManagerInboxActionContainer_item.graphql")})}}),null);
__d("PageCommItemAssignUniqueOwnerMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemAssignUniqueOwnerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemAssignUniqueOwnerMutation.graphql");function a(a,c){var d=function(c){var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={assign_unique_comm_item_owner:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[{admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,updater:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemClearOwnersMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemClearOwnersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemClearOwnersMutation.graphql");function a(a,c){var d=function(c){var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={clear_comm_item_owners:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,variables:{input:{actor_id:a.pageID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("UnifiedInboxSearchableListPrompt.contrib",["cx","AbstractSearchSource","AbstractTypeahead.react","Layout.react","React","ReactComponentWithPureRenderMixin","ReactDOM","Scroll","ScrollableArea.react","SearchableEntry","Text.atlas","TextWithHighlights.atlas","TypeaheadViewItem","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("Layout.react").Column,i=b("Layout.react").FillColumn,j=b("React"),k={queryString:""};a={maxEntries:100,resetQueryStringOnSelect:!1};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state=k,c.$1=function(a){a=a.target;c.setState({queryString:a.value})},c.$2=function(a){c.props.onSelect(a),c.props.resetQueryStringOnSelect&&c.setState({queryString:""})},c.focusInput=function(){c.refs&&c.refs.typeahead.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return j.jsx("div",{className:b("joinClasses")(this.props.className,"_8q24"),children:j.jsx(m,{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,excludedEntries:this.props.excludedEntries,header:this.props.header,headerClassName:this.props.headerClassName,maxEntries:this.props.maxEntries,onChange:this.$1,onSelectAttempt:this.$2,placeholder:this.props.placeholder,queryString:this.state.queryString,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.selectedEntry,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry})})};return c}(j.PureComponent);c.propTypes={maxEntries:(d=b("prop-types")).number.isRequired,onSelect:d.func.isRequired,resetQueryStringOnSelect:d.bool.isRequired,searchSource:d.instanceOf(b("AbstractSearchSource")).isRequired,disabledEntryIDs:d.instanceOf(Set),emptySearchResultsText:d.node,excludedEntries:d.object,header:d.node,placeholder:d.node,searchSourceOptions:d.object,selectedEntry:d.instanceOf(b("SearchableEntry")),showEntriesBeforeSearch:d.bool};c.defaultProps=a;var l={isFocused:!1},m=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state=l,b.$1=function(){b.setState({isFocused:!0}),b.props.onFocus&&b.props.onFocus()},b.$2=function(){b.setState({isFocused:!1}),b.props.onBlur&&b.props.onBlur()},b.focusInput=function(){b.refs.typeahead.focusInput()},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return j.jsxs("div",{className:this.props.className,"data-testid":void 0,children:[this.props.header?j.jsx(b("Text.atlas"),{className:b("joinClasses")("_2pi3 _2pi9",this.props.headerClassName),color:"dark",display:"block",size:"s",children:this.props.header}):null,j.jsx(b("AbstractTypeahead.react"),{autoHighlight:!0,excludedEntries:this.props.excludedEntries,hideViewWithEntries:!1,inputClassName:"_8q1_"+(this.state.isFocused?" _8q20":"")+(this.props.header?" _8q21":""),onBlur:this.$2,onChange:this.props.onChange,onFocus:this.$1,onSelectAttempt:this.props.onSelectAttempt,placeholder:this.props.placeholder,presenter:{ViewRenderer:n,alwaysVisibleOnFocus:!!this.props.emptySearchResultsText,extraRendererProps:{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry},maxEntries:this.props.maxEntries,useLayer:!1},queryString:this.props.queryString,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.selectedEntry,selectOnBlur:!1,showEntriesOnFocus:!0})]})};return a}(j.PureComponent);m.propTypes={onChange:d.func.isRequired,onSelectAttempt:d.func.isRequired,searchSource:d.object.isRequired,disabledEntryIDs:d.instanceOf(Set),emptySearchResultsText:d.string,excludedEntries:d.object,header:d.node,maxEntries:d.number,onBlur:d.func,onFocus:d.func,placeholder:d.string,queryString:d.string,searchSourceOptions:d.object,selectedEntry:d.instanceOf(b("SearchableEntry")),showEntriesBeforeSearch:d.bool};var n=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=function(a){var c=a.getUniqueID(),d=b.props.highlightedEntry?b.props.highlightedEntry.getUniqueID():null,e=b.props.selectedEntry?b.props.selectedEntry.getUniqueID():null;d=c===d;e=c===e;c=b.props.disabledEntryIDs&&b.props.disabledEntryIDs.has(c);return j.jsx(o,{disabled:c,entry:a,highlighted:d,selected:e,onSelect:b.props.onSelect,onHighlight:b.props.onHighlight,onRenderHighlight:b.props.onRenderHighlight,queryString:b.props.queryString,getLeftContentForEntry:b.props.getLeftContentForEntry},a.getUniqueID())},b.$2=function(a){b.props.onHighlight&&b.props.onHighlight(null,a)},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=null,c=this.props.entries.length&&(this.props.showEntriesBeforeSearch||this.props.queryString);c?a=this.props.entries.map(this.$1):this.props.queryString&&(a=j.jsx("div",{children:j.jsx(b("Text.atlas"),{className:"_4kt-",color:"light",size:"s",children:this.props.emptySearchResultsText})}));return j.jsx(b("ScrollableArea.react"),{className:b("joinClasses")(this.props.className,"_4kt_"),"data-testid":void 0,onMouseLeave:this.$2,shadow:!1,maxHeight:320,children:a})};return a}(j.PureComponent);n.propTypes={entries:d.array.isRequired,onSelect:d.func.isRequired,disabledEntryIDs:d.instanceOf(Set),emptySearchResultsText:d.string,highlightedEntry:d.object,onHighlight:d.func,onRenderHighlight:d.func,queryString:d.string,selectedEntry:d.object,showEntriesBeforeSearch:d.bool};n.defaultProps={showEntriesBeforeSearch:!0};var o=b("createReactClass_DEPRECATED")({displayName:"InlineTypeaheadViewItem",mixins:[babelHelpers["extends"]({},b("TypeaheadViewItem").Mixin,b("ReactComponentWithPureRenderMixin"))],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{disabled:d.bool,getLeftContentForEntry:d.func}),componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(this.props.highlighted){var c=a.offsetParent;c=c&&a.offsetTop<b("Scroll").getTop(c)+c.offsetHeight&&a.offsetTop+a.offsetHeight>b("Scroll").getTop(c);c||a.scrollIntoView(!1)}},render:function(){var a=this.props.entry.getSubtitle(),c=j.jsxs("div",{children:[this.props.getLeftContentForEntry?this.props.getLeftContentForEntry(this.props.entry,this.props.selected):null,j.jsx(b("TextWithHighlights.atlas"),{className:"_8q29",display:this.props.getLeftContentForEntry?"inline":"block",highlight:this.props.queryString,text:this.props.entry.getTitle()}),a?j.jsx(b("TextWithHighlights.atlas"),{className:"_8q22",color:"light",display:"block",highlight:this.props.queryString,size:"s",text:a}):null]});c=this.props.disabled?j.jsxs(b("Layout.react"),{children:[j.jsx(i,{children:c}),j.jsx(h,{children:j.jsxs(b("Text.atlas"),{color:"light",display:"block",size:"s",children:[" ","?"," "]})})]}):c;return j.jsxs("div",{className:"_8q0v"+(this.props.highlighted?" _8q0w":"")+(this.props.selected?" _8q0x":"")+(a?"":" _8q0y"),onMouseDown:this.props.disabled?null:this._onSelect,onMouseEnter:this._onHighlight,children:[j.jsx("div",{className:"_8q0z",children:c}),j.jsx("div",{className:this.props.selected?"_8q0-":""})]})}});e.exports=c}),null);
__d("UnifiedInboxSearchableDropdownInput.contrib",["cx","fbt","AbstractSearchSource","BusinessInboxBizKitUtil","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerHideOnScrollOverHeader.atlas","ContextualLayerUpdateOnScroll","Keys","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","React","ReactComponentWithPureRenderMixin","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","ShimButton.react","SUIAtlasTheme","SUICardDEPRECATED.react","Text.atlas","UnifiedInboxSearchableListPrompt.contrib","XUIPopoverButton.react","createReactClass_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BusinessInboxBizKitUtil").isBizKitBeta,j=b("React"),k="button";c=b("createReactClass_DEPRECATED")({displayName:"SearchableDropdownInput",propTypes:{onRemove:(a=b("prop-types")).func.isRequired,isRemoveDisabled:a.bool.isRequired,onSelect:a.func.isRequired,resetQueryStringOnSelect:a.bool.isRequired,searchSource:a.instanceOf(b("AbstractSearchSource")).isRequired,showSelectedSubtitle:a.bool.isRequired,"data-testid":a.string,customHeader:a.element,chevron:a.element,disabled:a.bool,disabledEntryIDs:a.instanceOf(Set),dropdownWidth:a.number,emptySearchResultsText:a.node,excludedEntries:a.object,header:a.node,headerClassName:a.string,maxEntries:a.number,placeholder:a.node,searchSourceOptions:a.object,showEntriesBeforeSearch:a.bool,skipAutoWidth:a.bool,title:a.string,maxWidth:a.number,getLeftContentForEntry:a.func,searchPlaceholder:a.node},mixins:[b("ReactComponentWithPureRenderMixin"),b("ReactLayeredComponentMixin_DEPRECATED")],getDefaultProps:function(){return{resetQueryStringOnSelect:!1,showSelectedSubtitle:!0}},getInitialState:function(){return{isShowing:!1}},_onLayerToggle:function(a){!a&&this.state.isShowing&&(this.setState({isShowing:!1}),this.focusInput())},_toggleLayer:function(){this.props.disabled||this.setState({isShowing:!this.state.isShowing})},_onKeyDown:function(a){switch(a.keyCode){case b("Keys").DOWN:case b("Keys").UP:case b("Keys").SPACE:this.setState({isShowing:!0});break}},open:function(){this.setState({isShowing:!0})},close:function(){this.setState({isShowing:!1})},focusInput:function(){this.refs&&b("ReactDOM").findDOMNode(this.refs.button).focus()},_onSelect:function(a){this.setState({isShowing:!1}),this.focusInput(),this.props.onSelect(a)},_onRemove:function(a){this.props.isRemoveDisabled||(this.setState({isShowing:!1}),this.focusInput(),this.props.onRemove())},renderLayers:function(){var a=this,c;this.props.skipAutoWidth||(c=b("ReactDOM").findDOMNode(this.refs.button).offsetWidth);c=this.props.dropdownWidth||c||null;return{prompt:j.jsx(b("ContextualLayer.react"),{behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),ContextualLayerHideOnScrollOverHeader:b("ContextualLayerHideOnScrollOverHeader.atlas"),LayerAutoFocus:b("LayerAutoFocus"),LayerHideOnBlur:b("LayerHideOnBlur"),LayerHideOnEscape:b("LayerHideOnEscape")},contextRef:function(){return a.refs.button},position:"below",alignment:"left",offsetY:4,shown:this.state.isShowing,autofocus:!0,onToggle:this._onLayerToggle,children:j.jsx("div",{style:{width:c},className:this.props.divClassName,onFocus:this.props.onFocus,children:j.jsxs(b("SUICardDEPRECATED.react"),{className:this.props.listClassName,theme:b("SUIAtlasTheme"),type:"fullbleed",children:[this.props.customHeader,j.jsx(b("UnifiedInboxSearchableListPrompt.contrib"),{disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsText:this.props.emptySearchResultsText,excludedEntries:this.props.excludedEntries,header:this.props.header,headerClassName:this.props.headerClassName,maxEntries:this.props.maxEntries,onSelect:this._onSelect,resetQueryStringOnSelect:this.props.resetQueryStringOnSelect,searchSource:this.props.searchSource,placeholder:this.props.searchPlaceholder,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.value,showEntriesBeforeSearch:this.props.showEntriesBeforeSearch,getLeftContentForEntry:this.props.getLeftContentForEntry}),j.jsx(b("ShimButton.react"),{className:(this.props.isRemoveDisabled?"":"_8q2m")+(this.props.isRemoveDisabled?" _8q2n":""),onClick:this._onRemove,children:h._("Remove Assignment")})]})})})}},render:function(){var a=this.props.placeholder,c=this.props.value;if(c){var d=this.props.title||c.getTitle();c=this.props.showSelectedSubtitle&&c.getSubtitle()?j.jsxs(b("Text.atlas"),{color:"light",size:"s",children:[" ",c.getSubtitle()]}):null;a=j.jsxs("span",{children:[d,c]})}return j.jsx(b("XUIPopoverButton.react"),{chevron:this.props.chevron,className:b("joinClasses")(this.props.className,"__yl"),"data-testid":void 0,disabled:this.props.disabled,label:a,maxwidth:this.props.maxWidth?this.props.maxWidth:null,onClick:this._toggleLayer,onKeyDown:this._onKeyDown,ref:k,size:"large",style:i()?{background:"none",border:"none",paddingLeft:"0"}:{}})}});e.exports=c}),null);
__d("PagesManagerInboxAdminAssigner.react",["ix","cx","fbt","CurrentUser","IGMessageDataMutateAction","IGMessageServerActions","Image.react","Link.react","MercuryIDs","MercuryThreadActions","PageCommItemAssignUniqueOwnerMutation","PageCommItemClearOwnersMutation","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerAdminSearchSource","PagesManagerInboxCometUtil","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","React","RelayModern","SearchableDropdownInput.contrib","SearchableEntry","Tooltip","UnifiedInboxSearchableDropdownInput.contrib","asset","nullthrows","PagesManagerInboxAdminAssigner_commItem.graphql","PagesManagerInboxAdminAssigner_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function m(){return l.jsx("div",{className:"_wy6"})}function n(a){return[l.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onRemoveAssigned},b("Tooltip").propsFor(i._("Remove person assigned")),{children:l.jsx("div",{className:"_wy4"})}),"PagesManagerInboxAdminAssigner.removeAssigned"),l.jsx(m,{},"PagesManagerInboxAdminAssigner.divider"),l.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onAssignToSelf},b("Tooltip").propsFor(i._("Assign to me")),{children:l.jsx("div",{className:"_wy5"})}),"PagesManagerInboxAdminAssigner.assignToMe")]}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$6=function(a){var d=b("nullthrows")(c.props.page.id);if(c.props.isIGDirect===!0&&c.props.mailboxID!==null&&c.props.mailboxID!==void 0&&c.props.threadID!==null&&c.props.threadID!==void 0){var e=c.props.mailboxID,f=c.props.threadID;b("IGMessageDataMutateAction").updateThreadAdminStatus(e,f,a.getUniqueID(),a.getTitle(),a.getPhoto());e=b("IGMessageServerActions").getForFBID(e);e.updateThreadAdminStatus(f,a.getUniqueID());return}b("PageCommItemAssignUniqueOwnerMutation").commit({adminID:a.getUniqueID(),adminName:a.getTitle(),adminPhotoUrl:a.getPhoto(),commItemID:b("nullthrows")(c.props.commItem.id),pageID:d});e=b("nullthrows")(c.props.commItem.target_id);c.$7([e],a.getTitle(),a.getUniqueID(),a.getPhoto());b("PagesLogger").log(d,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MULTI_ADMIN_ASSIGNMENT,"unified_inbox");b("PagesManagerInboxLogger").logAdminAssignmentAction(d,"assign","other")};c.$8=function(){if(c.props.isIGDirect===!0&&c.props.mailboxID!==null&&c.props.mailboxID!==void 0&&c.props.threadID!==null&&c.props.threadID!==void 0){var a=c.props.mailboxID,d=c.props.threadID;b("IGMessageDataMutateAction").updateThreadAdminStatus(a,d,null,null,null);a=b("IGMessageServerActions").getForFBID(a);a.updateThreadAdminStatus(d);return}b("PageCommItemClearOwnersMutation").commit({commItemID:b("nullthrows")(c.props.commItem.id),pageID:b("nullthrows")(c.props.page.id)});c.$5.close();a=b("nullthrows")(c.props.commItem.target_id);c.$7([a],null,null,null);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.page.id),"unassign","other")};c.$9=function(){var a=b("nullthrows")(c.props.page.page_admin_users).nodes;a=a.filter(function(a){return a.id===b("CurrentUser").getID()})[0];a=(a=a)!=null?(a=a.profile_picture)!=null?a.uri:a:a;b("PageCommItemAssignUniqueOwnerMutation").commit({adminID:b("CurrentUser").getID(),adminName:b("CurrentUser").getName(),adminPhotoUrl:b("nullthrows")(a),commItemID:b("nullthrows")(c.props.commItem.id),pageID:b("nullthrows")(c.props.page.id)});c.$5.close();var d=b("nullthrows")(c.props.commItem.target_id);c.$7([d],b("CurrentUser").getName(),b("CurrentUser").getID(),a);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.page.id),"assign","other")};c.$10=function(a){return l.jsx(b("Image.react"),{className:(c.props.shouldShowNewMultiAdminAssignment?"":"_16ny")+(c.props.shouldShowNewMultiAdminAssignment?" _8q1z":""),src:a.getPhoto()})};c.$3=new(b("SearchableEntry"))({uniqueID:0,title:""});c.$4=new(b("PagesManagerAdminSearchSource"))();return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("nullthrows")(this.props.page.page_admin_users);this.$4.cacheData(a.nodes)};d.$7=function(a,c,d,e){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var f=b("nullthrows")(this.props.page.id);a=a.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(f).updateCommItemOwner(a,c,d,e)}};d.render=function(){var a=this,c;this.$1=((c=this.props.commItem)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.name)||this.props.adminName;this.$2=((c=this.props.commItem)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.id)||this.props.adminID;(this.$1===null||this.$1===void 0)&&(this.$1=this.props.page.name);this.$3=new(b("SearchableEntry"))({uniqueID:(c=this.$2)!=null?c:0,title:""});return this.props.shouldShowNewMultiAdminAssignment?l.jsx(b("UnifiedInboxSearchableDropdownInput.contrib"),{chevron:l.jsx(b("Image.react"),{src:g("502188")}),className:"_8q1-"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8q9w")+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8q7-":""),getLeftContentForEntry:this.$10,isRemoveDisabled:this.$2==null,listClassName:"_8q0u",onRemove:this.$8,onSelect:this.$6,ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!0,title:this.$1!==this.props.page.name?i._("Assigned to {admin_name}",[i._param("admin_name",this.$1)]).toString():i._("Assign Conversation").toString(),value:this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$3:null}):l.jsx(b("SearchableDropdownInput.contrib"),{className:"_ol6 _72of",getLeftContentForEntry:this.$10,header:l.jsx(n,{onAssignToSelf:this.$9,onRemoveAssigned:this.$8}),headerClassName:"_wxd",listClassName:"_4wkt",onSelect:this.$6,placeholder:i._("Unassigned"),ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!1,title:i._("Assigned to {admin_name}",[i._param("admin_name",this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$1:"")]).toString(),value:this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$3:null})};return c}(l.PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxAdminAssigner_commItem.graphql"),page:k!==void 0?k:k=b("PagesManagerInboxAdminAssigner_page.graphql")})}),null);
__d("PagesManagerInboxHeaderTopNavNUX.react",["React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onComponentMount()};d.componentWillUnmount=function(){this.props.onComponentUnmount()};d.render=function(){return g.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,offsetX:8,onCloseButtonClick:this.props.onDismiss,position:"below",shown:!0,children:this.props.nuxText})};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAdminAssignerNUXContainer.react",["fbt","FluxContainer","PagesManagerInboxHeaderTopNavNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="pages_inbox_admin_assign",j="business_inbox_ig_direct_multi_admin_assignment";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[i]):d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[j])},d.$2=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[i]):d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[j])},d.$3=function(){d.state.shouldShowMultiAdminNUX?b("PagesManagerInboxNUXAction").hide():d.state.shouldShowIGMultiAdminNUX&&b("PagesManagerInboxNUXAction").hide()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{shouldShowMultiAdminNUX:b("PagesManagerInboxStore").shouldShowNUX(i),shouldShowIGMultiAdminNUX:b("PagesManagerInboxStore").shouldShowNUX(j)}};var d=c.prototype;d.render=function(){if(this.state.shouldShowMultiAdminNUX||this.state.shouldShowIGMultiAdminNUX){var a=this.state.shouldShowMultiAdminNUX&&!this.state.shouldShowIGMultiAdminNUX?g._("Assign an owner to this conversation so the right person can respond. Only people who manage your Page will see this."):"",c=!this.state.shouldShowMultiAdminNUX&&this.state.shouldShowIGMultiAdminNUX?g._("Assign someone to respond to this conversation. Only people who manage your Page will see this."):"";return h.jsx(b("PagesManagerInboxHeaderTopNavNUX.react"),{contextRef:this.props.contextRef,nuxText:a||c,onComponentMount:this.$1,onComponentUnmount:this.$3,onDismiss:this.$2})}return null};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAdminAssignerRoot.react",["PagesManagerInboxAdminAssigner.react","PagesManagerInboxAdminAssignerNUXContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAdminAssignerRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAdminAssignerRootQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?[h.jsx(b("PagesManagerInboxAdminAssigner.react"),babelHelpers["extends"]({ref:function(b){a.assigner=b},shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment},c),"PagesManagerInboxAdminAssignerRoot.assigner"),h.jsx(b("PagesManagerInboxAdminAssignerNUXContainer.react"),{contextRef:function(){return a.assigner}},"PagesManagerInboxAdminAssignerRoot.NUX")]:null},variables:{pageID:this.props.pageID,commItemID:this.props.commItemID}})};return c}(h.Component);e.exports=a}),null);
__d("ConversationDeleteConfirmationDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{"data-testid":"delete_thread_confirm",label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:h.jsx(b("FDSModalHeader.react"),{title:g._("Delete Conversation")}),isShown:a.shown,label:"Delete Modal",onHide:a.onHide,children:h.jsx(b("FDSSection.react"),{children:a.platform!=="INSTAGRAM_DIRECT"?g._("This will permanently delete the conversation history."):g._("Deleting removes the conversation from your inbox, but no one else's inbox.")})})}e.exports=a}),null);
__d("PagesManagerInboxBlockMessagesDialog.react",["fbt","FDSButton.react","FDSButtonSpinner.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=g._("Block Messages From this Page?"),d=g._("You will no longer receive messages from {name}, or be able to send messages to their Page. They won't be notified that you blocked them, and you can unblock at any time.",[g._param("name",a.pageName)]);a.isBlocked&&(c=g._("Unblock Messages From this Page?"),d=g._("You'll be able to send and receive messages from {name} again, but you won't see any messages they sent while blocked. They won't be notified of a change because they couldn't see that they were blocked before.",[g._param("name",a.pageName)]));return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{busyIndicator:a.isBlocking?h.jsx(b("FDSButtonSpinner.react"),{}):null,isDisabled:a.isBlocking,label:a.isBlocked?g._("Unblock Messages"):g._("Block Messages"),onClick:a.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSCancelButton.react"),{isDisabled:a.isBlocking})}),header:h.jsx(b("FDSModalHeader.react"),{title:c}),isShown:a.shown,label:c,onHide:a.onHide,children:h.jsx(b("FDSSection.react"),{children:h.jsx(b("FDSText.react"),{children:d})})})}e.exports=a}),null);
__d("PagesManagerInboxCometHeaderMoreOptionsMenu.react",["ix","fbt","FDSDropdownMenu.react","Image.react","React","asset","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=b("joinClasses")(a.className,"_3-8w");return i.jsx("div",{className:c,children:i.jsx(b("FDSDropdownMenu.react"),{buttonIcon:i.jsx(b("Image.react"),{src:g("484387")}),buttonUse:"flatWhite",fdsOverride_isChevronHidden:!0,items:a.items,label:"",menuAlignment:"right",onMenuButtonClick:a.onClick,tooltip:h._("More options")})})}e.exports=a}),null);
__d("PagesManagerInboxHeaderMoreOptionsMenu.react",["fbt","FDSDropdownMenu.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx("div",{className:a.className,children:h.jsx(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:a.items,label:g._("More Items"),onMenuButtonClick:a.onClick,useEllipsisIcon:!0})})}e.exports=a}),null);
__d("PagesManagerInboxBlockMessagesMenu.react",["cx","fbt","PagesManagerInboxBlockMessagesDialog.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxCometUtil","PagesManagerInboxHeaderMoreOptionsMenu.react","PagesManagerInboxLogger","React","RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBlockMessagesMenuMutation.graphql","PagesManagerInboxBlockMessagesMenu_itemPage.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React"),l=b("RelayModern").commitMutation;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isBlocking:!1,isDialogShown:!1},d.$2=function(){d.$1("block_messages_menu_clicked")},d.$3=function(){d.setState({isDialogShown:!1})},d.$5=function(){var a=Boolean(d.props.itemPage.is_message_blocked_by_viewer),c=a?"unblock_messages_confirm":"block_messages_confirm";d.$1(c);d.setState({isBlocking:!0});l(b("RelayFBEnvironment"),{mutation:i!==void 0?i:i=b("PagesManagerInboxBlockMessagesMenuMutation.graphql"),variables:{input:{actor_id:d.props.pageID,target_id:b("nullthrows")(d.props.itemPage.id),should_be_blocked:!a}},onCompleted:function(){return d.setState({isBlocking:!1,isDialogShown:!1})},onError:function(){return d.setState({isBlocking:!1})}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$4=function(){var a=Boolean(this.props.itemPage.is_message_blocked_by_viewer);a=a?"unblock_messages_click":"block_messages_click";this.$1(a);this.setState({isDialogShown:!0})};d.render=function(){var a=this,c=Boolean(this.props.itemPage.is_message_blocked_by_viewer),d=c?h._("Unblock messages"):h._("Block messages");d=[{type:"item",label:d,onClick:function(){return a.setState({isDialogShown:!0})}}];return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?k.jsxs("div",{children:[k.jsx(b("PagesManagerInboxBlockMessagesDialog.react"),{isBlocked:c,isBlocking:this.state.isBlocking,onConfirm:this.$5,onHide:this.$3,pageName:(c=this.props.itemPage.name)!=null?c:"",shown:this.state.isDialogShown}),k.jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:d,onClick:this.$2})]}):k.jsx(b("PagesManagerInboxHeaderMoreOptionsMenu.react"),{className:"_653e _3-8m",items:d,onClick:this.$2})};return c}(k.PureComponent);e.exports=a(c,{itemPage:j!==void 0?j:j=b("PagesManagerInboxBlockMessagesMenu_itemPage.graphql")})}),null);
__d("PagesManagerInboxCometBanUserMenu.react",["fbt","AsyncRequest","CRMBanReportUserDialog.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxListAction","PagesManagerInboxLogger","React","XPagesBanUserDataController","XPagesUnbanUserDataController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,isBanned:d.props.isBanned},d.$2=function(){d.$1("ban_user_menu_clicked")},d.$3=function(){var a=d.state.isBanned?"unban_user_click":"ban_user_click";d.$1(a);d.setState({showDialog:!0})},d.$5=function(){d.setState({showDialog:!1})},d.$6=function(){var a=d.state.isBanned?"unban_user_confirm":"ban_user_click",c=d.state.isBanned?b("XPagesUnbanUserDataController").getURIBuilder():b("XPagesBanUserDataController").getURIBuilder();c=c.setFBID("page_id",d.props.pageID).setFBIDVector("user_ids",[d.props.userID]).getURI();new(b("AsyncRequest"))().setURI(c).setHandler(function(a){a.payload.success&&(b("PagesManagerInboxListAction").banStatusChange(d.props.userName,!d.state.isBanned),d.setState(function(a){return{isBanned:!a.isBanned}}))}).send();d.$1(a);d.setState({showDialog:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$4=function(a,b){return{type:"item",label:a,onClick:b}};d.render=function(){if(this.props.userID===null||this.props.userID===void 0)return null;var a=this.state.isBanned?g._("Remove Ban from Page?"):g._("Ban from Page");a=[this.$4(a,this.$3)];return h.jsxs("div",{children:[h.jsx(b("CRMBanReportUserDialog.react"),{isBanned:this.state.isBanned,onConfirm:this.$6,onHide:this.$5,shown:this.state.showDialog,userName:this.props.userName}),h.jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:a,onClick:this.$2})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometDetailHeaderActionUnit.react",["cx","BusinessInboxBizKitUtil","GeoButton.react","PageCommItemActionType","React","Tooltip","joinClasses","Image.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("BusinessInboxBizKitUtil").bizKitHeaderActionIcons,i=b("BusinessInboxBizKitUtil").isBizKitBeta,j=b("React"),k="actionItem";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_8g6y";case b("PageCommItemActionType").FOLLOW_UP:return"_8g6-";case b("PageCommItemActionType").UN_FOLLOW_UP:return"_8g4h";case b("PageCommItemActionType").DONE:return"_8g4i";case b("PageCommItemActionType").MARK_READ:return"_8g4j";case b("PageCommItemActionType").MARK_UNREAD:return"_8g4k";case b("PageCommItemActionType").SPAM:return"_8g4l";case b("PageCommItemActionType").DELETE:return"_8g4m"}return""};d.$2=function(){var a=i()?j.jsx(b("GeoButton.react"),{icon:j.jsx(b("Image.react"),{src:h(this.props.actionType)}),isLabelHidden:!0,label:"",tooltip:this.props.actionLabel}):j.jsx("div",babelHelpers["extends"]({className:"_8g4p"},b("Tooltip").propsFor(this.props.actionLabel,"below"),{ref:k,children:j.jsx("div",{className:b("joinClasses")("_8g4q",this.$1())})}));return a};d.render=function(){return j.jsx("div",{className:b("joinClasses")("_8g4r"),"data-testid":void 0,fullHeight:!0,horizontal:!1,onClick:this.props.onClick,vertical:!0,children:this.$2()})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxMessagingPluginUtils.react",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a!=null?a:b}e.exports={setGuestOrUserID:a}}),null);
__d("PagesManagerInboxCometDetailHeaderAction.react",["cx","fbt","BusinessInboxBizKitUtil","ConversationDeleteConfirmationDialog.react","CRMBlockIGUserConfirmationDialog.react","IGMessageServerActions","PageCommItemActionType","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxBlockMessagesMenu.react","PagesManagerInboxCometBanUserMenu.react","PagesManagerInboxCometDetailHeaderActionUnit.react","PagesManagerInboxCometHeaderMoreOptionsMenu.react","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxMessagingPluginUtils.react","PagesMessagingInboxActionLogger","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BusinessInboxBizKitUtil").isBizKitBeta,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showConfirmationDialog:!1,showBlockIGUserDialog:!1},d.$1=function(){d.setState({showConfirmationDialog:!0})},d.$2=function(){d.setState({showConfirmationDialog:!1})},d.onCancelBlockIGUser=function(){d.setState({showBlockIGUserDialog:!1})},d.onConfirmBlockIGUser=function(){var a=b("IGMessageServerActions").getForFBID(d.props.pageID),c=d.props.igUserID,e=d.props.userID;c!=null&&e!=null&&a.blockUser(e,c);d.setState({showBlockIGUserDialog:!1})},d.$5=function(){if(d.state.showBlockIGUserDialog)return;d.setState({showBlockIGUserDialog:!0})},d.$7=function(){var a=b("PagesManagerInboxFilterStore").getActiveType();if(a==="INSTAGRAM_DIRECT"){var c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesMessagingInboxActionLogger").logDeleteThreadClicked("INSTAGRAM_DIRECT");c.deleteThread(d.props.userID)}else d.props.onStatusChange(b("PageCommItemStatus").DELETED);d.setState({showConfirmationDialog:!1});b("PagesManagerAction").clearViewListItem();b("PagesMessagingInboxActionLogger").logDeleteThreadClicked(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getBlockIGUserConfirmationDialog=function(){if(!this.state.showBlockIGUserDialog||this.props.igUserName==null)return null;var a=this.props.igUserName;return j.jsx(b("CRMBlockIGUserConfirmationDialog.react"),{isInbox:!0,onCancel:this.onCancelBlockIGUser,onConfirm:this.onConfirmBlockIGUser,shown:this.state.showBlockIGUserDialog,username:a})};d.logAction=function(a){b("PagesManagerInboxLogger").create(a).log()};d.$3=function(){var a=h._("Block"),b=h._("Report");a=[this.$4(a,this.$5),this.$4(b,this.$6)];return a};d.$6=function(){window.open("https://help.instagram.com/568100683269916/?ref=reportininbox","_blank")};d.$4=function(a,b){return{type:"item",label:a,onClick:b}};d.render=function(){var a=this,c=this.props.actionParam,d=[];c.showDone&&d.push(j.jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_done",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").DONE),actionType:b("PageCommItemActionType").DONE,onClick:function(){a.props.onStatusChange(b("PageCommItemStatus").DONE)}},b("PageCommItemActionType").DONE));c.showDelete&&d.push(j.jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_delete",actionLabel:h._("Delete conversation"),actionType:b("PageCommItemActionType").DELETE,commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),onClick:this.$1},b("PageCommItemActionType").DELETE));c.showSpam&&d.push(j.jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_spam",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").SPAM),actionType:b("PageCommItemActionType").SPAM,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").SPAM)}},b("PageCommItemActionType").SPAM));c.showMarkRead&&d.push(j.jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:h._("Mark as Read"),actionType:b("PageCommItemActionType").MARK_READ,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_READ)}},b("PageCommItemActionType").MARK_READ));c.showMarkUnread&&d.push(j.jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:h._("Mark as Unread"),actionType:b("PageCommItemActionType").MARK_UNREAD,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_UNREAD)}},b("PageCommItemActionType").MARK_UNREAD));if(c.showFollowUp){var e=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),f=b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").FOLLOW_UP);e&&(f=b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP));d.push(j.jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_followup",actionLabel:f,actionType:b("PageCommItemActionType").FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").FOLLOW_UP)}},b("PageCommItemActionType").FOLLOW_UP))}c.showUnFollowup&&d.push(j.jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionId:"action_unfollowup",actionLabel:b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").UN_FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").UN_FOLLOW_UP));c.showInbox&&d.push(j.jsx(b("PagesManagerInboxCometDetailHeaderActionUnit.react"),{actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").INBOX,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").INBOX));if(c.showMore&&this.props.isIGGroup!==!0){e=b("PagesManagerInboxFilterStore").getActiveType();if(e==="INSTAGRAM_DIRECT")f=j.jsx(b("PagesManagerInboxCometHeaderMoreOptionsMenu.react"),{items:this.$3(),onClick:b("emptyFunction")});else if(this.props.itemPage!=null)f=j.jsx(b("PagesManagerInboxBlockMessagesMenu.react"),{itemPage:this.props.itemPage,pageID:this.props.pageID});else{c=(c=this.props.item)==null?void 0:(e=c.page_customer)==null?void 0:e.name;(c===null||c===void 0)&&(c=h._("Facebook User"));f=j.jsx(b("PagesManagerInboxCometBanUserMenu.react"),{isBanned:((e=this.props.item)==null?void 0:(e=e.page_customer)==null?void 0:e.is_banned_by_page)||!1,pageID:this.props.pageID,userID:b("PagesManagerInboxMessagingPluginUtils.react").setGuestOrUserID((e=this.props.item)==null?void 0:(e=e.page_customer)==null?void 0:e.guest_id,(e=this.props.item)==null?void 0:(e=e.page_customer)==null?void 0:e.user_id),userName:c})}d.push(j.jsx("div",{className:"_8hqi _8g4p",children:f},b("PageCommItemActionType").MORE))}return j.jsxs("div",{className:(i()?"":"_8g6_")+(i()?" _8-si":""),children:[j.jsx("div",{className:i()?"_8g4r":"",children:this.props.leftActions}),d,this.getBlockIGUserConfirmationDialog(),j.jsx(b("ConversationDeleteConfirmationDialog.react"),{onConfirm:this.$7,onHide:this.$2,platform:b("PagesManagerInboxFilterStore").getActiveType(),shown:this.state.showConfirmationDialog},"delete modal")]})};return c}(j.PureComponent);e.exports=a}),null);
__d("JobEmployerUtils",["RelayModern","JobEmployerUtils_page.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;function a(a){var b=(a==null?void 0:a.name)||"",c=(a==null?void 0:a.id)||"";return(a==null?void 0:a.username)||b+"-"+c}g!==void 0?g:g=b("JobEmployerUtils_page.graphql");e.exports={getPageToken:a}}),null);
__d("PagesManagerInboxHeaderJobBanner.react",["ix","cx","ActionList.react","CenteredContainer.react","Image","JobEmployerUtils","JobsATSSetStatusDropdown.react","JobSearchATSLogger","JobSearchStrings","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","React","RelayModern","XPagesManagerManageJobsController","asset","cxMargin","PagesManagerInboxHeaderJobBanner_jobApplication.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;c=a.call(this,c)||this;c.$1=new(b("JobSearchATSLogger"))((d=c.props.jobApplication)==null?void 0:(d=d.job_opening)==null?void 0:(d=d.employer)==null?void 0:d.id,(d=c.props.jobApplication)==null?void 0:(d=d.job_opening)==null?void 0:d.id);return c}var d=c.prototype;d.componentDidMount=function(){this.$1.logJobsMessengerBannerImpression()};d.$2=function(){var a;a=(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:a.employer;a=b("JobEmployerUtils").getPageToken(a);return b("XPagesManagerManageJobsController").getURIBuilder().setString("page_token",a).setFBID("job_application_id",(a=this.props.jobApplication)==null?void 0:a.id).setEnum("referer_mechanism","page_messenger_banner").setEnum("source","messenger").getURI()};d.render=function(){var a;return j.jsxs(b("Layout.react"),{className:"_7esf",children:[j.jsx(b("LayoutColumn.react"),{className:"_3-8t",children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx("div",{className:"_7jvj",children:j.jsx(b("Image"),{className:"_7jvk",source:g("616091")})})})}),j.jsx(b("LayoutFillColumn.react"),{children:j.jsxs("div",{className:"_7esi",children:[j.jsxs(b("ActionList.react"),{className:"_7esj",children:[(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:(a=a.title)==null?void 0:a.text,(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:(a=a.long_subtitle)==null?void 0:a.text]}),j.jsx(b("Link.react"),{className:"_7jvl",href:this.$2(),children:b("JobSearchStrings").VIEW_APPLICATION})]})}),j.jsx(b("LayoutColumn.react"),{className:"_3-8t",children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx(b("JobsATSSetStatusDropdown.react"),{jobApplication:this.props.jobApplication,logger:this.$1})})})]})};return c}(j.PureComponent);e.exports=a(c,{jobApplication:i!==void 0?i:i=b("PagesManagerInboxHeaderJobBanner_jobApplication.graphql")})}),null);
__d("PagesManagerInboxPicSize",[],(function(a,b,c,d,e,f){"use strict";e.exports={CometDetailViewHeaderPicSize:52,DetailViewHeaderPicSize:32,ListRowProPicSize:40,IGDirectContextCardProfileSize:52,BizWebDetailViewHeaderPicSize:36}}),null);
__d("PageCommItemTypeUtil",[],(function(a,b,c,d,e,f){"use strict";a={isUserCreated:function(a){switch(a){case"FB_MESSAGE":case"FB_REVIEW":case"FB_USER_POST":case"FB_GROUP_POST":case"FB_RECOMMENDATION":case"IG_MESSAGE":return!0}return!1},toPageCommPlatform:function(a){switch(a){case"FB_MESSAGE":return"MESSENGER";case"INSTAGRAM_POST":return"INSTAGRAM";case"WEC_MESSAGE":return"WEC";default:return"FACEBOOK"}}};e.exports=a}),null);
__d("PagesManagerInboxProfilePic.react",["cx","ix","BusinessInboxBizKitUtil","FBLoadShimmer.react","Image.react","PageCommItemTypeUtil","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BusinessInboxBizKitUtil").isBizKitBeta,j=b("React"),k="PageCommItemPart";function l(a){var c=a.showPlatformBadge;a=a.commPlatform;return!c?null:j.jsx("div",{className:"_5m17",children:(a==="INSTAGRAM_DIRECT"||a==="INSTAGRAM")&&i()?j.jsx(b("Image.react"),{height:16,src:h("1333925"),width:16}):j.jsx("div",{className:"_5m18"})})}function m(a){if(a.imageURI!==null&&a.imageURI!==void 0&&a.imageURI!=="")return j.jsx(b("Image.react"),{className:b("PageCommItemTypeUtil").isUserCreated(a.commType)||a.commType==="FB_PAGE_POST"&&a.topComment?"_1-3q":"",height:a.imageSize,src:a.imageURI,width:a.imageSize});return a.showPlaceholder?j.jsx(b("FBLoadShimmer.react"),{height:a.imageSize,style:{borderRadius:a.imageSize+"px"},width:a.imageSize}):null}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a;return j.jsxs("div",{className:"_5m0-"+(this.props.commPlatform==="MESSENGER"&&i()?" _9031":"")+((this.props.commPlatform==="MESSENGER"||this.props.commPlatform==="MEDIA_MANAGER_PRIORITY")&&!i()?" _5m10":"")+(this.props.commPlatform==="WEC"?" _7r_8":"")+(this.props.commPlatform==="FACEBOOK"?" _5m15":"")+(this.props.commPlatform==="INSTAGRAM"&&!i()?" _5m16":"")+(this.props.commPlatform==="INSTAGRAM_DIRECT"&&!i()?" _6wkq":"")+(this.props.commType==="FB_GROUP_POST"?" _3pik":""),style:{width:this.props.imageSize,height:this.props.imageSize},children:[((a=this.props)!=null?a.profileElement:a)||j.jsx(m,{commType:this.props.commType,imageSize:this.props.imageSize,imageURI:this.props.imageURI,showPlaceholder:this.props.showPlaceholder,topComment:this.props.commentType===k}),j.jsx(l,{commPlatform:this.props.commPlatform,showPlatformBadge:this.props.showPlatformBadge})]})};return b}(j.PureComponent);a.defaultProps={showPlaceholder:!1};e.exports=a}),null);
__d("PagesManagerInboxProfilePicContainer.react",["PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","nullthrows","PagesManagerInboxProfilePicContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i="/images/pages/wec/wec-group-silhouette.png",j="/images/pages/wec/wec-silhouette.png";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c,d;d=(d=this.props)!=null?(d=d.item)!=null?(d=d.thumbnail)!=null?d.uri:d:d:d;c=b("nullthrows")((c=this.props)!=null?(c=c.item)!=null?c.comm_type:c:c);a=b("nullthrows")((a=this.props)!=null?(a=a.item)!=null?a.comm_platform:a:a);d!=null&&(d.includes("wec-silhouette.png")?d=j:d.includes("wec-group-silhouette.png")&&(d=i));if(this.props.item.page_comm_item){var e;d=(e=this.props.item.page_comm_item.thumbnail)==null?void 0:e.uri}return h.jsx(b("PagesManagerInboxProfilePic.react"),{commType:c,commPlatform:a,imageSize:this.props.imageSize,imageURI:d,showPlatformBadge:this.props.showPlatformBadge})};return c}(h.PureComponent);c.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxProfilePicContainer_item.graphql")})}),null);
__d("PagesManagerInboxCometHeaderView.react",["cx","fbt","invariant","ActionList.react","BoostedComponentAppID","BoostedComponentDialogButtonV2Wrapper.react","CenteredContainer.react","Layout.react","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxAdminAssignerRoot.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxHeaderJobBanner.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","RelayModern","Timestamp.react","formatDate","nullthrows","PagesManagerInboxCometHeaderView_commItem.graphql","PagesManagerInboxCometHeaderView_igPost.graphql","PagesManagerInboxCometHeaderView_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer,n=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var o=b("Layout.react").Column,p=b("Layout.react").FillColumn,q=116,r="PageCommItemPart",s=40;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.shouldShowJobsBanner()?b("PagesManagerAction").setHeaderHeight(2*q):b("PagesManagerAction").setHeaderHeight(q)};d.shouldShowJobsBanner=function(){var a,b;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:a.job_opening;return a!==null&&a!==void 0&&((b=a.title)==null?void 0:b.text)!==null&&((b=a.title)==null?void 0:b.text)!==void 0&&a.job_status==="OPEN"?!0:!1};d.showBoostButton=function(){var a,c=this.props.commItem.comm_type;a=(a=this.props)!=null?(a=a.story)!=null?a.legacy_story_hideable_id:a:a;return a===null||a===void 0||a===""||c!=="FB_PAGE_POST"?null:n.jsx(b("BoostedComponentDialogButtonV2Wrapper.react"),{appID:b("BoostedComponentAppID").BOOSTED_POST,pageID:this.props.mailboxID,placement:"pages-inbox",targetID:a})};d.showHeaderSubtitle=function(){var a;switch(this.props.commItem.comm_platform){case"INSTAGRAM":var c=null;this.props.igPost.like_count!==null&&this.props.igPost.like_count!==void 0&&this.props.igPost.like_count!==0&&(c=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.igPost.like_count,"number")]));var d=null;this.props.igPost.comment_count!==null&&this.props.igPost.comment_count!==void 0&&this.props.igPost.comment_count!==0&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.igPost.comment_count,"number")]));return n.jsxs(b("ActionList.react"),{children:[c,d,n.jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})]});case"FACEBOOK":d=(c=this.props.story)!=null?(c=c.feedback)!=null?(c=c.reactors)!=null?c.count:c:c:c;c=(c=this.props.story)!=null?(c=c.feedback)!=null?(c=c.comments)!=null?c.count:c:c:c;a=(a=this.props.story)!=null?a.creation_time:a;var e=null;d!==null&&d!==void 0&&d!==0&&(e=h._({"*":"{number} reactions","_1":"1 reaction"},[h._plural(this.props.story.feedback.reactors.count,"number")]));d=null;c!==null&&c!==void 0&&c!==0&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.story.feedback.comments.count,"number")]));return n.jsxs(b("ActionList.react"),{children:[e,d,a!==null&&a!==void 0&&a!==0&&n.jsx(b("Timestamp.react"),{text:b("formatDate")(a,"M j"),time:a})]});case"MESSENGER":if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;this.props.commItem.id!==null&&this.props.commItem.id!==void 0&&this.props.commItem.id!==""||i(0,491);return n.jsx(b("PagesManagerInboxAdminAssignerRoot.react"),{commItemID:this.props.commItem.id,pageID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:this.props.shouldShowNewMultiAdminAssignment})}return null};d.escapedTitle=function(){var a=this.props.commItem.comm_title;return a!==null&&a!==void 0&&a!==""?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null};d.revampCommentHeaderPic=function(){var a,c,d,e;e=b("nullthrows")((e=this.props)!=null?(e=e.commItem)!=null?e.comm_platform:e:e);d=b("nullthrows")((d=this.props)!=null?(d=d.commItem)!=null?d.comm_type:d:d);a=(a=this.props.commItem)==null?void 0:(a=a.facebook_comment)==null?void 0:(a=a.author)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;c=(c=this.props.commItem)==null?void 0:c.__typename;return n.jsx(b("PagesManagerInboxProfilePic.react"),{className:"_8g7f",commPlatform:e,commType:d,commentType:c,imageSize:s,imageURI:a,showPlatformBadge:!1})};d.render=function(){var a,c;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:a[0];a=this.shouldShowJobsBanner()&&a!==null&&a!==void 0?n.jsx(b("PagesManagerInboxHeaderJobBanner.react"),{jobApplication:a}):null;if(((c=this.props.commItem)==null?void 0:c.__typename)===r){return n.jsx("div",{children:n.jsxs(b("Layout.react"),{className:"_8g7a",children:[n.jsx(o,{className:"_8g7b",children:n.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.revampCommentHeaderPic()})}),n.jsx(p,{children:n.jsx("div",{className:"_8g7g",children:n.jsx("div",{className:"_8g7h",children:(c=this.props.commItem)==null?void 0:(c=c.facebook_comment)==null?void 0:(c=c.author)==null?void 0:c.name})})})]})})}return n.jsxs("div",{children:[n.jsxs(b("Layout.react"),{className:"_8g7a",children:[n.jsx(o,{className:"_8g7b",children:n.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:n.jsx(b("PagesManagerInboxProfilePicContainer.react"),{imageSize:b("PagesManagerInboxPicSize").CometDetailViewHeaderPicSize,item:this.props.commItem,showPlatformBadge:!1})})}),n.jsx(p,{children:n.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:n.jsx("div",{className:"_8g7g",children:n.jsxs("div",{children:[n.jsx("div",{className:"_8g7e",children:this.escapedTitle()}),n.jsx("div",{className:"_8g7i",children:this.showHeaderSubtitle()})]})})})}),n.jsx(o,{children:n.jsx(m,{ChildActionClass:b("PagesManagerInboxCometDetailHeaderAction.react"),item:this.props.commItem,leftActions:this.showBoostButton(),pageID:this.props.mailboxID})})]}),a]})};return c}(n.PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxCometHeaderView_commItem.graphql"),igPost:k!==void 0?k:k=b("PagesManagerInboxCometHeaderView_igPost.graphql"),story:l!==void 0?l:l=b("PagesManagerInboxCometHeaderView_story.graphql")})}),null);
__d("PagesManagerInboxCometAccordion.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.props.detailViewMode==="messages"?h.jsxs("div",{children:[this.props.header,this.props.children]}):h.jsxs("div",{className:this.props.className,children:[h.jsx(b("Link.react"),{className:"_6q2e"+(this.props.useDefaultCursor===!0?" _6_nb":""),onClick:this.$1,children:this.props.header}),this.props.children]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometNavBarHeaderRowCard.react",["cx","fbt","ClickableArea.react","Image.react","PagesManagerInboxCometUtil","React","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;this.props.count>20?a=h._("20+"):this.props.count>0&&(a=this.props.count);return i.jsx(b("ClickableArea.react"),{onClick:this.props.onClick,children:i.jsxs("div",{className:(this.props.isSelected?"":"_8e35")+(this.props.isSelected?" _8e36":"")+" _6ph8 _6w26","data-testid":void 0,ref:this.props.rowRef,children:[i.jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?this.props.title:null,children:i.jsxs("div",{className:(this.props.isSelected?"_8e37":"")+(this.props.isSelected?"":" _8e38")+(this.props.isCollapsed?" _8f5x":""),children:[a!==null&&this.props.isCollapsed?i.jsx("div",{className:(this.props.isSelected?"_8fgv":"")+(this.props.isSelected?"":" _8fgw")+" _8fgx"}):null,i.jsx(b("Image.react"),{className:"_8e39",src:this.props.image})]})}),i.jsxs("div",{className:"_8e3a",children:[this.props.title,a!==null?b("PagesManagerInboxCometUtil").cometBadgeCountText(a,"MESSENGER","messenger_message_count"):null]})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometNavBarMessengerRowCard.react",["ix","cx","fbt","Image.react","LineClamp.react","Link.react","MessengerState.bs","PagesManagerInboxCometUtil","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=i._("Messenger"),d=this.props.hideBadgeCount===!0?this.props.isSelected?g("498405"):g("499161"):this.props.isSelected?g("481154"):g("499161");return j.jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.pageID,children:function(e){e=b("MessengerState.bs").unreadCounts(e).inbox?b("MessengerState.bs").unreadCounts(e).inbox.size:b("MessengerState.bs").initialUnreadCounts(e).inbox;a.props.setCountForPlatform("MESSENGER",e);e>20?e=i._("20+"):e===0&&(e=null);return j.jsxs(b("Link.react"),{className:(a.props.isSelected?"":"_8e35")+(a.props.isSelected?" _8e36":"")+" _6ph8 _6w26"+(a.props.hideBadgeCount===!0&&a.props.isCollapsed===!1?" _8e3d":""),"data-testid":void 0,onClick:a.props.onClick,children:[j.jsx(b("Tooltip.react"),{position:"right",tooltip:a.props.isCollapsed?c:null,children:j.jsxs("div",{className:"_6ph7",children:[a.props.hideBadgeCount!==!0&&e!==null&&a.props.isCollapsed?j.jsx("div",{className:(a.props.isSelected?"":"_8fgw")+" _8fgx"}):null,j.jsx("div",{className:(a.props.isSelected&&a.props.hideBadgeCount!==!0?"_8e37":"")+(!a.props.isSelected&&a.props.hideBadgeCount!==!0?" _8e38":""),children:j.jsx(b("Image.react"),{className:"_8e39",src:d})})]})}),j.jsxs("div",{className:"_8e3a",children:[j.jsx(b("LineClamp.react"),{lines:1,children:a.props.isCollapsed?null:c}),a.props.hideBadgeCount!==!0&&e!==null?b("PagesManagerInboxCometUtil").cometBadgeCountText(e,"MESSENGER","messenger_message_count"):j.jsx("div",{className:"_7hm0","data-testid":void 0})]})]})}})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerIGTabUpsell.react",["ix","Image.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMessagingInboxActionLogger","React","asset"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="page_inbox_instagram_direct_upsell";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;!c.props.isSelected&&!c.$1()&&b("PagesManagerInboxStore").shouldShowNUX(i)&&b("PagesManagerInboxNUXAction").logView(c.$2());return c}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){return((a=a.instagramDirectConfig)==null?void 0:a.igAccountID)!==""}else return b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT.igAccountID!==null};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.render=function(){b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(this.props.isSelected||this.$1()){b("PagesManagerInboxNUXAction").dismiss(this.$2());return null}return b("PagesManagerInboxStore").shouldShowNUX(i)?h.jsx(b("Image.react"),{src:g("638982")}):null};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometNavBarRowCard.react",["ix","cx","fbt","FluxContainer","IGMessageInboxStore","Image.react","LineClamp.react","Link.react","PagesCommsInboxTypedLogger","PagesManagerIGTabUpsell.react","PagesManagerInboxCometUtil","PagesManagerPageCommItemEditSubscriptionHandler","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){switch(a){case"MESSENGER":return"messenger_message_count";default:return""}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={count:c.props.initialCount},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){if(c.platform==="INSTAGRAM_DIRECT"){a=b("IGMessageInboxStore").getLocallyUpdatedUnreadCount();if(a!=null)return{count:a}}return{count:c.initialCount}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){switch(a.props.platform){case"FACEBOOK":var d=c.page_comm_item_edit_subscribe.page.comms_hub_config.facebook_badge_count;a.state.count!==d&&(a.props.setCountForPlatform("FACEBOOK",d),a.setState({count:d}));break;case"INSTAGRAM":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count&&(a.props.setCountForPlatform("INSTAGRAM",c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count}));break;case"MESSENGER":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count&&(a.props.setCountForPlatform("MESSENGER",c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count),new(b("PagesCommsInboxTypedLogger"))().setEvent("graphql_subscription_received").setFunnel("messenger_badging").setMessageID(c.page_comm_item_edit_subscribe.page_comm_item.id).setMessagingPlatform("messenger").setClientTime(Date.now()).log(),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count}));break;case"WEC":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count&&(a.props.setCountForPlatform("WEC",c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count}));break}})};d.componentDidUpdate=function(a,b){this.props.platform==="INSTAGRAM_DIRECT"&&b!=null&&b.count!==this.state.count&&this.props.setCountForPlatform(this.props.platform,this.state.count)};d.componentWillUnmount=function(){this.$1!==null&&this.$1!==void 0&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.render=function(){var a,c;switch(this.props.platform){case"MESSENGER":a=this.props.isSelected?g("481154"):g("499161");c=i._("Messenger");break;case"INSTAGRAM_DIRECT":a=this.props.hideBadgeCount===!0?this.props.isSelected?g("1100607"):g("1115909"):this.props.isSelected?g("1082530"):g("1115909");c=i._("Instagram Direct");break;case"FACEBOOK":a=this.props.isSelected?g("804741"):g("835335");c=i._("Facebook");this.props.isCollapsed&&(c=i._("Facebook Comments"));break;case"INSTAGRAM":a=this.props.isSelected?g("687389"):g("687386");c=i._("Instagram");this.props.isCollapsed&&(c=i._("Instagram Comments"));break}var d=null;this.state.count!==null&&this.state.count!==void 0&&this.state.count>0&&(d=this.state.count>20?i._("20+"):this.state.count);var e=null;this.props.platform==="INSTAGRAM_DIRECT"&&(e=j.jsx(b("PagesManagerIGTabUpsell.react"),{isSelected:this.props.isSelected}));return j.jsxs(b("Link.react"),{className:(this.props.isSelected?"":"_8e35")+(this.props.isSelected?" _8e36":"")+" _6ph8 _6w26"+(this.props.isSelected&&this.props.platform==="MESSENGER"?" _6jio":"")+(this.props.isSelected&&this.props.platform==="FACEBOOK"?" _6jip":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM"?" _6jiq":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM_DIRECT"?" _6z7o":"")+(this.props.hideBadgeCount===!0&&this.props.isCollapsed===!1?" _8e3d":""),"data-testid":void 0,onClick:this.props.onClick,children:[j.jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?c:null,children:j.jsxs("div",{className:"_6ph7",children:[d!==null&&this.props.isCollapsed&&this.props.hideBadgeCount!==!0?j.jsx("div",{className:(this.props.isSelected?"":"_8fgw")+" _8fgx"}):null,j.jsx("div",{className:(this.props.isSelected&&this.props.hideBadgeCount!==!0?"_8e37":"")+(!this.props.isSelected&&this.props.hideBadgeCount!==!0?" _8e38":""),children:j.jsx(b("Image.react"),{className:"_8e39",src:a})}),j.jsx("div",{children:this.props.isCollapsed&&this.props.platform==="INSTAGRAM_DIRECT"?j.jsx("div",{className:"_7kx1",children:e}):null})]})}),j.jsxs("div",{className:"_8e3a",children:[j.jsx(b("LineClamp.react"),{lines:1,children:this.props.isCollapsed?null:c}),d!==null&&this.props.platform!=null&&this.props.hideBadgeCount!==!0?b("PagesManagerInboxCometUtil").cometBadgeCountText(d,this.props.platform,k(this.props.platform)):j.jsx("div",{className:"_7hm0","data-testid":void 0})]}),e]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxCometNavBlock.react",["cx","PagesManagerInboxCometAccordion.react","PagesManagerInboxCometNavBarHeaderRowCard.react","PagesManagerInboxCometNavBarMessengerRowCard.react","PagesManagerInboxCometNavBarRowCard.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$3=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.$4=function(a){return this.props.detailViewMode==="messages"?h.jsx("div",{className:"_8hs9",children:this.props.isCollapsed?null:this.props.headerTitle}):h.jsx(b("PagesManagerInboxCometNavBarHeaderRowCard.react"),{count:this.$3(),countId:this.props.countID,image:a?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:a,onClick:b("emptyFunction"),rowId:this.props.rowId,rowRef:this.props.rowRef,title:this.props.headerTitle})};d.$5=function(a){return a.platform==="MESSENGER"?!1:this.props.shouldArchiveInboxForProfessionalProfile};d.$6=function(){return this.props.detailViewMode==="messages"?!1:this.props.shouldArchiveInboxForProfessionalProfile};d.render=function(){var a=this;if(this.props.shouldShow===!1)return null;if(this.$6())return null;var c=!1;this.props.rows.length>0?this.props.rows.forEach(function(b){if(!b.shouldShow)return;a.props.detailViewMode===a.props.selectedNavMode&&!c&&(c=b.platform===a.props.filterSelected)}):c=this.props.selectedNavMode===this.props.detailViewMode;return h.jsx(b("PagesManagerInboxCometAccordion.react"),{detailViewMode:this.props.detailViewMode,disableCollapse:!c,header:this.$4(c),onClick:function(){c||(a.props.rows.length>0?a.props.formatChange(a.props.rows[0].platform,a.props.detailViewMode):a.props.formatChange(a.props.filterSelected,a.props.detailViewMode))},children:this.props.rows&&this.props.rows.map(function(d,e){if(a.$5(d))return null;return d.shouldShow?d.platform==="MESSENGER"?h.jsx("div",{children:h.jsx(b("PagesManagerInboxCometNavBarMessengerRowCard.react"),{initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2},d.rowPlatformId)},d.rowPlatformId):h.jsx("div",{children:h.jsx(b("PagesManagerInboxCometNavBarRowCard.react"),{initialCount:d.count!==null&&d.count!==void 0?d.count:0,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,platform:d.platform,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2,shouldShowNewCommentFlow:!!a.props.shouldShowNewCommentFlow})},d.rowPlatformId):null})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBarSavedResponsesNUX.react",["fbt","FDSText.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="saved_responses_to_automated_responses",j="business_inbox_ig_direct_automated_response";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowSaveResponseNUX:d.$1(),shouldShowIGAutomatedResponseNUX:d.$2()},d.$4=function(){d.state.shouldShowSaveResponseNUX===!0?(b("PagesManagerInboxNUXAction").dismiss(d.$3(i)),d.setState({shouldShowSaveResponseNUX:!1})):d.state.shouldShowIGAutomatedResponseNUX&&(b("PagesManagerInboxNUXAction").dismiss(d.$3(j)),d.setState({shouldShowIGAutomatedResponseNUX:!1}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$3(i));return a};d.$2=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$3(j));return a};d.$3=function(a){return b("PagesManagerInboxNUX")[a]};d.render=function(){return h.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,customwidth:240,offsetX:8,onCloseButtonClick:this.$4,position:"below",shown:this.state.shouldShowSaveResponseNUX||this.state.shouldShowIGAutomatedResponseNUX,width:"custom",children:h.jsxs(b("FDSText.react"),{color:"white",size:"body3",children:[this.state.shouldShowSaveResponseNUX?g._("Edit your instant reply and away message in the Automated Responses tab."):null,this.state.shouldShowIGAutomatedResponseNUX?g._("Now you can send instant replies and away messages on both Messenger and Instagram."):null]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistCometNavBlock.react",["cx","fbt","PagesManagerInboxCometAccordion.react","PagesManagerInboxCometNavBarHeaderRowCard.react","PagesManagerInboxCometNavBarMessengerRowCard.react","PagesManagerInboxCometNavBarRowCard.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},c.$4=function(){c.props.formatChange("ALL",c.props.detailViewMode)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$3=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.$5=function(a){return i.jsxs(i.Fragment,{children:[this.props.shouldShowUnifiedThreadlistSeparatedTab===!0?i.jsx("div",{className:"_8hs9",children:this.props.isCollapsed?null:this.props.headerTitle}):null,i.jsx(b("PagesManagerInboxCometNavBarHeaderRowCard.react"),{count:this.$3(),countId:this.props.countID,image:a?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:a,onClick:this.$4,rowId:this.props.rowId,rowRef:this.props.rowRef,title:this.props.shouldShowUnifiedThreadlistSeparatedTab===!0?h._("All Messages"):this.props.headerTitle})]})};d.render=function(){var a=this;if(this.props.shouldShow===!1)return null;var c=this.props.rows.some(function(b){return b.shouldShow&&b.platform===a.props.filterSelected})&&this.props.selectedNavMode===this.props.detailViewMode;return i.jsx(b("PagesManagerInboxCometAccordion.react"),{detailViewMode:this.props.detailViewMode,disableCollapse:!c,header:this.$5(this.props.utlFolderSelected==="ALL"&&c),onClick:b("emptyFunction"),children:this.props.rows&&this.props.rows.map(function(d,e){return d.shouldShow?d.platform==="MESSENGER"?i.jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab!==!0?"_8nzr":"",children:i.jsx(b("PagesManagerInboxCometNavBarMessengerRowCard.react"),{hideBadgeCount:!0,initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2},d.rowPlatformId)},d.rowPlatformId):i.jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab!==!0?"_8nzr":"",children:i.jsx(b("PagesManagerInboxCometNavBarRowCard.react"),{hideBadgeCount:!0,initialCount:d.count!==null&&d.count!==void 0?d.count:0,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,platform:d.platform,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2,shouldShowNewCommentFlow:!!a.props.shouldShowNewCommentFlow})},d.rowPlatformId):null})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometNavBar.react",["ix","cssVar","cx","fbt","FDSLink.react","FDSText.react","PagesManagerInboxCometNavBlock.react","PagesManagerInboxLogger","PagesManagerInboxNavBarSavedResponsesNUX.react","PagesManagerInboxUnifiedThreadlistCometNavBlock.react","PagesManagerInboxUtils","React","RoundImage.react","TetraUnitHeader.react","XPagesProfileHomeController","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("PagesManagerInboxUtils").changeInboxTab,l=b("PagesManagerInboxUtils").changeSelectedUTLFolder,m=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:window.innerWidth<=parseInt("1279px",10)},c.$4=function(){var a=window.innerWidth<=parseInt("1279px",10);c.setState({isCollapsed:a})},c.$5=function(a,b){k(a,b,c.props.filterSelected,c.props.selectedNavMode,c.props.pageID)},c.$6=function(a,b){l(a,b,c.props.utlFolderSelected,c.props.selectedNavMode,c.props.pageID)},c.$7=function(a){c.$1=a},c.$8=function(a){c.$2=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$3(),window.addEventListener("resize",this.$4)};d.$3=function(){b("PagesManagerInboxLogger").logAutomatedResponsesRendered()};d.$9=function(){var a=b("XPagesProfileHomeController").getURIBuilder().setString("page_token",this.props.pageID).getURI();return this.state.isCollapsed?m.jsx("div",{className:"_8f5v",children:m.jsx(b("FDSLink.react"),{display:"block",href:a,children:m.jsx(b("RoundImage.react"),{height:36,src:this.props.pageProfilePicURI,width:36})})}):m.jsx(b("TetraUnitHeader.react"),{headline:j._("Inbox"),level:2,meta:m.jsxs(b("FDSText.react"),{color:"secondary",size:"body3",weight:"normal",children:[" ",j._("{Page's name} > Inbox",[j._param("Page's name",m.jsx(b("FDSLink.react"),{display:"truncateInline",href:a,children:this.props.pageName}))])]}),metaLocation:"above"})};d.$10=function(a){return m.jsx("div",{className:(this.state.isCollapsed?"":"_8hsn")+(this.state.isCollapsed?" _8hsa":""),style:{marginTop:a?12:17}})};d.render=function(){var a=this;return m.jsxs("div",{children:[this.$9(),m.jsxs("div",{className:"_8dau","data-testid":"list_nav_container",style:{height:this.props.height},children:[this.$10(!0),this.props.shouldShowUnifiedThreadlist===!0&&!this.props.shouldArchiveInboxForProfessionalProfile?m.jsx(b("PagesManagerInboxUnifiedThreadlistCometNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$7,rows:[{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("561663"),selectedNavMode:this.props.selectedNavMode,shouldShowUnifiedThreadlistSeparatedTab:this.props.shouldShowUnifiedThreadlistSeparatedTab,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("591503"),utlFolderSelected:this.props.utlFolderSelected}):m.jsx(b("PagesManagerInboxCometNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$7,rows:[{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showWEC,platform:"WEC",count:this.props.badgeCountMap.WEC,rowPlatformId:"wec_row_card"},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("561663"),selectedNavMode:this.props.selectedNavMode,shouldArchiveInboxForProfessionalProfile:this.props.shouldArchiveInboxForProfessionalProfile,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("591502")}),this.props.isDelegatePage||this.props.shouldArchiveInboxForProfessionalProfile?null:this.$10(!1),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{countID:"comment_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Comments & More"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"comments_header_row_card",rows:[{shouldShow:!0,platform:"FACEBOOK",count:this.props.badgeCountMap.FACEBOOK,rowPlatformId:"facebook_row_card"},{shouldShow:!0,platform:"INSTAGRAM",count:this.props.badgeCountMap.INSTAGRAM,rowPlatformId:"ig_row_card"}],selectedIcon:g("561689"),selectedNavMode:this.props.selectedNavMode,shouldArchiveInboxForProfessionalProfile:this.props.shouldArchiveInboxForProfessionalProfile,shouldShow:!this.props.isDelegatePage,shouldShowNewCommentFlow:this.props.shouldShowNewCommentFlow,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("567245")}),this.props.shouldArchiveInboxForProfessionalProfile?null:this.$10(!1),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"automated_responses",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Automated Responses"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"automation_card",rowRef:this.$8,rows:[],selectedIcon:g("587537"),selectedNavMode:this.props.selectedNavMode,shouldArchiveInboxForProfessionalProfile:this.props.shouldArchiveInboxForProfessionalProfile,shouldShow:!0,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("587536")}),this.props.shouldArchiveInboxForProfessionalProfile?null:m.jsx(b("PagesManagerInboxNavBarSavedResponsesNUX.react"),{contextRef:function(){return a.$2}}),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"email_campaign",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Email"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"commerce_email",rows:[],selectedIcon:g("494521"),selectedNavMode:this.props.selectedNavMode,shouldArchiveInboxForProfessionalProfile:this.props.shouldArchiveInboxForProfessionalProfile,shouldShow:this.props.showCommerceEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506660")}),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"email_campaign",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Marketing Emails"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"email_card",rows:[],selectedIcon:g("494521"),selectedNavMode:this.props.selectedNavMode,shouldArchiveInboxForProfessionalProfile:this.props.shouldArchiveInboxForProfessionalProfile,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506660")}),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"contacts",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Contacts"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"contact_card",rows:[],selectedIcon:g("709456"),selectedNavMode:this.props.selectedNavMode,shouldArchiveInboxForProfessionalProfile:this.props.shouldArchiveInboxForProfessionalProfile,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("709455")}),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"lead_email",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Email"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"lead_email",rows:[],selectedIcon:g("494521"),selectedNavMode:this.props.selectedNavMode,shouldArchiveInboxForProfessionalProfile:this.props.shouldArchiveInboxForProfessionalProfile,shouldShow:this.props.showLeadEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506660")})]})]})};return c}(m.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometNavContainer.react",["FluxContainer","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxCometNavBar.react","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){a=b("PagesManagerInboxStore").getConfig();var c=a.validPlatformTypes,d=b("PagesManagerInboxFilterStore").getActiveFolder();d!==b("PageCommItemFolder").TODO&&(c=c.filter(function(a){return a!=="WEC"}));d=b("PagesManagerInboxFilterStore").getActiveType();var e=b("PagesManagerInboxFilterStore").getActiveUTLFolder();return{filterType:d,layoutHeight:b("PagesManagerStore").getLayoutHeight(),validPlatformTypes:c,showCommerceEmail:a.showCommerceEmail,showEmailCampaign:a.showEmailCampaign,showLeadEmail:a.showLeadEmail,navMode:b("PagesManagerInboxStore").getCurrentNavMode(),badgeCountMap:a.badgeCounts,shouldArchiveInboxForProfessionalProfile:a.shouldArchiveInboxForProfessionalProfile,shouldShowNewCommentFlow:a.platformConfigs.FACEBOOK.selectedCommentView==="TOP_LEVEL_COMMENT",utlFolderSelected:e}};var d=c.prototype;d.render=function(){return i.jsx(b("PagesManagerInboxCometNavBar.react"),{badgeCountMap:this.state.badgeCountMap,filterSelected:this.state.filterType,height:this.state.layoutHeight,isDelegatePage:b("PagesManagerInboxStore").getConfig().isDelegatePage,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePicURI:this.props.pageProfilePicURI,selectedNavMode:this.state.navMode,shouldArchiveInboxForProfessionalProfile:this.state.shouldArchiveInboxForProfessionalProfile,shouldShowNewCommentFlow:this.state.shouldShowNewCommentFlow,shouldShowUnifiedThreadlist:g(),shouldShowUnifiedThreadlistSeparatedTab:h(),showCommerceEmail:this.state.showCommerceEmail,showEmailCampaign:this.state.showEmailCampaign,showIGDirect:this.state.validPlatformTypes.includes("INSTAGRAM_DIRECT"),showLeadEmail:this.state.showLeadEmail,showWEC:this.state.validPlatformTypes.includes("WEC"),utlFolderSelected:this.state.utlFolderSelected})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("MediaManagerInboxFBCommsHeader.react",["cx","ActionList.react","CenteredContainer.react","DateConsts","FlexLayout.react","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LineClamp.react","MercuryThreadTimestampReact.re","MercuryTimestamp","PagesManagerAction","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MercuryThreadTimestampReact.re").make,i=b("React"),j=57;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;b("PagesManagerAction").setHeaderHeight(j);var c=a.validationTime*b("DateConsts").MS_PER_SEC;return i.jsxs(b("Layout.react"),{className:"_iyn","data-testid":void 0,children:[i.jsx(b("LayoutColumn.react"),{children:i.jsx(b("CenteredContainer.react"),{className:"_iyp _84mg _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:i.jsx(b("Image.react"),{src:"/images/fb_communications/glyph-app-facebook-circle-1x.png"})})}),i.jsx(b("LayoutFillColumn.react"),{children:i.jsxs(b("CenteredContainer.react"),{className:"_84mh",fullHeight:!0,horizontal:!1,vertical:!0,children:[i.jsx("div",{className:"_iyo",children:i.jsx(b("LineClamp.react"),{lines:1,children:a.title})}),i.jsx(b("FlexLayout.react"),{children:i.jsx(b("ActionList.react"),{children:i.jsx(h,{text:b("MercuryTimestamp").getRelativeTimestamp(c),time:c,title:(a=b("MercuryTimestamp").getAbsoluteTimestamp(c))!=null?a:void 0})})})]})})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("MediaManagerInboxFBCommsHeaderContainer.react",["FluxContainer","MediaManagerFBCommsStore","MediaManagerInboxFBCommsHeader.react","PagesManagerInboxStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("MediaManagerFBCommsStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getMailboxID("MEDIA_MANAGER_FB_COMMS");a=b("MediaManagerFBCommsStore").get(a);a=a.hasValue()?a.getValueEnforcing().messages:b("immutable").List();return{messages:a}};var d=c.prototype;d.render=function(){var a=this;if(this.state.messages==null||this.props.viewingItem==null)return null;var c=this.state.messages.find(function(b){return b.node.id===a.props.viewingItem});return g.jsx(b("MediaManagerInboxFBCommsHeader.react"),{item:c})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxDetailHeaderActionUnit.react",["cx","CenteredContainer.react","PageCommItemActionType","React","Tooltip","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=600;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_stx";case b("PageCommItemActionType").DONE:return"_su6"}return""};d.$2=function(){switch(this.props.actionType){case b("PageCommItemActionType").INBOX:return"_su7";case b("PageCommItemActionType").FOLLOW_UP:return"_421s";case b("PageCommItemActionType").UN_FOLLOW_UP:return"_421t";case b("PageCommItemActionType").DONE:return"_su9";case b("PageCommItemActionType").MARK_READ:return"_5hln";case b("PageCommItemActionType").MARK_UNREAD:return"_5hlu";case b("PageCommItemActionType").SPAM:return"_5zrz";case b("PageCommItemActionType").DELETE:return"_1pjy"}return""};d.$3=function(){switch(this.props.actionType){case b("PageCommItemActionType").DONE:return"_sua";default:return"_sub"}};d.$4=function(){var a=h.jsxs("div",{ref:"actionItem",children:[h.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(this.props.actionLabel,"below"),{className:b("joinClasses")("_3jcz",this.$2()),"data-tooltip-delay":i})),h.jsx("span",{className:this.props.commPlatform==="WEC"?null:this.$3(),children:this.props.commPlatform==="WEC"?null:this.props.actionLabel})]});return a};d.render=function(){return h.jsx(b("CenteredContainer.react"),{className:b("joinClasses")("_suc",this.$1()),"data-testid":void 0,fullHeight:!0,horizontal:!1,onClick:this.props.onClick,vertical:!0,children:this.$4()})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxDetailHeaderAction.react",["cx","fbt","ConversationDeleteConfirmationDialog.react","FacebookAppIDs","IGMessageServerActions","MediaManagerInboxContext.react","MediaManagerInboxQEUtils","PageCommItemActionType","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxDetailHeaderActionUnit.react","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesMessagingInboxActionLogger","React","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showConfirmationDialog:!1},d.$2=function(){d.setState({showConfirmationDialog:!0})},d.$5=function(){d.setState({showConfirmationDialog:!1})},d.$4=function(){var a=b("PagesManagerInboxFilterStore").getActiveType();if(a==="INSTAGRAM_DIRECT"){var c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesMessagingInboxActionLogger").logDeleteThreadClicked("INSTAGRAM_DIRECT");c.deleteThread(d.props.userID)}else d.props.onStatusChange(b("PageCommItemStatus").DELETED);d.setState({showConfirmationDialog:!1});b("PagesManagerAction").clearViewListItem();b("PagesMessagingInboxActionLogger").logDeleteThreadClicked(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this.context&&this.context.appID;return a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()&&b("PagesManagerInboxFilterStore").getActiveType()==="FACEBOOK"};d.render=function(){var a=this,c=this.props.actionParam,d=[];c.showDelete&&d.push(i.jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_delete",actionLabel:h._("Delete conversation"),actionType:b("PageCommItemActionType").DELETE,commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),onClick:this.$2},b("PageCommItemActionType").DELETE));c.showSpam&&!this.$1()&&d.push(i.jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_spam",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").SPAM),actionType:b("PageCommItemActionType").SPAM,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").SPAM)}},b("PageCommItemActionType").SPAM));c.showMarkRead&&d.push(i.jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_read",actionLabel:h._("Mark as read"),actionType:b("PageCommItemActionType").MARK_READ,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_READ)}},b("PageCommItemActionType").MARK_READ));c.showMarkUnread&&d.push(i.jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_unread",actionLabel:h._("Mark as unread"),actionType:b("PageCommItemActionType").MARK_UNREAD,onClick:function(){return a.props.onReadStatusChange(b("PageCommItemActionType").MARK_UNREAD)}},b("PageCommItemActionType").MARK_UNREAD));if(c.showFollowUp){var e=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),f=b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").FOLLOW_UP);e&&(f=b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP));d.push(i.jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_followup",actionLabel:f,actionType:b("PageCommItemActionType").FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").FOLLOW_UP)}},b("PageCommItemActionType").FOLLOW_UP))}c.showUnFollowup&&d.push(i.jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_unfollowup",actionLabel:b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").UN_FOLLOW_UP,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").UN_FOLLOW_UP));c.showInbox&&d.push(i.jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_move_to_main",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").TODO),actionType:b("PageCommItemActionType").INBOX,onClick:function(){return a.props.onStatusChange(b("PageCommItemStatus").TODO)}},b("PageCommItemActionType").INBOX));c.showDone&&d.push(i.jsx(b("PagesManagerInboxDetailHeaderActionUnit.react"),{actionId:"action_done",actionLabel:b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemStatus").DONE),actionType:b("PageCommItemActionType").DONE,onClick:function(){a.props.onStatusChange(b("PageCommItemStatus").DONE)}},b("PageCommItemActionType").DONE));d.length&&d.splice(d.length-1,0,this.$3());return i.jsxs("div",{className:"_33uz",children:[this.props.leftActions,this.props.leftActions?i.jsx("span",{className:"_3-8u",children:this.$3()}):null,d,i.jsx(b("ConversationDeleteConfirmationDialog.react"),{onConfirm:this.$4,onHide:this.$5,platform:b("PagesManagerInboxFilterStore").getActiveType(),shown:this.state.showConfirmationDialog},"delete modal")]})};d.$3=function(){return i.jsx("div",{className:"_33u_",children:i.jsx("div",{className:"_33v0"})},"actionDivider")};return c}(i.PureComponent);c.contextType=a;e.exports=c}),null);
__d("PageManagerInboxPageToPageHeaderView.react",["cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LineClamp.react","PageCommItemStatus","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxBlockMessagesMenu.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxCometUtil","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","PageManagerInboxPageToPageHeaderView_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainerInner,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=116,l=57,m=16;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign();b("PagesManagerAction").setHeaderHeight(a?k:l)};d.render=function(){var a,c=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign();a={comm_platform:"MESSENGER",comm_title:(a=(a=this.props.page)==null?void 0:a.name)!=null?a:"",comm_type:"FB_MESSAGE",id:"",page_customer:{message_thread:{thread_associated_job_applications:{nodes:[]}},is_banned_by_page:!1,name:null,user:{id:this.props.page.id}},thumbnail:{uri:(a=(a=this.props.page)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri)!=null?a:""},comm_status:b("PageCommItemStatus").TODO,target_id:this.props.page.id,$refType:""};return j.jsxs(b("Layout.react"),{className:(c?"_8g7a":"")+(c?"":" _iyn"),children:[j.jsx(b("LayoutColumn.react"),{className:(c?"_8g7b":"")+(c?"":" _iyp"),children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:"MESSENGER",commType:"FB_MESSAGE",imageSize:c?b("PagesManagerInboxPicSize").CometDetailViewHeaderPicSize:b("PagesManagerInboxPicSize").DetailViewHeaderPicSize,imageURI:a.thumbnail.uri,showPlatformBadge:!1})})}),j.jsx(b("LayoutFillColumn.react"),{children:c?j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx("div",{className:"_8g7g",children:j.jsx("div",{className:"_8g7e",children:a.comm_title})})}):j.jsx("div",{className:"_72od",children:j.jsx("div",{className:"_iyo",children:j.jsx(b("LineClamp.react"),{lineHeight:m,lines:1,children:a.comm_title})})})}),j.jsx(b("LayoutColumn.react"),{children:j.jsx(i,{ChildActionClass:c?b("PagesManagerInboxCometDetailHeaderAction.react"):b("PagesManagerInboxDetailHeaderAction.react"),item:a,itemPage:this.props.page,leftActions:c?null:j.jsx(b("PagesManagerInboxBlockMessagesMenu.react"),{itemPage:this.props.page,pageID:this.props.mailboxID})})})]})};return c}(j.PureComponent);e.exports=a(c,{page:h!==void 0?h:h=b("PageManagerInboxPageToPageHeaderView_page.graphql")})}),null);
__d("PagesManagerInboxCometHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_8g70",children:h.jsxs("div",{className:"_2iwq _8g71",children:[h.jsx("div",{className:"_8g72"}),h.jsx("div",{className:"_8g73"}),h.jsx("div",{className:"_8g74"}),h.jsx("div",{className:"_8g75"}),h.jsx("div",{className:"_8g76"}),h.jsx("div",{className:"_8g77"})]})})};return b}(h.PureComponent);e.exports=a}),null);
__d("IGDirectMessageGroupProfilePic.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=3/4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx("div",{className:"_73qb",children:this.props.imageURIs.filter(function(a){return a!==null}).map(function(c,d){return h.jsx(b("Image.react"),{className:"_1-3q _73qa",height:a.props.imageSize*i,src:c,width:a.props.imageSize*i},d)})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_641d",children:h.jsxs("div",{className:"_2iwq _641e",children:[h.jsx("div",{className:"_641f"}),h.jsx("div",{className:"_641g"}),h.jsx("div",{className:"_641h"}),h.jsx("div",{className:"_641i"}),h.jsx("div",{className:"_641j"}),h.jsx("div",{className:"_641k"})]})})};return b}(h.PureComponent);e.exports=a}),null);
__d("UnifiedInboxAdminAssignerRoot.react",["PagesManagerInboxAdminAssigner.react","PagesManagerInboxAdminAssignerNUXContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","UnifiedInboxAdminAssignerRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("UnifiedInboxAdminAssignerRootQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?[h.jsx(b("PagesManagerInboxAdminAssigner.react"),babelHelpers["extends"]({ref:function(b){a.assigner=b}},c,{adminID:a.props.adminID,adminName:a.props.adminName,isIGDirect:!0,mailboxID:a.props.mailboxID,shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment,threadID:a.props.threadID}),"PagesManagerInboxAdminAssignerRoot.assigner"),h.jsx(b("PagesManagerInboxAdminAssignerNUXContainer.react"),{contextRef:function(){return a.assigner}},"PagesManagerInboxAdminAssignerRoot.NUX")]:null},variables:{mailboxID:this.props.mailboxID}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometIGDirectHeaderContainer.react",["cx","BIZInboxClientLogger","BusinessInboxBizKitUtil","CenteredContainer.react","ErrorBoundary.react","FluxContainer","IGDirectMessageGroupProfilePic.react","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","Image.react","Layout.react","LineClamp.react","LoadObject","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxHeaderLoading.react","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxPicSize","PagesManagerInboxStore","React","UnifiedInboxAdminAssignerRoot.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("BusinessInboxBizKitUtil").isBizKitBeta,i=b("React"),j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=116;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thread:b("LoadObject").empty()},d.$1=function(a){var c=d.state.thread.getValue();if(!c)return;var e=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.props.filterStatus),f=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.props.filterStatus);d.props.filterStatus!==a&&f==null&&e==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):f!==null?d.props.filterStatus===b("PageCommItemFolder").TODO?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.mailboxID,d.props.threadID,c.is_follow_up!==!0):d.props.filterStatus===b("PageCommItemFolder").FOLLOW_UP&&(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):e!==null&&b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.threadID,c.is_read!==!0);b("PagesManagerInboxLogger").itemStatusChanged(d.props.threadID,"INSTAGRAM_DIRECT",a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(d.props.threadID,"INSTAGRAM_DIRECT",a,d.props.filterStatus);b("BIZInboxClientLogger").logFolderUpdate(d.props.mailboxID,"INSTAGRAM_DIRECT",d.props.filterStatus,a);c=b("IGMessageServerActions").getForFBID(d.props.mailboxID);b("PagesManagerInboxListAction").itemFolderChange([d.props.threadID],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.props.filterStatus));c.updateThreadStatus(d.props.threadID,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.props.filterStatus),f,e)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThread(c.mailboxID,c.threadID);return{thread:a}};var d=c.prototype;d.getNewRightSideAction=function(a,c,d,e){return c==null?null:i.jsx(b("PagesManagerInboxCometDetailHeaderAction.react"),{actionParam:b("PageCommItemStatusUtil").getActionParam("INSTAGRAM_DIRECT",this.props.filterStatus,!0,a),igUserID:c,igUserName:d,isIGGroup:e,onReadStatusChange:this.$1,onStatusChange:this.$1,pageID:this.props.mailboxID,userID:this.props.threadID})};d.showHeaderSubtitle=function(){var a=this.state.thread.getValue();if(!a||!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;if(this.props.shouldShowNewMultiAdminAssignment){var c;return i.jsx("div",{className:"_iyr",children:i.jsx(b("UnifiedInboxAdminAssignerRoot.react"),{adminID:(c=(c=a.assigned_admin)==null?void 0:c.id)!=null?c:null,adminName:(a=(c=a.assigned_admin)==null?void 0:c.name)!=null?a:null,mailboxID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:!0,threadID:this.props.threadID})})}return null};d.render=function(){var a,c,d,e;b("PagesManagerAction").setHeaderHeight(l);var f=this.state.thread.getValue();if(!f)return i.jsx(b("PagesManagerInboxHeaderLoading.react"),{});e=(e=f)!=null?(e=e.thread_users)!=null?e.nodes:e:e;if(!e)return null;var g=b("IGMessageInboxStore").getInboxIGID(),m=e.filter(function(a){return a.instagram_user_id!==g});m.length===0&&m.push(e[0]);if(!m)return null;e=(e=m[0].username)!=null?e:"";a=(a=m[0].instagram_user_id)!=null?a:null;d=(d=m)!=null?(d=d[0])!=null?(d=d.profile_picture)!=null?d.uri:d:d:d;var n=f.is_group;c=n===!0?i.jsx("div",{className:"_8g79",children:i.jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[d,(c=m)!=null?(c=c[1])!=null?(c=c.profile_picture)!=null?c.uri:c:c:c]})}):i.jsx(b("Image.react"),{className:"_1-3q",height:b("PagesManagerInboxPicSize").ListRowProPicSize,src:d,width:b("PagesManagerInboxPicSize").ListRowProPicSize},d);return i.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:i.jsxs(b("Layout.react"),{className:(h()?"":"_8g7a")+(h()?" _iyn":""),"data-testid":void 0,children:[i.jsx(j,{children:i.jsx(b("CenteredContainer.react"),{className:"_8g7b"+(n?"":" _8g7c")+" _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:c})}),i.jsx(k,{children:i.jsxs(b("CenteredContainer.react"),{className:"_8g7d",fullHeight:!0,horizontal:!1,vertical:!0,children:[i.jsx("div",{className:"_8g7e",children:i.jsx(b("LineClamp.react"),{lines:1,children:((d=f.is_group)!=null?d:!1)?f.thread_title:m[0].username})}),this.showHeaderSubtitle()]})}),i.jsx(j,{children:this.getNewRightSideAction(f,a,e,n)})]})})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxHeaderViewContainer.react",["ErrorBoundary.react","PageCommPlatform","PagesManagerInboxCometHeaderLoading.react","PagesManagerInboxCometUtil","PagesManagerInboxHeaderLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxStore","React","RelayModern","WitHelpers","nullthrows","PagesManagerInboxHeaderViewContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("WitHelpers").str;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderQueryResults=function(a){var c=a.error;a=a.props;switch(d.props.commItem.comm_platform){case"INSTAGRAM":case"FACEBOOK":case"WEC":if(a&&!c){c=d.props;var e=c.ChildClass;c=babelHelpers.objectWithoutPropertiesLoose(c,["ChildClass"]);return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(e,babelHelpers["extends"]({},a,c))})}break}return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?h.jsx(b("PagesManagerInboxCometHeaderLoading.react"),{}):h.jsx(b("PagesManagerInboxHeaderLoading.react"),{})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("nullthrows")(this.props.commItem.comm_platform),c=b("PagesManagerInboxStore").getPageID();switch(a){case"INSTAGRAM_DIRECT":case"MESSENGER":var d=this.props,e=d.ChildClass;d=babelHelpers.objectWithoutPropertiesLoose(d,["ChildClass"]);return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(e,babelHelpers["extends"]({},d))});default:e=b("nullthrows")(this.props.commItem);d=b("nullthrows")(e.id);var f=b("nullthrows")(e.comm_source_id);e=b("nullthrows")(e.target_id);if(c!=null)return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,f,b("PageCommPlatform")[i(a)],c,e,this.onRenderQueryResults)}};return c}(h.PureComponent);e.exports=a(c,{commItem:g!==void 0?g:g=b("PagesManagerInboxHeaderViewContainer_commItem.graphql")})}),null);
__d("PagesManagerIGConversationDeleteConfirmationDialog.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:h.jsx(b("FDSModalHeader.react"),{title:g._("Delete Conversation?")}),isShown:a.shown,label:"Delete Modal",onHide:a.onHide,children:h.jsx(b("FDSSection.react"),{children:g._("Deleting removes the conversation from your inbox, but no one else's inbox.")})})}e.exports=a}),null);
__d("PagesManagerInboxIGDirectHeaderContainer.react",["cx","fbt","BIZInboxClientLogger","CenteredContainer.react","ErrorBoundary.react","FluxContainer","IGDirectMessageGroupProfilePic.react","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","Image.react","Layout.react","LineClamp.react","Link.react","LoadObject","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerIGConversationDeleteConfirmationDialog.react","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxHeaderLoading.react","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxPicSize","PagesManagerInboxStore","PagesMessagingInboxActionLogger","React","Tooltip","UnifiedInboxAdminAssignerRoot.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=57;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={thread:b("LoadObject").empty()},d.$1=function(a){var c=d.state.thread.getValue();if(!c)return;var e=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.props.filterStatus),f=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.props.filterStatus);d.props.filterStatus!==a&&f==null&&e==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):f!==null?d.props.filterStatus!==b("PageCommItemFolder").FOLLOW_UP?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.mailboxID,d.props.threadID,c.is_follow_up!==!0):(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.mailboxID,d.props.threadID)):e!==null&&b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.threadID,c.is_read!==!0);b("PagesManagerInboxLogger").itemStatusChanged(d.props.threadID,"INSTAGRAM_DIRECT",a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(d.props.threadID,"INSTAGRAM_DIRECT",a,d.props.filterStatus);b("BIZInboxClientLogger").logFolderUpdate(d.props.mailboxID,"INSTAGRAM_DIRECT",d.props.filterStatus,a);c=b("IGMessageServerActions").getForFBID(d.props.mailboxID);b("PagesManagerInboxListAction").itemFolderChange([d.props.threadID],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.props.filterStatus));c.updateThreadStatus(d.props.threadID,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.props.filterStatus),f,e)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThread(c.mailboxID,c.threadID);return{thread:a}};var d=c.prototype;d.showHeaderSubtitle=function(){var a=this.state.thread.getValue();if(!a||!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;if(this.props.shouldShowNewMultiAdminAssignment){var c;return i.jsx("div",{className:"_iyr",children:i.jsx(b("UnifiedInboxAdminAssignerRoot.react"),{adminID:(c=(c=a.assigned_admin)==null?void 0:c.id)!=null?c:null,adminName:(a=(c=a.assigned_admin)==null?void 0:c.name)!=null?a:null,mailboxID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:!0,threadID:this.props.threadID})})}return null};d.render=function(){var a,c;b("PagesManagerAction").setHeaderHeight(l);var d=this.state.thread.getValue();if(!d)return i.jsx(b("PagesManagerInboxHeaderLoading.react"),{});c=(c=d)!=null?(c=c.thread_users)!=null?c.nodes:c:c;if(!c)return null;var e=b("IGMessageInboxStore").getInboxIGID(),f=c.filter(function(a){return a.instagram_user_id!==e});f.length===0&&f.push(c[0]);if(!f)return null;c=(c=f)!=null?(c=c[0])!=null?(c=c.profile_picture)!=null?c.uri:c:c:c;var g=d.is_group;a=g===!0?i.jsx("div",{className:"_7fjz",children:i.jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[c,(a=f)!=null?(a=a[1])!=null?(a=a.profile_picture)!=null?a.uri:a:a:a]})}):i.jsx(b("Image.react"),{className:"_1-3q",height:b("PagesManagerInboxPicSize").ListRowProPicSize,src:c,width:b("PagesManagerInboxPicSize").ListRowProPicSize},c);return i.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:i.jsxs(b("Layout.react"),{className:"_iyn","data-testid":void 0,children:[i.jsx(j,{children:i.jsx(b("CenteredContainer.react"),{className:"_iyp"+(g?"":" _84mg")+" _5m0-",fullHeight:!0,horizontal:!1,vertical:!0,children:a})}),i.jsx(k,{children:i.jsxs(b("CenteredContainer.react"),{className:"_84mh",fullHeight:!0,horizontal:!1,vertical:!0,children:[i.jsx("div",{className:"_iyo",children:i.jsx(b("LineClamp.react"),{lines:1,children:((c=d.is_group)!=null?c:!1)?d.thread_title:f[0].username})}),this.showHeaderSubtitle()]})}),i.jsx(j,{children:i.jsx(b("PagesManagerInboxDetailHeaderAction.react"),{actionParam:b("PageCommItemStatusUtil").getActionParam("INSTAGRAM_DIRECT",this.props.filterStatus,!0,d),onReadStatusChange:this.$1,onStatusChange:this.$1,pageID:this.props.mailboxID,userID:this.props.threadID})})]})})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ServicesAppointmentMessengerHeaderAction.react",["cx","React","ServicesMessengerSidebarActions","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderDivider=function(){return h.jsx("div",{className:"_33u_",children:h.jsx("div",{className:"_33v0"})},"actionDivider")};d.render=function(){return h.jsxs("div",{className:"_33uz",children:[this.renderDivider(),h.jsx("div",{className:"_642n",children:h.jsx(b("XUIButton.react"),{className:"_642o",label:"Close",labelIsHidden:!0,size:"small",suppressed:!0,onClick:function(){b("ServicesMessengerSidebarActions").closeMessengerSidebar()}})})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderContainer.react",["BusinessInboxBizKitUtil","ErrorBoundary.react","FluxContainer","MediaManagerInboxFBCommsHeaderContainer.react","MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageManagerInboxPageToPageHeaderView.react","PagesManagerAction","PagesManagerInboxCometHeaderLoading.react","PagesManagerInboxCometIGDirectHeaderContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxHeaderLoading.react","PagesManagerInboxHeaderViewContainer.react","PagesManagerInboxIGDirectHeaderContainer.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerInboxStore","PagesManagerStore","React","ServicesAppointmentMessengerHeaderAction.react","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("BusinessInboxBizKitUtil").isBizKitBeta,h=b("MediaManagerUtils").isMediaManagerApp,i=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderHeader=function(a,c){var e=a.error;a=a.props;if(a&&!e){var f;e=b("PagesManagerInboxStore").getMailboxID(d.state.commPlatform);return((f=a.page)==null?void 0:(f=f.bcmp_gk_config)==null?void 0:f.bcmp_inbox_enabled)&&d.state.commPlatform==="MESSENGER"&&a.sender&&a.sender.__typename==="Page"?j.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:j.jsx(b("PageManagerInboxPageToPageHeaderView.react"),{mailboxID:e,page:a.sender})}):j.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:j.jsx(b("PagesManagerInboxHeaderViewContainer.react"),babelHelpers["extends"]({commItem:c,listItemKey:d.state.listItemKey,mailboxID:e,shouldShowNewMultiAdminAssignment:d.state.shouldShowNewMultiAdminAssignment,shouldUseMessengerStateForAdminAssignment:d.state.shouldUseMessengerStateForAdminAssignment},d.props))})}return i()?j.jsx(b("PagesManagerInboxCometHeaderLoading.react"),{}):j.jsx(b("PagesManagerInboxHeaderLoading.react"),{})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("MediaManagerInboxPriorityTabStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){a=!1;var c=!1,d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d!=null){var e;a=Boolean((e=d.inboxRedesignConfig)==null?void 0:e.shouldShowNewMultiAdminAssignment);c=Boolean((e=d.messengerConfig)==null?void 0:e.shouldUseMessengerStateForAdminAssignment)}else a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment,c=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldUseMessengerStateForAdminAssignment;return{listItemKey:b("PagesManagerStore").getViewingListItem(),commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),activeFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),mediaManagerInboxPriorityTabRowType:b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType(),shouldShowNewMultiAdminAssignment:a,shouldUseMessengerStateForAdminAssignment:c}};var d=c.prototype;d.componentDidUpdate=function(){this.props.navMode!=="messages"&&b("PagesManagerAction").setHeaderHeight(0)};d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform);if(this.props.navMode!=="messages"||!this.state.listItemKey)return null;if(this.state.commPlatform==="INSTAGRAM_DIRECT")return i()||g()?j.jsx(b("PagesManagerInboxCometIGDirectHeaderContainer.react"),{filterStatus:this.state.activeFolder,mailboxID:a,paddingBottom:0,rightSideAction:this.props.isServicesSidebar?j.jsx(b("ServicesAppointmentMessengerHeaderAction.react"),{}):null,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,threadID:b("nullthrows")(this.state.listItemKey)}):j.jsx(b("PagesManagerInboxIGDirectHeaderContainer.react"),{filterStatus:this.state.activeFolder,mailboxID:a,paddingBottom:0,rightSideAction:this.props.isServicesSidebar?j.jsx(b("ServicesAppointmentMessengerHeaderAction.react"),{}):null,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,threadID:b("nullthrows")(this.state.listItemKey)});return(this.state.commPlatform==="MEDIA_MANAGER_FB_COMMS"||this.state.mediaManagerInboxPriorityTabRowType==="TOP_FB_COMMS")&&h()?j.jsx(b("MediaManagerInboxFBCommsHeaderContainer.react"),{viewingItem:this.state.listItemKey}):b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.state.listItemKey,a,this.onRenderHeader,b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER)};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAdminAssignMutation",["RelayFBEnvironment","RelayModern","PagesManagerInboxAdminAssignMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAdminAssignMutation.graphql");function a(a,c){var d={message_thread_assign_admin:{thread:{id:a.threadFBID,thread_associated_page_admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,thread_id:a.threadFBID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAdminUnassignMutation",["RelayFBEnvironment","RelayModern","PagesManagerInboxAdminUnassignMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAdminUnassignMutation.graphql");function a(a,c){var d={message_thread_unassign_admin:{thread:{id:a.threadFBID}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,thread_id:a.threadFBID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxMessengerAdminAssigner.react",["ix","cx","fbt","CurrentUser","Image.react","Link.react","MercuryIDs","MercuryThreadActions","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerAdminSearchSource","PagesManagerInboxAdminAssignMutation","PagesManagerInboxAdminUnassignMutation","PagesManagerInboxCometUtil","PagesManagerInboxLogger","React","SearchableDropdownInput.contrib","SearchableEntry","Tooltip","UnifiedInboxSearchableDropdownInput.contrib","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(){return j.jsx("div",{className:"_wy6"})}function l(a){return[j.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onRemoveAssigned},b("Tooltip").propsFor(i._("Remove person assigned")),{children:j.jsx("div",{className:"_wy4"})}),"PagesManagerInboxAdminAssigner.removeAssigned"),j.jsx(k,{},"PagesManagerInboxAdminAssigner.divider"),j.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onAssignToSelf},b("Tooltip").propsFor(i._("Assign to me")),{children:j.jsx("div",{className:"_wy5"})}),"PagesManagerInboxAdminAssigner.assignToMe")]}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$6=function(a){b("PagesManagerInboxAdminAssignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:c.props.pageID,adminID:a.getUniqueID(),adminName:a.getTitle(),adminPhotoUrl:a.getPhoto()});var d=b("nullthrows")(c.props.thread.thread_fbid);c.$7([d],a.getTitle(),a.getUniqueID(),a.getPhoto());b("PagesLogger").log(c.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MULTI_ADMIN_ASSIGNMENT,"unified_inbox");b("PagesManagerInboxLogger").logAdminAssignmentAction(c.props.pageID,"assign","other")};c.$8=function(){b("PagesManagerInboxAdminUnassignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:b("nullthrows")(c.props.pageID)});c.$5.close();var a=b("nullthrows")(c.props.thread.thread_fbid);c.$7([a],null,null,null);b("PagesManagerInboxLogger").logAdminAssignmentAction(c.props.pageID,"unassign","other")};c.$9=function(){var a=c.props.admins.filter(function(a){return a.id===b("CurrentUser").getID()})[0];a=(a=a)!=null?a.profilePicUrl:a;b("PagesManagerInboxAdminAssignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:c.props.pageID,adminID:b("CurrentUser").getID(),adminName:b("CurrentUser").getName(),adminPhotoUrl:b("nullthrows")(a)});c.$5.close();var d=b("nullthrows")(c.props.thread.thread_fbid);c.$7([d],b("CurrentUser").getName(),b("CurrentUser").getID(),a);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.pageID),"assign","other")};c.$10=function(a){return j.jsx(b("Image.react"),{className:(c.props.shouldShowNewMultiAdminAssignment?"":"_16ny")+(c.props.shouldShowNewMultiAdminAssignment?" _8q1z":""),src:a.getPhoto()})};c.$3=new(b("SearchableEntry"))({uniqueID:0,title:""});c.$4=new(b("PagesManagerAdminSearchSource"))();return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this.props.admins.map(function(a){return{name:a.name,id:a.id,profile_picture:{uri:a.profilePicUrl}}});this.$4.cacheData(a)};d.$7=function(a,c,d,e){a=a.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(this.props.pageID).updateCommItemOwner(a,c,d,e)};d.render=function(){var a=this,c;this.$1=(c=this.props.thread.thread_associated_page_admin)==null?void 0:c.name;this.$2=(c=this.props.thread.thread_associated_page_admin)==null?void 0:c.id;(this.$1===null||this.$1===void 0)&&(this.$1=this.props.pageName);this.$3=new(b("SearchableEntry"))({uniqueID:(c=this.$2)!=null?c:0,title:""});return this.props.shouldShowNewMultiAdminAssignment?j.jsx(b("UnifiedInboxSearchableDropdownInput.contrib"),{chevron:j.jsx(b("Image.react"),{src:g("502188")}),className:"_8q1-"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8q9w")+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8q7-":""),getLeftContentForEntry:this.$10,isRemoveDisabled:this.$2==null,listClassName:"_8q0u",onRemove:this.$8,onSelect:this.$6,ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!0,title:this.$1!==this.props.pageName?i._("Assigned to {admin_name}",[i._param("admin_name",this.$1)]).toString():i._("Assign Conversation").toString(),value:this.$1?this.$3:null}):j.jsx(b("SearchableDropdownInput.contrib"),{className:"_ol6 _72of",getLeftContentForEntry:this.$10,header:j.jsx(l,{onAssignToSelf:this.$9,onRemoveAssigned:this.$8}),headerClassName:"_wxd",listClassName:"_4wkt",onSelect:this.$6,placeholder:i._("Unassigned"),ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!1,title:i._("Assigned to {admin_name}",[i._param("admin_name",this.$1?this.$1:"")]).toString(),value:this.$1?this.$3:null})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderView.react",["cx","fbt","invariant","ActionList.react","BoostedComponentAppID","BoostedComponentDialogButtonV2Wrapper.react","BusinessInboxBizKitUtil","CenteredContainer.react","Layout.react","LineClamp.react","MercuryIDs","MessengerState.bs","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxAdminAssignerRoot.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxHeaderJobBanner.react","PagesManagerInboxMessengerAdminAssigner.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","RelayModern","Timestamp.react","formatDate","nullthrows","PagesManagerInboxHeaderView_commItem.graphql","PagesManagerInboxHeaderView_igPost.graphql","PagesManagerInboxHeaderView_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=b("BusinessInboxBizKitUtil").isBizKitBeta,n=b("BusinessInboxBizKitUtil").maybeApplyGeoHeaderStyle,o=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer,p=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var q=b("Layout.react").Column,r=b("Layout.react").FillColumn,s=56+1,t="PageCommItemPart",u=40,v=16,w=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.shouldShowJobsBanner()?b("PagesManagerAction").setHeaderHeight(2*s):b("PagesManagerAction").setHeaderHeight(s)};d.shouldShowJobsBanner=function(){var a,b;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:a.job_opening;return a!==null&&a!==void 0&&((b=a.title)==null?void 0:b.text)!==null&&((b=a.title)==null?void 0:b.text)!==void 0&&a.job_status==="OPEN"?!0:!1};d.renderBoostButton=function(){var a,c=this.props.commItem.comm_type;a=(a=this.props)!=null?(a=a.story)!=null?a.legacy_story_hideable_id:a:a;if(a===null||a===void 0||a===""||c!=="FB_PAGE_POST")return null;c=b("PagesManagerInboxStore").getPageID();return c==null?null:p.jsx(b("BoostedComponentDialogButtonV2Wrapper.react"),{appID:b("BoostedComponentAppID").BOOSTED_POST,pageID:c,placement:"pages-inbox",targetID:a})};d.renderHeaderSubtitle=function(){var a=this,c;switch(this.props.commItem.comm_platform){case"INSTAGRAM":var d=null;this.props.igPost.like_count!==null&&this.props.igPost.like_count!==void 0&&this.props.igPost.like_count!==0&&(d=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.igPost.like_count,"number")]));var e=null;this.props.igPost.comment_count!==null&&this.props.igPost.comment_count!==void 0&&this.props.igPost.comment_count!==0&&(e=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.igPost.comment_count,"number")]));return p.jsxs(b("ActionList.react"),{children:[d,e,p.jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})]});case"FACEBOOK":e=(d=this.props.story)!=null?(d=d.feedback)!=null?(d=d.reactors)!=null?d.count:d:d:d;d=(d=this.props.story)!=null?(d=d.feedback)!=null?(d=d.comments)!=null?d.count:d:d:d;c=(c=this.props.story)!=null?c.creation_time:c;var f=null;e!==null&&e!==void 0&&e!==0&&(f=h._({"*":"{number} reactions","_1":"1 reaction"},[h._plural(this.props.story.feedback.reactors.count,"number")]));e=null;d!==null&&d!==void 0&&d!==0&&(e=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.story.feedback.comments.count,"number")]));return p.jsxs(b("ActionList.react"),{children:[f,e,c!==null&&c!==void 0&&c!==0&&p.jsx(b("Timestamp.react"),{text:b("formatDate")(c,"M j"),time:c})]});case"MESSENGER":if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;this.props.shouldUseMessengerStateForAdminAssignment||(this.props.commItem.id!==null&&this.props.commItem.id!==void 0&&this.props.commItem.id!==""||i(0,491));var g=b("PagesManagerInboxStore").getPageID(),j=b("PagesManagerInboxStore").getPageName(),k=b("PagesManagerInboxStore").getPageAdmins();if(g!=null&&k!=null&&j!=null)return this.props.shouldUseMessengerStateForAdminAssignment?p.jsx(b("MessengerState.bs").jsComponent,{fbid:g,children:function(c){return p.jsx(b("PagesManagerInboxMessengerAdminAssigner.react"),{admins:k,pageID:g,pageName:j,shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment,thread:b("MessengerState.bs").threads(c)[b("MercuryIDs").getThreadIDFromUserID(a.props.listItemKey)]})}}):p.jsx(b("PagesManagerInboxAdminAssignerRoot.react"),{commItemID:b("nullthrows")(this.props.commItem.id),pageID:g,shouldShowNewMultiAdminAssignment:this.props.shouldShowNewMultiAdminAssignment})}return null};d.escapedTitle=function(){var a=this.props.commItem.comm_title;return a!==null&&a!==void 0&&a!==""?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):""};d.revampCommentHeaderPic=function(){var a,c,d,e;e=b("nullthrows")((e=this.props)!=null?(e=e.commItem)!=null?e.comm_platform:e:e);d=b("nullthrows")((d=this.props)!=null?(d=d.commItem)!=null?d.comm_type:d:d);a=(a=this.props.commItem)==null?void 0:(a=a.facebook_comment)==null?void 0:(a=a.author)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;c=(c=this.props.commItem)==null?void 0:c.__typename;return p.jsx(b("PagesManagerInboxProfilePic.react"),{className:"_7ywy",commPlatform:e,commType:d,commentType:c,imageSize:u,imageURI:a,showPlatformBadge:!1})};d.render=function(){var a,c;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:a[0];a=this.shouldShowJobsBanner()&&a!==null&&a!==void 0?p.jsx(b("PagesManagerInboxHeaderJobBanner.react"),{jobApplication:a}):null;if(((c=this.props.commItem)==null?void 0:c.__typename)===t){return p.jsx("div",{children:p.jsxs(b("Layout.react"),{className:"_iyn",children:[p.jsx(q,{className:"_iyp",children:p.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.revampCommentHeaderPic()})}),p.jsx(r,{children:p.jsx("div",{className:"_72od",children:p.jsx("div",{className:"_7ywz",children:(c=this.props.commItem)==null?void 0:(c=c.facebook_comment)==null?void 0:(c=c.author)==null?void 0:c.name})})})]})})}return p.jsxs("div",{children:[p.jsxs(b("Layout.react"),{className:"_iyn",children:[p.jsx(q,{className:"_iyp",children:p.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:p.jsx(b("PagesManagerInboxProfilePicContainer.react"),{imageSize:m()?b("PagesManagerInboxPicSize").BizWebDetailViewHeaderPicSize:b("PagesManagerInboxPicSize").DetailViewHeaderPicSize,item:this.props.commItem,showPlatformBadge:!1})})}),p.jsx(r,{children:p.jsx("div",{className:"_72od",children:p.jsxs("div",{children:[p.jsx("div",{className:"_iyo",children:p.jsx(b("LineClamp.react"),{lineHeight:m()?w:v,lines:1,children:n(this.escapedTitle())})}),p.jsx("div",{className:"_iyr",children:this.renderHeaderSubtitle()})]})})}),p.jsx(q,{children:p.jsx(o,{ChildActionClass:m()?b("PagesManagerInboxCometDetailHeaderAction.react"):b("PagesManagerInboxDetailHeaderAction.react"),item:this.props.commItem,leftActions:this.renderBoostButton()})})]}),a]})};return c}(p.PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxHeaderView_commItem.graphql"),igPost:k!==void 0?k:k=b("PagesManagerInboxHeaderView_igPost.graphql"),story:l!==void 0?l:l=b("PagesManagerInboxHeaderView_story.graphql")})}),null);
__d("PageManagerInboxContentSearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.searchImpl=function(a,c,d){d||({});if(a){d=new(b("SearchableEntry"))({uniqueID:a,title:a,subtitle:a});c([d],a);return}c([],a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxCustomerSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{title:b.title,subtitle:b.subtitle,uniqueID:b.uniqueID,uri:b.uri})||this;c.$PagesManagerInboxCustomerSearchableEntry1=b.platform;return c}var c=b.prototype;c.getPlatform=function(){return this.$PagesManagerInboxCustomerSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("PageManagerInboxUnifiedCustomerRelaySearchSource",["AbstractRelaySearchSource","PagesManagerInboxCustomerSearchableEntry","PagesManagerInboxFilterAction","RelayFBEnvironment","RelayModern","nullthrows","PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;function h(a,c,d){var e=g!==void 0?g:g=b("PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql");return{query:e,variables:{searchTerm:c,count:d,pageID:a,cursor:null}}}function i(a){a=(a=a)!=null?(a=a.page)!=null?(a=a.page_unified_customer_search)!=null?a.edges:a:a:a;b("PagesManagerInboxFilterAction").setPeopleSearchLoaded();return!a?[]:a.map(function(a){var c,d,e;a=b("nullthrows")(a.node);var f=b("nullthrows")(a.id);e=(e=(e=a)!=null?e.name:e)!=null?e:"";d=(d=(d=a)!=null?(d=d.ig_profile_info)!=null?d.name:d:d)!=null?d:"";c=(c=a)!=null?(c=c.profile_photo_uris)!=null?(c=c[0])!=null?c.uri:c:c:c;var g="FACEBOOK";a.ig_profile_info!==null&&(g="INSTAGRAM");return new(b("PagesManagerInboxCustomerSearchableEntry"))({title:e,subtitle:d,uniqueID:f,uri:c,platform:g})}).filter(function(a){return a!==null})}function j(a,b){return b(a)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){return a.call(this,b("RelayFBEnvironment"),{bootstrapRequests:[],queryRequests:[{gen:function(a){return h(c,a,d)}}],packageFn:i,getAllForEmptyQuery:!0},j)||this}return c}(b("AbstractRelaySearchSource"));e.exports=a}),null);
__d("PageCustomerSearchViewItem.react",["cx","Image.react","PagesManagerInboxCustomerSearchableEntry","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=32;function j(a){var c=h.jsx(b("Image.react"),{className:"_4ul-",height:i,src:a.entry.getURI(),width:i});if(a.entry instanceof b("PagesManagerInboxCustomerSearchableEntry")){a=a.entry.getPlatform();return h.jsxs("div",{className:"_7yyd"+(a==="FACEBOOK"?" _5m15":"")+(a==="INSTAGRAM"?" _5m16":""),height:i,width:i,children:[c,h.jsx("div",{className:"_5m17",children:h.jsx("div",{className:"_5m18"})})]})}return c}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this,b=this.props.entry;return h.jsxs("li",{className:"_7znk","data-testid":void 0,onMouseDown:function(c){return a.props.onSelect(b,c)},children:[h.jsx(j,{entry:b}),h.jsxs("div",{className:"_7zlb",children:[this.props.renderHighlight(b.getTitle()),h.jsx("div",{className:Boolean(b.getSubtitle())?"_7zlc":"",children:b.getSubtitle()})]})]},b.getUniqueID())};return b}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerSearchResultRenderer.react",["ix","cx","fbt","BIZInboxClientLogger","Image.react","PageCustomerSearchViewItem.react","PageCustomLabelsTypeaheadViewItem.react","PagesManagerAction","PagesManagerInboxCometUtil","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerStore","PagesMessagingInboxActionLogger","React","ScrollableArea.react","ShimButton.react","TextSearchUtil","WIGProgressIndicator.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("PagesManagerInboxFilterStore").getActiveType();b("PagesManagerAction").clearViewListItem();b("PagesManagerInboxFilterAction").changeSearchTerm(d.props.queryString.toString());b("PagesManagerInboxFilterAction").changeSearchType("CONTENT");b("PagesManagerInboxLogger").logContentSearchClicked("CONTENT",!0);b("PagesMessagingInboxActionLogger").logSearchResultClicked("content_search_clicked",a,d.props.queryString,"CONTENT");a=b("PagesManagerInboxStore").getPageID();b("BIZInboxClientLogger").logDifferentSearchClick(a,d.props.queryString,"CONTENT")},d.$2=function(a){var c=a;d.props.queryString&&(c=b("TextSearchUtil").getTokens(a.toString(),d.props.queryString.toString()).map(function(a,b){return a.isHighlighted?j.jsx("span",{className:"_7znl",children:a.text},b):a.text}));return j.jsx("span",{children:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxStore").getPageID();b("BIZInboxClientLogger").logSearchResultRenderView(a)};d.render=function(){var a=this,c=[],d=[];this.props.entries.map(function(e){e instanceof b("PagesManagerInboxCustomLabelSearchableEntry")?c.push(j.jsx(b("PageCustomLabelsTypeaheadViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$2},e.getUniqueID())):!!e.getURI()===!0&&d.push(j.jsx(b("PageCustomerSearchViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$2},e.getUniqueID()))});var e=c.length>0?j.jsx("div",{className:"_7zk3","data-testid":void 0,children:i._("LABELS")}):null,f=d.length===0&&b("PagesManagerInboxFilterStore").getIsPeopleSearchLoading();f=d.length>0||f?j.jsxs("div",{className:"_7zk3","data-testid":void 0,children:[i._("PEOPLE"),f&&j.jsx(b("WIGProgressIndicator.react"),{})]}):null;var h=this.props.queryString.trim().length>2?j.jsx(b("ShimButton.react"),{onMouseDown:this.$1,children:j.jsxs("div",{className:"_7zl7","data-testid":void 0,children:[j.jsx("div",{className:"_7zl8",children:j.jsx(b("Image.react"),{src:g("515638")})}),i._("Search in Messenger conversations")]})}):null,k=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getListNavigationHeight();return j.jsx(b("ScrollableArea.react"),{maxHeight:k,children:j.jsxs("div",{className:"_7zl9"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8g4e":""),children:[h,j.jsx("span",{className:"_7zla"}),f,d,j.jsx("span",{className:"_7zla"}),e,c]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderSearchBar.react",["cx","fbt","AbstractTextInput.react","BIZInboxClientLogger","CompositeSearchSource","FacebookAppIDs","FluxContainer","MediaManagerInboxContext.react","MediaManagerInboxQEUtils","PageManagerInboxContentSearchSource","PageManagerInboxCustomLabelSearchSource","PageManagerInboxUnifiedCustomerRelaySearchSource","PagesManagerAction","PagesManagerAdminSearchSource","PagesManagerInboxCometUtil","PagesManagerInboxCustomerSearchableEntry","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxSearchTokenRenderer.react","PagesManagerSearchResultRenderer.react","PagesMessagingInboxActionLogger","React","XUITokenizer.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=b("React"),j=29;function k(a,b){return a.length>b?a.slice(0,b)+"...":a}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("BIZInboxClientLogger").logSearchFocusClick(d.props.pageID,d.state.searchTerm)},d.$5=function(a){var c=b("PagesManagerInboxFilterStore").getActiveType();if(a instanceof b("PagesManagerInboxCustomLabelSearchableEntry"))b("PagesManagerInboxFilterAction").addCustomLabel(a.getData(),d.props.pageID),b("PagesMessagingInboxActionLogger").logSearchResultClicked("label_search_clicked",c,d.state.searchTerm,"LABEL"),b("BIZInboxClientLogger").logDifferentSearchClick(d.props.pageID,d.state.searchTerm,"LABEL");else if(!!a.getURI()===!0){b("PagesManagerInboxFilterAction").selectCustomer(a.getUniqueID());b("PagesManagerInboxFilterAction").changeSearchTerm(a.getTitle());b("PagesManagerInboxFilterAction").changeSearchType("CUSTOMER");var e="FACEBOOK";a instanceof b("PagesManagerInboxCustomerSearchableEntry")&&(e=a.getPlatform());b("PagesMessagingInboxActionLogger").logPeopleSearchClicked(c,d.state.searchTerm,"CUSTOMER",e);b("BIZInboxClientLogger").logDifferentSearchClick(d.props.pageID,d.state.searchTerm,"CUSTOMER")}else b("PagesManagerInboxFilterAction").changeSearchTerm(a.getTitle()),b("PagesManagerInboxFilterAction").changeSearchType("CONTENT"),b("PagesManagerInboxLogger").logContentSearchClicked("CONTENT",!0),b("BIZInboxClientLogger").logDifferentSearchClick(d.props.pageID,d.state.searchTerm,"CONTENT")},d.$6=function(a){a instanceof b("PagesManagerInboxCustomLabelSearchableEntry")&&b("PagesManagerInboxFilterAction").removeCustomLabel(a.getData(),d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){var a;return{searchTerm:(a=b("PagesManagerInboxFilterStore")).getSearchTerm(),activeSearchLabels:a.getCurrentSearchCustomLabels(),pageCustomerID:a.getPageCustomerID(),searchType:a.getSearchType()}};var d=c.prototype;d.$1=function(a){b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"&&b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").changeSearchTerm(a.target.value)};d.$3=function(){return this.state.searchTerm||this.state.activeSearchLabels&&this.state.activeSearchLabels.length>0?null:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?h._("Search Inbox"):h._("Search")};d.$4=function(){var a;if(this.props.labels)return this.props.labels.toArray();a=((a=this.props.labels)!=null?(a=a.custom_tags)!=null?a.edges:a:a)||[];a=a.map(function(a){return a.node});return a};d.$7=function(){var a=this.context&&this.context.appID;return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()||a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()};d.render=function(){var a=b("PagesManagerSearchResultRenderer.react"),c=new(b("PagesManagerAdminSearchSource"))(),d=new(b("CompositeSearchSource"))([new(b("PageManagerInboxUnifiedCustomerRelaySearchSource"))(this.props.pageID,5),b("PageManagerInboxCustomLabelSearchSource").getInstance(this.$4()),new(b("PageManagerInboxContentSearchSource"))()]);c=this.state.searchType==="ADMIN"?c:d;d={useLayer:!0,ViewRenderer:a,TokenRenderer:b("PagesManagerInboxSearchTokenRenderer.react"),maxEntries:200};if(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&(this.state.pageCustomerID||this.state.searchType==="CONTENT"))return i.jsx(b("AbstractTextInput.react"),{className:"_8f1r",onChange:this.$1,placeholder:this.$3(),value:this.state.searchTerm});if(this.state.pageCustomerID)return i.jsx("span",{className:"_22os",children:k(this.state.searchTerm,j)});return this.state.searchType==="CONTENT"?i.jsx(b("AbstractTextInput.react"),{className:this.$7()?"_8f1r":"_2dua",onChange:this.$1,placeholder:this.$3(),value:this.state.searchTerm}):i.jsx(b("XUITokenizer.react"),{className:this.$7()?"_8f1r":"_2dua",context:this.props.context,entries:this.state.activeSearchLabels,focusedOnInit:!0,hideViewWithEntries:!1,maxEntries:5,onAddEntryAttempt:this.$5,onChange:this.$1,onEnterWithoutSelection:this.$1,onInputFocus:this.$2,onQueryStringChange:this.$1,onRemoveEntryAttempt:this.$6,placeholder:this.$3(),presenter:d,searchSource:c,showEntriesOnFocus:!0,tokenClassName:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"_8h-z":"_22op"})};return c}(i.PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c)}),null);
__d("PagesManagerInboxCometSearchInput.react",["cx","AbstractTextInput.react","MediaManagerUtils","PagesManagerInboxListHeaderSearchBar.react","React","XUICloseButton.react","immutable","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.focusInput=function(){c.refs.inputField.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx("div",{children:h.jsxs("div",{className:b("joinClasses")(this.props.className,"_8ekb"+(this.props.isFocused||!!this.props.value?" _8ek6":"")+(this.props.searchActive?" _8ek7":"")+(b("MediaManagerUtils").isMediaManagerApp()?" _8wr5":"")),role:"search",children:[this.props.searchActive?h.jsx(b("PagesManagerInboxListHeaderSearchBar.react"),{context:this.props.context,labels:this.props.allLabels,pageID:this.props.pageID,value:this.props.value}):h.jsx(b("AbstractTextInput.react"),{className:"_8ekc",onBlur:this.props.onBlur,onChange:this.props.onChange,onClick:this.props.onClick,onEnter:this.props.onEnter,onFocus:this.props.onFocus,placeholder:this.props.placeholder,value:this.props.value}),h.jsx(b("XUICloseButton.react"),{className:(this.props.searchActive?"":"hidden_elem")+" _8ekd",onMouseDown:this.props.onClear,size:"large"})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometSearchBarContainer.react",["fbt","invariant","BIZInboxClientLogger","FluxContainer","PagesManagerAction","PagesManagerCustomLabelsStore","PagesManagerInboxCometSearchInput.react","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxUtils","PagesMessagingInboxActionLogger","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerInboxUtils").setDefaultIGDirectFolder,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.target instanceof HTMLInputElement||h(0,8726),b("PagesManagerInboxFilterAction").changeSearchTerm(a.target.value),d.setState({value:a.target.value})},d.$3=function(){b("PagesManagerInboxLogger").logSearchClick(!0,d.state.filterType),b("PagesMessagingInboxActionLogger").logSearchButtonClicked(d.state.filterType),b("PagesManagerInboxFilterAction").changeSearchType("LABEL"),b("PagesManagerInboxFilterAction").toggleSearch(!0)},d.$4=function(){b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem(),i(d.state.filterFolder,d.state.filterType,d.props.pageID),b("BIZInboxClientLogger").logSearchCancelClick(d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerCustomLabelsStore")]};c.calculateState=function(){return{allLabels:b("PagesManagerCustomLabelsStore").getLabels(),filterType:b("PagesManagerInboxFilterStore").getActiveType(),isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),value:"",filterFolder:b("PagesManagerInboxFilterStore").getActiveFolder()}};var d=c.prototype;d.render=function(){var a=this;return j.jsxs(j.Fragment,{children:[j.jsx(b("PagesManagerInboxCometSearchInput.react"),{allLabels:this.state.allLabels,context:this.$1,onChange:this.$2,onClear:this.$4,onClick:this.$3,pageID:this.props.pageID,placeholder:g._("Search Inbox"),searchActive:this.state.isSearchActive,value:this.state.value}),j.jsx("div",{ref:function(b){return a.$1=b}})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LeadsCenterEmailTabImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("leads_center_email_tab_impression");e.exports=a}),null);
__d("LeadsCenterEmailThreadListClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("leads_center_email_thread_list_click");e.exports=a}),null);
__d("BizBroadcastEmailMode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DRAFT:0,PUBLISHED:1,DELIVERING:2,STOPPED:3,COMPLETED:4,SCHEDULED:5,IN_REVIEW:6,NOT_APPROVED:7,CANCELED:8})}),null);
__d("BizInboxEmailMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONE_TO_ONE_INBOUND:"one_to_one_inbound",ONE_TO_ONE_OUTBOUND:"one_to_one_outbound",BROADCAST_OUTBOUND:"broadcast_outbound",AUTO_REPLY_OUTBOUND:"auto_reply_outbound"})}),null);
__d("PagesManagerInboxLeadEmailUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getLabelAndDescriptionFromEmailInfo:function(a,b){if(a==="one_to_one_inbound")return{text:null,description:null};switch(b){case 0:case 6:case 2:case 1:return{text:g._("Sending").toString(),description:g._("Your email is in the process of being sent").toString()};case 4:return{text:g._("Sent").toString(),description:g._("Your email has been sent").toString()};case 7:return{text:g._("Rejected").toString(),description:g._("Your email was rejected. This could be because of inappropriate content or other issues. Please edit your email and try sending it again.").toString()};case 5:return{text:g._("Scheduled").toString(),description:g._("Your email has been scheduled.").toString()};default:return{text:g._("Failed").toString(),description:g._("Your email did not get sent successfully, please try again later").toString()}}}};e.exports=a}),null);
__d("MediaManagerInboxListRowIconConfig",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";b=(a={},a.TOP_FAN={name:"TOP_FAN",iconAsset:g("1148120")},a.VERIFIED_ACCOUNT={name:"VERIFIED_ACCOUNT",iconAsset:g("510733")},a.STARS_COMMENT={name:"STARS_COMMENT",iconAsset:g("647924")},a);e.exports=b}),null);
__d("PagesManagerInboxListRowAction.react",["cx","Link.react","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxMercuryUtil","React","Tooltip"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=2e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){this.props.onStatusChange.call(this.props.onStatusChange,a)};d.render=function(){var a=this;return h.jsxs("div",{className:this.props.className,onClick:function(a){return a.stopPropagation()},role:"grid",tabIndex:-1,children:[this.props.actionParam.showDone?h.jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").DONE)},children:h.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemFolder").DONE),"right"),{className:"_4ocz _2x0y","data-tooltip-delay":i,children:h.jsx("div",{className:"_18am"})}))}):null,this.props.actionParam.showInbox?h.jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").TODO)},children:h.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemFolder").TODO),"right"),{className:"_4ocz","data-tooltip-delay":i,children:h.jsx("div",{className:"_2x0z"})}))}):null,this.$2()]})};d.$2=function(){var a=this,c=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),d=c?b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP):b("PageCommItemStatusUtil").getLabel(b("PageCommItemStatus").FOLLOW_UP);if(!this.props.actionParam.showFollowUp)return null;d=h.jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").FOLLOW_UP)},children:h.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(d,"right"),{className:"_4ocz"+(c?" _63kh":""),"data-tooltip-delay":i,children:h.jsx("div",{className:"_63ki"})}))});return d};return c}(h.Component);e.exports=a}),null);
__d("PagesManagerInboxReplyInsignia.react",["cx","fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","Tooltip.react","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="page_inbox_reply_insignia_nux",k=b("PagesManagerInboxNUX")[j];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showNux:b("PagesManagerInboxStore").shouldShowNUX(j)},d.$1=i.createRef(),d.$2=function(){return d.$1.current},d.$5=function(){b("PagesManagerInboxNUXAction").dismiss(k),d.setState({showNux:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){return h._("Messages you've responded to are marked as replied.")};d.$4=function(){return h._("Replied")};d.render=function(){var a=this.state.showNux&&this.props.isViewingRow;a&&b("PagesManagerInboxNUXAction").logView(k);a=a?i.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.$2,onCloseButtonClick:this.$5,position:"below",shown:!0,children:this.$3()}):null;var c=i.jsx("div",{className:"_8mf0",ref:this.$1});c=this.props.showTooltip?i.jsx(b("Tooltip.react"),{display:"block",tooltip:this.$4(),children:c}):i.jsx(i.Fragment,{children:c});return i.jsxs(i.Fragment,{children:[c,a]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListRowFooter.react",["JSResource","LeftRight.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxReplyInsignia.react","PagesManagerInboxStore","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("PagesManagerInboxThreadLabelContainer.react").__setRef("PagesManagerInboxListRowFooter.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$1=!1;if(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign())c.$1=!1;else{var d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d){c.$1=Boolean((d=d.messengerConfig)==null?void 0:(d=d.commerceConfig)==null?void 0:d.shouldShowReplyInsigniaTooltip)}else{d=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];c.$1=Boolean(d.shouldShowReplyInsigniaTooltip)}}return c}var d=c.prototype;d.render=function(){var a;return g.jsxs(b("LeftRight.react"),{direction:"left",children:[this.props.showReplyInsignia?g.jsx(b("PagesManagerInboxReplyInsignia.react"),{isViewingRow:(a=this.props.isViewingRow)!=null?a:!1,showTooltip:this.$1}):null,this.props.labels?g.jsx(g.Suspense,{fallback:null,children:g.jsx(h,{hoverContextRef:this.props.getLabelHovercontextRef,labels:this.props.labels,setupHoverContextRef:this.props.setupLabelHoverContextRef,shouldShowCometNewDesign:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()})}):null]})};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxMessageActionContainer.react",["FluxContainer","IGMessageDataMutateAction","IGMessageServerActions","MediaManagerInboxContext.react","MercuryIDs","MessagingTag","PageCommItemActionType","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PageCommItemTypeUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","emptyFunction","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var g=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("PagesManagerInboxLogger").itemStatusChanged(d.props.item.id,d.props.item.comm_type,a);b("PagesManagerInboxLogger").itemStatusChangedInThread(d.props.item.id,d.props.item.comm_type,a,d.state.commItemFolder);c=d.props.item.thread_id;var e=d.props.item.thread_fbid,f=null;d.props.commPlatform==="WEC"&&(f=b("PagesManagerInboxStore").getMailboxID(d.props.commPlatform));d.props.item.thread_id===void 0&&(c=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id)),e=d.props.item.target_id);var g=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];switch(a){case b("PageCommItemStatus").DONE:g.isBackgroundFolderEnabled?b("PagesManagerMessagesInterface").changeThreadFolderToBackground(d.props.pageID,c,d.props.item.comm_status):b("PagesManagerMessagesInterface").changeThreadFolderToDone(d.props.pageID,c,d.props.item.comm_status);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").TODO:b("PagesManagerMessagesInterface").changeThreadFolderToInbox(d.props.pageID,c,e,d.props.item.comm_status,g.isBackgroundFolderEnabled);break;case b("PageCommItemStatus").FOLLOW_UP:b("PagesManagerMessagesInterface").markThreadAsFollowUp(d.props.pageID,c,e,!0,d.props.item.comm_status);break;case b("PageCommItemStatus").SPAM:b("PagesManagerMessagesInterface").markThreadAsSpam(d.props.pageID,[c],b("MessagingTag").OTHER,b("PageCommItemStatus").SPAM,d.props.item.comm_status,d.props.item.folder,d.props.item.is_archived);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").DELETED:b("PagesManagerMessagesInterface").markThreadAsDeleted(d.props.pageID,c,f);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;default:break}b("PagesManagerMessagingThreadlistAction").updateThreadlist(d.props.pageID);d.context&&d.context.logMarkStatusActions!==b("emptyFunction")&&d.context.logMarkStatusActions(c,d.props.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$2=function(a){var c=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id));b("PagesManagerMessagesInterface").changeThreadReadStatus(d.props.pageID,c,!d.props.item.is_read);d.props.item.is_read&&b("PagesManagerInboxLogger").logMarkAsUnread(d.props.item.comm_type,d.props.pageID);d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&(a===b("PageCommItemActionType").MARK_READ||a===b("PageCommItemActionType").MARK_UNREAD)&&d.context.logMarkReadStatusActions(c,d.props.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$4=function(a,c){c=d.props.item;var e=c.token,f=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.state.commItemFolder),g=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.state.commItemFolder);b("PagesManagerInboxLogger").itemStatusChangedInThread(e,"INSTAGRAM_DIRECT",a,d.state.commItemFolder);d.state.commItemFolder!==a&&g==null&&f==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.pageID,c.token)):g!==null&&(d.state.commItemFolder===b("PageCommItemFolder").TODO?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.pageID,e,c.is_follow_up!==!0):d.state.commItemFolder===b("PageCommItemFolder").FOLLOW_UP&&(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.pageID,e)));c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesManagerInboxListAction").itemFolderChange([e],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.state.commItemFolder));c.updateThreadStatus(e,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.state.commItemFolder),g,f)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore")]};c.calculateState=function(a,c){a=b("PagesManagerInboxStore").getPlatformConfig(c&&c.item.comm_type?b("PageCommItemTypeUtil").toPageCommPlatform(c.item.comm_type):b("PagesManagerInboxFilterStore").getActiveType());return{viewingItem:b("PagesManagerStore").getViewingListItem(),commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowDeleteButton:Boolean(a.showDeleteConversationButton)}};var d=c.prototype;d.$3=function(){var a,c=this.props.item&&this.props.item.comm_type,d=this.props.item&&this.props.item.is_read,e=c==="FB_MESSAGE"||c==="FB_USER_POST"||c==="FB_REVIEW",f=null,g=this.state.commItemFolder;this.props.item&&this.props.item.comm_status&&(f=this.props.item.comm_status.toUpperCase());a=this.props.item&&this.props.item.is_page_follow_up||((a=this.props.item)==null?void 0:a.is_follow_up);a===void 0&&(a=f===b("PageCommItemStatus").FOLLOW_UP);f=c==="WEC_MESSAGE";return{showDone:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD||g===b("PageCommItemFolder").FOLLOW_UP)&&!f,showFollowUp:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD)&&!a&&!f,showUnFollowup:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD)&&a,showInbox:!f&&a,showMarkRead:!d&&!f,showMarkUnread:d&&!f,showSpam:e&&g!==b("PageCommItemFolder").SPAM&&g!==b("PageCommItemFolder").DONE&&!f,showDelete:this.state.shouldShowDeleteButton||f}};d.render=function(){var a=this.props,b=a.ChildActionClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildActionClass"]);return g.jsx(b,babelHelpers["extends"]({},a,{actionParam:this.$3(),onReadStatusChange:this.$2,onStatusChange:this.props.commPlatform==="INSTAGRAM_DIRECT"?this.$4:this.$1,userID:(b=this)!=null?(b=b.props)!=null?(b=b.item)!=null?(b=b.page_customer)!=null?(b=b.user)!=null?b.id:b:b:b:b:b}))};return c}(g.PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesManagerInboxListRow.react",["ix","cx","fbt","invariant","BusinessInboxBizKitUtil","ErrorBoundary.react","FacebookAppIDs","FacepileRounded.react","FDSCheckboxInput.react","Focus","Image.react","Layout.react","LineClamp.react","MediaManagerInboxContext.react","MediaManagerInboxListRowIconConfig","MediaManagerInboxQEUtils","MercuryIDs","MercuryThreadTimestampReact.re","MercuryTimestamp","MessengerTextWithEmoticons.react","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxActionContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxListRowAction.react","PagesManagerInboxListRowFooter.react","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageActionContainer.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","TextWithEntities.react","Tooltip","XUIBadge.react","emptyFunction","fbglyph","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("BusinessInboxBizKitUtil").maybeApplyGeoGreyTextStyle,l=b("BusinessInboxBizKitUtil").maybeApplyGeoTextBoldStyle,m=b("BusinessInboxBizKitUtil").maybeApplyGeoTextStyle;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var n=b("MercuryThreadTimestampReact.re").make,o=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer,p=b("React"),q=b("Layout.react").Column,r=b("Layout.react").FillColumn,s=18,t=18,u=20;function v(a){var c=b("PagesManagerInboxStore").getIsMultiAdminEnabled();if(!c)return null;c=(c=a.thread.thread_associated_page_admin)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri;a=(a=a.thread.thread_associated_page_admin)==null?void 0:a.name;var d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d!=null){Boolean((d=d.inboxRedesignConfig)==null?void 0:d.shouldShowNewMultiAdminAssignment)}else b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;return a&&c?p.jsxs("span",{className:"_4fyc",children:[p.jsx(b("Image.react"),babelHelpers["extends"]({className:"_4fyd",src:c},b("Tooltip").propsFor(a))),p.jsx(b("Image.react"),{className:"_4fye",src:g("125812")})]}):null}function w(a){var c,d=b("PagesManagerInboxStore").getIsMultiAdminEnabled();if(!d||!a.item)return null;d=(d=a.item)==null?void 0:(d=d.comm_item_owners)==null?void 0:(d=d.nodes[0])==null?void 0:(d=d.admin)==null?void 0:(d=d.profile_picture)==null?void 0:d.uri;c=(c=a.item)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.name;var e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){e=Boolean((e=e.inboxRedesignConfig)==null?void 0:e.shouldShowNewMultiAdminAssignment)}else e=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;if(e&&a.platform==="INSTAGRAM_DIRECT"){d=(e=a.item)==null?void 0:(e=e.assigned_admin)==null?void 0:(e=e.profile_picture)==null?void 0:e.uri;c=(e=a.item)==null?void 0:(a=e.assigned_admin)==null?void 0:a.name}return c&&d?p.jsxs("span",{className:"_4fyc",children:[p.jsx(b("Image.react"),babelHelpers["extends"]({className:"_4fyd",src:d},b("Tooltip").propsFor(c))),p.jsx(b("Image.react"),{className:"_4fye",src:g("125812")})]}):null}function x(a){var c,d=a.activeFolder===b("PageCommItemFolder").SPAM||a.activeFolder===b("PageCommItemFolder").DONE;if(a.commType==="WEC_MESSAGE"||a.shouldShowIGRevampComments)c=null;else if(a.badgeCount>1&&!a.shouldShowIGRevampComments&&(a.commType==="FB_PAGE_POST"||a.commType==="FB_AD_POST"||a.commType==="INSTAGRAM_POST"||a.commType==="FB_GROUP_POST"))c=p.jsx(b("XUIBadge.react"),{className:"_24d_",count:a.badgeCount});else if(a.activeFolder&&a.activeFolder===b("PageCommItemFolder").DONE||a.commStatus===b("PageCommItemStatus").DONE&&!b("PagesManagerInboxMercuryUtil").shouldUseMercury())c=p.jsx("div",{className:"_za4"});else if(a.activeFolder&&a.activeFolder===b("PageCommItemFolder").FOLLOW_UP||a.commStatus===b("PageCommItemStatus").FOLLOW_UP||((a=a.item)==null?void 0:a.is_follow_up)&&!d)b("PagesManagerInboxMercuryUtil").shouldUseMercury()?c=p.jsx("div",{className:"_i65"}):c=p.jsx("div",{className:"_4thl"});else return null;return p.jsx("div",{className:"_za5",children:c})}function y(a){return a.profilePicElement?a.profilePicElement:p.jsx(b("PagesManagerInboxProfilePicContainer.react"),{item:b("nullthrows")(a.item)})}function z(a,c){if(c.inline_style==="BOLD")return p.jsx("span",{className:"_1t5i",children:a});c=c.entity_with_image&&c.entity_with_image.image&&c.entity_with_image.image.uri;return c?p.jsx(b("Image.react"),{className:"_1t5n",src:c}):a}function A(a){a.snippetWithEntities&&a.snippetElement&&j(0,1607);if(a.snippetElement)return a.snippetElement;if(!a.snippetWithEntities)return null;return a.commPlatform==="MESSENGER"?p.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.snippetWithEntities.text}):p.jsx(b("TextWithEntities.react"),{imageRanges:a.snippetWithEntities.image_ranges,inlineStyleRanges:a.snippetWithEntities.inline_style_ranges,interpolator:z,renderEmoji:!0,text:a.snippetWithEntities.text})}function B(a){a.title&&!a.titleElement||!a.title&&a.titleElement||j(0,1608);return a.titleElement?!a.isRead?l(a.titleElement):m(a.titleElement):m(p.jsx("span",{children:C(a.title)}))}function C(a){return a?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null}function D(a){return!(a.showActions&&a.item)?null:b("PagesManagerInboxMercuryUtil").shouldUseMercury()?p.jsx(b("PagesManagerInboxMessageActionContainer.react"),{ChildActionClass:b("PagesManagerInboxListRowAction.react"),className:"_4a51",commPlatform:a.commPlatform,item:b("nullthrows")(a.item),mediaManagerInboxRowIndex:a.mediaManagerInboxRowIndex,pageID:a.pageID}):p.jsx(o,{ChildActionClass:b("PagesManagerInboxListRowAction.react"),className:"_4a51",item:b("nullthrows")(a.item),mediaManagerInboxRowIndex:a.mediaManagerInboxRowIndex,pageID:a.pageID})}function E(a){var c;if(!a.shouldRenderRowIcon||a.icons==null)return null;var d=p.jsx("div",{style:{height:20,width:20}});if(((c=a.icons)==null?void 0:c.length)!==0){c=a.icons.map(function(a){a=b("MediaManagerInboxListRowIconConfig")[a];return{name:a.name,image_src:a.iconAsset}});d=p.jsx(b("FacepileRounded.react"),{imageSize:16,profiles:c})}return p.jsx(q,{className:"_8lx9","data-testid":"creator_studio_top_comments_icons_column",children:d})}c=40;d=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=!1;d.$4=null;d.$5=function(a){d.$4=a};d.$6=function(){return d.$4};d.$1=d.$3.bind(babelHelpers.assertThisInitialized(d));c=b("PagesManagerInboxFilterStore").getActiveType();if(c==="MESSENGER"){c=b("PagesManagerInboxStore").getBusinessInboxAppConfig();d.$2=c==null?b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldShowReplyInsignia:Boolean((c=c.messengerConfig)==null?void 0:(c=c.commerceConfig)==null?void 0:c.shouldShowReplyInsignia)}return d}var d=c.prototype;d.componentDidMount=function(){if(this.context&&this.context.logRowImpression!==b("emptyFunction")&&this.props.commPlatform!=="MEDIA_MANAGER_FB_COMMS"){var a;this.context.logRowImpression(this.props.commPlatform==="MESSENGER"?(a=this.props.item)==null?void 0:a.thread_fbid:(a=this.props.item)==null?void 0:a.id,this.props.commPlatform,this.props.rowIndex,this.props.activeFolder)}};d.$7=function(){var a,b=this.props.badgeCount;if(!this.props.shouldShowIGRevampComments||((a=this.props.item)==null?void 0:a.is_read)||b===0)return null;a=b>u?u.toString()+"+":b.toString();return p.jsx("div",{className:"_86fv",children:i._("{unread number} unread",[i._param("unread number",a)])})};d.$8=function(a,b){var c={},d=[];for(var e=0;e<a.length;e++){var f;f=(f=a[e])==null?void 0:f.name;f!=null&&c[f]!==!0&&(c[f]=!0,d[d.length]=a[e])}for(var f=0;f<b.length;f++){a=(e=b[f])==null?void 0:e.name;a!=null&&c[a]!==!0&&(c[a]=!0,d[d.length]=b[f])}return d};d.$9=function(a){a.stopPropagation()};d.$3=function(a,b){b=(b=this.props.selectionConfig)==null?void 0:b.onSelectionToggle;b&&b(a)};d.$10=function(){var a=this.context&&this.context.appID;return a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()};d.$11=function(){var a;if(!this.$2)return!1;else if(Boolean(this.props.hasPageReplied))return!0;a=(a=this.props.item)==null?void 0:a.snippet_sender;return a==null||!b("MercuryIDs").isValid(a)?!1:b("MercuryIDs").getUserIDFromParticipantID(a)===this.props.pageID};d.render=function(){var a,c,d,e=this.props.commType==="FB_GROUP_POST",f=null;f=this.props.labels?this.props.labels:this.$8(((a=this.props.item)==null?void 0:(a=a.page_thread_info)==null?void 0:a.customLabels)||[],((a=this.props.item)==null?void 0:(a=a.page_thread_info)==null?void 0:a.customTags)||[]);a=null;switch(this.props.commPlatform){case"WEC":a="wec_thread_list";break;case"MESSENGER":a="messenger_thread_list_row";break;case"FACEBOOK":a="facebook_post_list_row_item";break}c=Boolean((c=this.props)==null?void 0:(c=c.selectionConfig)==null?void 0:c.enabled);d=Boolean((d=this.props)==null?void 0:(d=d.selectionConfig)==null?void 0:d.selected);var g=this.$11();return p.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:p.jsxs("div",{className:"_4k8w"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8gcz")+" _75ux"+(this.props.showActions?" _5_n1":"")+(this.props.isViewing?" _2tms":"")+(this.props.isRead?"":" _284c")+(this.props.shouldAnimate?" _3_40":"")+(this.props.commPlatform==="INSTAGRAM"?" _5m16":"")+(this.props.commPlatform==="FACEBOOK"||this.props.commPlatform==="MEDIA_MANAGER_FB_COMMS"?" _5m15":"")+(this.props.commPlatform==="MESSENGER"?" _5m10":"")+(this.props.commPlatform==="WEC"?" _7r_8":"")+(this.props.commPlatform==="INSTAGRAM_DIRECT"?" _6wkq":""),"data-testid":a,onClick:this.props.onViewingListItem,onMouseDown:function(a){return b("Focus").setWithoutOutline(a.target)},role:"presentation",children:[p.jsxs(b("Layout.react"),{className:"_6yv6","data-testid":"search_label_result_list",children:[p.jsx(E,{icons:this.props.icons,shouldRenderRowIcon:this.$10()}),p.jsx(q,{className:"_11eh",children:p.jsx(y,{item:this.props.item,profilePicElement:this.props.profilePicElement})}),p.jsxs(r,{children:[p.jsxs(r,{className:"_284g",children:[p.jsx("div",{className:"_4k8x",children:p.jsxs(b("LineClamp.react"),{lineHeight:s,lines:e?2:1,children:[this.props.item!=null&&this.props.commPlatform==="MESSENGER"&&this.props.shouldUseMessengerStateForAdminAssignment?p.jsx(v,{pageID:this.props.pageID,thread:this.props.item}):p.jsx(w,{item:this.props.item,pageID:this.props.pageID,platform:this.props.commPlatform}),p.jsx(B,{isRead:this.props.isRead,title:this.props.title,titleElement:this.props.titleElement})]})}),p.jsxs("div",{className:"_4k8y",children:[this.props.subtitle&&!f?k(p.jsx(b("TextWithEntities.react"),{className:"_2dmv",imageRanges:(a=this.props)!=null?(a=a.subtitle)!=null?a.image_ranges:a:a,inlineStyleRanges:(e=this.props)!=null?(e=e.subtitle)!=null?e.inline_style_ranges:e:e,interpolator:z,renderEmoji:!0,text:(a=this.props)!=null?(a=a.subtitle)!=null?a.text:a:a}),this.props.isRead):null,p.jsx(b("LineClamp.react"),{lineHeight:t,lines:1,children:k(p.jsx(A,{commPlatform:this.props.commPlatform,snippetElement:this.props.snippetElement,snippetWithEntities:this.props.shouldShowIGRevampComments?this.props.igRevampSnippetWithEntities:this.props.snippetWithEntities}),this.props.isRead)}),this.$7(),this.props.second_subtitle?p.jsx(b("LineClamp.react"),{lineHeight:t,lines:1,children:p.jsx(b("TextWithEntities.react"),{imageRanges:(e=this.props)!=null?(e=e.second_subtitle)!=null?e.image_ranges:e:e,inlineStyleRanges:(a=this.props)!=null?(a=a.second_subtitle)!=null?a.inline_style_ranges:a:a,renderEmoji:!0,text:(e=this.props)!=null?(e=e.second_subtitle)!=null?e.text:e:e})}):null]})]}),p.jsxs(q,{className:"_11ei",children:[p.jsxs("div",{className:c?"_8gnh":"",children:[p.jsxs("div",{className:"_4ugl",children:[isNaN(this.props.timestampInMS)?null:p.jsx("div",{className:"_5hhj",children:k(p.jsx(n,{text:b("MercuryTimestamp").getRelativeTimestamp(this.props.timestampInMS),time:this.props.timestampInMS,title:(a=b("MercuryTimestamp").getAbsoluteTimestamp(this.props.timestampInMS))!=null?a:void 0}))}),p.jsx(x,{activeFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),badgeCount:this.props.badgeCount,commStatus:this.props.commStatus,commType:this.props.commType,item:this.props.item,shouldShowIGRevampComments:this.props.shouldShowIGRevampComments})]}),p.jsx(D,{commPlatform:this.props.commPlatform,item:this.props.item,mediaManagerInboxRowIndex:this.props.rowIndex,pageID:this.props.pageID,showActions:this.props.showActions}),!this.props.showActions&&this.props.item&&this.props.item.parent_comm_item_photo_preview?p.jsx(b("Image.react"),{className:"_7-24",src:(e=this.props.item)==null?void 0:(a=e.parent_comm_item_photo_preview)==null?void 0:a.uri}):null]}),c&&p.jsx("div",{className:"_8ic-",onClick:this.$9,role:"presentation",children:p.jsx(b("FDSCheckboxInput.react"),{"data-testid":"bk_threadlist_row_checkbox",label:"",onChange:this.$1,value:d})})]}),this.props.footerElement?this.props.footerElement:p.jsx(b("PagesManagerInboxListRowFooter.react"),{getLabelHovercontextRef:this.$6,isViewingRow:this.props.isViewing,labels:f,setupLabelHoverContextRef:this.$5,showReplyInsignia:g})]})]}),this.props.isViewing?p.jsx("div",{className:"_5z5s"}):null,this.props.shouldAnimate?p.jsx("div",{className:"_3_42",style:{backgroundColor:this.props.commStatus?b("PageCommItemStatusUtil").getColor(this.props.commStatus):void 0}}):null]})})};return c}(p.PureComponent);d.defaultProps={imageSize:c,shouldAnimate:!1,showActions:!0,badgeCount:0,shouldShowIGRevampComments:!1};d.contextType=a;e.exports=d}),null);
__d("PagesManagerInboxLeadEmailListItem.react",["ix","fbt","BizBroadcastEmailMode","BizInboxEmailMessageType","BusinessInboxBizKitUtil","FBInitialsProfilePicture.react","FDSText.react","FlexLayout.react","Image.react","PageCommItemStatus","PagesManagerInboxLeadEmailUtils","PagesManagerInboxListRow.react","React","RelayHooks","getJSEnumSafe","nullthrows","PagesManagerInboxLeadEmailListItem_BusinessInboxMessageThread.graphql","Tooltip.react","asset","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("BusinessInboxBizKitUtil").maybeApplyGeoTextStyle,k=b("React");c=b("React");var l=c.useCallback;b("RelayHooks").graphql;var m=b("RelayHooks").useFragment,n=i!==void 0?i:i=b("PagesManagerInboxLeadEmailListItem_BusinessInboxMessageThread.graphql");function a(a){var c,d,e,f,i,o,p,q=30,r=h._("UNKNOWN"),s=m(n,a.thread),t=b("nullthrows")(s.id),u=l(function(){var b=a.onClick;b(t)},[a.onClick,t]);c=(c=s.email_messages)==null?void 0:(c=c.nodes)==null?void 0:(c=c[0])==null?void 0:c.creation_time;d=b("getJSEnumSafe")(b("BizBroadcastEmailMode"),(d=s.email_messages)==null?void 0:(d=d.nodes)==null?void 0:(d=d[0])==null?void 0:d.email_mode);e=b("getJSEnumSafe")(b("BizInboxEmailMessageType"),(e=s.email_messages)==null?void 0:(e=e.nodes)==null?void 0:(e=e[0])==null?void 0:e.biz_email_type);e=b("PagesManagerInboxLeadEmailUtils").getLabelAndDescriptionFromEmailInfo(e,d);d=(d=s.email_messages)==null?void 0:(d=d.nodes)==null?void 0:(d=d[0])==null?void 0:d.is_from_customer;f=(f=s.email_messages)==null?void 0:(f=f.nodes)==null?void 0:(f=f[0])==null?void 0:f.preview_text;i=s==null?void 0:(i=s.customer_contact)==null?void 0:i.name;o=s==null?void 0:(o=s.customer_contact)==null?void 0:o.email;p=(p=s.customer_contact)==null?void 0:p.first_name;s=(s=s.customer_contact)==null?void 0:s.last_name;q=k.jsx(b("FBInitialsProfilePicture.react"),{circleProfile:!0,firstName:(p=p)!=null?p:"",height:q,lastName:(p=s)!=null?p:""});s=k.jsxs(b("FlexLayout.react"),{className:"b2r9obmk",direction:"horizontal",children:[k.jsx(b("Image.react"),{className:"faez4nw9 q48522wo",src:d===!0?g("483098"):g("793176")}),k.jsx(b("Tooltip.react"),{tooltip:e==null?void 0:e.description,children:k.jsx(b("FDSText.react"),{color:"placeholder",size:"meta1",children:e==null?void 0:e.text})})]});return k.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MESSENGER",commStatus:b("PageCommItemStatus").TODO,commType:"FB_MESSAGE",footerElement:s,isRead:!0,isViewing:t===a.selectedThreadID,onViewingListItem:u,pageID:a.pageID,profilePicElement:q,showActions:!0,snippetElement:j(f),subtitle:null,timestampInMS:b("nullthrows")(c)*1e3,title:(d=(p=i)!=null?p:o)!=null?d:r.toString()},t)}e.exports=a}),null);
__d("PagesManagerInboxListEmptyState.react",["cx","fbt","ix","Image.react","PageCommItemFolder","PagesManagerInboxFilterStore","PagesManagerInboxStore","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.folder){case b("PageCommItemFolder").DONE:return this.props.platform==="MESSENGER"||this.props.platform==="INSTAGRAM_DIRECT"?h._("No messages"):h._("No comments");case b("PageCommItemFolder").FOLLOW_UP:return this.props.platform==="MESSENGER"||this.props.platform==="INSTAGRAM_DIRECT"?h._("No messages"):h._("No comments");case b("PageCommItemFolder").TODO:switch(this.props.platform){case"MESSENGER":return h._("No messages");case"WEC":return h._("No messages to show");case"FACEBOOK":return h._("No comments");case"INSTAGRAM":return h._("No comments")}break;case b("PageCommItemFolder").SPAM:return this.props.platform==="INSTAGRAM"||this.props.platform==="FACEBOOK"?h._("No comments"):h._("No messages");case b("PageCommItemFolder").UNREAD:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":return h._("No messages");case"FACEBOOK":return h._("No unread reviews or comments to show");case"INSTAGRAM":return h._("No unread Instagram comments to show")}break;case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").MESSENGER_THREADS:return h._("No messages");case b("PageCommItemFolder").EMAIL_THREADS:return h._("No emails")}return null};d.$2=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];a=a.selectedCommentView==="TOP_LEVEL_COMMENT";switch(this.props.folder){case b("PageCommItemFolder").DONE:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":case"WEC":return h._("You can quickly file messages to \"Done\" by using the checkmark button.");case"FACEBOOK":case"INSTAGRAM":return h._("You can quickly file comments to \"Done\" by using the checkmark button.");default:return null}case b("PageCommItemFolder").FOLLOW_UP:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":case"WEC":return h._("Use the star button to mark messages as Follow Up.");case"FACEBOOK":case"INSTAGRAM":return h._("Use the star button to mark comments as Follow Up.");default:return null}case b("PageCommItemFolder").TODO:switch(this.props.platform){case"MESSENGER":return h._("Messages sent to your Page will appear here.");case"FACEBOOK":return a?null:h._("Reviews and comments on your posts will appear here.");case"INSTAGRAM":return h._("Comments on your Instagram posts will appear here.")}break;case b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS:return h._("Communications and notifications from Facebook will appear here.");case b("PageCommItemFolder").EMAIL_THREADS:return h._("The emails that you sent or received will appear here.")}return null};d.$3=function(){var a;switch(this.props.folder){case b("PageCommItemFolder").DONE:a=i("94968");break;case b("PageCommItemFolder").FOLLOW_UP:a=i("94970");break;default:return null}return!a?null:j.jsx(b("Image.react"),{className:"_2-xd",src:a})};d.$4=function(){switch(this.props.folder){case b("PageCommItemFolder").DONE:return i("497630");case b("PageCommItemFolder").FOLLOW_UP:return i("484107");default:return i("94969")}};d.render=function(){return j.jsxs("div",{className:"_2-x8"+(this.props.folder===b("PageCommItemFolder").DONE?" _2-x9":""),"data-testID":"list_empty_state",children:[j.jsx(b("Image.react"),{src:this.$4()}),j.jsx("div",{className:"_2-xa"+(this.props.folder===b("PageCommItemFolder").TODO||this.props.folder===b("PageCommItemFolder").SPAM?" _2-xb":""),children:this.$1()}),j.jsx("div",{className:"_2-xc",children:this.$2()}),this.$3()]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxLeadEmailListView.react",["LeadsCenterEmailThreadListClickFalcoEvent","PageCommItemFolder","PagesManagerInboxLeadEmailListItem.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListSpinner.react","PagesSelectableSimpleList.react","React","RelayHooks","nullthrows","PagesManagerInboxLeadEmailListView_page.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");c=b("React");var i=c.useCallback,j=c.useEffect;b("RelayHooks").graphql;var k=b("RelayHooks").usePaginationFragment,l=g!==void 0?g:g=b("PagesManagerInboxLeadEmailListView_page.graphql");function a(a){var c,d=81,e=10,f=k(l,a.page),g=f.data,m=f.loadNext,n=f.hasNext;f=f.isLoadingNext;var o=i(function(){m(e)},[m]),p=a.selectedThreadID;j(function(){p!=null&&b("LeadsCenterEmailThreadListClickFalcoEvent").log(function(){var a;return{event_location:"business_inbox",page_id:g.id,business_presence_node_id:g==null?void 0:(a=g.business_presence_node)==null?void 0:a.id,client_timestamp_ms:Date.now(),event_data:{email_thread_id:p}}})},[p]);c=g==null?void 0:(c=g.leadEmailThreadItems)==null?void 0:(c=c.edges)==null?void 0:c.filter(function(a){var b;return a!=null&&(a==null?void 0:(b=a.node)==null?void 0:(b=b.email_messages)==null?void 0:b.count)!=null&&(a==null?void 0:(b=a.node)==null?void 0:(a=b.email_messages)==null?void 0:a.count)!==0});if(c==null||c.length===0)return h.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:b("PageCommItemFolder").EMAIL_THREADS,pageID:b("nullthrows")(g.id),platform:"FACEBOOK"});if(p==null){var q;q=c==null?void 0:(q=c[0])==null?void 0:(q=q.node)==null?void 0:q.id;q!=null&&a.onThreadSelected(q)}q=function(a){var c=a==null?void 0:(a=a.leadEmailThreadItems)==null?void 0:(a=a.edges)==null?void 0:a.filter(function(a){return a!=null});return function(a){return b("nullthrows")(c==null?void 0:(a=c[a].node)==null?void 0:a.id)}};var r=function(a,c,d){return function(e,f,g){f=a==null?void 0:(f=a.leadEmailThreadItems)==null?void 0:(g=f.edges)==null?void 0:g.filter(function(a){var b;return a!=null&&(a==null?void 0:(b=a.node)==null?void 0:(b=b.email_messages)==null?void 0:b.count)!=null&&(a==null?void 0:(b=a.node)==null?void 0:(a=b.email_messages)==null?void 0:a.count)!==0});return f==null||f.length===0?null:h.jsx(b("PagesManagerInboxLeadEmailListItem.react"),{onClick:d,pageID:b("nullthrows")(a.id),selectedThreadID:c,thread:b("nullthrows")(f==null?void 0:f[e].node)},b("nullthrows")(f==null?void 0:(g=f[e].node)==null?void 0:g.id))}};return h.jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:n,height:a.height,isLoadingMoreRows:f,loadingIndicator:h.jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:o,rowCount:c.length,rowHeight:d,rowKeyGetter:q(g),rowRenderer:r(g,a.selectedThreadID,a.onThreadSelected),showHeader:!1})}e.exports=a}),null);
__d("PagesManagerInboxListLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=4;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=[];for(var b=0;b<this.props.count;b++)a.push(this.$1(b));return h.jsx("div",{style:{height:this.props.height},children:a})};c.$1=function(a){return h.jsx("div",{className:"_2dqm",children:h.jsxs("div",{className:"_2iwq _2dqn",children:[h.jsx("div",{className:"_2iwr"}),h.jsx("div",{className:"_2iws"}),h.jsx("div",{className:"_2iwt"}),h.jsx("div",{className:"_2iwu"}),h.jsx("div",{className:"_2iww"}),h.jsx("div",{className:"_2iwx"})]})},"rowPlaceholder"+a)};return b}(h.PureComponent);c.defaultProps={count:a};e.exports=c}),null);
__d("PagesManagerInboxLeadEmailListContainer.react",["ErrorBoundary.react","FluxContainer","LeadsCenterEmailTabImpressionFalcoEvent","PagesManagerAction","PagesManagerInboxLeadEmailListView.react","PagesManagerInboxListLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryRenderer.react","PagesManagerStore","React","RelayModern","PagesManagerInboxLeadEmailListContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxLeadEmailListContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a=a.props;return a?h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesManagerInboxLeadEmailListView.react"),{height:d.props.height,onThreadSelected:d.$1,page:a.page,selectedThreadID:d.state.selectedThread})}):h.jsx(b("PagesManagerInboxListLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a){return{selectedThread:b("PagesManagerStore").getViewingListItem()}};var d=c.prototype;d.componentDidMount=function(){var a=this;b("LeadsCenterEmailTabImpressionFalcoEvent").log(function(){return{event_location:"business_inbox",page_id:a.props.pageID,client_timestamp_ms:Date.now(),event_data:{}}})};d.$1=function(a){b("PagesManagerAction").viewListItem(a)};d.render=function(){return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},isLiveQuery:!0,query:i,render:this.$2,variables:{pageID:this.props.pageID}})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAutomationToastContainer.react",["cx","fbt","FDSGuidanceToast.react","FDSGuidanceToastButton.react","FDSGuidanceToastCloseButton.react","FluxContainer","MercuryIDs","MessengerState.bs","PageCommItemFolder","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesMarketingAutomationActions","PagesMarketingAutomationStore","React","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.state.recentAutomationThreadFBID){var a=b("MercuryIDs").getThreadIDFromUserID(d.state.recentAutomationThreadFBID),c=b("MessengerState.bs").getThreadMetaNow(d.props.pageID,a);b("PagesManagerInboxLogger").itemStatusChanged(c.page_comm_item_id,c.comm_type,b("PageCommItemFolder").TODO);b("PagesManagerInboxLogger").itemStatusChangedInHeader(c.page_comm_item_id,c.comm_type,b("PageCommItemFolder").TODO,d.props.commItemFolder);var e=b("PagesManagerInboxStore").getConfig().platformConfigs[d.props.activeType];b("PagesManagerMessagesInterface").changeThreadFolderToInbox(d.props.pageID,a,b("nullthrows")(d.state.recentAutomationThreadFBID),b("nullthrows")(c.comm_status),e.isBackgroundFolderEnabled);b("PagesManagerMessagingThreadlistAction").updateThreadlist(d.props.pageID)}d.$1()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a){return{recentAutomationThreadFBID:b("PagesMarketingAutomationStore").getRecentAutomationThreadFBID(),shouldShowToast:b("PagesMarketingAutomationStore").getShouldShowAutomationToast()}};var d=c.prototype;d.$1=function(){b("PagesMarketingAutomationActions").updateShouldShowAutomationToast(!1)};d.render=function(){return this.state.shouldShowToast&&this.props.selectedCustomerID===this.state.recentAutomationThreadFBID?i.jsx("div",{className:"_8qfj",children:i.jsx(b("FDSGuidanceToast.react"),{callToActionButton:i.jsx(b("FDSGuidanceToastButton.react"),{label:"Undo",onClick:this.$2}),closeButton:i.jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:this.$1}),content:h._("Conversation moved to Done folder"),type:"success"})}):null};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBanToastContainer.react",["ix","cx","fbt","CenteredContainer.react","FluxContainer","Image.react","Layout.react","PagesManagerInboxListAction","PagesManagerInboxListStore","React","ReactTransitionGroup","XUICard.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=500,n=1e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxListStore")]};c.calculateState=function(){return{isBanned:b("PagesManagerInboxListStore").getIsUserBanned(),userName:b("PagesManagerInboxListStore").getUserName()}};var d=c.prototype;d.render=function(){var a=this.state.userName?j.jsx(o,{isBanned:this.state.isBanned,userName:this.state.userName},this.state.userName):null;return j.jsx(b("ReactTransitionGroup"),{children:a})};return c}(j.PureComponent);var o=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={shouldHide:!1},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.componentDidMount=function(){var a=this;setTimeout(function(){a.state.shouldHide||b("PagesManagerInboxListAction").removeBanNotice()},n)};d.componentWillLeave=function(a){this.setState({shouldHide:!0},function(){setTimeout(a,m)})};d.$1=function(){if(this.props.isBanned)return i._("{name} has been banned from this Page.",[i._param("name",this.props.userName)]);else return i._("Ban has been removed")};d.render=function(){return j.jsx("div",{className:"_9e3"+(this.state.shouldHide?" _9e5":""),children:j.jsx(b("XUICard.react"),{className:"_6zj7",children:j.jsxs(b("Layout.react"),{className:"_9ee",children:[j.jsx(k,{className:"_9ef",children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx(b("Image.react"),{src:g("691343")})})}),j.jsx(l,{className:"_9ef _9eh",children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$1()})})]})})})};return a}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBulkActionsNotice.react",["cssVar","cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","ReactCSSTransitionGroup","XUICard.react","joinClasses","productsAssertExhausted","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useEffect,k=c.useState,l=1e4,m=3e3;function a(a){var c=a.actionType,d=a.message,e=a.onNoticeHide;a=k(!0);var f=a[0],g=a[1];a=c?n(c):"";j(function(){var a=c!==null&&Boolean(d);a&&(g(!1),b("setTimeout")(function(){g(!0),e()},l))},[c,d,e]);return i.jsx(b("ReactCSSTransitionGroup"),{transitionEnterTimeout:m,transitionLeaveTimeout:m,transitionName:{enter:"_8iog",enterActive:"_8iou",leave:"_8iot",leaveActive:"_8iov"},children:!f&&i.jsx("div",{className:"_8j2a",children:i.jsx(b("XUICard.react"),{className:"_8j2b",style:{backgroundColor:"#90949c"},children:i.jsxs(b("Layout.react"),{className:"_8j2f",children:[i.jsx(b("LayoutColumn.react"),{className:"_8j2g",children:i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:i.jsx("div",{className:b("joinClasses")("_8ip0",a)})})}),i.jsx(b("LayoutFillColumn.react"),{className:"_8j2g _8j2h",children:i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:d})})]})})})})}function n(a){switch(a){case"DONE":return"_8j2i";case"FOLLOW_UP":return"_8j2j";case"INBOX":return"_8j2k";case"MARK_UNREAD":return"_8j5m";case"SPAM":return"_8j2l";case"DELETE":return"_8j2m";case"ASSIGN_ADMIN":return"_8jdm";case"REPLY":return"_8iof";case"LABEL":return"_8ip1";default:b("productsAssertExhausted")(a)}return""}e.exports=a}),null);
__d("PagesManagerInboxBulkActionsNoticeContainer.react",["FluxContainer","PagesManagerAction","PagesManagerInboxBulkActionsNotice.react","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(){return{lastBulkActionResult:b("PagesManagerStore").getLastBulkActionResult()}};var d=c.prototype;d.render=function(){var a;a=(a=this.state.lastBulkActionResult)!=null?a:{};var c=a.actionType;a=a.message;return g.jsx(b("PagesManagerInboxBulkActionsNotice.react"),{actionType:c,message:a,onNoticeHide:b("PagesManagerAction").removeLastBulkActionResult})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxFolderChangeNotice.react",["ix","cx","fbt","invariant","CenteredContainer.react","Image.react","Layout.react","Link.react","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxMercuryUtil","React","ReactTransitionGroup","XUICard.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("Layout.react").Column,m=b("Layout.react").FillColumn,n=500,o=1e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.mutatedItem;a=a?k.jsx(p,{mutatedItem:a,onUndoClick:this.props.onUndoClick,removeMutation:this.props.removeMutation},"mutatedItem"+a.id+a.newFolder):null;return k.jsx(b("ReactTransitionGroup"),{children:a})};return c}(k.PureComponent);var p=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a;a=c.call(this)||this;a.$1=function(){a.props.onUndoClick&&a.props.onUndoClick(a.props.mutatedItem)};a.state={shouldHide:!1};return a}var d=a.prototype;d.componentDidMount=function(){var a=this;window.setTimeout(function(){a.state.shouldHide||a.props.removeMutation(a.props.mutatedItem)},o)};d.render=function(){var a=this.props.mutatedItem.newFolder,c=null;this.props.onUndoClick&&(c=k.jsx(l,{className:"_9ef",children:k.jsx(b("Link.react"),{className:"_9ei",onClick:this.$1,children:k.jsx(b("CenteredContainer.react"),{className:"_9ej",fullHeight:!0,horizontal:!1,vertical:!0,children:i._("Undo")})})}));return k.jsx("div",{className:"_9e3"+(this.state.shouldHide?" _9e5":""),children:k.jsx(b("XUICard.react"),{className:"_9e6",style:{backgroundColor:b("PageCommItemStatusUtil").getColor(a)},children:k.jsxs(b("Layout.react"),{className:"_9ee",children:[k.jsx(l,{className:"_9ef",children:k.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$2()})}),k.jsx(m,{className:"_9ef _9eh",children:k.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$3()})}),c]})})})};d.componentWillLeave=function(a){this.setState({shouldHide:!0},function(){window.setTimeout(a,n)})};d.$2=function(){var a;switch(this.props.mutatedItem.newFolder){case b("PageCommItemStatus").TODO:a=g("115680");break;case b("PageCommItemStatus").FOLLOW_UP:a=g("26062");break;case b("PageCommItemStatus").DONE:a=g("114571");break;case b("PageCommItemStatus").SPAM:a=g("115608");break}return!a?null:k.jsx(b("Image.react"),{src:a})};d.$3=function(){switch(this.props.mutatedItem.newFolder){case b("PageCommItemStatus").DONE:return i._("Moved to Done folder");case b("PageCommItemStatus").FOLLOW_UP:return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?i._("Marked as Follow Up"):i._("Item moved to Follow Up");case b("PageCommItemStatus").TODO:return this.props.mutatedItem.oldFolder===b("PageCommItemStatus").FOLLOW_UP?i._("Removed from Follow Up"):i._("Moved to Main folder");case b("PageCommItemStatus").SPAM:return i._("Moved to Spam folder");default:j(0,4240,this.props.mutatedItem.newFolder)}};return a}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFolderChangeNoticeContainer.react",["FluxContainer","PageCommItemStatusEditMutation","PagesManagerInboxFolderChangeNotice.react","PagesManagerInboxListAction","PagesManagerInboxListStore","PagesManagerInboxMercuryUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PageCommItemStatusEditMutation").commit({actor_id:d.props.pageID,ids:[a.id],isUndo:!0,isViewing:a.id===d.state.viewingItem,oldValue:a.newFolder,status:a.oldFolder}),d.$2(a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerStore")]};c.calculateState=function(){return{mutatedItem:b("PagesManagerInboxListStore").getLastMutatedItem(),viewingItem:b("PagesManagerStore").getViewingListItem()}};var d=c.prototype;d.render=function(){var a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?null:this.$1;return g.jsx(b("PagesManagerInboxFolderChangeNotice.react"),{mutatedItem:this.state.mutatedItem,onUndoClick:a,removeMutation:this.$2})};d.$2=function(a){b("PagesManagerInboxListAction").removeMutatedItem([a.id])};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BulkActionsContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({showBulkSelection:!1,selectedThreads:[]});e.exports=c}),null);
__d("MediaManagerInboxPriorityTabActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM,priorityType:a})};e.exports={onViewingPriorityItem:a}}),null);
__d("XMediaManagerFBCommsSetMessageSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fb_comms/set_message_seen/",{page_id:{type:"FBID"},tip_name:{type:"String",required:!0},aymt_tip_id:{type:"FBID",required:!0},row_index:{type:"String",required:!0}})}),null);
__d("MediaManagerInboxFBCommsTabMessageRowContainer.react",["cx","AsyncRequest","FluxContainer","Image.react","MediaManagerInboxContext.react","MediaManagerInboxFBCommsActions","MediaManagerInboxPriorityTabActions","PageCommItemActionType","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListRow.react","PagesManagerStore","React","XMediaManagerFBCommsSetMessageSeenController","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var h=b("MediaManagerInboxFBCommsActions").decrementFBCommsBadgeCount,i=b("MediaManagerInboxFBCommsActions").setFBCommsMessageSeen,j=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item.node;b("PagesManagerAction").viewListItem(a.id);b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem("TOP_FB_COMMS");if(a.clickedTime==null&&a.tip_name!=null&&a.tip_name!=""){var c=b("XMediaManagerFBCommsSetMessageSeenController").getURIBuilder().setFBID("page_id",a.pageID).setString("tip_name",a.tipName).setFBID("aymt_tip_id",a.id).setString("row_index",d.props.rowIndex).getURI();new(b("AsyncRequest"))(c).setHandler(function(c){c.payload&&(h(d.props.pageID),d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&d.context.logMarkReadStatusActions(a.id,"MEDIA_MANAGER_FB_COMMS",b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS,b("PageCommItemActionType").MARK_READ,d.props.rowIndex))}).send();d.props.isPriorityTab||i(d.props.pageID,d.props.item,1)}},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a,c){var d=!1,e=b("PagesManagerStore").getViewingListItem();c.item.node.id&&e&&(d=c.item.node.id===e);e=a!=null&&a.isRead||c.item.node.clickedTime!=null;return{isViewing:d,isRead:e}};var d=c.prototype;d.componentDidMount=function(){this.context&&this.context.logRowImpression!==b("emptyFunction")&&this.context.logRowImpression(this.props.item.node.id,"MEDIA_MANAGER_FB_COMMS",this.props.rowIndex,b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS)};d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;return j.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MEDIA_MANAGER_FB_COMMS",commStatus:null,commType:null,isRead:this.state.isRead,isViewing:this.state.isViewing,labels:null,pageID:this.props.pageID,profilePicElement:j.jsx(b("Image.react"),{src:"/images/fb_communications/glyph-app-facebook-circle-1x.png"}),rowIndex:this.props.rowIndex,snippetElement:j.jsx("div",{className:"_8wxv",children:a.body}),subtitle:null,timestampInMS:(a.validationTime||0)*1e3,titleElement:j.jsx("div",{className:"_8wxv",children:a.title}),onViewingListItem:this.$1})};return c}(j.PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("MediaManagerInboxLoggerActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LIST_ROW_IMPRESSION,rowIndex:a})};e.exports={logListRowIndex:a}}),null);
__d("PagesManagerInboxMessageProfilePicContainer.react",["invariant","MercuryIDs","MessengerParticipantsImages.re","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={imageURI:null};return b}var d=c.prototype;d.componentDidMount=function(){this.$2(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$2(a)};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.$2=function(a){var c=this;this.$1&&this.$1.remove();var d=a.item.participants.filter(function(c){return b("MercuryIDs").getUserIDFromParticipantID(c)!==a.pageID});d.length===0&&a.item.participants.length>0&&(d=a.item.participants.slice(0,1));d.length===1||g(0,3754);this.$1=b("MessengerParticipantsImages.re").getOrderedBigImageMulti(d,function(a){c.setState({imageURI:a[0]})})};d.render=function(){return h.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:this.props.commPlatform,commType:this.props.commType,imageSize:this.props.imageSize,imageURI:this.state.imageURI,showPlaceholder:!0,showPlatformBadge:this.props.showPlatformBadge})};return c}(h.PureComponent);a.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};e.exports=a}),null);
__d("PagesManagerInboxMessageListRowContainer.react",["fbt","BulkSelectionThreadAction","FluxContainer","MediaManagerInboxContext.react","MediaManagerInboxLoggerActions","MediaManagerInboxPriorityTabActions","MediaManagerUtils","MercuryThreadSnippet.react","MercuryThreadTitle_DEPRECATED.react","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxListRow.react","PagesManagerInboxMessageProfilePicContainer.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingMessagelistAction","PagesManagerStore","React","emptyFunction","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var h=b("React"),i=0;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item;d.context&&d.context.logClickRow!==b("emptyFunction")&&d.context.logClickRow(a.thread_fbid,d.props.filter);b("PagesManagerInboxFilterAction").changePlatform(d.props.filter);var c=d.props.rowIndex;b("MediaManagerUtils").isMediaManagerApp()&&c!=null&&(b("MediaManagerInboxLoggerActions").logListRowIndex(c),d.props.filter==="MEDIA_MANAGER_PRIORITY"&&b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem("TOP_MESSAGES"));b("PagesManagerAction").viewListItem(a.thread_fbid);a.unread_count>0&&b("PagesManagerMessagesInterface").changeThreadReadStatus(d.props.pageID,a.thread_id,!0)},d.$3=function(){b("PagesManagerInboxFilterAction").changePlatform(d.props.filter),b("PagesManagerAction").viewListItem(d.$2()),b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(i)},d.$6=function(a){var c=a?[b("BulkSelectionThreadAction").SELECT,d.state.selectedThreads.length]:[b("BulkSelectionThreadAction").UNSELECT,d.state.selectedThreads.length-1],e=c[0];c=c[1];b("PagesManagerBulkActionLogger").logThreadCheckboxSelect({event_data:{thread_index:c,thread_action:e}});b("PagesManagerAction").handleThreadSelectionChange(d.props.item.thread_fbid||"",a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem(),e=b("PagesManagerInboxFilterStore").getActiveFolder();c.item.thread_fbid&&d&&(a=c.item.thread_fbid===d);d=b("PagesManagerStore").getThreadLabelMap();d=d&&c.item.thread_fbid?d.get(c.item.thread_fbid):null;var f=!1,g=!1,h=!1,i=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(i!=null){var j;h=(j=i.messengerConfig)==null?void 0:j.shouldUseMessengerStateForAdminAssignment;g=Boolean((j=i.messengerConfig)==null?void 0:(i=j.commerceConfig)==null?void 0:i.shouldShowBulkSelection)}else g=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.showBulkSelection,h=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldUseMessengerStateForAdminAssignment;switch(b("PagesManagerInboxFilterStore").getActiveType()){case"MESSENGER":f=!0;break;case"INSTAGRAM_DIRECT":f=!0;h=!1;break}j=b("PagesManagerInboxFilterStore").getSearchType();return{labels:d,isViewing:a,activeFolder:e,showActions:f,searchType:j,showBulkSelection:g&&b("PagesManagerStore").isBulkSelectionMode(),selectedForBulkActions:b("PagesManagerStore").isThreadSelected(c.item.thread_fbid||""),selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),shouldUseMessengerStateForAdminAssignment:Boolean(h)}};var d=c.prototype;d.$2=function(){var a;a=b("nullthrows")((a=this.props.item)!=null?(a=a.node)!=null?(a=a.all_participants)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.messaging_actor)!=null?a.id:a:a:a:a:a:a);return a};d.$4=function(){var a;a=b("nullthrows")((a=this.props.item)!=null?(a=a.content_search_result_context)!=null?a.approx_count:a:a);return a};d.$5=function(){return g._({"*":"{number} matched messages","_1":"1 matched message"},[g._plural(this.$4(),"number")])};d.render=function(){var a=this.state.commPlatformType==="WEC"?"WEC_MESSAGE":"FB_MESSAGE";if(this.state.searchType==="CONTENT"){var c,d,e;e=b("nullthrows")((e=this.props.item)!=null?(e=e.node)!=null?(e=e.all_participants)!=null?(e=e.nodes)!=null?(e=e[0])!=null?(e=e.messaging_actor)!=null?e.name:e:e:e:e:e:e);d=b("nullthrows")((d=this.props.item)!=null?(d=d.node)!=null?(d=d.all_participants)!=null?(d=d.nodes)!=null?(d=d[0])!=null?(d=d.messaging_actor)!=null?(d=d.profile_picture)!=null?d.uri:d:d:d:d:d:d:d);c=Number((c=this.props.item)!=null?(c=c.node)!=null?c.updated_time_precise:c:c);return h.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:this.props.filter,commStatus:this.props.item.comm_status,commType:a,isRead:!0,isViewing:this.state.isViewing,item:this.props.item,onViewingListItem:this.$3,pageID:this.props.pageID,profilePicElement:h.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:this.props.filter,commType:a,imageSize:this.props.imageSize,imageURI:d,showPlaceholder:!0,showPlatformBadge:this.props.showPlatformBadge}),rowIndex:this.props.rowIndex,selectionConfig:{enabled:this.state.showBulkSelection,onSelectionToggle:this.$6,selected:this.state.selectedForBulkActions},showActions:!1,snippetElement:this.$5(),subtitle:null,timestampInMS:c,title:e})}return h.jsx(b("PagesManagerInboxListRow.react"),{activeFolder:this.state.activeFolder,badgeCount:this.props.item.unread_count,commPlatform:this.props.filter,commStatus:this.props.item.comm_status,commType:a,isRead:this.props.item.unread_count===0,isViewing:this.state.isViewing,item:this.props.item,labels:this.state.labels,onViewingListItem:this.$1,pageID:this.props.pageID,profilePicElement:h.jsx(b("PagesManagerInboxMessageProfilePicContainer.react"),{commPlatform:this.props.filter,commType:a,item:this.props.item,pageID:this.props.pageID}),rowIndex:this.props.rowIndex,selectionConfig:{enabled:this.state.showBulkSelection,onSelectionToggle:this.$6,selected:this.state.selectedForBulkActions},shouldAnimate:this.props.shouldAnimate,shouldUseMessengerStateForAdminAssignment:this.state.shouldUseMessengerStateForAdminAssignment,showActions:this.state.showActions,snippet:this.props.item.snippet,snippetElement:h.jsx(b("MercuryThreadSnippet.react"),{participants:b("immutable").Map({}),shouldRenderYou:!0,thread:this.props.item,viewer:this.props.pageID}),subtitle:this.props.item.subtitle,timestampInMS:this.props.item.timestamp,titleElement:h.jsx(b("MercuryThreadTitle_DEPRECATED.react"),{thread:this.props.item,viewer:this.props.pageID})},this.props.item.thread_fbid)};return c}(h.PureComponent);c.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};c.contextType=a;e.exports=b("FluxContainer").create(c,{withProps:!0,pure:!1})}),null);
__d("MediaManagerInboxPriorityMessageRow.react",["cx","MercuryIDs","MessengerState.re","PagesManagerInboxMessageListRowContainer.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.fetchThread()};d.componentDidUpdate=function(a){this.props.edges[this.props.rowIndex].id!==a.edges[a.rowIndex].id&&this.fetchThread()};d.fetchThread=function(){var a=this.props.edges[this.props.rowIndex].id;a=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerState.re").getThreadMeta(this.props.pageID,a,b("emptyFunction"),null);b("MessengerState.re").fetchMoreMessages(this.props.pageID,a,0,10,b("emptyFunction"),null,"mercury")};d.render=function(){var a=this,c=this.props.edges[this.props.rowIndex].id;return h.jsx(b("MessengerState.re").jsComponent,{fbid:this.props.pageID,children:function(d){d=b("MessengerState.re").thread(d,b("MercuryIDs").getThreadIDFromUserID(c));return d==null?h.jsx("div",{className:"_2dqm",children:h.jsxs("div",{className:"_2iwq _2dqn",children:[h.jsx("div",{className:"_2iwr"}),h.jsx("div",{className:"_2iws"}),h.jsx("div",{className:"_2iwt"}),h.jsx("div",{className:"_2iwu"}),h.jsx("div",{className:"_2iww"}),h.jsx("div",{className:"_2iwx"})]})},c):h.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MESSENGER",item:d,pageID:a.props.pageID,shouldAnimate:!1},c)}})};return c}(h.Component);e.exports=a}),null);
__d("MediaManagerInboxPriorityTabTopMessageRow.react",["cx","MercuryIDs","MessengerState.re","PagesManagerInboxMessageListRowContainer.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.fetchThread()};d.componentDidUpdate=function(a){this.props.item.top_message_thread_id!==a.item.top_message_thread_id&&this.fetchThread()};d.fetchThread=function(){var a=this.props.item.top_message_thread_id;a=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerState.re").getThreadMeta(this.props.pageID,a,b("emptyFunction"),null);b("MessengerState.re").fetchMoreMessages(this.props.pageID,a,0,10,b("emptyFunction"),null,"mercury")};d.render=function(){var a=this,c=this.props.item.top_message_thread_id;return h.jsx(b("MessengerState.re").jsComponent,{fbid:this.props.pageID,children:function(d){d=b("MessengerState.re").thread(d,b("MercuryIDs").getThreadIDFromUserID(c));return d==null?h.jsx("div",{className:"_2dqm",children:h.jsxs("div",{className:"_2iwq _2dqn",children:[h.jsx("div",{className:"_2iwr"}),h.jsx("div",{className:"_2iws"}),h.jsx("div",{className:"_2iwt"}),h.jsx("div",{className:"_2iwu"}),h.jsx("div",{className:"_2iww"}),h.jsx("div",{className:"_2iwx"})]})},c):h.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MEDIA_MANAGER_PRIORITY",item:d,pageID:a.props.pageID,rowIndex:a.props.rowIndex,shouldAnimate:!1},c)}})};return c}(h.Component);e.exports=a}),null);
__d("MediaManagerInboxPriorityTabRowContainer.react",["FluxContainer","MediaManagerInboxCustomTabUtils","MediaManagerInboxFBCommsTabMessageRowContainer.react","MediaManagerInboxPriorityTabActions","MediaManagerInboxPriorityTabTopMessageRow.react","PageCommItemReadEditMutation","PagesManagerAction","PagesManagerInboxListRow.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=d.props.item.top_comment_content,c=a.parent_item.id;b("PagesManagerAction").viewListItem(c);b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem(a.priority_type);b("PageCommItemReadEditMutation").commit({actor_id:d.props.pageID,ids:[c]})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem();c=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemID(c.item);c&&d&&(a=c===d);return{isViewing:a}};var d=c.prototype;d.render=function(){switch(this.props.rowType){case"TOP_MESSAGES":return g.jsx(b("MediaManagerInboxPriorityTabTopMessageRow.react"),{item:this.props.item.top_message_content,pageID:this.props.pageID,rowIndex:this.props.rowIndex});case"TOP_COMMENTS":var a=this.props.item.top_comment_content;return g.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MEDIA_MANAGER_PRIORITY",commStatus:a.comm_status,commType:a.comm_type,icons:a.comm_icon_type,isRead:a.parent_item.is_read,isViewing:this.state.isViewing,labels:null,pageID:this.props.pageID,profilePicElement:this.$1(),rowIndex:this.props.rowIndex,snippetWithEntities:a.top_comment_snippet,subtitle:null,timestampInMS:(a.last_modified_at||0)*1e3,title:(a=a.page_comm_item)==null?void 0:a.comm_title,onViewingListItem:this.$2});case"TOP_FB_COMMS":return g.jsx(b("MediaManagerInboxFBCommsTabMessageRowContainer.react"),{isPriorityTab:!0,item:this.props.item,pageID:this.props.pageID,rowIndex:this.props.rowIndex});default:return null}};d.$1=function(){return g.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:"FACEBOOK",commType:"FB_PAGE_POST_COMMENT",imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURI:this.props.item.top_comment_content.thumbnail.uri,showPlatformBadge:!0})};return c}(g.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerAwayToggleSubscription",["RelayFBEnvironment","RelayModern","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime","PagesManagerAwayToggleSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription;c=b("relay-runtime").getRequest;var i=g!==void 0?g:g=b("PagesManagerAwayToggleSubscription.graphql");d=c(i);f=d.params.id;f!==null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){return"gqls/page_away_toggle_subscribe/page_id_"+a.page_id});function a(a){return h(b("RelayFBEnvironment"),{subscription:i,variables:{input:a}})}e.exports={subscribe:a}}),null);
__d("PagesManagerInboxAwayInfoContainer.react",["cx","fbt","DateTime","FDSText.react","FluxContainer","Link.react","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesTimeRangeEditorUtilities","React","RelayModern","XPagesManagerInboxController","PagesManagerInboxAwayInfoContainer_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),c="",d=!1;if(a!=null){var e;c=(e=(e=a.pageConfig)==null?void 0:e.pageName)!=null?e:"";d=((e=a.instagramDirectConfig)==null?void 0:e.igAccountID)!==""}else{c=(a=b("PagesManagerInboxStore").getConfig().pageName)!=null?a:"";d=(a=((e=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT)==null?void 0:e.igAccountID)!==null)!=null?a:!1}return{commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),pageName:c,isIGDirecConnected:d}};var d=c.prototype;d.$1=function(a){a=b("DateTime").localCreate(a);var c=b("DateTime").localNow();return b("PagesTimeRangeEditorUtilities").getFormatedTime(a,c)};d.$2=function(a,c,d){if(a===null||a===void 0||a===""||c===null||c===void 0||c==="")return null;var e=j.jsx(b("Link.react"),{href:this.$3(),children:h._("Edit")});if(d==null)return h._("You're scheduled to always be away. Away messages will be sent. {linkToAwaySettings}",[h._param("linkToAwaySettings",e)]);var f=b("PagesTimeRangeEditorUtilities").getIsRequestTimeInAwayTimeRange(c,b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a));d=b("PagesTimeRangeEditorUtilities").isTimeInAwayTimeRange(b("DateTime").create(d-1,b("PagesTimeRangeEditorUtilities").getTimezoneID(c)),c,b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a));if(f&&d)return h._("You're scheduled to be away during this time each week. Away messages will be sent. {linkToAwaySettings}",[h._param("linkToAwaySettings",e)])};d.$3=function(){return b("XPagesManagerInboxController").getURIBuilder().setString("page_token",this.props.page.id).setEnum("section","automated_responses").setEnum("automation","away_message").getURI()};d.render=function(){if(this.state.commPlatform!=="MESSENGER"&&(this.state.commPlatform!=="INSTAGRAM_DIRECT"||this.props.shouldShowUnifiedThreadlist===!1)||this.state.commPlatform==="INSTAGRAM_DIRECT"&&this.state.isIGDirecConnected===!1)return null;var a=this.props.page,c=a.away_toggle_expiration,d=a.is_away_toggle_on,e=a.away_time_zone;a=a.away_time_range;if(d!==!0)return null;d=this.$2(a,e,c);a=null;c!==null&&c!==void 0&&c!==0?a=h._("{page name} is away until {time}.",[h._param("page name",this.state.pageName),h._param("time",this.$1(c))]):a=h._("{page name} is always away.",[h._param("page name",this.state.pageName)]);return j.jsxs("div",{className:"_2dnf",children:[j.jsx(b("FDSText.react"),{color:"negative",size:"body1",children:a}),j.jsx(b("FDSText.react"),{color:"placeholder",display:"block",size:"body3",children:d})]})};return c}(j.PureComponent);e.exports=a(b("FluxContainer").create(c),{page:i!==void 0?i:i=b("PagesManagerInboxAwayInfoContainer_page.graphql")})}),null);
__d("PagesManagerInboxAwayInfoRoot.react",["PagesManagerAwayToggleSubscription","PagesManagerInboxAwayInfoContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAwayInfoRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.dispose()};d.UNSAFE_componentWillMount=function(){this.$1=b("PagesManagerAwayToggleSubscription").subscribe({page_id:this.props.pageID})};d.$2=function(a){return a.props&&!a.error?h.jsx(b("PagesManagerInboxAwayInfoContainer.react"),babelHelpers["extends"]({},a.props)):null};d.render=function(){return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAwayInfoRootQuery.graphql"),render:this.$2,variables:{pageID:this.props.pageID,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist}})};return c}(h.PureComponent);e.exports=a}),null);
__d("BusinessToolsMegaphoneNUX.react",["cx","fbt","FDSButton.react","Image.react","React","XUICard.react","XUICloseButton.react","XUIContextualDialog.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=[i.jsx(b("XUICloseButton.react"),{className:"_651v",onClick:this.props.onClose,size:"medium"},"nuxClose"),i.jsx("div",{className:"_651w",children:this.props.imageSize!=null?i.jsx(b("Image.react"),{height:this.props.imageSize,src:this.props.imageSrc,width:this.props.imageSize}):i.jsx(b("Image.react"),{src:this.props.imageSrc})},"nuxImage"),i.jsxs("div",{className:"_651u",children:[i.jsx(b("XUIText.react"),{className:"_314o",display:"block",headingLevel:1,size:"header3",weight:"bold",children:this.props.headerText}),i.jsx(b("XUIText.react"),{display:"block",size:"header4",children:this.props.bodyText}),this.props.buttonText!==void 0&&this.props.buttonText!==null&&this.props.onButtonClick?i.jsx(b("FDSButton.react"),{label:this.props.buttonText,margin:"_3-8x",onClick:this.props.onButtonClick,use:"primary"}):null]},"nuxText")];this.props.contextRef?a=i.jsx(b("XUIContextualDialog.react"),{alignment:"center",contextRef:this.props.contextRef,label:h._("Business Tools Megaphone"),offsetY:12,position:"above",shown:this.props.shown,width:352,children:c}):a=this.props.shown?i.jsx(b("XUICard.react"),{className:"_71q4",children:c}):null;return a};return c}(i.PureComponent);e.exports=a}),null);
__d("XPagesAutomatedResponsesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/automated_responses/{?automation}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},automation:{type:"Enum",enumType:1},use_intake_form_setup_experience:{type:"Bool",defaultValue:!1},services_referrer:{type:"Enum",defaultValue:"automated_response",enumType:1},services_referrer_surface:{type:"Enum",defaultValue:"inbox",enumType:1}})}),null);
__d("PagesManagerInboxListHeaderAutomatedFaqNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","MessengerSMBExperimentDebugTypedLogger","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","RelayFBEnvironment","RelayModern","URI","XPagesAutomatedResponsesController","promiseDone","PagesManagerInboxListHeaderAutomatedFaqNuxEligibleToShowQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React"),l=b("RelayModern").fetchQuery;b("RelayModern").graphql;var m="pages_inbox_auto_response_faq";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowAutomationNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowAutomationNUX:!1})},d.$4=function(){b("PagesManagerInboxNUXAction").logClickGetStarted(d.$2()),new(b("MessengerSMBExperimentDebugTypedLogger"))().setPageID(d.props.pageID).setEvent("nux_redirection").log(),(j||(j=b("URI"))).go(b("XPagesAutomatedResponsesController").getURIBuilder().setString("page_token",d.props.pageID).setEnum("automation","custom_questions").setEnum("services_referrer","automated_response").setEnum("services_referrer_surface","inbox").getURI()),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this,c=b("PagesManagerInboxStore").shouldShowNUX(m);if(!c)return!1;b("promiseDone")(l(b("RelayFBEnvironment"),i!==void 0?i:i=b("PagesManagerInboxListHeaderAutomatedFaqNuxEligibleToShowQuery.graphql"),{pageID:this.props.pageID}),function(c){c=Boolean((c=c)!=null?c.eligible_to_show_faq_nux_query:c);c&&(b("PagesManagerInboxNUXAction").logView(a.$2()),a.setState({shouldShowAutomationNUX:!0}))});return!1};d.$2=function(){return b("PagesManagerInboxNUX")[m]};d.render=function(){var a=g._("Customize Frequently Asked Questions"),c=g._("You can now suggest questions people can ask your Page. Then set up automated responses to those questions."),d=g._("Set Up");return k.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("587530"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowAutomationNUX},"BusinessToolsMegaphoneNUX")};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderAutomationNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerInboxUtils").changeInboxTab,j=b("React"),k="pages_comms_new_automated_responses",l="business_inbox_covid_automated_response";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowAutomationNUX:d.$1(),shouldShowCOVIDAutomationNUX:d.$2()},d.$4=function(){d.state.shouldShowCOVIDAutomationNUX===!0&&(b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[l]),d.setState({shouldShowCOVIDAutomationNUX:!1})),b("PagesManagerInboxNUXAction").dismiss(d.$3()),d.setState({shouldShowAutomationNUX:!1})},d.$5=function(){i("MESSENGER","automated_responses",d.props.filterType,null,d.props.pageID),d.$4()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(k);a&&b("PagesManagerInboxNUXAction").logView(this.$3());return a};d.$2=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(l);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[l]);return a};d.$3=function(){return b("PagesManagerInboxNUX")[k]};d.render=function(){var a=this.state.shouldShowAutomationNUX===!0&&this.state.shouldShowCOVIDAutomationNUX===!1,c=a?g._("New Automated Responses Available"):g._("Try Automated Responses");a=a?g._("Set up responses to automatically answer general questions and feedback about your business."):g._("Set up automated responses on Instagram and Messenger to easily answer questions, help people learn about your operations and connect even when you're not available.");var d=g._("Set Up Automated Responses");return j.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:a,buttonText:d,headerText:c,imageSrc:h("587530"),onButtonClick:this.$5,onClose:this.$4,shown:this.state.shouldShowAutomationNUX||this.state.shouldShowCOVIDAutomationNUX},"BusinessToolsMegaphoneNUX")};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderInstagramDirectNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerInboxUtils").changeInboxTab,j=b("React"),k="page_inbox_instagram_direct_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowInstagramDirectNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowInstagramDirectNux:!1})},d.$4=function(){i("INSTAGRAM_DIRECT","messages",d.props.filterType,null,d.props.pageID),b("PagesManagerInboxNUXAction").logClickGetStarted(d.$2()),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(k);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[k]};d.render=function(){var a=g._("Manage Instagram Messages in Inbox"),c=g._("Now you can read and respond to Instagram Direct messages from Inbox."),d=g._("Get Started");return j.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("895232"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowInstagramDirectNux},"BusinessToolsMegaphoneNUX")};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderPersonaNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XPagesManagerSettingsController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="www_page_messaging_persona_entrybutton";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowPersonaNUX:d.$1()},d.$4=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowPersonaNUX:!1})},d.$5=function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",d.props.pageID).setString("tab","admin_roles").getURI().setFragment("PERSONAS").go(),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(this.$2())};d.render=function(){var a=g._("Tell Customers Who's Sending Them Messages"),c=g._("Choose a display name and photo to tell people when you're sending messages on behalf of the Page."),d=g._("Set Up Display Name");return i.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("616182"),onButtonClick:this.$5,onClose:this.$4,shown:this.state.shouldShowPersonaNUX},"BusinessToolsMegaphoneNUX")};return c}(i.PureComponent);e.exports=a}),null);
__d("MediaManagerInboxFocusCommentAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setPostWithFocusCommentID:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.VIEW,postID:a,focusCommentID:c})}};e.exports=a}),null);
__d("PageCommItemPartReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemPartReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemPartReadEditMutation.graphql");function a(a){var c=a.ids.map(function(a){return{id:a,is_read:!0}});return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:{page_comm_item_part_mark_as_read:{page_comm_item_parts:c}},variables:{input:{actor_id:a.actor_id,ids:a.ids}}})}e.exports={commit:a}}),null);
__d("PagesManagerInboxListRowContainer.react",["FluxContainer","MediaManagerInboxFocusCommentAction","MediaManagerInboxFocusCommentStore","MediaManagerInboxLoggerActions","MediaManagerUtils","PageCommItemFolder","PageCommItemPartReadEditMutation","PageCommItemReadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxListRow.react","PagesManagerInboxStore","PagesManagerStore","React","RelayModern","PagesManagerInboxListRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item.id;d.props.item.is_read!==!0&&a!=null&&(d.props.item.__typename==="PageCommItemPart"?b("PageCommItemPartReadEditMutation").commit({actor_id:d.props.pageID,ids:[a]}):b("PageCommItemReadEditMutation").commit({actor_id:d.props.pageID,ids:[a]}));if(d.props.item.__typename==="PageCommItemPart"){var c;a=(c=d.props.item.parent_item)==null?void 0:c.id;a!=null&&(d.state.filter===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT||d.state.filter===b("PageCommItemFolder").PRIORITY)&&b("MediaManagerInboxFocusCommentAction").setPostWithFocusCommentID(a,d.props.item.comm_source_id)}c=d.props.rowIndex;b("MediaManagerUtils").isMediaManagerApp()&&c!=null&&b("MediaManagerInboxLoggerActions").logListRowIndex(c);b("PagesManagerAction").viewListItem(a);b("PagesManagerInboxInstagramPostComposerActions").clearMessage()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerStore"),b("PagesManagerInboxStore"),b("MediaManagerInboxFocusCommentStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem();if(c.item.id!=null&&c.item.id!==""&&d!=null&&d!==""){var e=b("MediaManagerInboxFocusCommentStore").get(d);e=e===c.item.comm_source_id&&b("MediaManagerUtils").isMediaManagerApp();a=c.item.id===d||((c=c.item.parent_item)==null?void 0:c.id)===d&&e}c=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return{filter:b("PagesManagerInboxFilterStore").getActiveFolder(),isViewing:a,shouldShowIGRevampComments:!!c.shouldShowIGRevampComments}};var d=c.prototype;d.render=function(){var a;return h.jsx(b("PagesManagerInboxListRow.react"),{badgeCount:this.props.item.unread_count||0,commPlatform:this.props.item.comm_platform,commStatus:this.props.item.comm_status,commType:this.props.item.comm_type,icons:this.props.item.comm_icon_type,igRevampSnippetWithEntities:this.props.item.ig_revamp_snippet_with_entities,isRead:!!this.props.item.is_read,isViewing:this.state.isViewing,item:this.props.item,onViewingListItem:this.$1,pageID:this.props.pageID,rowIndex:this.props.rowIndex,shouldAnimate:this.props.shouldAnimate,shouldShowIGRevampComments:this.state.shouldShowIGRevampComments,showActions:!0,snippetWithEntities:this.state.filter===b("PageCommItemFolder").PRIORITY||this.state.filter===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT?this.props.item.top_comment_snippet:this.props.item.snippet_with_entities,subtitle:this.props.item.subtitle,timestampInMS:(this.props.item.last_modified_at||0)*1e3,title:this.state.filter===b("PageCommItemFolder").PRIORITY||this.state.filter===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT?(a=this.props.item.page_comm_item)==null?void 0:a.comm_title:this.props.item.comm_title!==null&&this.props.item.comm_title!==void 0&&this.props.item.comm_title!==""?this.props.item.comm_title:"Facebook User"},this.props.item.id)};return c}(h.Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0,pure:!1}),{item:g!==void 0?g:g=b("PagesManagerInboxListRowContainer_item.graphql")})}),null);
__d("MediaManagerInboxList.react",["cssVar","MediaManagerInboxCustomTabUtils","MediaManagerInboxFBCommsTabMessageRowContainer.react","MediaManagerInboxPriorityMessageRow.react","MediaManagerInboxPriorityTabRowContainer.react","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxFilterStore","PagesManagerInboxListHeaderAutomatedFaqNux.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderInstagramDirectNux.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListRowContainer.react","PagesManagerInboxListSpinner.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListRowContainer.react","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesSelectableSimpleList.react","QuickPerformanceLogger","React","ResponsiveBlock.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MediaManagerUtils").isMediaManagerApp,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.componentDidMount=function(){this.props.height!==0&&this.props.edges.length>0&&this.$1(),b("PagesMessagingInboxActionLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.$1=function(){if(this.props.loadEndEventLogged===!0||this.props.loadStartTime===void 0||this.props.loadStartTime===null||this.props.logLoadEndEvent===null)return;var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);this.props.filterType==="MESSENGER"&&(b("QuickPerformanceLogger").annotateMarkerString(36241413,"page_id",this.props.pageID),b("QuickPerformanceLogger").markerEnd(36241413,2),a.setEventName("threadlist_render_complete").setPlatform("MESSENGER").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent());this.props.filterType==="FACEBOOK"&&(a.setEventName("comment_list_render_complete_event").setPlatform("FACEBOOK").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent())};d.$2=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$3=function(){return i.jsx(b("ResponsiveBlock.react"),{onResize:this.$2,children:i.jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.props.edges.length?i.jsxs("div",{children:[this.$3(),i.jsxs(b("ResponsiveBlock.react"),{onResize:this.$2,children:[i.jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),i.jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),i.jsx(b("PagesManagerInboxListHeaderInstagramDirectNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),i.jsx(b("PagesManagerInboxListHeaderAutomatedFaqNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID})]}),i.jsx(j,{classProps:this.props,edges:this.props.edges,hasMore:this.props.hasMore,platform:this.props.filterType,scrollHeight:a})]}):i.jsxs("div",{style:{height:a,backgroundColor:"#FFFFFF"},children:[this.$3(),this.props.emptyState]})};return c}(i.PureComponent);function j(a){var c=a.edges;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"&&(c=c.filter(function(a){return a.is_page_follow_up===!0}));return i.jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:a.hasMore,height:a.scrollHeight,loadingIndicator:i.jsx(b("PagesManagerInboxListSpinner.react"),{}),rowCount:c.length,rowHeight:parseInt("80px",10),rowKeyGetter:l(c,a.platform),rowRenderer:m(c,a.classProps),showHeader:!1,onRequestMoreRows:k(a.classProps.onLoadMore)})}function k(a){return b("debounce")(function(){return a()},100)}function l(a,c){return function(d,e,f){e===void 0;if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return a[d].thread_id;return c==="MEDIA_MANAGER_PRIORITY"?b("MediaManagerInboxCustomTabUtils").getPriorityRowKey(a[d].node):a[d].node.id}}function m(a,c){var d=c.pageID,e=c.filterType,f=c.isCreatorStudioPriorityFilter;return function(c,g,j){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return e==="MESSENGER"&&f&&b("MediaManagerUtils").isMediaManagerApp()?i.jsx(b("MediaManagerInboxPriorityMessageRow.react"),{edges:a,pageID:d,rowIndex:c}):i.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:e,item:a[c],pageID:d,rowIndex:c,shouldAnimate:!1},a[c].id);if(e==="MEDIA_MANAGER_PRIORITY")return i.jsx(b("MediaManagerInboxPriorityTabRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,rowType:a[c].node.row_type});return e==="MEDIA_MANAGER_FB_COMMS"&&h()?i.jsx(b("MediaManagerInboxFBCommsTabMessageRowContainer.react"),{isPriorityTab:!1,item:a[c],pageID:d,rowIndex:c}):i.jsx(b("PagesManagerInboxListRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,shouldAnimate:!1},a[c].node.id)}}e.exports=a}),null);
__d("MediaManagerInboxFBCommsTabList.react",["MediaManagerInboxFBCommsActions","MediaManagerInboxList.react","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListEmptyState.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerInboxFBCommsActions").loadMoreFBCommsMessages,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){g(c.props.pageID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){if(this.props.viewingItem==null){var a=this.props.messages[0]?this.props.messages[0].node.id:null;a!=null&&b("PagesManagerAction").viewListItem(a)}};d.render=function(){return h.jsx(b("MediaManagerInboxList.react"),{edges:this.props.messages,emptyState:h.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS,pageID:this.props.pageID,platform:"MEDIA_MANAGER_FB_COMMS"}),filterType:"MEDIA_MANAGER_FB_COMMS",hasMore:this.props.hasNextPage,height:this.props.height,isCreatorStudioPriorityFilter:!1,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:!1,onLoadMore:this.$1})};return c}(h.Component);e.exports=a}),null);
__d("MediaManagerInboxFBCommsTabListContainer.react",["FluxContainer","LoadObject","MediaManagerFBCommsStore","MediaManagerInboxFBCommsTabList.react","PagesManagerInboxListLoading.react","PagesManagerStore","React","loadObjectComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=260;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={messagesObject:b("LoadObject").loading(),viewingItem:null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("MediaManagerFBCommsStore"),b("PagesManagerStore")]};c.calculateState=function(a,c){a=b("MediaManagerFBCommsStore").get(c.pageID);c=b("PagesManagerStore").getViewingListItem();return{messagesObject:a,viewingItem:c}};var d=c.prototype;d.render=function(){return g.jsx(i,{height:this.props.height,object:this.state.messagesObject,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,viewingItem:this.state.viewingItem})};return c}(g.PureComponent);var i=b("loadObjectComponent")({loading:function(){return g.jsx(b("PagesManagerInboxListLoading.react"),{height:h})},error:function(){return null},loaded:function(a,c){return g.jsx(b("MediaManagerInboxFBCommsTabList.react"),{hasNextPage:!!a.hasNextPage,height:c.height,messages:a.messages.toArray(),paddingBottom:c.paddingBottom,pageID:c.pageID,viewingItem:c.viewingItem})}});e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxPlusPriorityEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"NONE",TOP_MESSAGES:"TOP_MESSAGES",TOP_COMMENTS:"TOP_COMMENTS",TOP_FB_COMMS:"TOP_FB_COMMS",ALL:"ALL"})}),null);
__d("MediaManagerInboxPriorityTabPaginationList.react",["MediaManagerInboxCustomTabUtils","MediaManagerInboxList.react","MediaManagerInboxPlusPriorityEnum","MediaManagerInboxPriorityTabActions","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListEmptyState.react","React","RelayModern","emptyFunction","MediaManagerInboxPriorityTabPaginationList_viewer.graphql","MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isLoading:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){var a=this,c,d=[];c=(c=this.props)!=null?(c=c.viewer)!=null?(c=c.inbox_priority_rows)!=null?c.edges:c:c:c;c&&(d=c.map(function(b){if(b.node!=null&&b.node.row_type==="TOP_FB_COMMS"){var c=null,d=null,e=null,f=null,g=null,h=null,i=!1,j=null,k=null,l=b.node;if(l.__typename==="InboxAYMTRow"){var m=l.content;c=m==null?void 0:m.id;d=m==null?void 0:m.tip_name;e=m==null?void 0:m.title;f=m==null?void 0:m.body;g=m==null?void 0:m.button_label;h=m==null?void 0:m.button_uri;i=!!(m==null?void 0:m.should_load_uri_in_same_window);j=m==null?void 0:m.validation_timestamp;k=m==null?void 0:m.clicked_timestamp}else if(l.__typename==="InboxNotifRow"){var n;m=l.ent_notif;c=m==null?void 0:m.id;d="";e=m==null?void 0:(n=m.body)==null?void 0:n.text;f="";g="go";h=m==null?void 0:m.url;j=m==null?void 0:m.notif_sent_time;k=m==null?void 0:m.first_read_time}return{node:{row_type:l.row_type,$2:l.__typename,node:{id:c,pageID:a.props.pageID,tipName:d,title:e,body:f,cta:{label:g,action:h,shouldLoadInSameWindow:i},validationTime:j,clickedTime:k,productType:"MONETIZATION"}}}}return b}),d=d.filter(function(a){return!!a.node}));return i.jsx(b("MediaManagerInboxList.react"),{edges:d,emptyState:i.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.props.folder,pageID:this.props.pageID,platform:"MEDIA_MANAGER_PRIORITY"}),filterType:"MEDIA_MANAGER_PRIORITY",hasMore:!1,height:this.props.height,isCreatorStudioPriorityFilter:this.props.folder===b("PageCommItemFolder").PRIORITY,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")},"list"+this.props.folder)};d.$1=function(){var a,c=[];a=(a=this.props)!=null?(a=a.viewer)!=null?(a=a.inbox_priority_rows)!=null?a.edges:a:a:a;a&&(c=a.filter(function(a){return!!a.node}));a=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemID((a=c[0])==null?void 0:a.node);c=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemRowType((c=c[0])==null?void 0:c.node);a!=null?(b("PagesManagerAction").viewListItem(a),b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem(c)):b("PagesManagerAction").clearViewListItem()};return c}(i.Component);e.exports=a(c,{viewer:g!==void 0?g:g=b("MediaManagerInboxPriorityTabPaginationList_viewer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.viewer)!=null?a.inbox_priority_rows:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=a.page_id;a=a.row_type;var d=b.count;b=b.cursor;return{count:d,cursor:b,page_id:c,row_type:a}},query:h!==void 0?h:h=b("MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql")})}),null);
__d("MediaManagerInboxPriorityTabListContainer.react",["ErrorBoundary.react","FluxContainer","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityTabPaginationList.react","PagesManagerInboxFilterStore","PagesManagerInboxListLoading.react","React","RelayFBEnvironment","RelayModern","emptyFunction","MediaManagerInboxPriorityTabListContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){return{folder:b("PagesManagerInboxFilterStore").getActiveFolder()}};var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("emptyFunction"),children:h.jsx(i,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("MediaManagerInboxPriorityTabListContainerQuery.graphql"),render:function(c){var d=c.error;c=c.props;if(c&&!d){d=!d&&c&&c.viewer?c.viewer:null;return h.jsx(b("MediaManagerInboxPriorityTabPaginationList.react"),{folder:a.state.folder,height:a.props.height,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,viewer:d})}return h.jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{page_id:this.props.pageID,row_type:b("MediaManagerInboxCustomTabUtils").getPriorityTabGraphQLFilter(this.state.folder)}})})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxCustomTabMessageList.react",["MediaManagerInboxFBCommsTabListContainer.react","MediaManagerInboxPriorityTabListContainer.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.tab){case"MEDIA_MANAGER_PRIORITY":return g.jsx(b("MediaManagerInboxPriorityTabListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID});case"MEDIA_MANAGER_FB_COMMS":return g.jsx(b("MediaManagerInboxFBCommsTabListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID});default:return null}};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderAutomatedCheckoutNUX.react",["fbt","BusinessToolsMegaphoneNUX.react","MessengerAdsConversionFunnelTypedLogger","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","SavedResponsesUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="business_inbox_automated_checkout",j="create",k="dismiss";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNUX:d.$1()},d.$4=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_click").setConversionType("BUYER_INFORMATION").setEventSubtype(k).setPageID(d.props.pageID).log(),d.$3()},d.$5=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_click").setConversionType("BUYER_INFORMATION").setEventSubtype(j).setPageID(d.props.pageID).log(),b("SavedResponsesUtils").editAutomatedCheckout(),d.$3(),b("SavedResponsesUtils").editAutomatedCheckout()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&(new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_impression").setConversionType("BUYER_INFORMATION").setPageID(this.props.pageID).log(),b("PagesManagerInboxNUXAction").logView(this.$2()));return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(this.$2()),this.setState({shouldShowNUX:!1})};d.render=function(){var a=g._("Gather Buyer Information Faster"),c=g._("Set up a sequence of questions to ask before someone makes a purchase."),d=g._("Create");return h.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,onButtonClick:this.$5,onClose:this.$4,shown:this.state.shouldShowNUX},"BusinessToolsMegaphoneNUX")};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderBizWebUpsellNUX.react",["fbt","ix","AsyncRequest","BizKitGating","BizKitUpsellUtils","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","URI","XBizKitController","XBizKitUpsellStatusUpdateController","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("BizKitGating").getShouldGoToBizWebFromUpsell,k=b("BizKitUpsellUtils").openDialog,l=b("React"),m=(i||(i=b("URI"))).goURIOnWindow,n="bizweb_inbox_upsell_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNUX:!1})},d.$4=function(){var a=j(),c=window.open("","_blank"),e=b("XBizKitUpsellStatusUpdateController").getURIBuilder().setBool("is_on_waitlist",!a).setFBID("page_id",d.props.pageID).getURI();b("promiseDone")(new(b("AsyncRequest"))(e).setMethod("POST").exec(),function(d){if(a===!0){d=d==null?void 0:(d=d.payload)==null?void 0:d.bpnID;var e=b("XBizKitController").getURIBuilder().getURI();e=e.toString().concat("/inbox").concat(d!=null?"?bpn_id=".concat(d):"");m(e,c,!0)}else k()});b("PagesManagerInboxNUXAction").logClickGetStarted(d.$2());b("PagesManagerInboxNUXAction").logDismissOnlyForFBNux(d.$2());d.setState({shouldShowNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(n);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[n]};d.render=function(){var a=g._("Try a New Way to Manage Your Business"),c=g._("You'll be able to post to Facebook and Instagram at the same time, see updates at a glance and get insights in one place."),d=g._("Try New Experience");return l.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("1353564"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowNUX},"BusinessToolsMegaphoneNUX")};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxList.react",["cssVar","BIZInboxClientLogger","MediaManagerInboxPriorityMessageRow.react","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxFilterStore","PagesManagerInboxListHeaderAutomatedCheckoutNUX.react","PagesManagerInboxListHeaderAutomatedFaqNux.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderBizWebUpsellNUX.react","PagesManagerInboxListHeaderInstagramDirectNux.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListRowContainer.react","PagesManagerInboxListSpinner.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListRowContainer.react","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesSelectableSimpleList.react","QuickPerformanceLogger","React","ResponsiveBlock.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.componentDidMount=function(){this.props.height!==0&&this.props.edges.length>0&&this.$1(),b("PagesMessagingInboxActionLogger").logInitialListRendered(this.props.filterType,this.props.pageID),b("BIZInboxClientLogger").logThreadListRenderView(this.props.pageID,this.props.filterType)};d.$1=function(){if(this.props.loadEndEventLogged===!0||this.props.loadStartTime===void 0||this.props.loadStartTime===null||this.props.logLoadEndEvent===null)return;var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);this.props.filterType==="MESSENGER"&&(b("QuickPerformanceLogger").annotateMarkerString(36241413,"page_id",this.props.pageID),b("QuickPerformanceLogger").markerEnd(36241413,2),a.setEventName("threadlist_render_complete").setPlatform("MESSENGER").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent());this.props.filterType==="FACEBOOK"&&(a.setEventName("comment_list_render_complete_event").setPlatform("FACEBOOK").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent())};d.$2=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$3=function(){return h.jsx(b("ResponsiveBlock.react"),{onResize:this.$2,children:h.jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.props.edges.length?h.jsxs("div",{children:[this.$3(),h.jsxs(b("ResponsiveBlock.react"),{onResize:this.$2,children:[h.jsx(b("PagesManagerInboxListHeaderBizWebUpsellNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderInstagramDirectNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderAutomatedFaqNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderAutomatedCheckoutNUX.react"),{pageID:this.props.pageID})]}),h.jsx(i,{classProps:this.props,edges:this.props.edges,hasMore:this.props.hasMore,scrollHeight:a})]}):h.jsxs("div",{style:{height:a,backgroundColor:"#FFFFFF"},children:[this.$3(),this.props.emptyState]})};return c}(h.PureComponent);function i(a){var c=a.edges;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"&&(c=c.filter(function(a){return a.is_page_follow_up===!0}));return h.jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:a.hasMore,height:a.scrollHeight,loadingIndicator:h.jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:j(a.classProps.onLoadMore),rowCount:c.length,rowHeight:parseInt("80px",10),rowKeyGetter:k(c),rowRenderer:l(c,a.classProps),showHeader:!1})}function j(a){return b("debounce")(function(){return a()},100)}function k(a){return function(c,d,e){d===void 0;return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?a[c].thread_id:a[c].node.id}}function l(a,c){var d=c.pageID,e=c.filterType,f=c.isCreatorStudioPriorityFilter;return function(c,g,i){return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?e==="MESSENGER"&&f&&b("MediaManagerUtils").isMediaManagerApp()?h.jsx(b("MediaManagerInboxPriorityMessageRow.react"),{edges:a,pageID:d,rowIndex:c}):h.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:e,item:a[c],pageID:d,rowIndex:c,shouldAnimate:!1},a[c].id):h.jsx(b("PagesManagerInboxListRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,shouldAnimate:!1},a[c].node.id)}}e.exports=a}),null);
__d("MediaManagerInboxPriorityMessageUserList",["PageCommItemFolder","PagesManagerAction","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListLoading.react","PagesManagerStore","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){var c=b("PagesManagerStore").getViewingListItem();if(c==null&&a.users.length>0){c=a.users[0];c!=null&&b("PagesManagerAction").viewListItem(c)}c=a.users.map(function(a){return{id:a}});return a.isLoading?g.jsx(b("PagesManagerInboxListLoading.react"),{height:a.height}):g.jsx(b("PagesManagerInboxList.react"),{edges:c,emptyState:g.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.folder,pageID:a.pageID,platform:"MESSENGER"}),filterType:"MESSENGER",hasMore:!1,height:a.height,isCreatorStudioPriorityFilter:a.folder===b("PageCommItemFolder").PRIORITY,paddingBottom:a.paddingBottom,pageID:a.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")},"list"+a.folder)};e.exports=a}),null);
__d("MediaManagerInboxPriorityMessageListContainer.react",["CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","MediaManagerInboxPriorityMessageUserList","PagesManagerInboxFilterStore","PagesManagerInboxListEmptyState.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig(),c=b("PagesManagerInboxFilterStore").getActiveFolder(),d=b("CreatorStudioInboxMessengerRankedUsersStore").getRankedUserIDs(a.pageID),e=b("CreatorStudioInboxMessengerRankedUsersStore").isLoading();return{folder:c,isLoading:e,shouldShowRankedUserList:a.fbMessengerState!=="DISABLED",users:d}};var d=c.prototype;d.render=function(){return!this.state.shouldShowRankedUserList?g.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.state.folder,pageID:this.props.pageID,platform:"MESSENGER"}):g.jsx(b("MediaManagerInboxPriorityMessageUserList"),{folder:this.state.folder,height:this.props.height,isLoading:this.state.isLoading,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,users:this.state.users})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxSearchResultListRow.react",["BulkActionsContext","BulkSelectionThreadAction","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxFilterAction","PagesManagerInboxListRow.react","PagesManagerInboxMercuryUtil","PagesManagerInboxProfilePicContainer.react","PagesMessagingInboxActionLogger","React","RelayModern","nullthrows","PagesManagerInboxSearchResultListRow_customerComm.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.context.selectedThreads;c=a?[b("BulkSelectionThreadAction").SELECT,c.length]:[b("BulkSelectionThreadAction").UNSELECT,c.length-1];var e=c[0];c=c[1];b("PagesManagerBulkActionLogger").logThreadCheckboxSelect({event_data:{thread_index:c,thread_action:e}});b("PagesManagerAction").handleThreadSelectionChange(d.props.customerComm.target_id||"",a)},d.$3=function(){var a;b("PagesManagerInboxFilterAction").changePlatform(d.props.platform);b("PagesMessagingInboxActionLogger").logSearchResultOpened(d.props.platform,"CUSTOMER",(a=d.$2())!=null?a:"");b("PagesManagerAction").viewListItem(d.$2())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d,e,f=this.context,g=f.showBulkSelection;f=f.selectedThreads;e=b("nullthrows")((e=this.props)!=null?(e=e.customerComm)!=null?e.comm_title:e:e);d=Number((d=this.props)!=null?(d=d.customerComm)!=null?d.last_modified_at:d:d);c=b("nullthrows")((c=this.props)!=null?(c=c.customerComm)!=null?c.snippet_with_entities:c:c);return h.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:this.props.customerComm.comm_platform,commStatus:this.props.customerComm.comm_status,commType:this.props.customerComm.comm_type,hasPageReplied:this.props.hasPageReplied,isRead:!0,isViewing:this.$2()===this.props.viewingItem,item:this.props.customerComm,labels:this.props.labels,onViewingListItem:this.$3,pageID:this.props.pageID,profilePicElement:h.jsx(b("PagesManagerInboxProfilePicContainer.react"),{item:this.props.customerComm}),selectionConfig:{enabled:g,onSelectionToggle:this.$1,selected:!!f.find(function(b){return b===a.props.customerComm.target_id||""})},showActions:!1,snippetWithEntities:c,subtitle:null,timestampInMS:d*1e3,title:e})};d.$2=function(){if(this.props.customerComm.comm_type==="FB_MESSAGE"&&b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var a;return(a=this.props)!=null?(a=a.customerComm)!=null?a.target_id:a:a}else{a=(a=this.props)!=null?(a=a.customerComm)!=null?(a=a.parent_item)!=null?a.id:a:a:a;return a!==null&&a!==void 0&&a!==""?a:(a=this.props)!=null?(a=a.customerComm)!=null?a.id:a:a}};return c}(h.PureComponent);c.contextType=b("BulkActionsContext");e.exports=a(c,{customerComm:g!==void 0?g:g=b("PagesManagerInboxSearchResultListRow_customerComm.graphql")})}),null);
__d("PagesManagerInboxSearchResultsFacebookList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesManagerInboxSearchResultListRow.react","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql","PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d;d=(d=this.props.pageCustomer)!=null?(d=d.facebook_comms)!=null?d.edges:d:d;if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return k.jsxs("div",{children:[this.$1(),d.map(function(c){c=b("nullthrows")(c.node);return k.jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,pageID:e,platform:"FACEBOOK",viewingItem:a.props.viewingItem},c.id)}),this.$2()]})};d.$1=function(){return this.props.isLabelSearch?k.jsx("div",{className:"_7zk3",children:h._("FACEBOOK COMMENTS")}):k.jsx("div",{className:this.props.titleClassName,children:h._("Facebook Posts & Comments")})};d.$2=function(){return!this.props.relay.hasMore()?null:k.jsx(b("OnVisible.react"),{onVisible:this.$3,children:k.jsx(b("PagesManagerInboxListSpinner.react"),{})})};return c}(k.PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.facebook_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql")})}),null);
__d("IGDirectMessageThreadPreviewContainer.react",["FluxContainer","IGDirectMessageThreadPreviewView.react","IGMessageInboxStore","PagesManagerInboxListSpinner.react","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThreadItem(c.mailboxID,c.token);c=b("IGMessageInboxStore").getInboxIGID();return{item:a,igID:c}};var d=c.prototype;d.render=function(){var a=this.state.item.getValue();return!a?g.jsx(b("PagesManagerInboxListSpinner.react"),{}):g.jsx(b("IGDirectMessageThreadPreviewView.react"),{igID:b("nullthrows")(this.state.igID),item:a,participants:this.props.participants})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("UnifiedInboxIGMessageThreadRowView.react",["IGDirectMessageGroupProfilePic.react","IGDirectMessageThreadPreviewContainer.react","IGMessageInboxStore","PageCommItemFolder","PageCommItemStatus","PagesManagerInboxListRow.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxStore","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c,d,e,f="INSTAGRAM_DIRECT",h="IG_MESSAGE";e=(e=(e=this.props.thread)!=null?(e=e.thread_users)!=null?(e=e.nodes)!=null?e.length:e:e:e)!=null?e:0;d=(d=(d=this.props.thread)!=null?d.is_group:d)!=null?d:!1;var i=[],j=null,k=null;if(e>=2){var l;k=(l=this.props.thread)!=null?(l=l.thread_users)!=null?(l=l.nodes)!=null?(l=l[1])!=null?(l=l.profile_picture)!=null?l.uri:l:l:l:l:l;j=this.props.thread.thread_title}else{k=(l=this.props.thread)!=null?(l=l.thread_users)!=null?(l=l.nodes)!=null?(l=l[0])!=null?(l=l.profile_picture)!=null?l.uri:l:l:l:l:l;j=(l=this.props.thread)!=null?(l=l.thread_users)!=null?(l=l.nodes)!=null?(l=l[0])!=null?l.username:l:l:l:l}e=e>2?g.jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[k,(l=this.props.thread)!=null?(l=l.thread_users)!=null?(l=l.nodes)!=null?(l=l[2])!=null?(l=l.profile_picture)!=null?l.uri:l:l:l:l:l]}):null;l=b("nullthrows")(this.props.thread.last_activity_at);l=parseInt(l.slice(0,l.length-3),10);var m="";c=(c=this.props.thread)!=null?(c=c.thread_users)!=null?c.nodes:c:c;a=(a=this.props.thread)!=null?(a=a.thread_items)!=null?(a=a.nodes)!=null?(a=a[0])!=null?a.token:a:a:a:a;if(c!==null&&c!==void 0&&a!==null&&a!==void 0){m=g.jsx(b("IGDirectMessageThreadPreviewContainer.react"),{mailboxID:this.props.mailboxID,participants:c,token:a});if(d===!1&&!this.props.labels&&((c=this.props.thread)==null?void 0:(a=c.thread_labels)==null?void 0:a.nodes)!=null&&((d=this.props.thread)==null?void 0:(c=d.thread_labels)==null?void 0:c.nodes.length)!==0){c=((a=this.props.thread)==null?void 0:(d=a.thread_labels)==null?void 0:d.nodes)||[];i=c.map(function(a){var b=a.id,c=a.label_color;a=a.name;return b!=null&&c!=null&&a!=null?{id:b,color:c,name:a}:null}).filter(function(a){return a!=null})}}return g.jsx(b("PagesManagerInboxListRow.react"),{activeFolder:b("PageCommItemFolder").TODO,commPlatform:f,commStatus:b("PageCommItemStatus").TODO,commType:h,isRead:!b("IGMessageInboxStore").isThreadUnread(this.props.mailboxID,this.props.thread),isViewing:this.props.isViewing,item:this.props.thread,labels:this.props.labels?this.props.labels:i,onViewingListItem:this.props.onViewingListItem,pageID:this.props.mailboxID,profilePicElement:g.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:f,commType:h,imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURI:k,profileElement:e,showPlaceholder:!0,showPlatformBadge:!0}),shouldAnimate:!1,snippetElement:m,subtitle:null,timestampInMS:l,titleElement:j},this.props.thread.token)};return c}(g.PureComponent);e.exports=a}),null);
__d("UnifiedInboxIGMessageThreadRowContainer.react",["FluxContainer","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxListSpinner.react","React","UnifiedInboxIGMessageThreadRowView.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onClick&&d.props.onClick(d.props.token);b("PagesManagerInboxFilterAction").changePlatform("INSTAGRAM_DIRECT");var a=d.state.thread.getValue();b("PagesManagerAction").viewListItem(d.props.token);if(!a||a.is_read===!0)return;b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.token,!0);a=b("IGMessageServerActions").getForFBID(d.props.mailboxID);a.updateThreadStatus(d.props.token,null,null,!0)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThread(c.mailboxID,c.token,1,null,Boolean(c.fetchFromUser));return{thread:a}};var d=c.prototype;d.render=function(){var a=this.state.thread.getValue();return!a?g.jsx(b("PagesManagerInboxListSpinner.react"),{}):g.jsx(b("UnifiedInboxIGMessageThreadRowView.react"),{isViewing:this.props.isViewing,labels:this.props.labels,mailboxID:this.props.mailboxID,onViewingListItem:this.$1,thread:a})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxSearchResultsInstagramDirectList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesMessagingInboxActionLogger","React","RelayModern","UnifiedInboxIGMessageThreadRowContainer.react","emptyFunction","nullthrows","PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql","PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.props.useNewLabelSearch===!0?null:k.jsx("div",{className:"_7zk3",children:h._("INSTAGRAM DIRECT MESSAGES")})};d.$2=function(){return!this.props.relay.hasMore()?null:k.jsx(b("OnVisible.react"),{onVisible:this.$3,children:k.jsx(b("PagesManagerInboxListSpinner.react"),{})})};d.$4=function(a){b("PagesMessagingInboxActionLogger").logSearchResultOpened("INSTAGRAM_DIRECT","CUSTOMER",a)};d.render=function(){var a=this,c,d;d=((d=(d=this.props.pageCustomer)!=null?(d=d.instagram_direct_comms)!=null?d.edges:d:d)!=null?d:[]).filter(function(a){return a.node!==null});if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return k.jsxs("div",{children:[this.$1(),d.map(function(c){var d;c=c.node;d=(d=c)!=null?d.token:d;return c===null||d===null?null:k.jsx(b("UnifiedInboxIGMessageThreadRowContainer.react"),{isViewing:!1,labels:a.props.labels,mailboxID:e,onClick:a.$4,token:(c=d)!=null?c:""},d)}),this.$2()]})};return c}(k.PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.instagram_direct_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxSearchResultsInstagramList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesManagerInboxSearchResultListRow.react","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql","PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d;d=(d=this.props.pageCustomer)!=null?(d=d.instagram_comms)!=null?d.edges:d:d;if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return k.jsxs("div",{children:[this.$1(),d.map(function(c){c=b("nullthrows")(c.node);return k.jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,pageID:e,platform:"INSTAGRAM",viewingItem:a.props.viewingItem},c.id)}),this.$2()]})};d.$1=function(){return this.props.isLabelSearch?k.jsx("div",{className:"_7zk3",children:h._("INSTAGRAM COMMENTS")}):k.jsx("div",{className:this.props.titleClassName,children:h._("INSTAGRAM COMMENTS")})};d.$2=function(){return!this.props.relay.hasMore()?null:k.jsx(b("OnVisible.react"),{onVisible:this.$3,children:k.jsx(b("PagesManagerInboxListSpinner.react"),{})})};return c}(k.PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.instagram_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxListSearchResultsList.react",["cx","fbt","PagesManagerInboxMercuryUtil","PagesManagerInboxSearchResultListRow.react","PagesManagerInboxSearchResultsFacebookList.react","PagesManagerInboxSearchResultsInstagramDirectList.react","PagesManagerInboxSearchResultsInstagramList.react","React","RelayModern","nullthrows","PagesManagerInboxListSearchResultsList_pageCustomer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this,c,d;d=(d=this.props)!=null?(d=d.pageCustomer)!=null?(d=d.messenger_comms)!=null?d.edges:d:d:d;var e=(c=this.props)!=null?(c=c.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c:c;return!d||!d.length||e===null||e===void 0||e===""?null:j.jsxs("div",{children:[this.$2(),d.map(function(c){c=b("nullthrows")(c.node);var d=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?c.target_id:c.id;return j.jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,hasPageReplied:a.$3(),labels:a.$4(),pageID:e,platform:"MESSENGER",viewingItem:a.props.viewingItem},d)})]})};d.$3=function(){var a;return!Boolean((a=this.props.pageCustomer.message_thread)==null?void 0:a.is_page_unresponded_thread)};d.$4=function(){var a;a=((a=this.props)!=null?(a=a.pageCustomer)!=null?(a=a.labels)!=null?a.edges:a:a:a)||[];return!a||a.length===0?[]:a.map(function(a){var b,c;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.label_color;a=(a=a.node)==null?void 0:a.name;return b!=null&&c!=null&&a!=null?{id:b,color:c,name:a}:null}).filter(function(a){return a!=null})};d.$2=function(){if(this.props.useNewLabelSearch===!0)return null;return this.props.isLabelSearch?j.jsx("div",{className:"_7zk3",children:h._("MESSAGES")}):j.jsx("div",{className:this.$5(),children:h._("MESSENGER CONVERSATIONS")})};d.$5=function(){return"_3-69"};d.$6=function(){return j.jsx(b("PagesManagerInboxSearchResultsInstagramDirectList.react"),{isLabelSearch:this.props.isLabelSearch,labels:this.$4(),pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),useNewLabelSearch:this.props.useNewLabelSearch,viewingItem:this.props.viewingItem})};d.render=function(){return this.props.useNewLabelSearch===!0?j.jsxs("div",{children:[this.$1(),this.$6()]}):j.jsxs("div",{children:[this.$1(),j.jsx(b("PagesManagerInboxSearchResultsFacebookList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),viewingItem:this.props.viewingItem}),j.jsx(b("PagesManagerInboxSearchResultsInstagramList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),viewingItem:this.props.viewingItem}),j.jsx(b("PagesManagerInboxSearchResultsInstagramDirectList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),useNewLabelSearch:this.props.useNewLabelSearch,viewingItem:this.props.viewingItem})]})};return c}(j.Component);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxListSearchResultsList_pageCustomer.graphql")})}),null);
__d("PagesManagerInboxListSearchResults.react",["PagesManagerInboxListLoading.react","PagesManagerInboxListSearchResultsList.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxListSearchResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxListSearchResultsQuery.graphql"),variables:{pageCustomerID:this.props.pageCustomerID},render:function(c){var d=c.error;c=c.props;return c&&!d?h.jsx(b("PagesManagerInboxListSearchResultsList.react"),{isLabelSearch:a.props.isLabelSearch,pageCustomer:c.CrmUnifiedContact,useNewLabelSearch:a.props.useNewLabelSearch,viewingItem:a.props.viewingItem}):h.jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})}})};return c}(h.PureComponent);a.defaultProps={isLabelSearch:!1};e.exports=a}),null);
__d("PageManagerInboxLabelThreadSearchResults.react",["ix","cx","fbt","Image.react","OnVisible.react","PagesManagerInboxListSearchResults.react","PagesManagerInboxListSpinner.react","React","RelayModern","asset","emptyFunction","PageManagerInboxLabelThreadSearchResults_searchResults.graphql","PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var m=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(m,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return l.jsxs("div",{className:"_7zl7","data-testid":void 0,children:[l.jsx("div",{className:"_7zl8",children:l.jsx(b("Image.react"),{src:g("515638")})}),i._("No results found")]})};d.$2=function(){return!this.props.relay.hasMore()?null:l.jsx(b("OnVisible.react"),{onVisible:this.$3,children:l.jsx(b("PagesManagerInboxListSpinner.react"),{})})};d.render=function(){var a=this,c;c=((c=this.props)!=null?(c=c.searchResults)!=null?(c=c.results)!=null?c.edges:c:c:c)||[];c=c.map(function(a){return(a=a.node)==null?void 0:a.id});return c.length===0?this.$1():l.jsxs("div",{children:[c.map(function(c){return c==null?null:l.jsx(b("PagesManagerInboxListSearchResults.react"),{height:a.props.height,pageCustomerID:c,useNewLabelSearch:a.props.useNewLabelSearch,viewingItem:null},c)}),this.$2()]})};return c}(l.PureComponent);e.exports=a(c,{searchResults:j!==void 0?j:j=b("PageManagerInboxLabelThreadSearchResults_searchResults.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.searchResults)!=null?a.results:a:a},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,labels:{labels:a.labels.map(function(a){return a.getUniqueID()})}}},query:k!==void 0?k:k=b("PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql")})}),null);
__d("PageManagerInboxLabelThreadSearch.react",["PageManagerInboxLabelThreadSearchResults.react","PagesManagerInboxListLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxLabelThreadSearchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;var i=20;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.error;a=a.props;return a&&!c?h.jsx(b("PageManagerInboxLabelThreadSearchResults.react"),{height:d.props.height,labels:d.props.labels,searchResults:a,useNewLabelSearch:!0}):h.jsx(b("PagesManagerInboxListLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.labels.map(function(a){return a.getUniqueID()});return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxLabelThreadSearchQuery.graphql"),render:this.$1,variables:{labels:{labels:a},count:i,cursor:null}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PageManagerInboxThreadContentSearchResults.react",["ix","cx","fbt","BIZInboxClientLogger","Image.react","PagesManagerInboxList.react","React","RelayModern","asset","nullthrows","PageManagerInboxThreadContentSearchResults_threadsSearch.graphql","PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var m=5;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){var a,b;c.props.relay.loadMore(m,{start:function(){return a=Date.now()},next:function(){a&&!b&&(b=Date.now()-a)}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("BIZInboxClientLogger").logDifferentSearchResultRenderView(this.props.pageID,this.props.searchTerm,"CONTENT")};d.$1=function(){return l.jsxs("div",{className:"_7zl7","data-testid":void 0,children:[l.jsx("div",{className:"_7zl8",children:l.jsx(b("Image.react"),{src:g("515638")})}),i._("No results found")]})};d.render=function(){var a;a=b("nullthrows")((a=this.props)!=null?(a=a.threadsSearch)!=null?(a=a.results)!=null?a.edges:a:a:a);a=a.slice();return l.jsx(b("PagesManagerInboxList.react"),{edges:a,emptyState:this.$1(),filterType:"MESSENGER",hasMore:this.props.relay.hasMore(),height:this.props.height,onLoadMore:this.$2,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton})};return c}(l.PureComponent);e.exports=a(c,{threadsSearch:j!==void 0?j:j=b("PageManagerInboxThreadContentSearchResults_threadsSearch.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.threadsSearch)!=null?a.results:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,query_params:{query:a.searchTerm,search_type:"CONTENT"}}},query:k!==void 0?k:k=b("PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql")})}),null);
__d("PageManagerInboxThreadContentSearch.react",["PageManagerInboxThreadContentSearchResults.react","PagesManagerInboxListLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxThreadContentSearchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxThreadContentSearchQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?h.jsx(b("PageManagerInboxThreadContentSearchResults.react"),{filterType:a.props.filterType,height:a.props.height,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,searchTerm:a.props.searchTerm,shouldShowPromoteButton:a.props.shouldShowPromoteButton,threadsSearch:c.threadsSearch}):h.jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{query_params:{query:this.props.searchTerm,search_type:"CONTENT"}}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWECAccountLinkingSendCodeMethod.react",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({SEND_CODE_VIA_VOICE:0,SEND_CODE_VIA_SMS:1})}),null);
__d("PagesManagerInboxWECAccountLinkingStep.react",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({ADD:"ADD",CONFIRM:"CONFIRM",FINISH:"FINISH"})}),null);
__d("XPagesManagerInboxWECAccountLinkingSetUpAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/setup_account/",{request_user_id:{type:"Int"},business_name:{type:"String"},country_code:{type:"String"},phone_number:{type:"String"},send_code_method:{type:"Enum",enumType:0}})}),null);
__d("XPagesManagerInboxWECAccountLinkingUpdateAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/update_account/",{request_user_id:{type:"Int"},page_wec_number_id:{type:"FBID"},is_public:{type:"Bool",defaultValue:!1}})}),null);
__d("XPagesManagerInboxWECAccountLinkingVerifyNumberController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/verify_number/",{account_status_id:{type:"FBID"},normalized_phone_number:{type:"String"},request_user_id:{type:"Int"},request_code:{type:"Int"}})}),null);
__d("PagesManagerInboxWECAccountLinkingDialog.react",["cx","fbt","AsyncRequest","DevappSwitchButton.react","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FlexLayout.react","PagesManagerInboxWECAccountLinkingSendCodeMethod.react","PagesManagerInboxWECAccountLinkingStep.react","PhoneCodeSelector.react","PhoneNumberValidator.react","React","SUIBusinessTheme","SUIText.react","XPagesManagerInboxWECAccountLinkingSetUpAccountController","XPagesManagerInboxWECAccountLinkingUpdateAccountController","XPagesManagerInboxWECAccountLinkingVerifyNumberController","XUIButton.react","XUIGrayText.react","XUIText.react","XUITextInput.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="WEC_connect_business",k="WEC_connect_dialog",l={accountStatusID:null,businessName:"",codeSent:!1,countryCode:"US",isPublic:!0,isShown:!1,isValidNumber:!1,phoneCode:"1",phoneError:null,phoneNumber:"",phoneNumberFormatted:"",step:b("PagesManagerInboxWECAccountLinkingStep.react").ADD,verificationCode:"",normalized_phone_number:null,title:h._("Add a WEC Business Number to Inbox"),subTitle:h._("Make your business number a WEC Buisness number."),page_wec_number_id:null,error_message:null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=l,d.$7=function(){d.setState(function(){return{codeSent:!1,step:b("PagesManagerInboxWECAccountLinkingStep.react").ADD}})},d.$15=function(){d.setState(function(){return{isShown:!0}})},d.$16=function(){d.setState(function(){return l})},d.$4=function(){var a=b("XPagesManagerInboxWECAccountLinkingSetUpAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setString("business_name",d.state.businessName).setString("country_code",d.state.phoneCode).setString("phone_number",d.state.phoneNumber).setEnum("send_code_method",b("PagesManagerInboxWECAccountLinkingSendCodeMethod.react").SEND_CODE_VIA_SMS);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){a.payload.success&&a.payload.account_status_id?d.setState(function(){return{codeSent:!0,step:b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM,accountStatusID:a.payload.account_status_id,normalized_phone_number:a.payload.normalized_phone_number}}):d.setState(function(){return{accountStatusID:null,error_message:a.payload.errorMsg,normalized_phone_number:null}})}).send()},d.$5=function(){var a=b("XPagesManagerInboxWECAccountLinkingSetUpAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setString("business_name",d.state.businessName).setString("country_code",d.state.phoneCode).setString("phone_number",d.state.phoneNumber).setInt("send_code_method",b("PagesManagerInboxWECAccountLinkingSendCodeMethod.react").SEND_CODE_VIA_VOICE);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){a.payload.success&&a.payload.account_status_id?d.setState(function(){return{codeSent:!1,step:b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM,accountStatusID:a.payload.account_status_id,normalized_phone_number:a.payload.normalized_phone_number}}):d.setState(function(){return{accountStatusID:null,error_message:a.payload.errorMsg,normalized_phone_number:null}})}).send()},d.$2=function(){var a=b("XPagesManagerInboxWECAccountLinkingVerifyNumberController").getURIBuilder().setInt("request_user_id",d.props.pageID).setFBID("account_status_id",d.state.accountStatusID).setString("normalized_phone_number",d.state.normalized_phone_number).setInt("request_code",d.state.verificationCode);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setErrorHandler(function(a){}).setHandler(function(a){a.payload.success&&a.payload.page_wec_number_id?d.setState(function(){return{page_wec_number_id:a.payload.page_wec_number_id,step:b("PagesManagerInboxWECAccountLinkingStep.react").FINISH,title:h._("Success! WEC added to Inbox"),subTitle:h._("Your WEC messages will now appear in your inbox")}}):d.setState(function(){return{page_wec_number_id:null,error_message:a.payload.errorMsg}})}).send()},d.$3=function(){var a=b("XPagesManagerInboxWECAccountLinkingUpdateAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setFBID("page_wec_number_id",d.state.page_wec_number_id).setBool("is_public",d.state.isPublic);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setErrorHandler(function(a){}).setHandler(function(a){a.payload.success||d.setState(function(){return{error_message:a.payload.errorMsg}}),window.location.reload()}).send()},d.$11=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{businessName:b||""}})},d.$12=function(a,b){d.setState({phoneCode:a,countryCode:b})},d.$13=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{phoneNumber:b||""}})},d.$14=function(a){if(a!=null&&d.state.isShown){var b=a.status==="valid";b&&a.parsed&&a.parsed.internationalNumberWithPlus!==null&&a.parsed.internationalNumberWithPlus!==void 0&&a.parsed.internationalNumberWithPlus!==""?d.setState(function(){return{isValidNumber:!0,phoneError:null,phoneNumberFormatted:a.parsed.internationalNumberWithPlus||""}}):d.setState(function(a){return{isValidNumber:!1,phoneError:h._("Invalid phone number"),phoneNumberFormatted:""}})}},d.$8=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{verificationCode:b||""}})},d.$10=function(){d.setState(function(a){return{isPublic:!d.state.isPublic}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=null,c=null,d=null;switch(this.state.step){case b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM:a=i.jsx(b("FDSButton.react"),{label:h._("Confirm"),onClick:this.$2,use:"primary"});c=i.jsx(b("FDSCancelButton.react"),{});break;case b("PagesManagerInboxWECAccountLinkingStep.react").FINISH:a=i.jsx(b("FDSButton.react"),{label:h._("Finish"),onClick:this.$3,use:"primary"});c=i.jsx(b("FDSCancelButton.react"),{});break;case b("PagesManagerInboxWECAccountLinkingStep.react").ADD:default:d=i.jsx(b("SUIText.react"),{color:"secondary",theme:b("SUIBusinessTheme"),children:h._("If your number cannot receive texts we can call you with the verification code")}),a=i.jsx(b("FDSButton.react"),{isDisabled:!this.state.isValidNumber,label:h._("Send Code"),onClick:this.$4,use:"primary"}),c=i.jsx(b("FDSButton.react"),{isDisabled:!this.state.isValidNumber,label:h._("Call Me"),onClick:this.$5,use:"default"})}return i.jsx(b("FDSModalFooter.react"),{leftContent:d,primaryButton:a,secondaryButton:c})};d.$6=function(){switch(this.state.step){case b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM:return i.jsxs(b("FlexLayout.react"),{direction:"vertical",style:{fontSize:14},children:[i.jsx(b("FlexLayout.react"),{className:"_3-97",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Verify Your WEC Number")})}),i.jsxs(b("FlexLayout.react"),{align:"center",className:"_21op _3-8n",direction:"vertical",children:[i.jsx("div",{children:this.state.codeSent?h._("Enter the code in the message sent to"):h._("You should receive a call in 3 minutes to")}),i.jsxs("div",{children:[i.jsx("div",{className:"_74oq",children:this.state.phoneNumberFormatted}),i.jsx(b("FDSLink.react"),{onClick:this.$7,showUnderline:"never",children:h._("Change")})]})]}),i.jsx(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"center",children:i.jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$8,placeholder:h._("Enter 6 Digits Code"),value:this.state.verificationCode})}),i.jsx(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"center",children:this.state.codeSent?i.jsxs(i.Fragment,{children:[i.jsx(b("FDSLink.react"),{onClick:this.$4,showUnderline:"never",children:h._("Send Code Again")}),i.jsx("span",{className:"_3-8r",children:"|"}),i.jsx(b("FDSLink.react"),{onClick:this.$5,showUnderline:"never",children:h._("Call Me")})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"_3-8_",children:h._("Did not receive call?")}),i.jsx(b("FDSLink.react"),{onClick:this.$5,showUnderline:"never",children:h._("Call Again")}),i.jsx("span",{className:"_3-8r",children:"|"}),i.jsx(b("FDSLink.react"),{onClick:this.$4,showUnderline:"never",children:h._("Send Code")})]})})]});case b("PagesManagerInboxWECAccountLinkingStep.react").FINISH:return i.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[i.jsxs(b("FlexLayout.react"),{className:"_21op",direction:"vertical",children:[this.$9(h._("Company Name"),this.state.businessName),this.$9(h._("Country Code"),this.state.countryCode+"("+this.state.phoneCode+")"),this.$9(h._("Phone Number"),this.state.phoneNumberFormatted)]}),i.jsxs(b("FlexLayout.react"),{className:"_21op",direction:"vertical",children:[i.jsx(b("FlexLayout.react"),{className:"_3-8p",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Make WEC Number Public")})}),i.jsxs(b("FlexLayout.react"),{align:"center",className:"_21op",justify:"all",children:[i.jsx("span",{children:h._("Your WEC number will be visible to visitors in the About section of your Page.")}),i.jsx(b("DevappSwitchButton.react"),{labels:"customized",noLabel:h._("No"),onChange:this.$10,yesLabel:h._("Yes")})]})]})]});case b("PagesManagerInboxWECAccountLinkingStep.react").ADD:return i.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[i.jsx(b("FlexLayout.react"),{className:"_3-97",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Enter your business information")})}),i.jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[i.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Business Name")}),i.jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$11,placeholder:h._("Enter a name"),value:this.state.businessName})]}),i.jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[i.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Country Code")}),i.jsx(b("PhoneCodeSelector.react"),{initialCountryCode:"US",onUpdate:this.$12,scrollToSelectedCountryCode:!1})]}),i.jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[i.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Phone Number")}),i.jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$13,placeholder:h._("Enter a phone number"),value:this.state.phoneNumber,xuiError:this.state.phoneError})]}),i.jsx(b("PhoneNumberValidator.react"),{onChange:this.$14,phoneNumber:this.state.phoneNumber,regionCode:this.state.countryCode})]})}};d.$9=function(a,c){return i.jsxs(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"all",children:[i.jsx(b("XUIGrayText.react"),{shade:"light",size:"body2",children:a}),i.jsx(b("XUIText.react"),{children:c})]})};d.render=function(){var a=i.jsx(b("FDSModal.react"),{footer:this.$1(),header:i.jsx(b("FDSModalHeader.react"),{subtitle:this.state.subTitle,title:this.state.title}),"data-testid":k,isShown:this.state.isShown,onHide:this.$16,width:750,children:i.jsxs(b("FDSSection.react"),{children:[this.$6(),i.jsx("div",{className:"_74or",children:this.state.error_message!==null&&this.state.error_message!==void 0&&this.state.error_message!==""?this.state.error_message:null})]})});return i.jsxs(i.Fragment,{children:[i.jsx(b("XUIButton.react"),{className:"_70ef","data-testid":j,label:h._("Connect WEC Business"),onClick:this.$15}),a]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWECAccountLinkingDialogContainer.react",["FluxContainer","PagesManagerInboxStore","PagesManagerInboxWECAccountLinkingDialog.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig()}};var d=c.prototype;d.render=function(){return g.jsx(b("PagesManagerInboxWECAccountLinkingDialog.react"),{pageID:this.state.config.pageID})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxConnectionState.react",["cx","fbt","ix","Image.react","Link.react","PageLinkInstagramAccountOAuthLogin.react","PagesManagerInboxStore","PagesManagerInboxWECAccountLinkingDialogContainer.react","PagesMessagingInboxActionLogger","PopupWindow","PresenceAccountUtilities","React","URI","XPageLinkInstagramAccountOAuthController","XPagesManagerSettingsController","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=700,m=800;a="WEC_connection_state";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a;switch(this.props.filterType){case"MESSENGER":a=i("94978");break;case"INSTAGRAM":case"INSTAGRAM_DIRECT":a=this.props.commentConnected?i("1162612"):i("94974");break;case"WEC":a=i("681049");break;default:return null}return this.props.commentConnected?k.jsx(b("Image.react"),{className:"_7hrl",src:a}):k.jsx(b("Image.react"),{className:"_2-xd",src:a})};d.$2=function(){switch(this.props.filterType){case"MESSENGER":return h._("Messages are turned off");case"INSTAGRAM":case"INSTAGRAM_DIRECT":return this.props.commentConnected?h._("Get Instagram Messages in Inbox"):h._("Connect an Instagram account");case"WEC":return h._("Connect a WEC Business account to your Inbox");default:return null}};d.$3=function(a){var c=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"}),d=k.jsx(b("Link.react"),{href:"https://www.facebook.com/help/2546917405323366",children:h._("Learn More")}),e=a?k.jsxs("div",{children:[h._("Connecting an Instagram account lets Page admins, editors and moderators manage comments and Direct messages in Inbox."),k.jsx("br",{}),k.jsx("br",{}),k.jsxs("div",{children:[h._("When you connect an Instagram account, other people who manage the Page may be able to post and take other actions on the connected Instagram account.")," ",d]})]}):k.jsxs("div",{children:[h._("Page admins or editors can connect an Instagram account to the Page, which lets Page admins, editors and moderators manage comments and direct messages in Inbox."),k.jsx("br",{}),k.jsx("br",{}),k.jsxs("div",{children:[h._("When you connect an Instagram account, other people who manage the Page may be able to post and take other actions on the connected Instagram account.")," ",d]})]});a=a?k.jsxs("div",{children:[h._("Reconnect your Instagram account to let Page admins, editors and moderators read and respond to Direct messages in Inbox.")," ",d]}):k.jsx("div",{children:h._("Page admins and editors can reconnect your Instagram account to let people who manage the Page respond to direct messages in Inbox.")});switch(this.props.filterType){case"MESSENGER":return h._("Turn on messages to let people and other Pages contact your Page directly.");case"INSTAGRAM":return c?e:h._("Manage Instagram comments in your Page's Inbox.");case"INSTAGRAM_DIRECT":return this.props.commentConnected?a:e;case"WEC":return h._("Manage WEC right in your Page's inbox. Write messages and reply without using your phone.");default:return null}};d.$4=function(){var a=this,c,d;switch(this.props.filterType){case"MESSENGER":c=function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",a.props.pageToken).setString("tab","settings").setString("section","messages").getURI().go()};d=h._("Turn On Messages");break;case"INSTAGRAM":var e=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"});e?c=function(){b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(e);var a=new(j||(j=b("URI")))("https://api.instagram.com/oauth/authorize/"),c=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();a.addQueryData({redirect_uri:c,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(a.toString(),l,m)}:c=function(){b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(e),b("PresenceAccountUtilities").connectToAccountOfType(a.props.pageID,"instagram",{},function(a,b){})};d=h._("Connect Account");break;case"INSTAGRAM_DIRECT":c=function(){var c=new(j||(j=b("URI")))("https://api.instagram.com/oauth/authorize/"),d=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();c.addQueryData({redirect_uri:d,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(c.toString(),l,m);b("PagesMessagingInboxActionLogger").logConnectInstagramDirectButtonClicked((d=a.props.commentConnected)!=null?d:!1)};d=this.props.commentConnected?h._("Reconnect Account"):h._("Connect Account");break;case"WEC":return k.jsx(b("PagesManagerInboxWECAccountLinkingDialogContainer.react"),{});default:return null}return k.jsx(b("XUIButton.react"),{className:"_1-e5"+(this.props.filterType==="MESSENGER"?" _2ule":"")+(this.props.filterType==="INSTAGRAM"||this.props.filterType==="INSTAGRAM_DIRECT"&&!this.props.commentConnected?" _2ulf":"")+(this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.commentConnected?" _7j7v":""),label:d,onClick:c})};d.$5=function(){var a=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"});return this.props.filterType==="INSTAGRAM_DIRECT"||a&&this.props.filterType==="INSTAGRAM"?k.jsx(b("PageLinkInstagramAccountOAuthLogin.react"),{allowOverrideLink:!0,pageID:this.props.pageID,permissions:["manage_messages","manage_ads","manage_comments"]}):null};d.render=function(){if(this.props.filterType!=="MESSENGER"&&this.props.filterType!=="INSTAGRAM"&&this.props.filterType!=="INSTAGRAM_DIRECT"&&this.props.filterType!=="WEC")return null;var a=b("PagesManagerInboxStore").getConfig().showConnectButton===!0;return this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.commentConnected?k.jsxs("div",{className:"_7hrk",children:[k.jsx("div",{children:this.$1()}),k.jsxs("div",{className:"_7hrm",children:[k.jsx("div",{className:"_7hrj",children:this.$2()}),k.jsx("div",{className:"_7hrn",children:this.$3(a)}),a?this.$4():null,this.$5()]})]}):k.jsx("div",{className:"_7j7w",children:k.jsxs("div",{className:"_1-e2","data-testid":void 0,children:[this.$1(),k.jsxs("div",{className:"_1-e3"+(this.props.filterType==="MESSENGER"?" _2ulc":"")+(this.props.filterType==="INSTAGRAM"||this.props.filterType==="INSTAGRAM_DIRECT"?" _2uld":""),children:[k.jsx("div",{className:"_1-e4"+(this.props.filterType==="WEC"?" _7059":""),"data-testid":void 0,children:this.$2()}),k.jsx("div",{className:this.props.filterType==="WEC"?"_7059":"",children:this.$3(a)})]}),a?this.$4():null,this.$5()]})})};return c}(k.PureComponent);e.exports=c}),null);
__d("PagesMangerInboxMultiAdminFilterUtil",[],(function(a,b,c,d,e,f){"use strict";var g="0";a={getIGDirectAdminID:function(a){return a==="NONE"?g:a}};e.exports=a}),null);
__d("PagesManagerInboxFilterStateView.react",["ix","cssVar","cx","fbt","IGMessageDataMutateAction","Image.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","PagesMangerInboxMultiAdminFilterUtil","React","SUIBusinessThemeContainer.react","SUIToken.react","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.filterFolder!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d.props.filterFolder!==b("PageCommItemFolder").MESSENGER_THREADS&&(d.props.platform==="INSTAGRAM_DIRECT"||d.props.shouldUseUnifiedThreadlist)){var a;b("IGMessageDataMutateAction").forceFetchInbox(d.props.mailboxID,20,b("PageCommItemFolder").TODO,!1,!1,(a=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID((a=d.props.filterOwner)==null?void 0:a.id))!=null?a:null,!1)}b("PagesManagerInboxFilterAction").changeFolder(d.props.mailboxID,b("PageCommItemFolder").TODO)},d.$2=function(){if(d.props.filterFolder!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d.props.filterFolder!==b("PageCommItemFolder").MESSENGER_THREADS&&(d.props.platform==="INSTAGRAM_DIRECT"||d.props.shouldUseUnifiedThreadlist)){var a=d.props.filterFolder;b("IGMessageDataMutateAction").forceFetchInbox(d.props.mailboxID,20,b("PageCommItemStatusUtil").getIGDirectFolder(a),a===b("PageCommItemFolder").FOLLOW_UP,a===b("PageCommItemFolder").UNREAD,null)}b("PagesManagerInboxFilterAction").changeOwner(d.props.mailboxID,null,null,null);b("PagesManagerInboxFilterAction").toggleFilterSelector(!1);b("PagesManagerInboxFilterAction").toggleSearch(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){switch(a){case b("PageCommItemFolder").FOLLOW_UP:return k.jsx(b("Image.react"),{className:"_885a",src:g("1002993")});case b("PageCommItemFolder").UNREAD:return k.jsx(b("Image.react"),{className:"_885a",src:g("795293")})}};d.render=function(){var a=this.props.filterFolder;return k.jsx("div",{className:"_8859",children:k.jsxs(b("SUIBusinessThemeContainer.react"),{children:[b("PageCommItemStatusUtil").getIsFilter(a)?k.jsx(b("SUIToken.react"),{icon:this.$3(a),label:b("PageCommItemStatusUtil").getLabel(a),onRemove:this.$1,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null,this.props.filterOwner!=null&&this.props.filterOwner.name!=null?k.jsx(b("SUIToken.react"),{icon:k.jsx(b("Image.react"),{className:"_885j",src:((a=this.props.filterOwner)==null?void 0:a.photoURL)!=null?(a=this.props.filterOwner)==null?void 0:a.photoURL:null}),label:((a=this.props.filterOwner)==null?void 0:a.name)!=null?(a=this.props.filterOwner)==null?void 0:a.name:null,onRemove:this.$2,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null,((a=this.props.filterOwner)==null?void 0:a.id)==="NONE"?k.jsx(b("SUIToken.react"),{icon:k.jsx(b("Image.react"),{className:"_885a",src:g("1166631")}),label:j._("Unassigned Conversations"),onRemove:this.$2,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null]})})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListRelayContainer.react",["BusinessInboxBizKitUtil","MediaManagerInboxFocusCommentAction","MediaManagerInboxLoggerActions","MediaManagerUtils","PageCommItemFolder","PageCommPlatform","PagesManagerAction","PagesManagerInboxActionType","PagesManagerInboxConnectionState.react","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxLogger","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxListRelayContainer_page.graphql","PagesManagerInboxListRelayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("BusinessInboxBizKitUtil").isInBizKit,j=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(d){var e;e=a.call(this)||this;e.$1=function(){var a,c,d=k,f={},g=function(d){if(a){var f;f=(f=e.props)!=null?(f=f.page)!=null?(f=f.business_comm_items)!=null?(f=f.edges)!=null?f.length:f:f:f:f;f=b("PagesManagerInboxLogger").create(b("PagesManagerInboxActionType").LIST.MORE_LOADED).setItemsCount(f).setLoadTime(Date.now()-a).setUsesStreamingPagination(!1).setHadError(!!d);c&&f.setFirstPayloadTime(c);d&&b("PagesManagerInboxLogger").logErrorJS(d,"PagesManagerInboxListRelayContainer.react");f.log()}};e.props.relay.loadMore(d,{start:function(){return a=Date.now()},next:function(){a&&!c&&(c=Date.now()-a)},complete:g,error:g},f)};e.state={sortedList:c.getSortedList(d)};return e}var d=c.prototype;d.$2=function(a){var c;c=(c=a)!=null?(c=c.business_comm_items)!=null?(c=c.edges)!=null?(c=c[0])!=null?c.node:c:c:c:c;var d=c==null?void 0:c.id;if((this.props.folder===b("PageCommItemFolder").PRIORITY||this.props.folder===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT)&&((a=a.business_comm_items)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.__typename)==="PageCommItemPart"){d=c==null?void 0:(a=c.parent_item)==null?void 0:a.id}d?(b("MediaManagerUtils").isMediaManagerApp()&&(b("MediaManagerInboxLoggerActions").logListRowIndex(0),b("MediaManagerInboxFocusCommentAction").setPostWithFocusCommentID(d,c==null?void 0:c.comm_source_id)),b("PagesManagerAction").viewListItem(d)):b("PagesManagerAction").clearViewListItem()};d.componentDidMount=function(){(!i()||this.props.viewingItem==null)&&this.$2(this.props.page),b("PagesManagerInboxLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.UNSAFE_componentWillReceiveProps=function(a){a.page&&a.page.business_comm_items&&a.page.business_comm_items.edges&&this.setState({sortedList:c.getSortedList(a)})};c.getSortedList=function(a){a=(a=a)!=null?(a=a.page)!=null?(a=a.business_comm_items)!=null?a.edges:a:a:a;if(!a)return[];a=a.filter(function(a){return!!a});return a.concat().sort(function(a,b){return a.node.last_modified_at>b.node.last_modified_at?-1:1})};d.$3=function(){var a=this.props.page;if(!a)return!1;switch(this.props.filterType){case"MESSENGER":return a.comms_hub_config&&a.comms_hub_config.fb_messenger_state!=="DISABLED";case"INSTAGRAM":return a.ig_presence_account_info&&a.ig_presence_account_info.settings_webview_url;default:return!0}};d.$4=function(){return this.props.filterType==="INSTAGRAM"||this.props.filterType==="MESSENGER"||this.props.filterType==="INSTAGRAM_DIRECT"};d.$5=function(){if(!this.$3()&&this.$4())return j.jsx(b("PagesManagerInboxConnectionState.react"),{filterType:this.props.filterType,pageID:this.props.pageID,pageToken:b("PagesManagerInboxStore").getConfig().uriToken});else return j.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.props.folder,pageID:this.props.pageID,platform:this.props.filterType})};d.render=function(){var a="list"+this.props.folder+this.props.filterType;return j.jsx(b("PagesManagerInboxList.react"),{edges:this.state.sortedList,emptyState:this.$5(),filterType:this.props.filterType,hasMore:this.props.relay.hasMore(),height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,onLoadMore:this.$1,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton},a)};return c}(j.Component);e.exports=a(c,{page:g!==void 0?g:g=b("PagesManagerInboxListRelayContainer_page.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.page)!=null?a.business_comm_items:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,filterStatus:a.filterStatus,pageID:a.page.id,platformFilter:a.filterType,isHighlightedComment:a.isHighlightedComment,isStarsComment:a.isStarsComment}},query:h!==void 0?h:h=b("PagesManagerInboxListRelayContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxMessageListContainer.react",["FluxContainer","MediaManagerInboxLoggerActions","MediaManagerUtils","MercuryThreadInformer","MercuryThreadlistConstants","PagesManagerAction","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterStore","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListLoading.react","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.fbMessengerState==="DISABLED",d=null,e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){d=(e=e.pageConfig)==null?void 0:e.uriToken}else d=b("PagesManagerInboxStore").getConfig().uriToken;if((c||a.filterType==="WEC"&&!a.wecConnected)&&d!=null)return g.jsx(b("PagesManagerInboxConnectionState.react"),{commentConnected:a.commentConnected,filterType:a.filterType,pageID:a.pageID,pageToken:d});else return g.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.folder,pageID:a.pageID,platform:"MESSENGER"})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("PagesManagerMessagingThreadlistAction").fetchThreadlist(d.props.pageID,d.state.offset,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){a=!1;var d=!1,e=null,f=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(f!=null){var g;d=f.wecConfig!=null&&f.wecConfig.accountRegistered;a=f.instagramConfig!=null&&Boolean((g=f.instagramDirectConfig)==null?void 0:g.canManageComments);e=(g=f.messengerConfig)==null?void 0:g.fbMessengerState}else d=!1,a=Boolean(b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.canManageComments),e=b("PagesManagerInboxStore").getConfig().fbMessengerState;f=e==="DISABLED";g=[];(c.filterType==="MESSENGER"&&!f||c.filterType==="WEC"&&d)&&(g=b("PagesManagerInboxListStore").getItemsForAdmin(c.pageID,c.commItemOwnerID));f=b("PagesManagerInboxFilterStore").getActiveFolder();c=b("PagesManagerInboxListStore").isLoading();c=g.length===0?c:!1;return{folder:f,initLoading:c,threadList:g,hasMore:b("PagesManagerInboxListStore").hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder()),offset:g.length,fbMessengerState:e!=null?e:"DISABLED",wecConnected:d,commentConnected:a}};var d=c.prototype;d.componentDidMount=function(){var a=this;b("PagesManagerMessagingThreadlistAction").initThreadlist(this.props.pageID);var c=b("MercuryThreadInformer").getForFBID(this.props.pageID);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(c.subscribe("threadlist-updated",function(c,d){return b("PagesManagerMessagingThreadlistAction").updateThreadlist(a.props.pageID)}))};d.componentDidUpdate=function(){if(!this.state.initLoading){var a=b("PagesManagerStore").getViewingListItem();b("MediaManagerUtils").isMediaManagerApp()&&b("MediaManagerInboxLoggerActions").logListRowIndex(0);if(a===null||a===void 0){a=this.state.threadList&&this.state.threadList[0]&&this.state.threadList[0].thread_fbid;a!==null&&a!==void 0&&a!==""&&(b("PagesManagerAction").viewListItem(a),b("PagesManagerInboxLogger").logInitialListRendered(this.props.filterType,this.props.pageID))}}};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){return this.state.initLoading&&(this.props.commItemOwnerID===null||this.props.commItemOwnerID===void 0)?g.jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}):g.jsx(b("PagesManagerInboxList.react"),{edges:this.state.threadList,emptyState:g.jsx(h,babelHelpers["extends"]({},this.props,{commentConnected:this.state.commentConnected,fbMessengerState:this.state.fbMessengerState,folder:this.state.folder,wecConnected:this.state.wecConnected})),filterType:this.props.filterType,hasMore:this.state.hasMore,height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,onLoadMore:this.$2,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton},"list"+this.state.folder)};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxMultiAdminSelector.react",["ix","cx","fbt","Image.react","PagesManagerAdminSearchSource","React","RelayModern","ScrollableArea.react","SearchableEntry","ShimButton.react","asset","nullthrows","PagesManagerInboxMultiAdminSelector_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l="ALL_CONVERSATIONS";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$1=new(b("PagesManagerAdminSearchSource"))();c.$2=[];return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("nullthrows")(this.props.page.page_admin_users);this.$1.cacheData(a.nodes);this.$3(this.props.searchTerm)};d.UNSAFE_componentWillReceiveProps=function(a){a.searchTerm!==this.props.searchTerm&&this.$3(a.searchTerm)};d.render=function(){var a=this;return k.jsxs(b("ScrollableArea.react"),{height:this.props.height,children:[this.$4(),this.$5(),this.$2.map(function(b){return a.$6(b,function(){return a.props.onSelected(b.getUniqueID(),b.getPhoto(),b.getTitle())})})]})};d.$4=function(){var a=this;return this.$6(new(b("SearchableEntry"))({uniqueID:l,title:i._("All Conversations"),photo:g("487563")}),function(){return a.props.onSelected(null)})};d.$5=function(){var a=this;return this.$6(new(b("SearchableEntry"))({uniqueID:"NONE",title:i._("Unassigned Conversations"),photo:g("664708")}),function(){return a.props.onSelected("NONE")})};d.$6=function(a,c){return k.jsx(b("ShimButton.react"),{className:"_dy9"+(a.getUniqueID()===this.props.selectedAdminID||!this.props.selectedAdminID&&a.getUniqueID()===l?" _dyc":""),onClick:c,children:k.jsxs("div",{className:"_dyh",children:[k.jsx("div",{className:"_dyj",children:k.jsx(b("Image.react"),{className:"_dyk"+(a.getUniqueID()!=="NONE"&&a.getUniqueID()!==l?" _7xt_":""),src:a.getPhoto()})}),k.jsx("div",{className:"_dyj",children:a.getTitle()})]})},"admin_"+b("nullthrows")(a.getTitle()))};d.$3=function(a){var b=this;this.$1.search(a,function(a){b.$2=a},{placeCurrentAdminOnTop:!0})};return c}(k.PureComponent);e.exports=a(c,{page:j!==void 0?j:j=b("PagesManagerInboxMultiAdminSelector_page.graphql")})}),null);
__d("PagesManagerInboxMultiAdminSelectorRoot.react",["CenteredContainer.react","IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","PagesManagerInboxMultiAdminSelector.react","PagesManagerInboxQueryRenderer.react","PagesMangerInboxMultiAdminFilterUtil","React","RelayModern","SUIPagesManagerTheme","SUISpinner.react","PagesManagerInboxMultiAdminSelectorRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c,e,f){f===void 0&&(f=!1);if(d.props.filterType==="INSTAGRAM_DIRECT"||d.props.shouldShowUnifiedThreadlist){var g=d.props.threadManagementStatus;b("IGMessageDataMutateAction").forceFetchInbox(d.props.pageID,20,b("PageCommItemStatusUtil").getIGDirectFolder(g),g===b("PageCommItemFolder").FOLLOW_UP,g===b("PageCommItemFolder").UNREAD,(g=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(a))!=null?g:null,f)}b("PagesManagerInboxFilterAction").changeOwner(d.props.pageID,a,c,e);b("PagesManagerInboxFilterAction").toggleFilterSelector(!1);b("PagesManagerInboxFilterAction").toggleSearch(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxMultiAdminSelectorRootQuery.graphql"),variables:{pageID:this.props.pageID},render:function(c){c.error;c=c.props;return c?h.jsx(b("PagesManagerInboxMultiAdminSelector.react"),babelHelpers["extends"]({height:a.props.height,onSelected:a.$1,searchTerm:a.props.searchTerm,selectedAdminID:a.props.selectedAdminID},c)):h.jsx("div",{style:{height:a.props.height},children:h.jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:h.jsx(b("SUISpinner.react"),{size:"small",theme:b("SUIPagesManagerTheme")})})})}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistStore",["FluxStore","PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxUnifiedThreadlistStore1=null;c.$PagesManagerInboxUnifiedThreadlistStore2=!1;c.$PagesManagerInboxUnifiedThreadlistStore3=!1;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerActionType").LIST.SET_INSTAGRAM_INBOX:this.$PagesManagerInboxUnifiedThreadlistStore1=a.instagramInbox;this.__emitChange();break;case b("PagesManagerActionType").LIST.LOADING_INSTAGRAM_INBOX:this.$PagesManagerInboxUnifiedThreadlistStore2=a.isLoadingInbox;this.__emitChange();break;case b("PagesManagerActionType").LIST.SET_INSTAGRAM_LOADING_ERROR:this.$PagesManagerInboxUnifiedThreadlistStore3=a.hasError;this.__emitChange();break}return};d.getInstagramInbox=function(){return this.$PagesManagerInboxUnifiedThreadlistStore3?null:this.$PagesManagerInboxUnifiedThreadlistStore1};d.getIsLoadingInstagramInbox=function(){return this.$PagesManagerInboxUnifiedThreadlistStore3?!1:this.$PagesManagerInboxUnifiedThreadlistStore2};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","Link.react","PageLinkInstagramAccountOAuthLogin.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMessagingInboxActionLogger","PopupWindow","React","URI","XPageLinkInstagramAccountOAuthController"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=700,l=800,m="page_inbox_unified_thread_list_instagram_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},d.$4=function(){d.props.instagramCommentConnected?b("PagesMessagingInboxActionLogger").logConnectInstagramDirectButtonClicked(!0):b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(!0);var a=new(i||(i=b("URI")))("https://api.instagram.com/oauth/authorize/"),c=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();a.addQueryData({redirect_uri:c,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(a.toString(),k,l);d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(m);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[m]};d.render=function(){var a=this.props.instagramCommentConnected?g._("Manage Instagram Messages"):g._("Connect to Instagram"),c=j.jsx(b("Link.react"),{href:"https://www.facebook.com/help/2546917405323366",children:g._("Learn More")});c=this.props.instagramCommentConnected?j.jsxs("div",{children:[g._("Reconnect your Instagram account to let Page admins, editors and moderators read and respond to Direct messages in Inbox.")," ",c]}):j.jsxs("div",{children:[g._("Manage comments and Direct messages in Inbox. Other people who manage the Page also may be able to post and take other actions on the connected account.")," ",c]});var d=this.props.canShowConnectButton?this.props.instagramCommentConnected?g._("Reconnect"):g._("Connect"):null,e=this.props.instagramCommentConnected?h("895232"):h("1162612");return j.jsxs(j.Fragment,{children:[j.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:e,onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX"),j.jsx(b("PageLinkInstagramAccountOAuthLogin.react"),{allowOverrideLink:!0,pageID:this.props.pageID,permissions:["manage_messages","manage_ads","manage_comments"]})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesEnableMessengerMutation","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XPagesManagerSettingsController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="page_inbox_utl_enable_messenger_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},d.$4=function(){b("PagesEnableMessengerMutation").commit(d.props.pageID,!0,function(){d.$3(),location.reload()},function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",b("PagesManagerInboxStore").getConfig().uriToken).setString("tab","settings").setString("section","messages").getURI().go()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.render=function(){var a=g._("Turn On Messenger"),c=g._("Get additional messaging features and give people another way to contact you."),d=g._("Turn On Messenger");return i.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("1162384"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX")};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="page_inbox_unified_thread_list_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.render=function(){var a=g._("New! One Tab for Messages"),c=g._("See Messenger and Instagram messages in one place. Filter messages by platform to view them separately."),d=g._("OK");return i.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("1162613"),onButtonClick:this.$3,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX")};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxMessageThreadListUtil",["IGMessageInboxStore","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";a={getUnifiedThreadList:function(a,c,d,e,f,g){c=c.filter(function(a){return d===b("PageCommItemFolder").FOLLOW_UP?a.is_page_follow_up===!0:!0}).map(function(a){return{platform:"MESSENGER",instagramThread:null,messengerThread:a,timestamp:a.timestamp+"000",threadID:(a=a.thread_fbid)!=null?a:""}});a=((a=a==null?void 0:a.nodes)!=null?a:[]).map(function(a){var b;return{platform:"INSTAGRAM_DIRECT",instagramThread:a,messengerThread:null,timestamp:(b=a.last_activity_at)!=null?b:"",threadID:(b=a.token)!=null?b:""}});var h=[];if(d===b("PageCommItemFolder").MESSENGER_THREADS)return c;else if(d===b("PageCommItemFolder").INSTAGRAM_THREADS)return a;h=c.concat(a);h.sort(function(a,c){return b("IGMessageInboxStore").largeNumberCompare(c.timestamp,a.timestamp)});(f||g)&&d!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d!==b("PageCommItemFolder").MESSENGER_THREADS&&h.splice(e);return h},getCanLoadMore:function(a,c,d){switch(a){case b("PageCommItemFolder").INSTAGRAM_THREADS:return d;case b("PageCommItemFolder").MESSENGER_THREADS:return c;default:return d||c}}};e.exports=a}),null);
__d("UnifiedInboxUnifiedThreadListView.react",["cssVar","BIZInboxClientLogger","ErrorBoundary.react","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterAction","PagesManagerInboxListEmptyState.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderBizWebUpsellNUX.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react","PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react","PagesManagerInboxListHeaderUnifiedThreadlistNUX.react","PagesManagerInboxListSpinner.react","PagesManagerInboxLogger","PagesManagerInboxMessageListRowContainer.react","PagesManagerInboxMessageThreadListUtil","PagesManagerInboxStore","PagesSelectableSimpleList.react","React","ResponsiveBlock.react","UnifiedInboxIGMessageThreadRowContainer.react","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){return function(c){return b("nullthrows")(a[c].threadID)}}function j(a,c,d){return function(e,f,g){f=a[e];return f.platform==="MESSENGER"?h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MESSENGER",item:b("nullthrows")(f.messengerThread),pageID:c,shouldAnimate:!1},f.threadID)}):h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("UnifiedInboxIGMessageThreadRowContainer.react"),{isViewing:d===f.threadID,mailboxID:c,token:f.threadID})})}}function k(a){var c=b("PagesManagerInboxStore").getConfig().fbMessengerState==="DISABLED",d=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT,e=d.canManageComments;d=d.igAccountID===null;if(c&&d&&a.threadManagementStatus!==b("PageCommItemFolder").INSTAGRAM_THREADS||c&&a.threadManagementStatus===b("PageCommItemFolder").MESSENGER_THREADS)return h.jsx("div",{style:{height:a.scrollHeight,backgroundColor:"#FFFFFF"},children:h.jsx(b("PagesManagerInboxConnectionState.react"),{filterType:"MESSENGER",pageID:a.mailboxID,pageToken:b("PagesManagerInboxStore").getConfig().uriToken})});return a.threadManagementStatus===b("PageCommItemFolder").INSTAGRAM_THREADS&&d?h.jsx("div",{style:{height:a.scrollHeight,backgroundColor:"#FFFFFF"},children:h.jsx(b("PagesManagerInboxConnectionState.react"),{commentConnected:e,filterType:"INSTAGRAM_DIRECT",pageID:a.mailboxID,pageToken:""})}):h.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.threadManagementStatus,pageID:a.mailboxID,platform:"MESSENGER"})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={nodes:[],canLoadMore:!0},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,c){return{nodes:b("PagesManagerInboxMessageThreadListUtil").getUnifiedThreadList(a.instagramThreads,a.messengerThreads,a.folder,a.loadCount,a.messengerHasMore,a.instagramHasMore),canLoadMore:b("PagesManagerInboxMessageThreadListUtil").getCanLoadMore(a.folder,a.messengerHasMore,a.instagramHasMore)}};var d=c.prototype;d.componentDidMount=function(){b("BIZInboxClientLogger").logThreadListRenderView(this.props.pageID,"ALL")};d.componentDidUpdate=function(a,c){if(this.props.viewingItemToken===null){this.state.nodes.length>0&&(b("PagesManagerInboxFilterAction").changePlatform(this.state.nodes[0].platform),b("PagesManagerAction").viewListItem(this.state.nodes[0].threadID));return}};d.$1=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.render=function(){return this.state.nodes.length===0?h.jsx(k,{mailboxID:this.props.mailboxID,scrollHeight:this.props.scrollHeight,threadManagementStatus:this.props.threadManagementStatus}):h.jsxs("div",{children:[h.jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!0}),h.jsxs(b("ResponsiveBlock.react"),{onResize:this.$1,children:[h.jsx(b("PagesManagerInboxListHeaderBizWebUpsellNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react"),{canShowConnectButton:this.props.canShowConnectButton,instagramCommentConnected:this.props.igCommentConnected,pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react"),{pageID:this.props.pageID})]}),h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:this.state.canLoadMore,height:this.props.scrollHeight,loadingIndicator:h.jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:this.props.onLoadMore,rowCount:this.state.nodes.length,rowHeight:parseInt("80px",10),rowKeyGetter:i(b("nullthrows")(this.state.nodes)),rowRenderer:j(b("nullthrows")(this.state.nodes),this.props.mailboxID,this.props.viewingItemToken),showHeader:!1})})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("UnifiedInboxUnifiedThreadlistContainer.react",["FluxContainer","IGMessageConnectionUtils","IGMessageInboxStore","MercuryThreadInformer","MercuryThreadlistConstants","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListLoading.react","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistAction","PagesManagerInboxUnifiedThreadlistStore","PagesManagerMessagingThreadlistAction","PagesMangerInboxMultiAdminFilterUtil","PagesMessagingPerfTypedLogger","React","SubscriptionsHandler","UnifiedInboxUnifiedThreadListView.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={instagramInbox:null,loadCount:0,messengerThreads:[],offset:0,messengerHasMore:!1,instagramHasMore:!1,shouldShowNewMultiAdminAssignment:!1,isInitLoading:!0},d.$1=!1,d.$2=null,d.$3=function(){d.state.instagramHasMore&&d.setState(function(a){a=a.loadCount+b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT;b("IGMessageInboxStore").getInbox(d.props.mailboxID,a,null,b("PageCommItemStatusUtil").getIGDirectFolder(d.props.threadManagementStatus),d.props.threadManagementStatus===b("PageCommItemFolder").FOLLOW_UP,d.props.threadManagementStatus===b("PageCommItemFolder").UNREAD,b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(d.props.commItemOwnerID));return{loadCount:a}}),d.state.messengerHasMore&&(d.props.messengerDisabled||b("PagesManagerMessagingThreadlistAction").fetchThreadlist(d.props.pageID,d.state.offset,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxUnifiedThreadlistStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){var d;a=a?a.loadCount:b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT;var e=c.messengerDisabled?!1:b("PagesManagerInboxListStore").isLoading(),f=b("PagesManagerInboxUnifiedThreadlistStore").getIsLoadingInstagramInbox(),g=c.messengerDisabled?[]:b("PagesManagerInboxListStore").getItemsForAdmin(c.pageID,c.commItemOwnerID),h=b("PagesManagerInboxUnifiedThreadlistStore").getInstagramInbox();d=(d=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:d.instagramDirectConfig;if(h!=null&&(d==null?void 0:d.igAccountIGID)!=null){var i=d==null?void 0:d.igAccountID;d=d==null?void 0:d.mailboxID;i!=null&&d!=null&&b("IGMessageConnectionUtils").processInstagramMessageEventStream(i,d,h)}d=(h==null?void 0:(i=h.page_info)==null?void 0:i.has_next_page)===!0;i=b("PagesManagerInboxStore").getBusinessInboxAppConfig();i=i==null?b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment:Boolean((i=i.inboxRedesignConfig)==null?void 0:i.shouldShowNewMultiAdminAssignment);return{instagramInbox:h,loadCount:a,messengerThreads:g,offset:g.length,messengerHasMore:b("PagesManagerInboxListStore").hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder()),instagramHasMore:d,shouldShowNewMultiAdminAssignment:i,isInitLoading:e&&g.length===0&&!c.commItemOwnerID||f}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;b("PagesManagerMessagingThreadlistAction").initThreadlist(this.props.pageID);var c=b("MercuryThreadInformer").getForFBID(this.props.pageID);this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(c.subscribe("threadlist-updated",function(c,d){return b("PagesManagerMessagingThreadlistAction").updateThreadlist(a.props.pageID)}));b("PagesManagerInboxUnifiedThreadlistAction").setIsLoadingInbox(!0);b("IGMessageInboxStore").getInbox(this.props.mailboxID,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT,null,b("PageCommItemStatusUtil").getIGDirectFolder(this.props.threadManagementStatus),this.props.threadManagementStatus===b("PageCommItemFolder").FOLLOW_UP,this.props.threadManagementStatus===b("PageCommItemFolder").UNREAD,b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(this.props.commItemOwnerID));this.props.viewingItemToken!=null&&this.props.viewingItemToken!==""&&b("PagesManagerAction").viewListItem(this.props.viewingItemToken)};d.componentDidUpdate=function(a,c){c.isInitLoading&&!this.state.isInitLoading&&(this.props.loadEndEventLogged===!1&&this.props.loadStartTime!=null&&this.props.logLoadEndEvent!==null&&(new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setEventName("threadlist_render_complete").setPlatform("ALL").setPerfTime(Date.now()-this.props.loadStartTime).log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent()),b("PagesManagerInboxLogger").logInitialListRendered("ALL",this.props.pageID))};d.componentWillUnmount=function(){this.$2&&this.$2.release(),this.$1=!1};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.state.isInitLoading?g.jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}):g.jsx("div",{children:g.jsx(b("UnifiedInboxUnifiedThreadListView.react"),{canShowConnectButton:this.props.canShowConnectButton,folder:this.props.threadManagementStatus,igCommentConnected:this.props.igCommentConnected,instagramHasMore:this.state.instagramHasMore,instagramThreads:this.props.commItemOwnerID!=null&&this.state.shouldShowNewMultiAdminAssignment===!1?null:this.state.instagramInbox,loadCount:Math.max(this.state.offset,this.state.loadCount),mailboxID:this.props.mailboxID,messengerHasMore:this.state.messengerHasMore,messengerThreads:this.state.messengerThreads,onLoadMore:this.$3,pageID:this.props.pageID,scrollHeight:a,threadManagementStatus:this.props.threadManagementStatus,viewingItemToken:this.props.viewingItemToken})})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxListFluxContainer.react",["cssVar","cx","fbt","BulkActionsContext","FluxContainer","Image.react","JSResource","MediaManagerInboxCustomTabMessageList.react","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityMessageListContainer.react","MediaManagerUtils","PageCommItemFolder","PageCommItemIsReadStatus","PageCommItemStatusUtil","PageCommPlatform","PageManagerInboxLabelThreadSearch.react","PageManagerInboxThreadContentSearch.react","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterStateView.react","PagesManagerInboxFilterStore","PagesManagerInboxListAction","PagesManagerInboxListLoading.react","PagesManagerInboxListRelayContainer.react","PagesManagerInboxListSearchResults.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListContainer.react","PagesManagerInboxMultiAdminSelectorRoot.react","PagesManagerInboxQueryRenderer.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerMessagingLogger","PagesManagerStore","PagesMessagingPerfTypedLogger","React","RelayModern","ResponsiveBlock.react","ScrollableArea.react","UnifiedInboxUnifiedThreadlistContainer.react","lazyLoadComponent","nullthrows","PagesManagerInboxListFluxContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("MediaManagerUtils").isMediaManagerApp,l=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,m=b("React");b("RelayModern").graphql;var n=47,o=b("lazyLoadComponent")(b("JSResource")("UnifiedInboxIGMessageListContainer.react").__setRef("PagesManagerInboxListFluxContainer.react"));a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig(),c=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),d=b("PagesManagerInboxFilterStore").getActiveType(),e=d==="MESSENGER"||d==="INSTAGRAM_DIRECT"?b("PagesManagerInboxFilterStore").getActiveOwner():null,f=a.platformConfigs[d],g=d==="INSTAGRAM_DIRECT"?a.platformConfigs.MESSENGER.canManageComments:!1,h=b("PagesManagerInboxFilterStore").getActiveUTLFolder(),i=null;if(d==="INSTAGRAM_DIRECT"){i=c!=null?(d=c.instagramDirectConfig)==null?void 0:d.igAccountID:b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT.igAccountID}return{canShowConnectButton:b("PagesManagerInboxStore").getConfig().showConnectButton===!0,filterFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),filterOwner:e,filterType:b("PagesManagerInboxFilterStore").getActiveType(),isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),pageCustomerID:b("PagesManagerInboxFilterStore").getPageCustomerID(),igAccountID:i,pageID:a.pageID,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm(),searchType:b("PagesManagerInboxFilterStore").getSearchType(),viewingItem:b("PagesManagerStore").getViewingListItem(),activeSearchLabels:b("PagesManagerInboxFilterStore").getCurrentSearchCustomLabels(),shouldShowPromoteButton:f.showPromoteButton,commentConnected:g,shouldUseUnifiedThreadlist:l(),bulkActionsContext:{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),showBulkSelection:b("PagesManagerInboxStore").shouldShowBulkActions()&&b("PagesManagerStore").isBulkSelectionMode()},messengerDisabled:b("PagesManagerInboxStore").getConfig().fbMessengerState==="DISABLED",utlFolderType:h}};function c(b,c){return a.call(this,b)||this}var d=c.prototype;d.componentDidMount=function(){this.state.filterType==="MESSENGER"&&b("PagesManagerMessagingLogger").logMessagesSectionViewEvent(this.props.mailboxID,null,this.state.filterType),(this.state.filterType==="MESSENGER"||this.state.filterType==="WEC"||this.state.filterType==="INSTAGRAM_DIRECT")&&(b("PagesManagerMessagingLogger").logPageViewFolderEventForInbox(this.props.mailboxID,b("PagesManagerInboxFilterStore").getActiveFolder(),"new_message_tab"),this.state.isSearchActive||new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.mailboxID).setEventName("threadlist_load_more").setThreadOffset(0).log())};d.$1=function(a,c){a&&!c?b("PagesManagerInboxListAction").setInboxListResponseData(!0):!a&&!c&&b("PagesManagerInboxListAction").setInboxListResponseData(!1)};d.$2=function(){var a,c=b("PageCommItemStatusUtil").getIsFilter(this.state.filterFolder);a=((a=this.state.filterOwner)==null?void 0:a.id)!=null;c=(c||a)&&!k();return c?m.jsx(b("PagesManagerInboxFilterStateView.react"),{filterFolder:this.state.filterFolder,filterOwner:this.state.filterOwner,mailboxID:this.props.mailboxID,platform:this.state.filterType,shouldUseUnifiedThreadlist:this.state.shouldUseUnifiedThreadlist}):null};d.$3=function(){return m.jsx(b("ScrollableArea.react"),{height:this.props.height,children:this.state.searchTerm===""&&this.state.activeSearchLabels.length===0?m.jsxs("div",{className:"_7_fp",children:[m.jsx("div",{children:m.jsx(b("Image.react"),{src:"/images/pages/pages_manager/inbox/search-empty-state.png"})}),m.jsx("div",{className:"_7_fq",children:this.state.searchType==="CONTENT"?i._("Search your Messenger conversations for message content."):i._("Search for people and labels across Facebook, Messenger and Instagram. You also can search your Messenger conversations for message content.")})]}):null})};d.$4=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$5=function(){return m.jsx(b("ResponsiveBlock.react"),{onResize:this.$4,children:m.jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.mailboxID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this;if(this.state.isSearchActive&&this.state.searchType==="ADMIN"){var c=this.state.filterOwner?this.state.filterOwner.id:null;return m.jsx(b("PagesManagerInboxMultiAdminSelectorRoot.react"),{filterType:this.state.filterType,height:this.props.height,pageID:this.props.mailboxID,searchTerm:this.state.searchTerm,selectedAdminID:c,shouldShowUnifiedThreadlist:this.state.shouldUseUnifiedThreadlist,threadManagementStatus:this.state.filterFolder})}if(this.state.isSearchActive&&this.state.searchType==="CONTENT")return this.state.searchTerm.length<3?this.$3():m.jsx(b("ScrollableArea.react"),{height:this.props.height,children:m.jsx(b("PageManagerInboxThreadContentSearch.react"),{filterType:this.state.filterType,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,searchTerm:this.state.searchTerm,shouldShowPromoteButton:this.state.shouldShowPromoteButton})});if(this.state.isSearchActive&&this.state.searchType==="CUSTOMER"&&this.state.searchTerm!=="")return m.jsx(b("ScrollableArea.react"),{height:this.props.height,children:m.jsx(b("PagesManagerInboxListSearchResults.react"),{height:this.props.height,pageCustomerID:b("nullthrows")(this.state.pageCustomerID),useNewLabelSearch:this.state.searchType!=="CUSTOMER",viewingItem:this.state.viewingItem})});if(this.state.isSearchActive&&this.state.searchType==="LABEL")return this.state.isSearchActive&&this.state.activeSearchLabels.length===0?this.$3():m.jsx(b("ScrollableArea.react"),{height:this.props.height,children:m.jsx(b("BulkActionsContext").Provider,{value:this.state.bulkActionsContext,children:m.jsx(b("PageManagerInboxLabelThreadSearch.react"),{height:this.props.height,labels:this.state.activeSearchLabels})})});var d=b("PageCommItemStatusUtil").getFolderStatus(this.state.filterFolder);if(this.state.filterType==="WEC"&&!this.props.mailboxID)return m.jsx("div",{style:{backgroundColor:"#FFFFFF"},children:m.jsx(b("PagesManagerInboxConnectionState.react"),{filterType:"WEC",pageID:this.state.pageID,pageToken:""})});c=this.$2()===null?this.props.height:this.props.height-n;if(this.state.shouldUseUnifiedThreadlist&&this.state.utlFolderType==="ALL"&&(this.state.filterType==="INSTAGRAM_DIRECT"||this.state.filterType==="MESSENGER")){var e=null;this.state.filterOwner&&this.state.filterOwner.id&&(e=this.state.filterOwner.id);return m.jsxs("div",{children:[this.$2(),m.jsx(m.Suspense,{fallback:m.jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}),children:m.jsx(b("UnifiedInboxUnifiedThreadlistContainer.react"),{canShowConnectButton:this.state.canShowConnectButton,commItemOwnerID:e,height:c,igCommentConnected:(e=this.state.commentConnected)!=null?e:!1,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:this.props.mailboxID,messengerDisabled:this.state.messengerDisabled,paddingBottom:this.props.paddingBottom,pageID:this.state.pageID,shouldShowPromoteButton:this.state.shouldShowPromoteButton,threadManagementStatus:this.state.filterFolder,viewingItemToken:this.state.viewingItem})})]})}if(this.state.filterType==="INSTAGRAM_DIRECT"||this.state.shouldUseUnifiedThreadlist&&this.state.utlFolderType==="INSTAGRAM_DIRECT"&&b("PagesManagerInboxMercuryUtil").shouldUseMercury()){e=(e=this.state.commentConnected)!=null?e:!1;return m.jsxs("div",{children:[this.$2(),this.$5(),m.jsx(m.Suspense,{fallback:m.jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}),children:m.jsx(o,{commentConnected:e,filterOwner:this.state.filterOwner,height:c,igAccountID:this.state.igAccountID,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.state.pageID,threadManagementStatus:this.state.filterFolder,viewingItemToken:this.state.viewingItem})})]})}else if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return this.state.filterType==="MESSENGER"&&this.state.filterFolder===b("PageCommItemFolder").PRIORITY&&k()?m.jsxs("div",{children:[this.$2(),m.jsx(b("MediaManagerInboxPriorityMessageListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,viewingItem:this.state.viewingItem})]}):m.jsxs("div",{children:[this.$2(),m.jsx(b("PagesManagerInboxMessageListContainer.react"),{commItemOwnerID:this.state.filterOwner?this.state.filterOwner.id:null,filterType:this.state.filterType,height:c,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,shouldShowPromoteButton:this.state.shouldShowPromoteButton,viewingItem:this.state.viewingItem})]});if(b("MediaManagerInboxCustomTabUtils").shouldShowMediaManagerCustomTab(this.state.filterType))return m.jsx(b("MediaManagerInboxCustomTabMessageList.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,tab:this.state.filterType});var f=this.state.filterFolder===b("PageCommItemFolder").UNREAD?b("PageCommItemIsReadStatus").UNREAD:null,g=this.state.filterOwner?this.state.filterOwner.id:null;return m.jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:j!==void 0?j:j=b("PagesManagerInboxListFluxContainerQuery.graphql"),render:function(c){var e=c.error;c=c.props;a.$1(c,e);return c&&!e?m.jsxs("div",{children:[a.$2(),m.jsx(b("PagesManagerInboxListRelayContainer.react"),{filterIsReadStatus:f,filterOwnerID:g,filterStatus:d,filterType:a.state.filterType,folder:a.state.filterFolder,height:a.props.height,isHighlightedComment:a.state.filterFolder===b("PageCommItemFolder").PRIORITY,isStarsComment:a.state.filterFolder===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT,loadEndEventLogged:a.props.loadEndEventLogged,loadStartTime:a.props.loadStartTime,logLoadEndEvent:a.props.logLoadEndEvent,paddingBottom:a.props.paddingBottom,page:c.page,pageID:a.props.mailboxID,shouldShowPromoteButton:a.state.shouldShowPromoteButton,viewingItem:a.state.viewingItem})]}):m.jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{filterStatus:d,pageID:this.props.mailboxID,platformFilter:this.state.filterType,filterIsReadStatus:f,filterOwnerID:g,isHighlightedComment:this.state.filterFolder===b("PageCommItemFolder").PRIORITY,isStarsComment:this.state.filterFolder===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT}})};return c}(m.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAutomationDoneFolderNUX.react",["fbt","FDSText.react","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMarketingAutomationStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="business_inbox_automation_done_folder";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(i)),d.setState({shouldShowNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a,c){return{shouldShowNUX:!!b("PagesMarketingAutomationStore").getRecentAutomationThreadFBID()}};var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2(i));return a};d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.render=function(){return h.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,customwidth:240,offsetX:-255,offsetY:-30,onCloseButtonClick:this.$3,position:"right",shown:this.state.shouldShowNUX&&this.$1(),width:"custom",children:h.jsx(b("FDSText.react"),{color:"white",size:"body3",children:g._("Conversations with automation in progress are in the Done folder.")})})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionsCancelSelectionButton.react",["cx","BulkSelectionThreadAction","LeftRight.react","PagesManagerAction","PagesManagerBulkActionLogger","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(){function a(){b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:b("BulkSelectionThreadAction").UNSELECT}}),b("PagesManagerAction").toggleBulkSelectionMode()}return h.jsx("div",{className:"_3qn7 _3qng",children:h.jsx(b("LeftRight.react"),{children:h.jsx("div",{className:"_8iwy _8iwz",onClick:a,role:"button",tabIndex:"0"})})})}e.exports=a}),null);
__d("PagesManagerInboxBulkActionItemsUtils",["fbt","invariant","PagesManagerBulkActionLogger","React","Text.react","keyMirror","nullthrows","productsAssertExhausted"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("keyMirror")({DONE:null,FOLLOW_UP:null,INBOX:null,MARK_UNREAD:null,SPAM:null,DELETE:null,ASSIGN_ADMIN:null,REPLY:null,LABEL:null});function k(a){switch(a){case"FOLLOW_UP":return"follow_up";case"DONE":return"done";case"INBOX":return"todo";case"SPAM":return"spam";default:return null}}a={mapCommItemStatusTypeToBulkActionType:function(a){switch(a){case"FOLLOW_UP":return j.FOLLOW_UP;case"DONE":return j.DONE;case"TODO":return j.INBOX;case"SPAM":return j.SPAM;case"DELETED":return j.DELETE;default:b("productsAssertExhausted")(a)}},getToolTipLabel:function(a){switch(a){case"DONE":return g._("Move to Done");case"FOLLOW_UP":return g._("Mark as Follow Up");case"INBOX":return g._("Move to Main");case"MARK_UNREAD":return g._("Mark as Unread");case"SPAM":return g._("Move to Spam");case"DELETE":return g._("Delete");case"ASSIGN_ADMIN":return g._("Assign Conversation");case"REPLY":return g._("Reply");case"LABEL":return g._("Add labels");default:b("productsAssertExhausted")(a)}return""},getActionConfirmation:function(a,c,d,e){d===void 0&&(d=0);e===void 0&&(e="");switch(a){case"DONE":return g._({"*":"{number} conversations moved to Done folder","_1":"1 conversation moved to Done folder"},[g._plural(c,"number")]);case"FOLLOW_UP":return g._({"*":"{number} conversations marked as Follow Up","_1":"1 conversation marked as Follow Up"},[g._plural(c,"number")]);case"INBOX":return g._({"*":"{number} conversations moved to Main folder","_1":"1 conversation moved to Main folder"},[g._plural(c,"number")]);case"MARK_UNREAD":return g._({"*":"{number} conversations marked as unread","_1":"1 conversation marked as unread"},[g._plural(c,"number")]);case"SPAM":return g._({"*":"{number} conversations moved to Spam folder","_1":"1 conversation moved to Spam folder"},[g._plural(c,"number")]);case"DELETE":return g._({"*":"{number} conversations deleted","_1":"1 conversation deleted"},[g._plural(c,"number")]);case"ASSIGN_ADMIN":e!==""||h(0,19125);return g._({"*":"{number} conversations assigned to {admin_name}","_1":"1 conversation assigned to {admin_name}"},[g._plural(c,"number"),g._param("admin_name",e)]);case"REPLY":return g._({"*":"You replied to {number} conversations","_1":"You replied to 1 conversation"},[g._plural(c,"number")]);case"LABEL":return g._({"*":{"*":" Labels added to {number} conversations","_1":" Labels added to 1 conversation"},"_1":{"*":" Label added to {number} conversations","_1":" Label added to 1 conversation"}},[g._plural(d),g._plural(c,"number")]);default:b("productsAssertExhausted")(a)}},getBulkLabelDialogTitle:function(){return g._("Add Labels")},getBulkLabelTitle:function(a,c){return g._({"*":{"*":" Labels added to {Number of conversations} conversations","_1":" Labels added to {Number of conversations} conversation"},"_1":{"*":" Label added to {Number of conversations} conversations","_1":" Label added to {Number of conversations} conversation"}},[g._plural(c),g._param("Number of conversations",i.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkReplyDialogTitle:function(){return g._("Reply")},getBulkReplyTitle:function(a){return g._({"*":"This message will be sent separately to {Number of conversations} conversations","_1":"This message will be sent separately to {Number of conversations} conversation"},[g._param("Number of conversations",i.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkDeleteDialogTitle:function(a){return g._({"*":"Delete {number} Conversations","_1":"Delete 1 Conversation"},[g._plural(a,"number")])},getBulkDeleteDialogText:function(){return g._("This will permanently delete all conversation history.")},getBulkAssignAdminDialogTitle:function(a){return g._("Assign Conversation")},getBulkAssignAdminDialogText:function(a){return g._({"*":"Assign {Number of conversations} conversations to someone managing your Page","_1":"Assign {Number of conversations} conversation to someone managing your Page"},[g._param("Number of conversations",i.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkActionsNuxText:function(){return g._("You can now apply an action to multiple conversations at once.")},logBulkActionClick:function(a,c){var d={event_data:{num_threads:c}};switch(a){case"DONE":case"FOLLOW_UP":case"INBOX":case"SPAM":var e=k(a);b("PagesManagerBulkActionLogger").logMoveToFolderActionClick({event_data:{num_threads:c,targer_folder:b("nullthrows")(e)}});break;case"MARK_UNREAD":b("PagesManagerBulkActionLogger").logMarkAsUnreadActionClick(d);break;case"DELETE":b("PagesManagerBulkActionLogger").logDeleteActionClick(d);break;case"ASSIGN_ADMIN":b("PagesManagerBulkActionLogger").logAdminAssignmentActionClick(d);break;case"REPLY":b("PagesManagerBulkActionLogger").logReplyActionClick(d);break;case"LABEL":b("PagesManagerBulkActionLogger").logLabelActionClick(d);break;default:b("productsAssertExhausted")(a)}}};e.exports={PagesManagerInboxBulkActionItemsUtils:a,PagesManagerInboxBulkActions:j}}),null);
__d("PagesManagerInboxPageAdminsTypeahead.react",["cx","fbt","Image.react","PagesManagerAdminSearchSource","React","SUIBusinessTheme","SUITypeahead.react","XUICard.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useState;function k(a){function c(){return function(b){return a.onSelect(a.entry,b)}}return i.jsxs("div",{className:"_8jdd",onMouseDown:c(),children:[i.jsx(b("Image.react"),{className:"_8jde",src:a.entry.getPhoto()}),i.jsx("span",{children:a.entry.getTitle()})]},a.entry.getUniqueID())}function a(a){var c=j(null),d=c[0],e=c[1];c=j("");var f=c[0],g=c[1];function l(){var c=new(b("PagesManagerAdminSearchSource"))();c.cacheData(a.admins);return c}function m(a){g(a)}function n(){g("")}function o(b){g("");e(b);var c=b.getUniqueID();a.onSelectedAdminChange({id:c,name:b.getTitle(),profile_picture:(b=a.admins.find(function(a){return a.id===c}))==null?void 0:(b=b.profile_picture)==null?void 0:b.uri})}return i.jsxs(i.Fragment,{children:[d&&i.jsx("div",{className:"_2pio",style:{display:"table-cell"},children:i.jsxs("div",{className:"_8jdf",children:[i.jsx(b("Image.react"),{className:"_8jde",src:d.getPhoto()}),i.jsx("span",{className:"_8jdg",children:d.getTitle()})]})}),i.jsx("div",{className:d?"":"_2pie",children:i.jsx(b("XUICard.react"),{className:"_8jdc",children:i.jsx(b("SUITypeahead.react"),{autoHighlight:!0,inputClassName:"_8jdh",onBlur:n,onChange:m,onEnterWithoutSelection:n,onSelectAttempt:o,placeholder:h._("Search"),presenter:{extraRendererProps:{renderers:{ItemRenderer:k}}},queryString:f,searchSource:l(),theme:b("SUIBusinessTheme")})})})]})}e.exports=a}),null);
__d("PagesManagerInboxBulkActionsAdminAssigner.react",["PagesManagerInboxPageAdminsTypeahead.react","React","RelayModern","nullthrows","PagesManagerInboxBulkActionsAdminAssigner_page_info.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=b("nullthrows")((a=this.props.page_info.page_admin_users)==null?void 0:a.nodes);return h.jsx(b("PagesManagerInboxPageAdminsTypeahead.react"),{admins:a,onSelectedAdminChange:this.props.onSelectedAdminChange})};return c}(h.PureComponent);e.exports=a(c,{page_info:g!==void 0?g:g=b("PagesManagerInboxBulkActionsAdminAssigner_page_info.graphql")})}),null);
__d("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation.graphql");function a(a,c){var d=function(c){var d=c.get(a.pageID);if(!d)return;a.commItemIDs.map(function(e){var f=c.get(e);if(!f)return;var g=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:g,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});f=b("PagesManagerInboxFilterStore").getActiveOwner().id;g&&Boolean(f)&&f!==a.adminID&&h.deleteNode(g,e)})};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,comm_items:a.commItemIDs}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkActionsAdminAssignerContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","LeftRight.react","MercuryIDs","MercuryThreadActions","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsAdminAssigner.react","PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBulkActionsAdminAssignerContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=b("React"),l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var m=h!==void 0?h:h=b("PagesManagerInboxBulkActionsAdminAssignerContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){var d;d=a.call(this,c)||this;d.$1=function(){return new(b("Promise"))(function(a,c){b("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation").commit({adminID:d.state.selectedAdmin.id,commItemIDs:d.state.selectedCommItemFBIDs,pageID:d.state.pageID},{onSuccess:function(c){b("PagesManagerBulkActionLogger").logAdminAssignmentDialogSubmit({event_data:{num_threads:d.state.selectedThreads.length}}),b("PagesManagerBulkActionLogger").logThreadsAssignedToAdmin(d.state.selectedThreads),d.$2(),a(i.getActionConfirmation(j.ASSIGN_ADMIN,d.state.selectedThreads.length,0,d.state.selectedAdmin.name))},onFailure:c})})};d.$3=function(a){d.setState({selectedAdmin:a},d.$4)};d.$4=function(){d.state.selectedAdmin?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$5=function(a){a.error;a=a.props;if(a){var c;d.$4();c=b("nullthrows")((c=a.page_comm_items)==null?void 0:c.page_comm_items_for_message_threads);d.setState({selectedCommItemFBIDs:c.map(function(a){return a.id})});return k.jsxs("div",{className:"_8h-v",children:[k.jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:k.jsx("div",{className:"_8h-w",children:i.getBulkAssignAdminDialogText(d.state.selectedThreads.length)})}),k.jsx(b("PagesManagerInboxBulkActionsAdminAssigner.react"),{onSelectedAdminChange:d.$3,page_info:a.page_info})]})}return k.jsx("div",{className:"_3qn7 _61-1",children:k.jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$1);return d}var d=c.prototype;d.$2=function(){var a=this.state,c=a.pageID,d=a.selectedThreads;a=a.selectedAdmin;d=d.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(c).updateCommItemOwner(d,a.name,a.id,a.profile_picture)};d.render=function(){return k.jsx(l,{environment:b("RelayFBEnvironment"),query:m,render:this.$5,variables:{page_id:this.state.pageID,message_thread_id_list:this.state.selectedThreads}})};return c}(k.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBulkActionsSetLabelMutation",["Promise","RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkActionsSetLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsSetLabelMutation.graphql");function a(a){return new(b("Promise"))(function(c,d){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,label_name:a.labelName,page_contact_list:a.pageContactList}},onCompleted:c,onError:d})})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkActionsUnsetLabelMutation",["Promise","RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkActionsUnsetLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsUnsetLabelMutation.graphql");function a(a){return new(b("Promise"))(function(c,d){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,label_name:a.labelName,page_contact_list:a.pageContactList}},onCompleted:c,onError:d})})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkLabelSection.react",["cx","CustomLabelUtils","LeftRight.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsSetLabelMutation","PagesManagerInboxBulkActionsUnsetLabelMutation","PagesManagerInboxContextCardLabelsTypeahead.react","PagesManagerInboxLabel.react","React","RelayModern","immutable","nullthrows","promiseDone","PagesManagerInboxBulkLabelSection_page_contacts.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CustomLabelUtils").MAX_LABEL_NAME_LENGTH,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,k=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={newLabels:b("immutable").Map()},d.$1=function(){d.props.onLabelsAddedChange(d.state.newLabels.map(function(a){return a.label}).toArray())},d.$3=function(a){d.$2(a.name,!0)},d.$4=function(a){d.$2(a,!0)},d.$5=function(a){d.$2(a.name,!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a,c){var d=this,e=this.props.page_contacts.page_messenger_contacts.map(function(a){return a.id||""});if(c)b("promiseDone")(b("PagesManagerInboxBulkActionsSetLabelMutation").commit({pageContactList:e,labelName:a}),function(b){var c,e=(c=b.bulk_actions_page_contacts_set_label)==null?void 0:c.label,f=((c=b.bulk_actions_page_contacts_set_label)==null?void 0:c.labeled_contacts)||[];d.setState(function(b){return{newLabels:b.newLabels.set(a,{label:{id:(e==null?void 0:e.id)||"",color:(e==null?void 0:e.label_color)||"",name:(e==null?void 0:e.name)||""},contacts:f.filter(function(a){return Boolean(a)}).map(function(a){return(a==null?void 0:a.id)||""})})}},d.$1)});else{e=(c=this.state.newLabels.get(a))==null?void 0:c.contacts;b("promiseDone")(b("PagesManagerInboxBulkActionsUnsetLabelMutation").commit({pageContactList:e,labelName:a}),function(){return d.setState(function(b){return{newLabels:b.newLabels["delete"](a)}},d.$1)})}};d.render=function(){var a=this,c=this.state.newLabels.toArray().map(function(c){return c.label&&k.jsx("div",{className:"_7ajl",children:k.jsx(b("PagesManagerInboxLabel.react"),{color:b("nullthrows")(c.label.color),id:b("nullthrows")(c.label.id),name:b("nullthrows")(c.label.name),onRemove:a.$5,searchOnClick:!1},b("nullthrows")(c.label.name))},b("nullthrows")(c.label.name))}),d=this.props,e=d.labels;d=d.selectedThreads;return k.jsxs("div",{className:"_8h-v",children:[!this.state.newLabels.isEmpty()&&k.jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:k.jsx("div",{className:"_8h-w",children:j.getBulkLabelTitle(d.length,this.state.newLabels.count())})}),c.length>0&&c,k.jsx("div",{className:"_8h-x",children:k.jsx(b("PagesManagerInboxContextCardLabelsTypeahead.react"),{labels:this.props.labels.toArray(),maxLength:i,onAddLabel:this.$3,onCreateLabel:this.$4,pageLabelNum:e.count()})})]})};return c}(k.PureComponent);d=a(c,{page_contacts:h!==void 0?h:h=b("PagesManagerInboxBulkLabelSection_page_contacts.graphql")});e.exports=d}),null);
__d("PagesManagerInboxBulkLabelSectionContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","PagesManagerBulkActionLogger","PagesManagerCustomLabelsStore","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkLabelSection.react","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkLabelSectionContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=b("React"),l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var m=h!==void 0?h:h=b("PagesManagerInboxBulkLabelSectionContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerCustomLabelsStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),labels:b("PagesManagerCustomLabelsStore").getLabels(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){var d;d=a.call(this,c)||this;d.$1=function(){b("PagesManagerBulkActionLogger").logLabelDialogSubmit({event_data:{num_threads:d.state.selectedThreads.length,labels:d.state.newLabels.map(function(a){return{label_color:a.color,label_name:a.name,label_id:a.id}})}});var a=i.getActionConfirmation(j.LABEL,d.state.selectedThreads.length,d.state.newLabels.length);return b("Promise").resolve(a)};d.$2=function(a){d.setState({newLabels:a},d.$3)};d.$3=function(){var a;((a=d.state.newLabels)==null?void 0:a.length)?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$4=function(a){a.error;a=a.props;if(a){d.$3();return k.jsx(b("PagesManagerInboxBulkLabelSection.react"),{labels:d.state.labels,onLabelsAddedChange:d.$2,page_contacts:a.page_contacts,selectedThreads:d.state.selectedThreads})}return k.jsx("div",{className:"_3qn7 _61-1",children:k.jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$1);return d}var d=c.prototype;d.render=function(){return k.jsx(l,{environment:b("RelayFBEnvironment"),query:m,render:this.$4,variables:{page_id:this.state.pageID,page_contact_user_id_list:this.state.selectedThreads}})};return c}(k.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionsPageCommItemsQuery",["RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBulkActionsPageCommItemsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsPageCommItemsQuery.graphql");function a(a,c){a={page_id:a,message_thread_id_list:c};return h(b("RelayFBEnvironment"),i,a).then(function(a){return((a=(a=a.page_comm_items)==null?void 0:a.page_comm_items_for_message_threads)!=null?a:[]).map(function(a){return{id:b("nullthrows")(a==null?void 0:a.id),oldStatus:b("nullthrows")(a==null?void 0:a.comm_status),threadFBID:b("nullthrows")(a==null?void 0:a.target_id)}})})}e.exports={getPageCommItems:a}}),null);
__d("PagesManagerInboxBulkOneClickActionHelper",["Promise","BIZInboxClientLogger","MercuryIDs","MercuryThreadActions","PageCommItemStatus","PageCommItemUnreadEditMutation","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsPageCommItemsQuery","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerStore","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,h=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions;function i(){return b("PagesManagerInboxStore").getConfig().pageID}function j(){return b("PagesManagerStore").getSelectedThreads().toArray()}function k(a,c,d,e){c=d.reduce(function(a,b){a.has(b.oldStatus)||a.set(b.oldStatus,[]);(a.get(b.oldStatus)||[]).push(b);return a},new Map());c.forEach(function(c,d,e){e=c.map(function(a){return a.threadId});switch(d){case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:b("MercuryThreadActions").getForFBID(a).batchUnarchive(e);break;case b("PageCommItemStatus").FOLLOW_UP:b("MercuryThreadActions").getForFBID(a).batchUnmarkPageFollowUp(e);break;case b("PageCommItemStatus").SPAM:b("MercuryThreadActions").getForFBID(a).batchUnmarkSpam(e);break;default:return}})}function l(a,c,d){c.forEach(function(c){b("PagesManagerInboxLogger").itemStatusChanged(c.id,"MESSENGER",d,"BULK_ACTION"),b("PagesManagerInboxLogger").itemStatusChangedInThread(c.id,"MESSENGER",d,b("PagesManagerInboxFilterStore").getActiveFolder(),"BULK_ACTION"),b("BIZInboxClientLogger").logFolderUpdate(a,"MESSENGER",b("PagesManagerInboxFilterStore").getActiveFolder(),d)});c=c.map(function(a){return babelHelpers["extends"]({},a,{threadId:b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a.threadFBID))})});var e=c.map(function(a){return a.threadId}),f=b("PagesManagerInboxFilterStore").getActiveFolder();switch(d){case b("PageCommItemStatus").DONE:b("MercuryThreadActions").getForFBID(a).batchArchive(e);break;case b("PageCommItemStatus").TODO:k(a,f,c,d);break;case b("PageCommItemStatus").FOLLOW_UP:b("MercuryThreadActions").getForFBID(a).batchMarkPageFollowUp(e);break;case b("PageCommItemStatus").SPAM:b("MercuryThreadActions").getForFBID(a).batchMarkSpam(e);break;case b("PageCommItemStatus").DELETED:b("MercuryThreadActions").getForFBID(a).batchDelete(e);break;default:return}b("MercuryThreadActions").getForFBID(a).updateCommStatus(e,d);b("PagesManagerAction").viewListItem(null)}function m(a,c,d){return b("PagesManagerInboxBulkActionsPageCommItemsQuery").getPageCommItems(a,c).then(function(b){return l(a,b,d)})}function n(a,c,d,e){b("promiseDone")(b("PagesManagerInboxBulkActionsPageCommItemsQuery").getPageCommItems(a,c).then(function(c){b("PageCommItemUnreadEditMutation").commit({ids:c.map(function(a){return a.id}),actor_id:a},{onSuccess:function(a){return d((a=a==null?void 0:(a=a.page_comm_item_mark_as_unread)==null?void 0:(a=a.page_comm_items)==null?void 0:a.length)!=null?a:0)},onFailure:e})}))}a={changeStatus:function(a){var c=j();return new(b("Promise"))(function(d,e){return b("promiseDone")(m(i(),c,a),function(e){e=g.mapCommItemStatusTypeToBulkActionType(a);e&&(a===b("PageCommItemStatus").DELETED&&(b("PagesManagerBulkActionLogger").logDeletedThreads(c),b("PagesManagerBulkActionLogger").logDeleteDialogSubmit({event_data:{num_threads:c.length}})),d(g.getActionConfirmation(e,c.length)));return d(null)},e)})},markAsUnread:function(){return new(b("Promise"))(function(a,c){var d=j();n(i(),d,function(e){e>0?(b("PagesManagerBulkActionLogger").logMarkedAsUnreadThreads(d),a(g.getActionConfirmation(h.MARK_UNREAD,e))):c()},c)})}};e.exports=a}),null);
__d("PagesManagerInboxBulkReplyComposer.react",["cx","fbt","Image.react","PagesMessengerTextInput.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onInputChange(a.target.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_8ibi",children:i.jsxs("div",{className:"_8ibj",children:[i.jsx("div",{className:"_8ibk",children:i.jsx(b("Image.react"),{className:"_8ibm",src:this.props.profilePictureUri})}),i.jsx("div",{className:"_8ibn",children:i.jsx(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _8ibo",onChange:this.$1,placeholder:h._("Write a message...")})}),i.jsx("div",{className:"_3-8o _8ibp"})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("BulkReplyRecipientsSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$BulkReplyRecipientsSearchSource1=b;return c}var c=b.prototype;c.searchImpl=function(a,b){var c=this.$BulkReplyRecipientsSearchSource1.filter(function(b){return b.getTitle().toLowerCase().includes(a)});b(c,a)};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxBulkReplyRecipientsTypeahead.react",["BulkReplyRecipientsSearchSource","FDSTokenizer.react","React","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useState;function a(a){var c=a.recipients.map(function(a){return new(b("SearchableEntry"))({title:a.title,uniqueID:a.id})}),d=h(c),e=d[0],f=d[1];function i(b){f([].concat(e,[b]));var c=a.onSelectionChange;c&&c(b.getUniqueID(),!0)}function j(b){f(e.filter(function(a){return a!==b}));var c=a.onSelectionChange;c&&c(b.getUniqueID(),!1)}d=new(b("BulkReplyRecipientsSearchSource"))(c);return g.jsx(b("FDSTokenizer.react"),{label:"",onAddEntry:i,onRemoveEntry:j,searchSource:d,value:e})}e.exports=a}),null);
__d("PagesManagerInboxBulkReplySection.react",["cx","FDSSpinner.react","LeftRight.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkReplyComposer.react","PagesManagerInboxBulkReplyRecipientsTypeahead.react","React","RelayModern","immutable","nullthrows","PagesManagerInboxBulkReplySection_page_contacts.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={body:null,recipients:b("immutable").Set(d.$1().map(function(a){return a.id})),showSpinner:!1},d.$2=function(a,b){d.setState(function(c){return{recipients:b?c.recipients.add(a):c.recipients.remove(a)}},d.$3)},d.$3=function(){var a=d.state,b=a.body;a=a.recipients;b={body:(b=b)!=null?b:"",file_ids:[],image_ids:[],recipient_ids:a.toArray()};d.props.onMessagePayloadChange(b)},d.$4=function(a){d.setState({body:a},d.$3)},d.toggleSpinner=function(a){d.setState({showSpinner:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.onRef;a&&a(this)};d.componentWillUnmount=function(){var a=this.props.onRef;a&&a()};d.$1=function(){return this.props.page_contacts.page_messenger_contacts.map(function(a){var c;c=(c=a.unified_contact_comms_facebook)==null?void 0:c.nodes[0];return{title:b("nullthrows")((c=c)!=null?c.comm_title:c),id:b("nullthrows")((c=a.user)!=null?c.id:c)}})};d.render=function(){var a=this.$1();return j.jsx(j.Fragment,{children:this.state.showSpinner?j.jsx("div",{className:"_3qn7 _61-1",children:j.jsx(b("FDSSpinner.react"),{})}):j.jsxs("div",{className:"_8h-v",children:[j.jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:j.jsx("div",{className:"_8h-w",children:i.getBulkReplyTitle(this.state.recipients.count())})}),j.jsx(b("PagesManagerInboxBulkReplyRecipientsTypeahead.react"),{onSelectionChange:this.$2,recipients:a}),j.jsx(b("PagesManagerInboxBulkReplyComposer.react"),{onInputChange:this.$4,profilePictureUri:this.props.profile_picture_uri})]})})};return c}(j.PureComponent);d=a(c,{page_contacts:h!==void 0?h:h=b("PagesManagerInboxBulkReplySection_page_contacts.graphql")});e.exports={PagesManagerInboxBulkReplySectionContainer:d,PagesManagerInboxBulkReplySection:c}}),null);
__d("XPagesManagerInboxBulkReplyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/bulk_reply/",{})}),null);
__d("PagesManagerInboxBulkReplySender",["Promise","ActorURI","AsyncRequest","PagesManagerInboxLogger","XPagesManagerInboxBulkReplyController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.$1=function(a){var c=b("XPagesManagerInboxBulkReplyController").getURIBuilder().getURI();return b("ActorURI").create(c,a)};c.$2=function(a){return a.payload};c.send=function(a,c){var d=this;b("PagesManagerInboxLogger").logSendMessage("MESSENGER",a,!1);return new(b("Promise"))(function(e,f){var g=d.$1(a);new(b("AsyncRequest"))().setURI(g).setMethod("POST").setData(c).setHandler(function(a){return e(d.$2(a))}).setErrorHandler(f).setTransportErrorHandler(f).send()})};return a}();e.exports=new a()}),null);
__d("PagesManagerInboxBulkReplySectionContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkReplySection.react","PagesManagerInboxBulkReplySender","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","promiseDone","PagesManagerInboxBulkReplySectionContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions;b("PagesManagerInboxBulkReplySection.react").PagesManagerInboxBulkReplySection;var k=b("PagesManagerInboxBulkReplySection.react").PagesManagerInboxBulkReplySectionContainer,l=b("React"),m=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var n=h!==void 0?h:h=b("PagesManagerInboxBulkReplySectionContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){var d;d=a.call(this,c)||this;d.$2=function(){var a=d.state,c=a.pageID,e=a.payload;if(e&&d.$3(e)){d.$4(!0);var f=i.getActionConfirmation(j.REPLY,e.recipient_ids.length);return new(b("Promise"))(function(a,g){b("promiseDone")(b("PagesManagerInboxBulkReplySender").send(c,e),function(c){b("PagesManagerBulkActionLogger").logReplyDialogSubmit({event_data:{num_threads:e.recipient_ids.length}}),d.$4(!1),a(f)},function(a){d.$4(!1),g()})})}return b("Promise").reject()};d.$5=function(){d.state.payload&&d.$3(d.state.payload)?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$6=function(a){d.setState({payload:a},d.$5)};d.$7=function(a){a.error;a=a.props;if(a){d.$5();return l.jsx(k,{onMessagePayloadChange:d.$6,onRef:function(a){d.$1=a},page_contacts:a.page_contacts,profile_picture_uri:a.page_contacts.profile_picture.uri})}return l.jsx("div",{className:"_3qn7 _61-1",children:l.jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$2);return d}var d=c.prototype;d.$3=function(a){var b=a.body,c=a.file_ids,d=a.image_ids;return a.recipient_ids.length>0&&(Boolean(b)||c.length>0||d.length>0)};d.$4=function(a){var b;b=(b=this.$1)==null?void 0:b.toggleSpinner;b&&b(a)};d.render=function(){return l.jsx(m,{environment:b("RelayFBEnvironment"),query:n,render:this.$7,variables:{page_id:this.state.pageID,page_contact_user_id_list:this.state.selectedThreads}})};return c}(l.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionComponent.react",["cx","Promise","LeftRight.react","PageCommItemStatus","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsAdminAssignerContainer.react","PagesManagerInboxBulkLabelSectionContainer.react","PagesManagerInboxBulkOneClickActionHelper","PagesManagerInboxBulkReplySectionContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,i=b("React");c=b("React");d=c.forwardRef;var j=c.useImperativeHandle;function a(a,c){var d=null;j(c,function(){return{executeAction:function(a){return d?d():b("Promise").reject()},type:a.type}});function e(a){d=a}switch(a.type){case"REPLY":return i.jsx(b("PagesManagerInboxBulkReplySectionContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"LABEL":return i.jsx(b("PagesManagerInboxBulkLabelSectionContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"ASSIGN_ADMIN":return i.jsx(b("PagesManagerInboxBulkActionsAdminAssignerContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"DELETE":e(function(){return b("PagesManagerInboxBulkOneClickActionHelper").changeStatus(b("PageCommItemStatus").DELETED)});return i.jsx("div",{className:"_2phz",children:i.jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:i.jsx("div",{className:"_8h-w",children:h.getBulkDeleteDialogText()})})});default:return null}}e.exports=d(a)}),null);
__d("PagesManagerInboxBulkActionsNavBarContainer.react",["cx","fbt","CenteredContainer.react","FDSDropdownMenu.react","PageCommItemFolder","PageCommItemStatus","PagesManagerAction","PagesManagerInboxBulkActionComponent.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkOneClickActionHelper","PagesManagerInboxStore","React","Tooltip","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","emptyFunction","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=b("React"),l=600,m=4;function n(a){return k.jsxs(b("XUIDialog.react"),{hideOnEscape:!1,isStrictlyControlled:!0,onHide:a.onHide,shown:a.show,width:l,children:[k.jsx(b("XUIDialogTitle.react"),{showCloseButton:!a.closeButtonsDisabled,children:a.title}),k.jsx(b("XUIDialogBody.react"),{children:a.children}),k.jsxs(b("XUIDialogFooter.react"),{children:[k.jsx(b("XUIDialogCancelButton.react"),{disabled:a.closeButtonsDisabled}),k.jsx(b("XUIDialogButton.react"),{action:"confirm",disabled:a.actionButtonDisabled,label:a.actionButtonLabel,onClick:a.onDialogConfirm,use:"confirm"})]})]})}function o(a){var c=Boolean(a.label)?babelHelpers["extends"]({},b("Tooltip").propsFor(a.label)):{};function d(){return function(){i.logBulkActionClick(a.id,a.selectedThreads),(a.isDisabled?b("emptyFunction"):a.onClick)()}}return k.jsx(b("CenteredContainer.react"),{className:"_8hgm",fullHeight:!0,horizontal:!1,onClick:d(),vertical:!0,children:k.jsx("div",babelHelpers["extends"]({className:b("joinClasses")((a.isDisabled?"":"_8hgn")+(a.isDisabled?" _8j4u":""),a.className)},c))},a.id)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,dialogContent:null},d.$1=k.createRef(),d.$5=function(){var a;a=(a=d.$1)==null?void 0:a.current;a=(a=a)!=null?a:{};var c=a.executeAction;a=a.type;c&&a&&(d.$3(!1),b("promiseDone")(c(),d.$4.bind(babelHelpers.assertThisInitialized(d),a),function(a){return d.$2(!0,!0)}))},d.$6=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Done"),component:k.jsx(b("PagesManagerInboxBulkActionComponent.react"),{onValidationFailed:function(){return d.$3(!1,!0)},onValidationPassed:function(){return d.$3(!0,!1)},ref:d.$1,type:j.LABEL}),title:i.getBulkLabelDialogTitle(),actionButtonDisabled:!0,closeButtonsDisabled:!1}})},d.$7=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Assign"),component:k.jsx(b("PagesManagerInboxBulkActionComponent.react"),{onValidationFailed:function(){return d.$3(!1)},onValidationPassed:function(){return d.$3(!0)},ref:d.$1,type:j.ASSIGN_ADMIN}),title:i.getBulkAssignAdminDialogTitle(d.props.selectedThreads),actionButtonDisabled:!1}})},d.$8=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Delete"),component:k.jsx(b("PagesManagerInboxBulkActionComponent.react"),{ref:d.$1,type:j.DELETE}),title:i.getBulkDeleteDialogTitle(d.props.selectedThreads),actionButtonDisabled:!1}})},d.$11=[{id:j.LABEL,className:"_8hgo",onClick:d.$6},{id:j.ASSIGN_ADMIN,className:"_8lhv",onClick:d.$7},{id:j.FOLLOW_UP,className:"_8j2d",onClick:d.$10(b("PageCommItemStatus").FOLLOW_UP,j.FOLLOW_UP)},{id:j.DONE,className:"_8j2e",onClick:d.$10(b("PageCommItemStatus").DONE,j.DONE)},{id:j.MARK_UNREAD,className:"_8nj_",onClick:function(){return b("promiseDone")(b("PagesManagerInboxBulkOneClickActionHelper").markAsUnread(),d.$4.bind(babelHelpers.assertThisInitialized(d),j.MARK_UNREAD),b("PagesManagerAction").toggleBulkSelectionMode)}},{id:j.INBOX,className:"_8j2n",onClick:d.$10(b("PageCommItemStatus").TODO,j.INBOX)},{id:j.SPAM,className:"_8j2o",onClick:d.$10(b("PageCommItemStatus").SPAM,j.SPAM)}],d.$12=function(a){return{type:"item",label:i.getToolTipLabel(a.id),onClick:function(){i.logBulkActionClick(a.id,d.props.selectedThreads),a.onClick()},isDisabled:d.props.selectedThreads===0}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a,c){c===void 0&&(c=!1);if(!a&&((a=this.state.dialogContent)==null?void 0:a.closeButtonsDisabled))return;this.setState({showDialog:!1,dialogContent:null},function(){return c&&b("PagesManagerAction").toggleBulkSelectionMode()})};d.$3=function(a,b){b===void 0&&(b=!0),this.setState(function(c){return babelHelpers["extends"]({},c,{dialogContent:babelHelpers["extends"]({},c.dialogContent,{actionButtonDisabled:!a,closeButtonsDisabled:!b})})})};d.$4=function(a,c){Boolean(c)&&b("PagesManagerAction").setBulkActionResult({actionType:a,message:c||""}),this.$2(!0,!0)};d.$9=function(a){var c=[];switch(this.props.folderSelected){case b("PageCommItemFolder").SPAM:c.push(j.FOLLOW_UP,j.DONE,j.SPAM,j.MARK_UNREAD,j.LABEL,j.ASSIGN_ADMIN);break;case b("PageCommItemFolder").DONE:c.push(j.FOLLOW_UP,j.DONE,j.MARK_UNREAD,j.LABEL);break;case b("PageCommItemFolder").TODO:c.push(j.INBOX);break}return a.filter(function(a){return!c.some(function(b){return b===a.id})})};d.$10=function(a,c){var d=this;return function(){return b("promiseDone")(b("PagesManagerInboxBulkOneClickActionHelper").changeStatus(a),d.$4.bind(d,c),b("PagesManagerAction").toggleBulkSelectionMode)}};d.render=function(){var a=this,c=this.state,d=c.dialogContent;c=c.showDialog;var e=this.props.selectedThreads===0,f={id:j.DELETE,className:"_8j2p",onClick:this.$8};f=this.$9(b("PagesManagerInboxStore").shouldAllowBulkDelete()?[].concat(this.$11,[f]):[].concat(this.$11));f=[f.slice(0,m),f.slice(m)];var g=f[0];f=f[1];return k.jsxs(k.Fragment,{children:[g.map(function(b){return k.createElement(o,babelHelpers["extends"]({},b,{isDisabled:e,key:b.id,label:i.getToolTipLabel(b.id),selectedThreads:a.props.selectedThreads}))}),f.length>0&&k.jsx("div",{style:{marginLeft:"5px"},children:k.jsx(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:f.map(this.$12),useEllipsisIcon:!0})}),k.jsx(n,{actionButtonDisabled:Boolean(d==null?void 0:d.actionButtonDisabled),actionButtonLabel:(d==null?void 0:d.actionButtonLabel)||"",closeButtonsDisabled:Boolean(d==null?void 0:d.closeButtonsDisabled),onDialogConfirm:this.$5,onHide:this.$2.bind(this,!1),show:Boolean(c&&d),title:(d==null?void 0:d.title)||"",children:d==null?void 0:d.component})]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxBulkActionsNux.react",["PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxStore","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showNux:b("PagesManagerInboxStore").shouldShowNUX("pages_inbox_bulk_actions")};d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_INBOX_BULK_ACTIONS),d.setState({showNux:!1})};b("PagesManagerBulkActionLogger").logNuxImpression();return d}var d=c.prototype;d.render=function(){var a=g.getBulkActionsNuxText();return h.jsx(h.Fragment,{children:this.state.showNux&&b("PagesManagerInboxStore").shouldShowBulkActions()&&h.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"below",shown:!0,width:"normal",children:a})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxBulkSelectionButtonContainer.react",["cx","fbt","BulkSelectionThreadAction","CenteredContainer.react","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionsNux.react","React","Tooltip","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useEffect;function a(a){var c=a.active;a=a.selectedThreads;var d=null,e=h._("Select Conversations");j(function(a){return b("PagesManagerBulkActionLogger").logThreadCheckboxImpression()},[]);function f(){var a=c?b("BulkSelectionThreadAction").UNSELECT:b("BulkSelectionThreadAction").SELECT;b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:a}});b("PagesManagerAction").toggleBulkSelectionMode()}function g(){return d}return i.jsx(b("CenteredContainer.react"),{className:"_8ic_",fullHeight:!0,horizontal:!1,onClick:b("emptyFunction"),vertical:!0,children:i.jsxs("div",{className:"_3qn7 _3qng",children:[i.jsx("div",{className:"_8id0"}),i.jsx("div",babelHelpers["extends"]({className:"_8hgn"+(a===0?" _8icf":"")+(a>0?" _8icg":"")+(c&&a===0?" _8ics":""),onClick:f,ref:function(a){d=a},role:"button",tabIndex:"0"},b("Tooltip").propsFor(e))),i.jsx(b("PagesManagerInboxBulkActionsNux.react"),{contextRef:g})]})})}e.exports=a}),null);
__d("XPagesManagerInboxCreateWECGroupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/create_wec_group/",{group_name:{type:"String"},mailbox_id:{type:"FBID"},icon_id:{type:"FBID"},request_user_id:{type:"Int"}})}),null);
__d("PagesManagerInboxCreateGroupDialog.react",["ix","cx","fbt","AsyncRequest","ErrorDialog","FBClipboardLink.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FileInput.react","FileInputUploader","FlexLayout.react","Image","Link.react","MessengerSpinner.react","PagesMessagingInboxActionLogger","React","ReactDOM","XPagesManagerInboxCreateWECGroupController","XUITextInput.react","XWECMessagingAttachmentUploadController","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k={groupIcon:null,groupName:"",uploadImageInProgress:!1,inviteLink:null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state=k;d.$1=function(){var a=b("XPagesManagerInboxCreateWECGroupController").getURIBuilder().setInt("request_user_id",d.props.mailboxID).setString("group_name",d.state.groupName).setFBID("mailbox_id",d.props.mailboxID);d.state.groupIcon&&a.setFBID("icon_id",d.state.groupIcon.image_id);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){d.setState(function(){return{inviteLink:a.payload.invite_link}})}).send();a="group_created";b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};d.$2=function(){d.props.onHide(),d.setState(function(a){return k})};d.$3=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{groupName:b}})};d.$4=function(){var a=b("XWECMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",d.props.mailboxID).getURI().toString();a=new(b("FileInputUploader"))(b("ReactDOM").findDOMNode(d.refs.fileInput)).setURI(a).setData({images_only:!0}).setAllowCrossOrigin(!0);a.subscribe("progress",function(a,b){d.setState({uploadImageInProgress:!0})});a.subscribe("success",function(a,b){b=(a=b)!=null?(a=a.response)!=null?(a=a.payload)!=null?a.metadata:a:a:a;a=b&&b[0];a==null?d.setState({uploadImageInProgress:!1}):d.setState({groupIcon:a,uploadImageInProgress:!1})});a.subscribe("failure",function(a,c){d.setState({uploadImageInProgress:!1});a=i._("ERROR");c=i._("Uploading image failed, please try again.");b("ErrorDialog").show(a,c)});a.send()};return d}var d=c.prototype;d.render=function(){var a=this.state,c=a.groupName,d=a.groupIcon;a=a.uploadImageInProgress;d=d?j.jsx(b("Image"),{height:50,source:d.src,style:{borderRadius:"50%"},width:50}):j.jsx(b("Image"),{source:g("513655")});return j.jsx(b("FDSModal.react"),{footer:j.jsx(b("FDSModalFooter.react"),{primaryButton:j.jsx(b("FDSButton.react"),{isDisabled:c===""||!c||!c.replace(/\s/g,"").length||this.state.inviteLink!==null,label:i._("Create"),onClick:this.$1,use:"primary"}),secondaryButton:j.jsx(b("FDSCancelButton.react"),{})}),header:j.jsx(b("FDSModalHeader.react"),{title:i._("Create Group")}),isShown:this.props.isShown,label:"Create Group",onHide:this.$2,children:j.jsx(b("FDSSection.react"),{children:j.jsxs(b("FlexLayout.react"),{align:"start",className:"_6bu9",direction:"vertical",children:[j.jsxs(b("FlexLayout.react"),{align:"center",className:"_3-97",justify:"start",children:[j.jsx(b("FileInput.react"),{accept:"image/*",name:"group_icon",onChange:this.$4,ref:"fileInput",children:j.jsx(b("Link.react"),{children:j.jsxs("div",{className:"_7kmj",desc:"Label for a button that lets people upload a group icon for a new WEC group chat. Having a group icon is optional.",children:[a?j.jsx("div",{className:"_75u2 _75u3",children:j.jsx(b("MessengerSpinner.react"),{color:"grey",size:24})}):null,a?null:d]})})}),j.jsx("div",{className:"_3-9c",children:j.jsx(b("FDSText.react"),{color:"primary",size:"header4",children:i._("Add Group Icon")})})]}),j.jsxs(b("FlexLayout.react"),{align:"start",className:"_3-97",direction:"vertical",children:[j.jsx(b("FDSText.react"),{color:"primary",margin:"_3-8m",size:"header4",weight:"bold",children:i._("Subject")}),j.jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$3,placeholder:i._("Enter a group subject"),value:c})]}),this.state.inviteLink!=null?j.jsxs(b("FlexLayout.react"),{align:"start",className:"_3-97",direction:"vertical",children:[j.jsx(b("FDSText.react"),{color:"primary",margin:"_3-8m",size:"header4",weight:"bold",children:i._("Invite with a Link")}),j.jsxs(b("FlexLayout.react"),{align:"center",direction:"horizontal",children:[j.jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy link"),tooltipSuccess:i._("Copied"),value:this.state.inviteLink||"",children:j.jsx(b("Image"),{source:g("609121")})}),j.jsx("div",{className:"_2pis",children:this.state.inviteLink})]})]}):null]})})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderSelector.react",["ix","cssVar","cx","fbt","Image.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showFilter:!0};d.onMultiAdminSearchClick=function(){d.setState(function(){return{showFilter:!1}}),b("PagesManagerInboxFilterAction").changeSearchType("ADMIN"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};d.wrapperRef=k.createRef();return d}var d=c.prototype;d.$1=function(a){var c=b("PageCommItemStatusUtil").getFolderImage(a);return k.jsxs("div",{className:"_4h_z",children:[k.jsx("div",{className:"_4h_-",children:k.jsx(b("Image.react"),{className:"_4i0c",src:c})}),k.jsx("div",{className:"_4h_-","data-testid":void 0,style:{color:b("PageCommItemStatusUtil").getFolderColor(a)},children:b("PageCommItemStatusUtil").getLabel(a)})]})};d.$2=function(a){switch(a){case b("PageCommItemFolder").FOLLOW_UP:return"followup_folder";case b("PageCommItemFolder").DONE:return"done_folder";case b("PageCommItemFolder").SPAM:return"spam_folder";case b("PageCommItemFolder").TODO:default:return"inbox_folder"}};d.handleClickOutside=function(a){a=a.target;this.wrapperRef.current&&a instanceof Node&&!this.wrapperRef.current.contains(a)&&this.props.onSelected(this.props.folderSelected)};d.$3=function(){return k.jsx("div",{className:"_4h_x",onClick:this.onMultiAdminSearchClick,children:k.jsxs("div",{className:"_4h_z",children:[k.jsx("div",{className:"_4h_-",children:k.jsx(b("Image.react"),{className:"_4i0c",src:g("946924")})}),k.jsx("div",{className:"_4h_-",style:{color:"#000000"},children:j._("Assigned")})]})})};d.showItem=function(a){var b=this,c=this.props.platform==="INSTAGRAM_DIRECT"&&this.props.shouldShowNewMultiAdminAssignment;c=this.props.threadsManagementStatus==="FILTER"&&(this.props.platform==="MESSENGER"||c&&this.props.platform==="INSTAGRAM_DIRECT"||this.props.showUnifiedThreadlist)&&this.props.platform!=="FACEBOOK"&&this.props.platform!=="INSTAGRAM";return k.jsxs("div",{className:"_3xcw","data-testID":"folder_selector",ref:this.wrapperRef,children:[a.map(function(a){return k.jsx("div",{className:"_4h_x"+(b.props.folderSelected===a?" _4h_y":""),onClick:function(){return b.props.onSelected(a)},children:b.$1(a)},"item_"+a)}),c?this.$3():null]})};d.render=function(){var a=this.props.threadsManagementStatus;switch(a){case"FOLDER":a=b("PageCommItemStatusUtil").getInboxFolders(this.props.defaultFolder);return this.showItem(a);case"FILTER":if(this.state.showFilter){a=b("PageCommItemStatusUtil").getFilters(this.props.defaultFolder);return this.showItem(a)}return null;default:return null}};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderSelectorFluxContainer.react",["FluxContainer","PagesManagerInboxFilterStore","PagesManagerInboxHeaderSelector.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","React"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return{defaultFolder:a.defaultFolder,folderSelected:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowNewMultiAdminAssignment:b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment}};var d=c.prototype;d.render=function(){return h.jsx(b("PagesManagerInboxHeaderSelector.react"),{defaultFolder:this.state.defaultFolder,folderSelected:this.state.folderSelected,onSelected:this.props.onSelected,platform:this.props.platform,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,showUnifiedThreadlist:g(),threadsManagementStatus:this.props.threadsManagementStatus})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxListHeaderLeftTopNav.react",["cx","fbt","BIZInboxClientLogger","BusinessInboxBizKitUtil","FDSText.react","GeoText.react","Link.react","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxListHeaderSearchBar.react","PagesManagerInboxUtils","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BusinessInboxBizKitUtil").isBizKitBeta,j=b("PagesManagerInboxUtils").setDefaultIGDirectFolder,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(){b("PagesManagerInboxFilterAction").toggleFilterSelector(!1),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem(),j(d.props.folderSelected,d.props.filterType,d.props.pageID),b("BIZInboxClientLogger").logSearchCancelClick(d.props.pageID)};return d}var d=c.prototype;d.$1=function(){var a=b("immutable").Map(this.props.allLabels);return k.jsxs("div",{className:"_65ok",children:[k.jsx(b("Link.react"),{onClick:this.$2,children:k.jsx("div",{className:"_85rp","data-testid":"search_bar_return_button"})}),k.jsx(b("PagesManagerInboxListHeaderSearchBar.react"),{context:this.props.contextRef,labels:a,pageID:this.props.pageID})]})};d.$3=function(){return k.jsxs(b("Link.react"),{className:"_85mo",onClick:this.props.threadsManagementStatus==="FILTER"?this.props.toggleFilterSelector:this.props.toggleFolderSelector,children:[k.jsx("div",{className:"_83m _85rp","data-testid":"return_button"}),k.jsx("span",{className:"_83m _102w",children:h._("Close")})]})};d.$4=function(){return k.jsx("span",{className:"_7xd- _83m _102w",children:h._("Messages")})};d.$5=function(){var a=b("PageCommItemStatusUtil").getLabel(b("PageCommItemStatusUtil").getThreadsManagementStatus(this.props.folderSelected));return k.jsx("div",{className:i()?"_8_06":"",children:k.jsx(b("Link.react"),{className:"_85mo","data-testid":"folder_label",onClick:this.props.toggleFolderSelector,children:k.jsxs("div",{children:[i()?k.jsx("span",{className:"_83m",children:k.jsx(b("GeoText.react"),{children:a})}):k.jsx("span",{className:"_83m _102w",children:k.jsx(b("FDSText.react"),{display:"truncate",children:a})}),k.jsx("span",{className:"_8_07 _83aj"})]})})})};d.render=function(){if(this.props.isSearchActive)return this.$1();else{if(this.props.threadsManagementStatus!=="NONE")return this.$3();return this.props.filterType==="WEC"?this.$4():this.$5()}};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAwayToggleMutation",["DateTime","RelayFBEnvironment","RelayModern","PagesManagerInboxAwayToggleMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAwayToggleMutation.graphql");function a(a,c){var d=function(){return{set_page_away_toggle:{page:{away_toggle_expiration:a.isAway?b("DateTime").localNow().addHours(12).getUnixTimestampSeconds():null,id:a.pageID,is_away_toggle_on:a.isAway}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,is_away:a.isAway,page_id:a.pageID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAwayToggle.react",["cx","fbt","AdsInterfacesRouter","BizKitRouteNames","BusinessInboxBizKitUtil","DateTime","FBCheckbox.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","GeoButton.react","Link.react","PagesManagerInboxAwayToggleMutation","PagesTimeRangeEditorUtilities","React","SUIBusinessTheme","SUIPopoverLayer.react","Tooltip","XPagesManagerInboxController","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BusinessInboxBizKitUtil").isBizKitBeta,j=b("BusinessInboxBizKitUtil").isInBizKit,k=b("React");function l(a){if(a.getShouldShowIGDirectAutomatedResponse){var c=h._("You'll be notified when people send {page name} messages on Instagram and Messenger.",[h._param("page name",a.pageName)]);a.igPlatformEnabled===!0&&a.messengerPlatformEnabled===!1?c=h._("You'll be notified when people send {page name} messages on Instagram.",[h._param("page name",a.pageName)]):(a.igPlatformEnabled===!1&&a.messengerPlatformEnabled===!0||a.isIGDirecConnected===!1)&&(c=h._("You'll be notified when people send {page name} messages in Messenger.",[h._param("page name",a.pageName)]));return k.jsxs("div",{className:"_7mhr",children:[k.jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),k.jsxs("div",{className:"_7mhs",children:[k.jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body1",children:h._("Available")}),k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:c})]})]})}return k.jsxs("div",{className:"_7mhr",children:[k.jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),k.jsxs("div",{className:"_7mhs",children:[k.jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body1",children:h._("Available")}),k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("You'll be notified when people send {page name} messages in Messenger.",[h._param("page name",a.pageName)])})]})]})}function m(a){if(a.getShouldShowIGDirectAutomatedResponse){var c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you messages on Instagram and Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Messenger response rate or response time calculations.",[h._param("page name",a.pageName)]);a.igPlatformEnabled===!0&&a.messengerPlatformEnabled===!1?c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you Instagram messages will receive an away message, and you won't get message notifications.",[h._param("page name",a.pageName)]):(a.igPlatformEnabled===!1&&a.messengerPlatformEnabled===!0||a.isIGDirecConnected===!1)&&(c=h._("{page name} will be away for 12 hours or as long as you're scheduled to be away. People who send you messages in Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Page's response rate or response time calculations.",[h._param("page name",a.pageName)]));return k.jsxs("div",{className:"_7mhr",children:[k.jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),k.jsxs("div",{className:"_7mhs",children:[k.jsx(b("FDSText.react"),{color:"negative",display:"block",size:"body1",children:h._("Away")}),k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:c})]})]})}return k.jsxs("div",{className:"_7mhr",children:[k.jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),k.jsxs("div",{className:"_7mhs",children:[k.jsx(b("FDSText.react"),{color:"negative",display:"block",size:"body1",children:h._("Away")}),k.jsxs(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:[a.isChecked?null:h._("{page name} will be away for 12 hours or as long as you're scheduled to be away.",[h._param("page name",a.pageName)])," ",h._("People who send {page name} messages in Messenger will receive an away message, and you won't get message notifications. Messages received won't be included in your Page's response rate or response time calculations.",[h._param("page name",a.pageName)])]})]})]})}function n(a){var c=k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("When you edit your away message, you also can schedule times for your Page to be away each week.")});if(a.hasAwaySchedule){var d=a.nextAwayBlock;if(d==null)c=k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("You've scheduled your Page to be always away.")});else{var e=b("DateTime").localCreate(d.from);d=b("DateTime").localCreate(d.to);var f=b("DateTime").localNow(),g=e.getDayOfWeek()===d.getDayOfWeek();c=k.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("Your Page is scheduled to be away next from {nextAwayFrom} to {nextAwayTo}.",[h._param("nextAwayFrom",b("PagesTimeRangeEditorUtilities").getFormatedTime(e,f,g)),h._param("nextAwayTo",b("PagesTimeRangeEditorUtilities").getFormatedTime(d,f))])})}}return k.jsxs("div",{className:"_7mht",children:[c,j()?k.jsx(b("GeoButton.react"),{label:h._("Edit Away Message and Schedule"),onClick:a.onChangeToAutomatedResponse,variant:"primary"}):k.jsx(b("Link.react"),{href:a.getMessageSettingsURI(),children:h._("Edit Away Message and Schedule")})]})}function o(a){return k.jsx(b("FDSModal.react"),{footer:k.jsx(b("FDSModalFooter.react"),{primaryButton:k.jsx(b("FDSButton.react"),{label:h._("OK"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:k.jsx(b("FDSCancelButton.react"),{})}),header:k.jsx(b("FDSModalHeader.react"),{title:h._("Make Page Available?")}),isShown:a.isShown,onHide:a.onCancelClick,children:k.jsx(b("FDSSection.react"),{children:k.jsx(b("FDSText.react"),{children:h._("Because your Page is scheduled to always be away, making your Page available will remove your away schedule. You can schedule times for your Page to be away in the Automated Responses tab.")})})})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showAlwaysAwayDialog:!1},d.handleClickOutside=function(a){a=a.target;d.$2&&a instanceof Node&&!d.$2.contains(a)&&d.setState({showDialog:!1})},d.$3=function(a){d.$2=a},d.$4=function(){b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!0}),d.setState({showDialog:!1})},d.$5=function(){if(!d.props.awayTimeRanges.isEmpty()&&d.props.expireTimestamp==null){d.setState({showAlwaysAwayDialog:!0});return}b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!1});d.setState({showDialog:!1})},d.$6=function(){return b("XPagesManagerInboxController").getURIBuilder().setString("page_token",d.props.pageID).setEnum("section","automated_responses").setEnum("automation","away_message").getURI()},d.$7=function(a){d.$1=a},d.$8=function(){return d.$1},d.$9=function(){d.setState(function(a){return{showDialog:!a.showDialog}})},d.$10=function(){d.setState({showAlwaysAwayDialog:!1,showDialog:!1})},d.$11=function(){d.setState({showAlwaysAwayDialog:!1,showDialog:!1}),b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){document.addEventListener("mousedown",this.handleClickOutside)};d.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)};d.$12=function(){j()&&b("AdsInterfacesRouter").get().navigateTo(b("BizKitRouteNames").AUTOMATED_RESPONSES)};d.render=function(){var a=this.props.nextAwayRange!=null?JSON.parse(this.props.nextAwayRange):null;return k.jsxs("div",{children:[k.jsx("div",{className:i()?"_8_0f":"",children:k.jsx("div",babelHelpers["extends"]({className:"_7xv1",onClick:this.$9,ref:this.$7,role:"button",tabIndex:"0"},b("Tooltip").propsFor(this.props.isAway?h._("Away"):h._("Available")),{children:k.jsx("div",{className:"_7xu0"+(this.props.isAway?" _44hk":"")+(this.props.isAway?"":" _44hl")})}))}),this.state.showDialog?k.jsx(b("SUIPopoverLayer.react"),{content:k.jsxs("div",{className:"_7mhu",ref:this.$3,children:[k.jsx(l,{getShouldShowIGDirectAutomatedResponse:this.props.getShouldShowIGDirectAutomatedResponse,igPlatformEnabled:this.props.igPlatformEnabled,isChecked:!this.props.isAway,isIGDirecConnected:this.props.isIGDirecConnected,messengerPlatformEnabled:this.props.messengerPlatformEnabled,onToggle:this.$5,pageName:this.props.pageName}),k.jsx(m,{getShouldShowIGDirectAutomatedResponse:this.props.getShouldShowIGDirectAutomatedResponse,igPlatformEnabled:this.props.igPlatformEnabled,isChecked:this.props.isAway,isIGDirecConnected:this.props.isIGDirecConnected,messengerPlatformEnabled:this.props.messengerPlatformEnabled,onToggle:this.$4,pageName:this.props.pageName}),k.jsx(n,{getMessageSettingsURI:this.$6,hasAwaySchedule:!this.props.awayTimeRanges.isEmpty(),nextAwayBlock:a,onChangeToAutomatedResponse:this.$12})]}),contextRef:this.$8,margin:"_4jnw",offsetY:8,position:"below",theme:b("SUIBusinessTheme")}):null,k.jsx(o,{isShown:this.state.showAlwaysAwayDialog,onCancelClick:this.$10,onConfirmClick:this.$11})]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAwayToggleContainer.react",["cx","fbt","BusinessInboxBizKitUtil","FluxContainer","PagesManagerInboxAwayToggle.react","PagesManagerInboxFilterStore","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesMarketingAutomationUtils","PagesTimeRangeEditorUtilities","React","RelayModern","XUIAmbientNUX.react","PagesManagerInboxAwayToggleContainer_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("BusinessInboxBizKitUtil").isBizKitBeta,k=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,l=b("PagesMarketingAutomationUtils").getPlatformStatus,m=b("PagesMarketingAutomationUtils").getShouldShowIGDirectAutomatedResponse,n=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var o="www_pages_new_away_toggle_nux";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(o)),d.setState({newAwayInfoLocationNuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a,c;a=(a=b("PagesManagerInboxStore").getConfig().pageName)!=null?a:"";c=((c=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT)==null?void 0:c.igAccountID)!==null;return{commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),newAwayInfoLocationNuxShown:b("PagesManagerInboxStore").shouldShowNUX(o),pageName:a,isIGDirecConnected:c}};var d=c.prototype;d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.$3=function(){var a=this;return!this.state.newAwayInfoLocationNuxShown?null:n.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.awayinfobutton},onCloseButtonClick:this.$1,position:"below",shown:!0,children:h._("Tell people your Page is away when you won't be able to respond to messages.")})};d.render=function(){var a,c,d,e,f,g=this.state.commPlatform==="INSTAGRAM_DIRECT";if(this.state.commPlatform!=="MESSENGER"&&g===!1&&k()===!1)return null;g=(g=this.props)!=null?(g=g.page)!=null?g.away_time_range:g:g;f=(f=this.props)!=null?(f=f.page)!=null?f.away_time_zone:f:f;e=(e=this.props)!=null?(e=e.page)!=null?e.away_toggle_expiration:e:e;d=(d=this.props)!=null?(d=d.page)!=null?d.is_away_toggle_on:d:d;c=(c=this.props)!=null?(c=c.page)!=null?c.id:c:c;if(g==null||d==null||c==null||f==null)return n.jsx("div",{});g=b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(g);a=(a=this.props.page)==null?void 0:(a=a.admin_info)==null?void 0:(a=a.away_response)==null?void 0:a.platforms;var h=l(a,"MESSENGER"),i=l(a,"INSTAGRAM_DIRECT");return n.jsxs("div",{className:j()?"_8_0e":"",children:[n.jsx(b("PagesManagerInboxAwayToggle.react"),{awayTimeRanges:g,awayTimezone:f,expireTimestamp:e,getShouldShowIGDirectAutomatedResponse:m(a,"away_message"),igPlatformEnabled:i,isAway:d,isIGDirecConnected:this.state.isIGDirecConnected,messengerPlatformEnabled:h,nextAwayRange:this.props.page.next_away_range,pageID:c,pageName:this.state.pageName,ref:"awayinfobutton"}),this.$3()]})};return c}(n.PureComponent);e.exports=a(b("FluxContainer").create(c),{page:i!==void 0?i:i=b("PagesManagerInboxAwayToggleContainer_page.graphql")})}),null);
__d("PagesManagerInboxAwayToggleRoot.react",["PagesManagerAwayToggleSubscription","PagesManagerInboxAwayToggleContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAwayToggleRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("PagesManagerAwayToggleSubscription").subscribe({page_id:this.props.pageID})};d.componentWillUnmount=function(){this.$1.dispose()};d.render=function(){return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAwayToggleRootQuery.graphql"),render:function(a){var c=a.error;a=a.props;return a&&!c?h.jsx(b("PagesManagerInboxAwayToggleContainer.react"),babelHelpers["extends"]({},a)):null},variables:{pageID:this.props.pageID}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNewFolderNUX.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="www_pages_inbox_new_folder";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNewFolderNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNewFolderNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.render=function(){var a=g._("Quickly see what's unread, has been assigned or needs follow-up.");return h.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"below",shown:this.state.shouldShowNewFolderNUX,width:"normal",children:a})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxTopNavCreateWAButtonContainer.react",["cx","fbt","FluxContainer","PagesManagerInboxStore","React","Tooltip"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig().platformConfigs.WEC}};var d=c.prototype;d.render=function(){if(!this.state.config.mailboxID)return null;else return i.jsx("div",babelHelpers["extends"]({className:"_6qn4"},b("Tooltip").propsFor(h._("Create group")),{onClick:this.props.onClick}))};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxListHeaderRightTopNav.react",["ix","cx","fbt","BusinessInboxBizKitUtil","ErrorBoundary.react","GeoButton.react","Image.react","Link.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxAwayToggleRoot.react","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxNewFolderNUX.react","PagesManagerInboxTopNavCreateWAButtonContainer.react","PagesMessagingInboxActionLogger","React","Tooltip","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("BusinessInboxBizKitUtil").isBizKitBeta,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=null;d.getContextRef=function(){return d.$1};d.$4=function(){b("PagesManagerInboxLogger").logSearchClick(!0,d.props.filterType),b("PagesMessagingInboxActionLogger").logSearchButtonClicked(d.props.filterType),b("PagesManagerInboxFilterAction").changeSearchType("LABEL"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};return d}var d=c.prototype;d.$2=function(){return this.props.isSearchActive||this.props.filterType==="WEC"?null:k.jsx(b("PagesManagerInboxAwayToggleRoot.react"),{className:"_dat",pageID:this.props.pageID})};d.$3=function(){var a=this.props.filterType==="WEC";if(this.props.shouldShowCometNewDesign||this.props.selectedCustomerID!=null||this.props.isSearchActive||a)return null;return j()?k.jsx(b("GeoButton.react"),{icon:k.jsx(b("Image.react"),{src:g("491285")}),isLabelHidden:!0,label:"",onClick:this.$4,tooltip:i._("Search")}):k.jsx(b("Link.react"),{className:"_dat",onClick:this.$4,children:k.jsx("div",babelHelpers["extends"]({className:"_-8b"},b("Tooltip").propsFor(i._("Search"))))})};d.$5=function(){var a=this;if(b("PageCommItemStatusUtil").getThreadsManagementStatus(this.props.folderSelected)===b("PageCommItemFolder").TODO&&this.props.isSearchActive===!1)return j()?k.jsx("div",{className:"_8_0e",children:k.jsx(b("GeoButton.react"),{icon:k.jsx(b("Image.react"),{src:g("500221")}),isLabelHidden:!0,label:"",onClick:this.props.toggleFilterSelector,tooltip:i._("Filter conversations")})}):k.jsxs(b("Link.react"),{className:"_dat","data-testid":void 0,onClick:this.props.toggleFilterSelector,children:[k.jsx("div",babelHelpers["extends"]({className:"_83ak",ref:function(b){a.$1=b}},b("Tooltip").propsFor(i._("Filter conversations")))),this.props.showNewFolderNux?k.jsx(b("PagesManagerInboxNewFolderNUX.react"),{contextRef:this.getContextRef}):null]});else return null};d.$6=function(){return this.props.filterType!=="WEC"?null:k.jsx(b("PagesManagerInboxTopNavCreateWAButtonContainer.react"),{onClick:this.props.onShowWACreateGroupDialog})};d.render=function(){return this.props.isFolderChangeActive||this.props.isFilterChangeActive?null:k.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:k.jsxs("div",{className:"_das",children:[this.$2(),this.$5(),this.$3(),this.$6()]})})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderTopNav.react",["cx","BIZInboxClientLogger","CenteredContainer.react","ErrorBoundary.react","IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxAutomationDoneFolderNUX.react","PagesManagerInboxBulkActionsCancelSelectionButton.react","PagesManagerInboxBulkActionsNavBarContainer.react","PagesManagerInboxBulkSelectionButtonContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxCreateGroupDialog.react","PagesManagerInboxFilterAction","PagesManagerInboxHeaderSelectorFluxContainer.react","PagesManagerInboxListHeaderLeftTopNav.react","PagesManagerInboxListHeaderRightTopNav.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesMangerInboxMultiAdminFilterUtil","PagesMessagingInboxActionLogger","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="www_pages_inbox_new_folder";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c)||this;e.state={shouldShowWECCreateGroupDialog:!1};e.toggleFolderSelector=function(){b("PagesManagerInboxFilterAction").toggleFolderSelector(!e.props.isFolderChangeActive)};e.toggleFilterSelector=function(){b("PagesManagerInboxFilterAction").toggleFilterSelector(!e.props.isFilterChangeActive)};e.$3=function(a){e.props.isFilterChangeActive&&e.toggleFilterSelector();e.props.isFolderChangeActive&&e.toggleFolderSelector();b("PagesManagerInboxLogger").logFolderChangeClick(e.props.filterType,a);b("PagesManagerInboxLogger").logFolderSwitchClick(e.props.filterType,e.props.folderSelected,a);b("BIZInboxClientLogger").logSwitchFolderClick(e.props.pageID,e.props.filterType,e.props.folderSelected,a);e.props.folderSelected!==a&&b("PagesManagerAction").clearViewListItem();if(e.props.filterType==="INSTAGRAM_DIRECT"||e.props.shouldShowUnifiedThreadlist){var c;b("IGMessageDataMutateAction").forceFetchInbox(e.props.mailboxID,20,b("PageCommItemStatusUtil").getIGDirectFolder(a),a===b("PageCommItemFolder").FOLLOW_UP,a===b("PageCommItemFolder").UNREAD,(c=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID((c=e.props.filterOwner)==null?void 0:c.id))!=null?c:null,!1)}b("PagesManagerInboxFilterAction").changeFolder(e.props.pageID,a)};e.onShowWACreateGroupDialog=function(){var a="group_create_dialog_clicked";e.setState(function(){return{shouldShowWECCreateGroupDialog:!0}});b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};e.$6=function(){e.setState(function(){return{shouldShowWECCreateGroupDialog:!1}})};return e}var d=c.prototype;d.$2=function(){return!this.props.isFolderChangeActive?null:h.jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$3,platform:this.props.filterType,threadsManagementStatus:"FOLDER"})};d.$4=function(){return!this.props.isFilterChangeActive?null:h.jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$3,platform:this.props.filterType,threadsManagementStatus:"FILTER"})};d.$5=function(){var a="NONE";this.props.isFilterChangeActive?a="FILTER":this.props.isFolderChangeActive&&(a="FOLDER");return h.jsx(b("PagesManagerInboxListHeaderLeftTopNav.react"),{allLabels:this.props.allLabels,contextRef:this.$1,filterType:this.props.filterType,folderSelected:this.props.folderSelected,isSearchActive:this.props.isSearchActive,pageID:this.props.pageID,searchType:this.props.searchType,threadsManagementStatus:a,toggleFilterSelector:this.toggleFilterSelector,toggleFolderSelector:this.toggleFolderSelector})};d.$7=function(){var a=Boolean(this.props.isBulkSelectionMode);return h.jsxs("div",{className:"_3qn7 _3qng",children:[!a&&h.jsx(b("PagesManagerInboxListHeaderRightTopNav.react"),{filterType:this.props.filterType,folderSelected:this.props.folderSelected,isFilterChangeActive:this.props.isFilterChangeActive,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,onShowWACreateGroupDialog:this.onShowWACreateGroupDialog,pageID:this.props.pageID,searchType:this.props.searchType,selectedCustomerID:this.props.selectedCustomerID,shouldShowCometNewDesign:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign(),showNewFolderNux:b("PagesManagerInboxStore").shouldShowNUX(i),toggleFilterSelector:this.toggleFilterSelector}),this.$8(a)]})};d.$8=function(a){var c;return Boolean(this.props.allowBulkSelection)?h.jsxs(h.Fragment,{children:[a&&h.jsx(b("PagesManagerInboxBulkActionsNavBarContainer.react"),{folderSelected:this.props.folderSelected,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0}),h.jsx(b("PagesManagerInboxBulkSelectionButtonContainer.react"),{active:a,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0})]}):null};d.render=function(){var a=this,c=null;!Boolean(this.props.isBulkSelectionMode)?c=this.$5():c=h.jsx(b("PagesManagerInboxBulkActionsCancelSelectionButton.react"),{});var d=h.jsxs(b("CenteredContainer.react"),{className:"_83i",fullHeight:!0,horizontal:!1,vertical:!0,children:[this.$7(),h.jsx(b("PagesManagerInboxCreateGroupDialog.react"),{isShown:this.state.shouldShowWECCreateGroupDialog,mailboxID:this.props.mailboxID,onHide:this.$6,pageID:this.props.pageID})]});return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsxs("div",{children:[h.jsxs("div",{className:"_83e","data-testid":void 0,children:[h.jsxs(b("CenteredContainer.react"),{className:"_83f",fullHeight:!0,horizontal:!1,vertical:!0,children:[c,h.jsx(b("PagesManagerInboxAutomationDoneFolderNUX.react"),{contextRef:function(){return a.$1}})]}),d]}),this.$2(),this.$4(),h.jsx("div",{ref:function(b){return a.$1=b}})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxSavedRepliesUpsellToastContainer.react",["cx","fbt","FDSGuidanceToast.react","FDSGuidanceToastCloseButton.react","FluxContainer","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a){return{shouldShowToast:b("PagesManagerMessagingComposerStore").getShouldShowSavedReplyUpsellToast()}};var d=c.prototype;d.$1=function(){b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellToast(!1)};d.render=function(){return this.state.shouldShowToast?i.jsx("div",{className:"_8qgr",children:i.jsx(b("FDSGuidanceToast.react"),{closeButton:i.jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:this.$1}),content:h._("Added to Saved Replies"),type:"success"})}):null};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxNavListView.react",["cx","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAutomationToastContainer.react","PagesManagerInboxBanToastContainer.react","PagesManagerInboxBulkActionsNoticeContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFolderChangeNoticeContainer.react","PagesManagerInboxListFluxContainer.react","PagesManagerInboxListHeaderTopNav.react","PagesManagerInboxSavedRepliesUpsellToastContainer.react","PagesManagerInboxStore","React","ResponsiveBlock.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(){this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.filterFolder===b("PageCommItemFolder").TODO&&b("PagesManagerAction").setListHeaderHeight(0)};d.$1=function(a,c){b("PagesManagerAction").setListNavigationHeight(c)};d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.props.filterType),c=this.props.selectedThreads?this.props.selectedThreads.count():0;return h.jsxs("div",{className:"_6j3i",children:[b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&this.props.isSearchActive?null:h.jsx(b("ResponsiveBlock.react"),{onResize:this.$1,children:h.jsx(b("PagesManagerInboxListHeaderTopNav.react"),{allLabels:this.props.allLabels,allowBulkSelection:this.props.allowBulkSelection,filterOwner:this.props.filterOwner,filterType:this.props.filterType,folderSelected:this.props.filterFolder,isBulkSelectionMode:this.props.isBulkSelectionMode,isFilterChangeActive:this.props.isFilterChangeActive,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,mailboxID:a,pageID:this.props.pageID,searchTerm:this.props.searchTerm,searchType:this.props.searchType,selectedCommentView:this.props.selectedCommentView,selectedCustomerID:this.props.selectedCustomerID,selectedThreadsCount:c,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist})}),h.jsxs("div",{className:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"_8daj":"_29xb",children:[h.jsx(b("PagesManagerInboxListFluxContainer.react"),{height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:a,onSelectionChange:b("PagesManagerAction").handleSelectionMapChange,paddingBottom:0,pageName:this.props.pageName}),h.jsx(b("PagesManagerInboxFolderChangeNoticeContainer.react"),{pageID:a}),h.jsx(b("PagesManagerInboxBulkActionsNoticeContainer.react"),{}),h.jsx(b("PagesManagerInboxBanToastContainer.react"),{pageID:a}),h.jsx(b("PagesManagerInboxAutomationToastContainer.react"),{activeType:this.props.filterType,commItemFolder:this.props.filterFolder,pageID:a,selectedCustomerID:this.props.selectedCustomerID}),h.jsx(b("PagesManagerInboxSavedRepliesUpsellToastContainer.react"),{})]})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListView.react",["FluxContainer","JSResource","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerCustomLabelsStore","PagesManagerInboxCometSearchBarContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxLeadEmailListContainer.react","PagesManagerInboxListLoading.react","PagesManagerInboxNavListView.react","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerStore","QuickPerformanceLogger","React","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("PagesAutomatedResponsesList.react").__setRef("PagesManagerInboxListView.react"));a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerCustomLabelsStore")]};c.calculateState=function(a,c){a=c.config.validPlatformTypes;var d=b("PagesManagerInboxFilterStore").getActiveFolder();d!==b("PageCommItemFolder").TODO&&(a=a.filter(function(a){return a!=="WEC"}));var e=b("PagesManagerInboxFilterStore").getActiveType(),f=c.config.platformConfigs.MESSENGER,g=c.config.platformConfigs.FACEBOOK;f=e==="MESSENGER"&&Boolean(f.showBulkSelection);c=c.config.inboxRedesignConfig.shouldShowSettingsRedesign;return{filterFolder:d,filterOwner:b("PagesManagerInboxFilterStore").getActiveOwner(),filterType:e,isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),isFolderChangeActive:b("PagesManagerInboxFilterStore").getIsFolderChangeActive(),isFilterChangeActive:b("PagesManagerInboxFilterStore").getIsFilterChangeActive(),searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm(),searchType:b("PagesManagerInboxFilterStore").getSearchType(),selectedCustomerID:b("PagesManagerInboxFilterStore").getPageCustomerID(),layoutHeight:b("PagesManagerStore").getLayoutHeight(),listHeaderHeight:b("PagesManagerStore").getListHeaderHeight(),validPlatformTypes:a,selectedCommentView:g.selectedCommentView||"NOT_SELECTED",listNavHeight:b("PagesManagerStore").getListNavigationHeight(),allLabels:b("PagesManagerCustomLabelsStore").getLabels(),selectionMode:f&&b("PagesManagerStore").isBulkSelectionMode(),allowBulkSelection:f,selectedThreads:f?b("PagesManagerStore").getSelectedThreads():null,showSettingsRedesign:c}};function c(b,c){var d;d=a.call(this,b)||this;d.$3=function(){d.$2=!0};d.$1=0;d.$2=!1;return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.navMode==="messages"&&!this.$2&&((this.state.filterType==="MESSENGER"||this.state.filterType==="INSTAGRAM_DIRECT"||this.state.filterType==="FACEBOOK")&&(this.$1=Date.now()),this.state.filterType==="MESSENGER"&&b("QuickPerformanceLogger").markerStart(36241413))};d.render=function(){var a=this.state.layoutHeight-this.state.listNavHeight,c=a-this.state.listHeaderHeight,d=null;switch(this.props.navMode){case"automated_responses":d=h.jsx(h.Suspense,{fallback:h.jsx(b("PagesManagerInboxListLoading.react"),{height:a}),children:h.jsx(i,{height:a,pageID:this.props.pageID,showSettingsRedesign:this.state.showSettingsRedesign})});break;case"messages":d=h.jsxs("div",{children:[b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?h.jsx(b("PagesManagerInboxCometSearchBarContainer.react"),{pageID:this.props.pageID}):null,h.jsx(b("PagesManagerInboxNavListView.react"),{allLabels:this.state.allLabels,allowBulkSelection:this.state.allowBulkSelection,filterFolder:this.state.filterFolder,filterOwner:this.state.filterOwner,filterType:this.state.filterType,height:c-b("PagesManagerInboxCometUtil").cometSearchInputHeight(),isBulkSelectionMode:this.state.selectionMode,isFilterChangeActive:this.state.isFilterChangeActive,isFolderChangeActive:this.state.isFolderChangeActive,isSearchActive:this.state.isSearchActive,loadEndEventLogged:this.$2,loadStartTime:this.$1,logLoadEndEvent:this.$3,pageID:this.props.pageID,pageName:this.props.pageName,searchTerm:this.state.searchTerm,searchType:this.state.searchType,selectedCommentView:this.state.selectedCommentView,selectedCustomerID:this.state.selectedCustomerID,selectedThreads:this.state.selectedThreads,shouldShowUnifiedThreadlist:g(),validPlatformTypes:this.state.validPlatformTypes})]});break;case"lead_email":d=h.jsx(h.Suspense,{fallback:h.jsx(b("PagesManagerInboxListLoading.react"),{height:a}),children:h.jsx(b("PagesManagerInboxLeadEmailListContainer.react"),{height:c,pageID:this.props.pageID})});break}return d};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxNavBarCounter.react",["FluxContainer","IGMessageInboxStore","PagesCommsInboxTypedLogger","PagesManagerPageCommItemEditSubscriptionHandler","React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={count:c.props.initialCount},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){if(c.platform==="INSTAGRAM_DIRECT"){a=b("IGMessageInboxStore").getLocallyUpdatedUnreadCount();if(a!=null)return{count:a}}return{count:c.initialCount}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){switch(a.props.platform){case"FACEBOOK":var d=c.page_comm_item_edit_subscribe.page.comms_hub_config.facebook_badge_count;a.state.count!==d&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("FACEBOOK",d),a.setState({count:d}));break;case"INSTAGRAM":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("INSTAGRAM",c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count}));break;case"MESSENGER":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("MESSENGER",c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count),new(b("PagesCommsInboxTypedLogger"))().setEvent("graphql_subscription_received").setFunnel("messenger_badging").setMessageID(c.page_comm_item_edit_subscribe.page_comm_item.id).setMessagingPlatform("messenger").setClientTime(Date.now()).log(),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count}));break;case"WEC":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("WEC",c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count}));break}})};d.componentDidUpdate=function(a,b){this.props.platform==="INSTAGRAM_DIRECT"&&b!=null&&b.count!==this.state.count&&(this.props.setCountForPlatform&&this.props.setCountForPlatform(this.props.platform,this.state.count))};d.componentWillUnmount=function(){this.$1!==null&&this.$1!==void 0&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.render=function(){return this.props.children(this.state.count)};return c}(a.PureComponent);c.defaultProps={shouldShowNewCommentFlow:!1};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesManagerInboxNavBarHeaderRowCard.react",["cx","fbt","FDSText.react","Image.react","React","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;this.props.count>20?a=h._("20+"):this.props.count>0&&(a=this.props.count);return i.jsxs("div",{className:"_6idj _6ph8 _6w26"+(this.props.shouldShowSelectedBlueBar&&this.props.isSelected?" _8jlq":""),"data-testid":this.props.rowId,ref:this.props.rowRef,children:[i.jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?this.props.title:null,children:i.jsxs("div",{className:"_6ph7",children:[a!==null&&this.props.isCollapsed?i.jsx("div",{className:"_6idk _6uw_",children:a}):null,i.jsx(b("Image.react"),{src:this.props.image})]})}),i.jsx("div",{className:"_6lhl",children:i.jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:this.props.isSelected?"bold":"normal",children:this.props.title})}),a!==null?i.jsx("div",{className:"_6idk _6idh","data-testid":this.props.countId,children:i.jsx(b("FDSText.react"),{color:"white",size:"body2",children:i.jsxs("div",{children:[" ",a]})})}):i.jsx("div",{className:"_7hm0","data-testid":this.props.countId})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBarMessengerRowCard.react",["ix","cx","fbt","FDSText.react","Image.react","LineClamp.react","Link.react","MessengerState.bs","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=i._("Messenger"),d=this.props.isSelected?g("516653"):g("499159");return j.jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.pageID,children:function(e){e=b("MessengerState.bs").unreadCounts(e).inbox?b("MessengerState.bs").unreadCounts(e).inbox.size:b("MessengerState.bs").initialUnreadCounts(e).inbox;a.props.setCountForPlatform("MESSENGER",e);e>20?e=i._("20+"):e===0&&(e=null);return j.jsxs(b("Link.react"),{className:"_6ie2 _6w26"+(a.props.isSelected?"":" _6idd")+(a.props.isSelected?" _6jio":""),"data-testid":a.props.rowPlatformId,onClick:a.props.onClick,children:[j.jsx(b("Tooltip.react"),{position:"right",tooltip:a.props.isCollapsed?c:null,children:j.jsxs("div",{className:"_6ph7",children:[e!==null&&a.props.isCollapsed?j.jsx("div",{className:(a.props.isSelected?"":"_6uw-")+(a.props.isSelected?" _6idk":"")+(a.props.isSelected?"":" _6idg")+" _6uw_"+(a.props.hideBadgeCount===!0?" _8nzr":""),children:e}):null,j.jsx(b("Image.react"),{src:d})]})}),j.jsx("div",{className:"_6mif",children:j.jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:a.props.isSelected?"bold":"normal",children:j.jsx(b("LineClamp.react"),{lines:1,children:c})})}),e!==null?j.jsx("div",{className:(a.props.isSelected?"_6jir":"")+(a.props.isSelected?"":" _6idg")+" _6idh"+(a.props.hideBadgeCount===!0?" _8nzr":""),"data-testid":"messenger_message_count",children:e}):j.jsx("div",{className:"_7hm0","data-testid":"messenger_message_count"})]})}})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBarRowCard.react",["cx","fbt","ix","FDSText.react","Image.react","LineClamp.react","Link.react","PagesManagerIGTabUpsell.react","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){switch(a){case"MESSENGER":return"messenger_message_count";default:return""}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c;switch(this.props.platform){case"ALL":a=this.props.isSelected?i("1185512"):i("591501");c=h._("All Messages");break;case"MESSENGER":a=this.props.isSelected?i("516653"):i("499159");c=h._("Messenger");break;case"INSTAGRAM_DIRECT":a=this.props.isSelected?i("764453"):i("764452");c=h._("Instagram Direct");break;case"FACEBOOK":a=this.props.isSelected?i("503923"):i("534917");c=h._("Facebook");break;case"INSTAGRAM":a=this.props.isSelected?i("649799"):i("649798");c=h._("Instagram");break}var d=null;this.props.count!==null&&this.props.count!==void 0&&this.props.count>0&&(d=this.props.count>20?h._("20+"):this.props.count);var e=null;this.props.platform==="INSTAGRAM_DIRECT"&&(e=j.jsx(b("PagesManagerIGTabUpsell.react"),{isSelected:this.props.isSelected}));return j.jsxs(b("Link.react"),{className:"_6ie2 _6w26"+(this.props.isSelected?"":" _6idd")+(this.props.isSelected&&this.props.platform==="ALL"?" _8p-u":"")+(this.props.isSelected&&this.props.platform==="MESSENGER"?" _6jio":"")+(this.props.isSelected&&this.props.platform==="FACEBOOK"?" _6jip":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM"?" _6jiq":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM_DIRECT"?" _6z7o":""),"data-testid":this.props.rowPlatformId,onClick:this.props.onClick,children:[j.jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?c:null,children:j.jsxs("div",{className:"_6ph7",children:[d!==null&&this.props.isCollapsed?j.jsx("div",{className:(this.props.isSelected?"":"_6uw-")+(this.props.isSelected?" _6idk":"")+(this.props.isSelected?"":" _6idg")+" _6uw_"+(this.props.hideBadgeCount?" _8nzr":""),children:d}):null,j.jsx(b("Image.react"),{src:a}),j.jsx("div",{children:this.props.isCollapsed&&this.props.platform==="INSTAGRAM_DIRECT"?j.jsx("div",{className:"_7kx1",children:e}):null})]})}),j.jsx("div",{className:"_6mif",children:j.jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:this.props.isSelected?"bold":"normal",children:j.jsx(b("LineClamp.react"),{lines:1,children:c})})}),d!==null?j.jsx("div",{className:(this.props.isSelected&&this.props.platform==="ALL"?"_8p-v":"")+(this.props.isSelected&&this.props.platform==="MESSENGER"?" _6jir":"")+(this.props.isSelected&&this.props.platform==="FACEBOOK"?" _6jis":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM"?" _6jit":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM_DIRECT"?" _85r0":"")+(this.props.isSelected?"":" _6idg")+" _6idh"+(this.props.hideBadgeCount===!0?" _8nzr":""),"data-testid":k(this.props.platform),children:d}):j.jsx("div",{className:"_7hm0","data-testid":k(this.props.platform)}),e]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxRevampIGCommentTabNUX.react",["fbt","PagesManagerInboxNavBarRowCard.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","ReactDOM","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="page_inbox_ig_comment_new_experience";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowIGCommentRevampNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowIGCommentRevampNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){if(!this.checkDOMContainsRef())return!1;var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.checkDOMContainsRef=function(){try{return b("ReactDOM").findDOMNode(this.props.contextRef())!=null}catch(a){return!1}};d.render=function(){if(!this.checkDOMContainsRef())return null;var a=g._("Now you can find new Instagram comments and replies to comments more easily.");return h.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"below",shown:this.state.shouldShowIGCommentRevampNUX,width:"normal",children:a})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBlock.react",["cx","PagesManagerInboxAccordion.react","PagesManagerInboxNavBarCounter.react","PagesManagerInboxNavBarHeaderRowCard.react","PagesManagerInboxNavBarMessengerRowCard.react","PagesManagerInboxNavBarRowCard.react","PagesManagerInboxRevampIGCommentTabNUX.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=null,c.$3=null,c.$4=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$5=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.$6=function(a){var c=b("PagesManagerInboxStore").getBusinessInboxAppConfig();c=c==null?b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM:c.instagramConfig;if(c.shouldShowIGRevampComments!==!0)return null;var d=this.$3;return a==="INSTAGRAM"&&d!=null?h.jsx(b("PagesManagerInboxRevampIGCommentTabNUX.react"),{contextRef:function(){return d}}):null};d.render=function(){var a=this;if(this.props.shouldShow===!1)return null;var c=!1;this.props.rows.length>0?this.props.rows.forEach(function(b){if(!b.shouldShow)return;a.props.detailViewMode===a.props.selectedNavMode&&!c&&(c=b.platform===a.props.filterSelected)}):c=this.props.selectedNavMode===this.props.detailViewMode;return h.jsx(b("PagesManagerInboxAccordion.react"),{disableCollapse:!c,header:h.jsx(b("PagesManagerInboxNavBarHeaderRowCard.react"),{count:this.$5(),countId:this.props.countID,image:c?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:c,rowId:this.props.rowId,rowRef:this.props.rowRef,shouldShowSelectedBlueBar:this.props.shouldShowUnifiedThreadlist===!0,title:this.props.headerTitle}),initialExpanded:this.props.initialExpanded,onClick:function(){c||(a.props.rows.length>0?a.props.formatChange(a.props.rows[0].platform,a.props.detailViewMode):a.props.formatChange(a.props.filterSelected,a.props.detailViewMode))},children:this.props.rows&&this.props.rows.map(function(d,e){return d.shouldShow?d.platform==="MESSENGER"&&a.props.shouldUpdateBadgeCountLocally?h.jsx("div",{className:a.props.shouldShowUnifiedThreadlist===!0?"_8nzr":"",children:h.jsx(b("PagesManagerInboxNavBarMessengerRowCard.react"),{initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$4})},d.rowPlatformId):h.jsxs("div",{className:a.props.shouldShowUnifiedThreadlist===!0?"_8nzr":"",children:[h.jsx(b("PagesManagerInboxNavBarCounter.react"),{initialCount:d.count!==null&&d.count!==void 0?d.count:0,pageID:a.props.pageID,platform:d.platform,setCountForPlatform:a.$4,shouldShowNewCommentFlow:!!a.props.shouldShowNewCommentFlow,children:function(e){return h.jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:e,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,ref:function(b){d.platform==="FACEBOOK"?a.$2=b:d.platform==="INSTAGRAM"&&(a.$3=b)},rowPlatformId:d.rowPlatformId})}}),a.$6(d.platform)]},d.rowPlatformId):null})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistNavBlock.react",["cx","PagesManagerInboxAccordion.react","PagesManagerInboxNavBarCounter.react","PagesManagerInboxNavBarHeaderRowCard.react","PagesManagerInboxNavBarMessengerRowCard.react","PagesManagerInboxNavBarRowCard.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$3=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.render=function(){var a=this,c=this.props.rows.some(function(b){return b.shouldShow&&b.platform===a.props.filterSelected})&&this.props.selectedNavMode===this.props.detailViewMode;return h.jsx(b("PagesManagerInboxAccordion.react"),{disableCollapse:!c,header:h.jsx(b("PagesManagerInboxNavBarHeaderRowCard.react"),{count:this.$3(),countId:this.props.countID,image:c?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:c,rowId:this.props.rowId,rowRef:this.props.rowRef,shouldShowSelectedBlueBar:!1,title:this.props.headerTitle}),initialExpanded:this.props.initialExpanded,onClick:function(){c||(a.props.rows.length>0?a.props.formatChange(a.props.rows[0].platform,a.props.detailViewMode):a.props.formatChange(a.props.filterSelected,a.props.detailViewMode))},children:this.props.rows&&this.props.rows.map(function(d,e){if(d.shouldShow)switch(d.platform){case"MESSENGER":if(a.props.shouldUpdateBadgeCountLocally)return h.jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab===!1?"_8nzr":"",children:h.jsx(b("PagesManagerInboxNavBarMessengerRowCard.react"),{hideBadgeCount:!0,initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2})},d.rowPlatformId);break;case"ALL":return h.jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:a.$3(),isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,rowPlatformId:d.rowPlatformId},d.rowPlatformId);default:return h.jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab===!1?"_8nzr":"",children:h.jsx(b("PagesManagerInboxNavBarCounter.react"),{initialCount:d.count!==null&&d.count!==void 0?d.count:0,pageID:a.props.pageID,platform:d.platform,setCountForPlatform:a.$2,shouldShowNewCommentFlow:!1,children:function(e){return h.jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:e,hideBadgeCount:!0,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,rowPlatformId:d.rowPlatformId})}})},d.rowPlatformId)}return null})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBar.react",["ix","cssVar","cx","fbt","BizEmailMarketingNux.react","BIZInboxClientLogger","PagesManagerInboxLogger","PagesManagerInboxNavBarSavedResponsesNUX.react","PagesManagerInboxNavBlock.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistNavBlock.react","PagesManagerInboxUtils","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("PagesManagerInboxUtils").changeInboxTab,l=b("PagesManagerInboxUtils").changeSelectedUTLFolder,m=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:window.innerWidth<=parseInt("1279px",10)},c.$5=function(){var a=window.innerWidth<=parseInt("1279px",10);c.setState({isCollapsed:a})},c.$6=function(a,b){k(a,b,c.props.filterSelected,c.props.selectedNavMode,c.props.pageID),c.$7(a,b)},c.$8=function(a,b){l(a,b,c.props.utlFolderSelected,c.props.selectedNavMode,c.props.pageID),c.$7(a,b)},c.$9=function(a){c.$1=a},c.$10=function(a){c.$2=a},c.$11=function(a){c.$3=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$4(),window.addEventListener("resize",this.$5)};d.$4=function(){b("PagesManagerInboxLogger").logAutomatedResponsesRendered()};d.$7=function(a,c){b("BIZInboxClientLogger").logPlatformClick(this.props.pageID,this.props.filterSelected,a,this.props.selectedNavMode,c)};d.render=function(){var a=this;return m.jsxs("div",{className:"_6idi","data-testid":void 0,style:{height:this.props.height},children:[this.props.shouldShowUnifiedThreadlistSeparatedTab===!0&&this.props.shouldShowUnifiedThreadlist===!0?m.jsx(b("PagesManagerInboxUnifiedThreadlistNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$8,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$9,rows:[{shouldShow:!0,platform:"ALL",rowPlatformId:"all_messages_row_card",count:0},{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("609713"),selectedNavMode:this.props.selectedNavMode,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("649812"),utlFolderSelected:this.props.utlFolderSelected}):m.jsx(b("PagesManagerInboxNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$9,rows:[{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showWEC,platform:"WEC",count:this.props.badgeCountMap.WEC,rowPlatformId:"wec_row_card"},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("609713"),selectedNavMode:this.props.selectedNavMode,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("649812")}),m.jsx(b("PagesManagerInboxNavBlock.react"),{countID:"comment_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Comments & More"),initialExpanded:!(this.props.shouldShowUnifiedThreadlist&&!this.props.shouldShowUnifiedThreadlistSeparatedTab)||this.props.filterSelected==="FACEBOOK"||this.props.filterSelected==="INSTAGRAM",isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"comments_header_row_card",rows:[{shouldShow:!0,platform:"FACEBOOK",count:this.props.badgeCountMap.FACEBOOK,rowPlatformId:"facebook_row_card"},{shouldShow:!0,platform:"INSTAGRAM",count:this.props.badgeCountMap.INSTAGRAM,rowPlatformId:"ig_row_card"}],selectedIcon:g("649809"),selectedNavMode:this.props.selectedNavMode,shouldShowNewCommentFlow:this.props.shouldShowNewCommentFlow,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("510901")}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"automated_responses",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Automated Responses"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"automation_card",rowRef:this.$10,rows:[],selectedIcon:g("653900"),selectedNavMode:this.props.selectedNavMode,shouldShow:!0,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("653903")}),m.jsx(b("PagesManagerInboxNavBarSavedResponsesNUX.react"),{contextRef:function(){return a.$2}}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"commerce_email",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Emails"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"commerce_email",rows:[],selectedIcon:g("480901"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showCommerceEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506663")}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"email_campaign",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Marketing Emails"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"email_card",rowRef:this.$11,rows:[],selectedIcon:g("480901"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506663")}),m.jsx(b("BizEmailMarketingNux.react"),{contextRef:function(){return a.$3}}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"contacts",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Contacts"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"contact_card",rows:[],selectedIcon:g("709450"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("514164")}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"lead_email",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Email"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"lead_email",rows:[],selectedIcon:g("480901"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showLeadEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506663")})]})};return c}(m.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavContainer.react",["FluxContainer","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerInboxNavBar.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){a=b("PagesManagerInboxFilterStore").getActiveFolder();var c=b("PagesManagerInboxFilterStore").getActiveType(),d=b("PagesManagerInboxFilterStore").getActiveUTLFolder(),e=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),f=e?e.validPlatformTypes:b("PagesManagerInboxStore").getConfig().validPlatformTypes;a!==b("PageCommItemFolder").TODO&&(f=f.filter(function(a){return a!=="WEC"}));a=e?e.showCommerceEmail:b("PagesManagerInboxStore").getConfig().showCommerceEmail;var g=e?e.showEmailCampaign:b("PagesManagerInboxStore").getConfig().showCommerceEmail;e=e?e.showLeadEmail:b("PagesManagerInboxStore").getConfig().showLeadEmail;return{filterType:c,utlFolderType:d,layoutHeight:b("PagesManagerStore").getLayoutHeight(),validPlatformTypes:f,showCommerceEmail:a,showEmailCampaign:g,navMode:b("PagesManagerInboxStore").getCurrentNavMode(),badgeCountMap:b("PagesManagerInboxStore").getBadgeCounts(),showLeadEmail:e}};var d=c.prototype;d.render=function(){return i.jsx(b("PagesManagerInboxNavBar.react"),{badgeCountMap:this.state.badgeCountMap,filterSelected:this.state.filterType,height:this.state.layoutHeight,pageID:this.props.pageID,selectedNavMode:this.state.navMode,shouldShowNewCommentFlow:!1,shouldShowUnifiedThreadlist:g(),shouldShowUnifiedThreadlistSeparatedTab:h(),showCommerceEmail:this.state.showCommerceEmail,showEmailCampaign:this.state.showEmailCampaign,showIGDirect:this.state.validPlatformTypes.includes("INSTAGRAM_DIRECT"),showLeadEmail:this.state.showLeadEmail,showWEC:this.state.validPlatformTypes.includes("WEC"),utlFolderSelected:this.state.utlFolderType})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxWelcomeDialogNUX.react",["cx","fbt","ix","Image.react","Link.react","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a?c.props.onDialogShow():c.props.onDialogHide()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onDialogShow()};d.componentWillUnmount=function(){this.props.onDialogHide()};d.$2=function(){var a=j.jsx(b("XUIButton.react"),{className:"_2d82",label:h._("OK"),onClick:this.props.onDialogHide,use:"confirm"});return!this.props.onSwitchOldInbox?a:j.jsxs("div",{children:[j.jsx(b("XUIButton.react"),{className:"_457i",label:h._("Use Previous Version"),onClick:this.props.onSwitchOldInbox}),a]})};d.render=function(){return j.jsx(b("XUIDialog.react"),{onToggle:this.$1,shown:!0,width:480,children:j.jsxs(b("XUIDialogBody.react"),{className:"_2d7q",children:[j.jsxs("div",{className:"_2d7r",children:[j.jsx("div",{className:"_2d7s",children:h._("Welcome to Inbox")}),j.jsx("div",{className:"_2d7-",children:h._("Manage conversations with customers from Messenger, Instagram and your Page in one place.")})]}),j.jsx(b("Link.react"),{className:"_2d7_",onClick:this.props.onDialogHide,children:j.jsx("div",{className:"_21_d"})}),j.jsx(b("Image.react"),{className:"_2d80",src:i("94977")}),j.jsx("div",{className:"_2d81",children:this.$2()})]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWelcomeDialogNUXContainer.react",["FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxWelcomeDialogNUX.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h="pages_inbox_welcome_dialog";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{shouldShowNUX:b("PagesManagerInboxStore").shouldShowNUX(h)}};var d=c.prototype;d.$1=function(){b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h])};d.$2=function(){b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h])};d.render=function(){return!this.state.shouldShowNUX?null:g.jsx(b("PagesManagerInboxWelcomeDialogNUX.react"),{onDialogHide:this.$2,onDialogShow:this.$1})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAppContainer.react",["cx","CustomLabelUtils","FluxContainer","JSResource","PagesManagerCustomLabelsActions","PagesManagerInboxCometHeaderView.react","PagesManagerInboxCometNavContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxDetailContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxHeaderContainer.react","PagesManagerInboxHeaderView.react","PagesManagerInboxListSpinner.react","PagesManagerInboxListView.react","PagesManagerInboxNavContainer.react","PagesManagerInboxStore","PagesManagerInboxWelcomeDialogNUXContainer.react","PagesManagerListDetailLayout.react","PagesManagerStore","React","RelayFBEnvironment","RelayModern","immutable","joinClasses","lazyLoadComponent","promiseDone","PagesManagerInboxAppContainerLabelsQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CustomLabelUtils").mergeContactAndCustomerLabels,j=b("PagesManagerCustomLabelsActions").PagesManagerCustomLabelsActions,k=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign,l=b("React"),m=b("RelayModern").fetchQuery;b("RelayModern").graphql;var n=b("lazyLoadComponent")(b("JSResource")("CRMContextCardContainer.react").__setRef("PagesManagerInboxAppContainer.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={navMode:"messages",selectedThreads:null,isMessaging:!0},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxStore"),b("PagesManagerInboxFilterStore")]};c.calculateState=function(a){var c=b("PagesManagerInboxStore").getCurrentNavMode(),d=c==="messages"&&(b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"||b("PagesManagerInboxFilterStore").getActiveType()==="INSTAGRAM_DIRECT"||b("PagesManagerInboxFilterStore").getActiveType()==="ALL");return babelHelpers["extends"]({},a,{navMode:c,selectedThreads:b("PagesManagerStore").getSelectedThreads(),isMessaging:d})};var d=c.prototype;d.componentDidMount=function(){b("promiseDone")(m(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesManagerInboxAppContainerLabelsQuery.graphql"),{pageID:this.props.pageID}),function(a){var c;c=((c=a.page.custom_tags)==null?void 0:c.edges)||[];a=((a=a.page.custom_labels)==null?void 0:a.edges)||[];a=i(a,c);c=a.map(function(a){var b,c,d,e;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.name;d=((d=a.node)==null?void 0:d.label_color)||((d=a.node)==null?void 0:d.color);a=((e=a.node)==null?void 0:e.contact_count)||((e=a.node)==null?void 0:e.thread_count)||0;if(c!=null&&b!=null&&d!=null)return[c,{name:c,id:b,color:d,thread_count:a}]});a=b("immutable").Map(c.filter(Boolean)||[]);j.initStore(a)})};d.$1=function(){return l.jsx(b("PagesManagerInboxHeaderContainer.react"),{ChildClass:k()?b("PagesManagerInboxCometHeaderView.react"):b("PagesManagerInboxHeaderView.react"),navMode:this.state.navMode})};d.$2=function(){return l.jsx(b("PagesManagerInboxDetailContainer.react"),{navMode:this.state.navMode,paddingBottom:this.props.detailPaddingBottom,pageName:this.props.pageName,pageProfilePicURI:this.props.pageProfilePicURI})};d.$3=function(){return l.jsx(b("PagesManagerInboxListView.react"),{config:this.props.config,navMode:this.state.navMode,paddingBottom:this.props.listPaddingBottom,pageID:this.props.pageID,pageName:this.props.pageName})};d.$4=function(){return l.jsx(b("PagesManagerInboxNavContainer.react"),{paddingBottom:this.props.listPaddingBottom,pageID:this.props.pageID,pageName:this.props.pageName})};d.$5=function(){return l.jsx(b("PagesManagerInboxCometNavContainer.react"),{paddingBottom:this.props.listPaddingBottom,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePicURI:this.props.pageProfilePicURI})};d.$6=function(){return l.jsx(l.Suspense,{fallback:l.jsx("div",{className:"_6pe-",children:l.jsx(b("PagesManagerInboxListSpinner.react"),{})}),children:l.jsx(n,{paddingBottom:this.props.detailPaddingBottom,pageID:this.props.pageID})})};d.render=function(){var a=this.state.selectedThreads?this.state.selectedThreads.count():0,c=b("joinClasses")("_10uf","_1-9p"),d=k()?this.$5():this.$4(),e=this.$3();(this.state.navMode==="email_campaign"||this.state.navMode==="contacts")&&(e=null);return l.jsxs("div",{className:"_5o79","data-testid":void 0,children:[l.jsx(b("PagesManagerListDetailLayout.react"),{contextCardClassName:"_2evq",contextCardSection:this.$6(),detailClassName:"_2evr",detailSection:this.$2(),fullScreen:!0,headerClassName:"_2evs",headerSection:this.$1(),isMessaging:this.state.isMessaging,listClassName:k()&&this.state.navMode==="messages"?"_1-9p":c,listSection:e,navigationSection:d,navigationSectionClassName:k()?"_8dau":"_6idi",selectedThreads:a}),l.jsx(b("PagesManagerInboxWelcomeDialogNUXContainer.react"),{})]})};return c}(l.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxLoggerStore",["FluxStore","PagesManagerDispatcher","PagesManagerInboxLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("PagesManagerDispatcher"))||this}var d=c.prototype;d.__onDispatch=function(a){a=a.type;if(a===void 0)return;b("PagesManagerInboxLogger").create(a).log()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerPageCommItemDeleteSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_delete_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerPageCommItemDeleteSubscription",["PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerPageCommItemDeleteSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","relay-runtime","PagesManagerPageCommItemDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription;c=b("relay-runtime").getRequest;var j=g!==void 0?g:g=b("PagesManagerPageCommItemDeleteSubscription.graphql");d=c(j);f=d.params.id;f!==null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){return"gqls/page_comm_item_delete_subscribe/page_id_"+a.page_id});function a(a,c){var d=function(c){var d=c.get(a.page_id);if(!d)return;c=c.getRootField("page_comm_item_delete_subscribe");if(!c)return;c=String(c.getValue("page_comm_item_id"));if(!c)return;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),with_comm_platform:b("PagesManagerInboxFilterStore").getActiveType(),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});d&&(b("PagesManagerAction").clearViewListItem(),h.deleteNode(d,c))},e=function(a){b("PagesManagerPageCommItemDeleteSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemEditSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerPageCommItemEditSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","relay-runtime","PagesManagerPageCommItemEditSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler;c=b("relay-runtime").getRequest;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemEditSubscription.graphql");function k(a,b){a=a.getLinkedRecords("edges");if(!a)return null;var c=null;a.forEach(function(a){var d=a&&a.getLinkedRecord("node");d&&d.getValue("id")===b&&(c=a)});return c}d=c(j);f=d.params.id;f!==null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){return"gqls/page_comm_item_edit_subscribe/page_id_"+a.page_id});function a(a,c){var d=function(c){var d=c.get(a.page_id);if(!d)return;var e=c.getRootField("page_comm_item_edit_subscribe");if(!e)return;e=e.getLinkedRecord("page_comm_item");if(!e)return;var f=String(e.getValue("id"));if(!f)return;var g=e.getValue("comm_status"),i=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),j=b("PagesManagerInboxStore").getConfig().platformConfigs,l=b("PagesManagerInboxFilterStore").getActiveType(),m=e.getLinkedRecord("comm_item_owners");m=m&&m.getLinkedRecords("nodes");m=m&&m[0]&&m[0].getLinkedRecord("admin");m=m&&m.getValue("id");var n=b("PagesManagerInboxFilterStore").getActiveOwner().id;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:i,with_comm_platform:e.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(d){var o=k(d,f);if(i!==g||n&&n!==m)h.deleteNode(d,f);else if(!o&&!j[l].selectedCommentView==="TOP_LEVEL_COMMENT"){i=h.createEdge(c,d,e,"PageBusinessCommItemsEdge");i&&h.insertEdgeBefore(d,i)}}},e=function(a){b("PagesManagerPageCommItemEditSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemPartDeleteSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemPartDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemPartDeleteSubscription.graphql");function a(a,c){var d=function(c){var d=c.get(a.page_id);if(!d)return;c=c.getRootField("page_comm_item_part_delete_subscribe");if(!c)return;c=String(c.getValue("page_comm_item_part_id"));if(!c)return;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),with_comm_platform:b("PagesManagerInboxFilterStore").getActiveType(),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});d&&h.deleteNode(d,c)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemPartEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_part_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerPageCommItemPartEditSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerPageCommItemPartEditSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemPartEditSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemPartEditSubscription.graphql");function k(a,b){a=a.getLinkedRecords("edges");if(!a)return null;var c=null;a.forEach(function(a){var d=a&&a.getLinkedRecord("node");d&&d.getValue("id")===b&&(c=a)});return c}function a(a,c){var d=function(c){var d=c.get(a.page_id);if(!d)return;var e=c.getRootField("page_comm_item_part_edit_subscribe");if(!e)return;e=e.getLinkedRecord("page_comm_item_part");if(!e)return;var f=String(e.getValue("id"));if(!f)return;var g=e.getValue("is_important"),i=e.getValue("is_read"),j=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());if(b("PagesManagerInboxFilterStore").getCommentsTab()==="highlighted"&&!g)return;if(b("PagesManagerInboxFilterStore").getCommentsTab()==="unread"&&i)return;g=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:j,with_comm_platform:e.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){i=k(g,f);if(!i){d=h.createEdge(c,g,e,"PageBusinessCommItemsEdge");d&&h.insertEdgeBefore(g,d)}}},e=function(a){b("PagesManagerPageCommItemPartEditSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("BusinessInboxApp.react",["PagesManagerInboxLoggerStore","Arbiter","Bootloader","ChannelManager","IGMessageDataDispatcher","MercuryServerPayloadPreprocessor","MercurySyncPageEnvironment","PagesManagerAction","PagesManagerInboxAction","PagesManagerInboxAppContainer.react","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerPageCommItemDeleteSubscription","PagesManagerPageCommItemEditSubscription","PagesManagerPageCommItemPartDeleteSubscription","PagesManagerPageCommItemPartEditSubscription","PagesMarketingAutomationActions","PagesMarketingAutomationDispatcher","PagesMarketingAutomationStore","PagesMessagingInboxActionLogger","QE2Logger","React","RelayAPIConfig","Timezone","getFBAlphaConsoleSize","getFBDockSize","RulesTimezoneTransitionProvider","TimezoneRulesFrom2009","TimezoneNamesData"],(function(a,b,c,d,e,f){"use strict";b("PagesManagerInboxLoggerStore");var g=b("React");b("Timezone").registerRulesModule(b("RulesTimezoneTransitionProvider"),b("TimezoneRulesFrom2009"));b("Timezone").registerNamesModule(b("TimezoneNamesData"));b("ChannelManager").startChannelManager();a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$7=function(){d.setState(d.$5())};b("PagesManagerInboxLogger").init(c.pageID);b("PagesMessagingInboxActionLogger").init(c.pageID);b("RelayAPIConfig").DO_NOT_USE_setActorID(c.pageID);b("PagesMarketingAutomationDispatcher").explicitlyRegisterStores([b("PagesMarketingAutomationStore")]);d.state=d.$5();return d}var d=c.prototype;d.componentDidMount=function(){this.$6();b("Arbiter").subscribeOnce("pagelet_dock_displayed",this.$7,"new");var a=b("MercuryServerPayloadPreprocessor").getForFBID(this.props.pageID);a.handleUpdate(this.props.config.jewelInitData)};d.componentWillUnmount=function(){var a=this;this.$1&&this.$1.dispose();this.$2&&this.$2.dispose();this.$3&&this.$3.dispose();this.$4&&this.$4.dispose();var c={};this.props.config.validPlatformTypes.map(function(d){d=a.props.config.platformConfigs[d];if(c[d.mailboxID])return;c[d.mailboxID]=!0;b("MercurySyncPageEnvironment").tearDown(d.mailboxID)})};d.UNSAFE_componentWillMount=function(){var a=this,c=babelHelpers["extends"]({},this.props.config);if(c.validPlatformTypes.includes("INSTAGRAM_DIRECT")){var d=c.platformConfigs.INSTAGRAM_DIRECT;d.mailboxID!==null&&d.mailboxID!==void 0&&(b("Bootloader").loadModules(["IGMessageInboxStore"],function(a){b("IGMessageDataDispatcher").explicitlyRegisterStore(a),a.setInboxIGID(d.igAccountIGID),a.setInboxProfilePic(d.igProfilePicURI)},"BusinessInboxApp.react"),b("Bootloader").loadModules(["IGMessageConnectionStatusStore"],function(a){b("IGMessageDataDispatcher").explicitlyRegisterStore(a)},"BusinessInboxApp.react"))}b("PagesManagerInboxAction").initialConfig(this.props.pageID,c,this.props.businessInboxConfig,this.props.selectedItem);this.props.selectedItem&&this.props.selectedItem.platform&&b("PagesManagerInboxFilterAction").changeType(this.props.pageID,this.props.selectedItem.platform);b("PagesManagerInboxAction").setIsInBizKit(this.props.isInBizKit===!0);if(this.props.isInBizKit===!0)if(this.props.selectedItem==null)b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").changeActiveUTLFolder("ALL");else{c=(c=(c=this.props.selectedItem)==null?void 0:c.platform)!=null?c:"ALL";b("PagesManagerAction").setInitialViewItem(this.props.selectedItem.id);b("PagesManagerInboxFilterAction").changeActiveUTLFolder(c)}b("PagesManagerInboxAction").setNavMode(this.props.section);b("PagesMarketingAutomationActions").updateAutomationType(this.props.automation);this.props.useIntakeFormSetupExperience===!0&&this.props.automation==="organic_intake_form"&&b("PagesMarketingAutomationActions").setupIntakeFormSetupExperience();b("PagesMarketingAutomationActions").initialServicesReferrerConfig(this.props.servicesReferrerConfig);this.$1=b("PagesManagerPageCommItemDeleteSubscription").subscribe({page_id:this.props.pageID});this.$2=b("PagesManagerPageCommItemEditSubscription").subscribe({page_id:this.props.pageID});this.props.config.platformConfigs.FACEBOOK.selectedCommentView==="TOP_LEVEL_COMMENT"&&(this.$3=b("PagesManagerPageCommItemPartEditSubscription").subscribe({page_id:this.props.pageID}),this.$4=b("PagesManagerPageCommItemPartDeleteSubscription").subscribe({page_id:this.props.pageID}));var e={};this.props.config.validPlatformTypes.map(function(c){c=a.props.config.platformConfigs[c];if(!c.mailboxID)return;if(e[c.mailboxID])return;e[c.mailboxID]=!0;b("MercurySyncPageEnvironment").setUp(c.mailboxID,c.initSyncSequenceID)})};d.$5=function(){var a=b("getFBAlphaConsoleSize")().height;if(a)return{detailPaddingBottom:a,listPaddingBottom:a};a=b("getFBDockSize")().height;return{detailPaddingBottom:a,listPaddingBottom:0}};d.$8=function(a,c){return b("QE2Logger").logExposureForPage(a,c)};d.$6=function(){this.$8("unified_inbox_ig_direct_integration",this.props.pageID),this.$8("unified_inbox_ig_direct_global_launch",this.props.pageID),this.$8("unified_inbox_wec_integration",this.props.pageID),this.$8("page_inbox_saved_reply_new_ui",this.props.pageID),this.$8("biz_inbox_auto_response_restructure",this.props.pageID),this.$8("biz_inbox_covid_auto_response",this.props.pageID),this.$8("not_use_messenger_state_for_message_list",this.props.pageID)};d.render=function(){var a;return g.jsx(b("PagesManagerInboxAppContainer.react"),{config:this.props.config,detailPaddingBottom:this.state.detailPaddingBottom,listPaddingBottom:this.state.listPaddingBottom,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePicURI:this.props.pageProfilePicURI,platform:(a=this.props.selectedItem)==null?void 0:a.platform})};return c}(g.PureComponent);e.exports=a}),null);